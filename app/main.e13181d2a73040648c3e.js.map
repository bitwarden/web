{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./jslib/src/abstractions/i18n.service.ts","webpack:///./jslib/src/abstractions/platformUtils.service.ts","webpack:///./jslib/src/abstractions/api.service.ts","webpack:///./jslib/src/abstractions/user.service.ts","webpack:///./jslib/src/angular/pipes/i18n.pipe.ts","webpack:///./jslib/src/abstractions/messaging.service.ts","webpack:///./jslib/src/angular/directives/api-action.directive.ts","webpack:///./jslib/src/angular/directives/a11y-title.directive.ts","webpack:///./jslib/src/abstractions/crypto.service.ts","webpack:///./jslib/src/abstractions/cipher.service.ts","webpack:///./jslib/src/models/response/baseResponse.ts","webpack:///./jslib/src/angular/components/callout.component.ts","webpack:///./jslib/src/angular/components/callout.component.html","webpack:///./jslib/src/importers/baseImporter.ts","webpack:///./jslib/src/models/domain/importResult.ts","webpack:///./jslib/src/misc/utils.ts","webpack:///./jslib/src/abstractions/passwordGeneration.service.ts","webpack:///./jslib/src/angular/directives/stop-click.directive.ts","webpack:///./jslib/src/abstractions/state.service.ts","webpack:///./jslib/src/enums/cipherType.ts","webpack:///./jslib/src/abstractions/collection.service.ts","webpack:///./jslib/src/abstractions/storage.service.ts","webpack:///./jslib/src/abstractions/policy.service.ts","webpack:///./jslib/src/angular/directives/input-verbatim.directive.ts","webpack:///./jslib/src/abstractions/folder.service.ts","webpack:///./jslib/src/angular/directives/stop-prop.directive.ts","webpack:///./jslib/src/abstractions/auth.service.ts","webpack:///./jslib/src/abstractions/sync.service.ts","webpack:///./jslib/src/abstractions/environment.service.ts","webpack:///./jslib/src/angular/directives/autofocus.directive.ts","webpack:///./jslib/src/services/constants.service.ts","webpack:///./jslib/src/abstractions/event.service.ts","webpack:///./jslib/src/models/request/passwordVerificationRequest.ts","webpack:///./jslib/src/abstractions/search.service.ts","webpack:///./jslib/src/models/domain/domainBase.ts","webpack:///./src/app/modal.component.ts","webpack:///./jslib/src/abstractions/audit.service.ts","webpack:///./jslib/src/models/view/cardView.ts","webpack:///./jslib/src/abstractions/vaultTimeout.service.ts","webpack:///./jslib/src/models/view/secureNoteView.ts","webpack:///./jslib/src/abstractions/token.service.ts","webpack:///./jslib/src/abstractions/cryptoFunction.service.ts","webpack:///./jslib/src/models/domain/encString.ts","webpack:///./jslib/src/enums/secureNoteType.ts","webpack:///./jslib/src/angular/components/icon.component.ts","webpack:///./jslib/src/angular/components/icon.component.html","webpack:///./jslib/src/angular/services/broadcaster.service.ts","webpack:///./jslib/src/enums/twoFactorProviderType.ts","webpack:///./jslib/src/abstractions/totp.service.ts","webpack:///./src/app/settings/payment.component.ts","webpack:///./src/app/settings/payment.component.html","webpack:///./jslib/src/enums/fieldType.ts","webpack:///./jslib/src/models/view/folderView.ts","webpack:///./src/app/components/avatar.component.ts","webpack:///./jslib/src/models/domain/collection.ts","webpack:///./jslib/src/enums/policyType.ts","webpack:///./src/app/settings/tax-info.component.ts","webpack:///./src/app/settings/tax-info.component.html","webpack:///./jslib/src/models/view/cipherView.ts","webpack:///./jslib/src/models/view/identityView.ts","webpack:///./jslib/src/models/data/collectionData.ts","webpack:///./jslib/src/models/view/collectionView.ts","webpack:///./jslib/src/enums/organizationUserStatusType.ts","webpack:///./jslib/src/models/data/cipherData.ts","webpack:///./jslib/src/models/view/loginView.ts","webpack:///./jslib/src/enums/sendType.ts","webpack:///./src/app/settings/two-factor-verify.component.ts","webpack:///./src/app/settings/two-factor-verify.component.html","webpack:///./jslib/src/abstractions/export.service.ts","webpack:///./jslib/src/models/domain/cipher.ts","webpack:///./jslib/src/abstractions/send.service.ts","webpack:///./jslib/src/models/view/fieldView.ts","webpack:///./jslib/src/models/request/cipherRequest.ts","webpack:///./jslib/src/models/response/errorResponse.ts","webpack:///./jslib/src/angular/services/validation.service.ts","webpack:///./src/app/services/router.service.ts","webpack:///./jslib/src/enums/kdfType.ts","webpack:///./src/app/components/password-strength.component.ts","webpack:///./src/app/components/password-strength.component.html","webpack:///./jslib/src/enums/organizationUserType.ts","webpack:///./jslib/src/angular/pipes/search.pipe.ts","webpack:///./src/app/services/event.service.ts","webpack:///./jslib/src/enums/eventType.ts","webpack:///./jslib/src/enums/paymentMethodType.ts","webpack:///./src/app/settings/two-factor-base.component.ts","webpack:///./src/app/tools/cipher-report.component.ts","webpack:///./jslib/src/models/view/loginUriView.ts","webpack:///./jslib/src/enums/uriMatchType.ts","webpack:///./src/app/vault/add-edit.component.ts","webpack:///./src/app/vault/add-edit.component.html","webpack:///./jslib/src/abstractions/import.service.ts","webpack:///./jslib/src/models/response/cipherResponse.ts","webpack:///./src/app/vault/ciphers.component.ts","webpack:///./src/app/vault/ciphers.component.html","webpack:///./jslib/src/enums/encryptionType.ts","webpack:///./jslib/src/services/auth.service.ts","webpack:///./jslib/src/models/request/selectionReadOnlyRequest.ts","webpack:///./jslib/src/enums/deviceType.ts","webpack:///./jslib/src/abstractions/settings.service.ts","webpack:///./jslib/src/enums/planType.ts","webpack:///./src/app/settings/organization-plans.component.ts","webpack:///./src/app/settings/organization-plans.component.html","webpack:///./jslib/src/models/domain/symmetricCryptoKey.ts","webpack:///./jslib/src/models/domain/card.ts","webpack:///./jslib/src/models/domain/field.ts","webpack:///./jslib/src/models/domain/identity.ts","webpack:///./jslib/src/models/domain/login.ts","webpack:///./jslib/src/models/domain/loginUri.ts","webpack:///./jslib/src/models/domain/secureNote.ts","webpack:///./jslib/src/angular/directives/true-false-value.directive.ts","webpack:///./jslib/src/models/response/selectionReadOnlyResponse.ts","webpack:///./jslib/src/models/response/profileResponse.ts","webpack:///./src/app/vault/groupings.component.ts","webpack:///./src/app/vault/groupings.component.html","webpack:///./jslib/src/models/domain/organization.ts","webpack:///./jslib/src/models/view/sendFileView.ts","webpack:///./jslib/src/models/view/sendTextView.ts","webpack:///./src/app/settings/organizations.component.ts","webpack:///./src/app/settings/organizations.component.html","webpack:///./src/app/layouts/navbar.component.ts","webpack:///./src/app/layouts/navbar.component.html","webpack:///./src/app/layouts/footer.component.ts","webpack:///./src/app/layouts/footer.component.html","webpack:///./jslib/src/models/request/keysRequest.ts","webpack:///./jslib/src/models/domain/policy.ts","webpack:///./jslib/src/models/data/policyData.ts","webpack:///./jslib/src/angular/components/change-password.component.ts","webpack:///./src/app/organizations/manage/entity-users.component.ts","webpack:///./src/app/organizations/manage/entity-users.component.html","webpack:///./src/app/organizations/manage/entity-events.component.ts","webpack:///./src/app/organizations/manage/entity-events.component.html","webpack:///./jslib/src/models/api/permissionsApi.ts","webpack:///./src/app/settings/api-key.component.ts","webpack:///./src/app/settings/api-key.component.html","webpack:///./src/app/settings/purge-vault.component.ts","webpack:///./src/app/settings/purge-vault.component.html","webpack:///./src/app/settings/user-billing.component.ts","webpack:///./src/app/settings/user-billing.component.html","webpack:///./src/app/settings/add-credit.component.ts","webpack:///./src/app/settings/add-credit.component.html","webpack:///./src/app/settings/adjust-payment.component.ts","webpack:///./src/app/settings/adjust-payment.component.html","webpack:///./src/app/settings/update-license.component.ts","webpack:///./src/app/settings/update-license.component.html","webpack:///./jslib/src/enums/productType.ts","webpack:///./src/app/settings/adjust-storage.component.ts","webpack:///./src/app/settings/adjust-storage.component.html","webpack:///./src/app/settings/two-factor-duo.component.ts","webpack:///./src/app/settings/two-factor-duo.component.html","webpack:///./src/app/settings/two-factor-setup.component.ts","webpack:///./src/app/settings/two-factor-setup.component.html","webpack:///./src/app/tools/export.component.ts","webpack:///./src/app/tools/export.component.html","webpack:///./src/app/tools/exposed-passwords-report.component.ts","webpack:///./src/app/tools/exposed-passwords-report.component.html","webpack:///./src/app/organizations/vault/add-edit.component.ts","webpack:///./jslib/src/models/data/attachmentData.ts","webpack:///./jslib/src/models/data/cardData.ts","webpack:///./jslib/src/models/data/fieldData.ts","webpack:///./jslib/src/models/data/identityData.ts","webpack:///./jslib/src/models/data/loginData.ts","webpack:///./jslib/src/models/data/loginUriData.ts","webpack:///./jslib/src/models/data/secureNoteData.ts","webpack:///./jslib/src/models/domain/attachment.ts","webpack:///./jslib/src/models/view/passwordHistoryView.ts","webpack:///./src/app/tools/import.component.ts","webpack:///./src/app/tools/import.component.html","webpack:///./src/app/tools/inactive-two-factor-report.component.ts","webpack:///./src/app/tools/inactive-two-factor-report.component.html","webpack:///./src/app/tools/reused-passwords-report.component.ts","webpack:///./src/app/tools/reused-passwords-report.component.html","webpack:///./src/app/tools/unsecured-websites-report.component.ts","webpack:///./src/app/tools/unsecured-websites-report.component.html","webpack:///./src/app/tools/weak-passwords-report.component.ts","webpack:///./src/app/tools/weak-passwords-report.component.html","webpack:///./src/app/vault/attachments.component.ts","webpack:///./src/app/vault/attachments.component.html","webpack:///./jslib/src/models/response/attachmentResponse.ts","webpack:///./jslib/src/models/response/collectionResponse.ts","webpack:///./jslib/src/models/response/domainsResponse.ts","webpack:///./jslib/src/models/response/folderResponse.ts","webpack:///./jslib/src/models/response/sendResponse.ts","webpack:///./jslib/src/models/api/sendFileApi.ts","webpack:///./jslib/src/models/api/sendTextApi.ts","webpack:///./src/app/organizations/vault/ciphers.component.ts","webpack:///./src/app/vault/collections.component.ts","webpack:///./src/app/vault/collections.component.html","webpack:///./src/app/organizations/vault/groupings.component.ts","webpack:///./src/app/vault/bulk-actions.component.ts","webpack:///./src/app/vault/bulk-actions.component.html","webpack:///./jslib/src/models/domain/sendFile.ts","webpack:///./jslib/src/models/domain/sendText.ts","webpack:///./jslib/src/models/request/cipherWithIdRequest.ts","webpack:///./jslib/src/models/request/folderRequest.ts","webpack:///./jslib/src/angular/directives/select-copy.directive.ts","webpack:///./jslib/src/angular/pipes/color-password.pipe.ts","webpack:///./jslib/src/models/data/folderData.ts","webpack:///./jslib/src/models/domain/folder.ts","webpack:///./jslib/src/abstractions/notifications.service.ts","webpack:///./$_lazy_route_resource lazy namespace object","webpack:///./src/app/layouts/frontend-layout.component.ts","webpack:///./src/app/layouts/frontend-layout.component.html","webpack:///./src/app/layouts/organization-layout.component.ts","webpack:///./src/app/layouts/organization-layout.component.html","webpack:///./src/app/layouts/user-layout.component.ts","webpack:///./src/app/layouts/user-layout.component.html","webpack:///./src/app/accounts/accept-emergency.component.ts","webpack:///./src/app/accounts/accept-emergency.component.html","webpack:///./src/app/accounts/accept-organization.component.ts","webpack:///./src/app/accounts/accept-organization.component.html","webpack:///./src/app/accounts/hint.component.ts","webpack:///./src/app/accounts/hint.component.html","webpack:///./src/app/accounts/lock.component.ts","webpack:///./src/app/accounts/lock.component.html","webpack:///./src/app/accounts/login.component.ts","webpack:///./src/app/accounts/login.component.html","webpack:///./src/app/accounts/recover-delete.component.ts","webpack:///./src/app/accounts/recover-delete.component.html","webpack:///./src/app/accounts/recover-two-factor.component.ts","webpack:///./src/app/accounts/recover-two-factor.component.html","webpack:///./src/app/accounts/register.component.ts","webpack:///./src/app/accounts/register.component.html","webpack:///./src/app/accounts/set-password.component.ts","webpack:///./src/app/accounts/set-password.component.html","webpack:///./src/app/accounts/sso.component.ts","webpack:///./src/app/accounts/sso.component.html","webpack:///./jslib/src/angular/components/sso.component.ts","webpack:///./src/app/accounts/two-factor.component.ts","webpack:///./src/app/accounts/two-factor.component.html","webpack:///./src/app/accounts/two-factor-options.component.ts","webpack:///./src/app/accounts/two-factor-options.component.html","webpack:///./jslib/src/models/request/twoFactorEmailRequest.ts","webpack:///./jslib/src/models/domain/authResult.ts","webpack:///./src/app/accounts/verify-email-token.component.ts","webpack:///./src/app/accounts/verify-email-token.component.html","webpack:///./src/app/accounts/verify-recover-delete.component.ts","webpack:///./src/app/accounts/verify-recover-delete.component.html","webpack:///./src/app/organizations/manage/collections.component.ts","webpack:///./src/app/organizations/manage/collections.component.html","webpack:///./src/app/organizations/manage/collection-add-edit.component.ts","webpack:///./src/app/organizations/manage/collection-add-edit.component.html","webpack:///./jslib/src/models/request/collectionRequest.ts","webpack:///./src/app/organizations/manage/events.component.ts","webpack:///./src/app/organizations/manage/events.component.html","webpack:///./src/app/organizations/manage/groups.component.ts","webpack:///./src/app/organizations/manage/groups.component.html","webpack:///./src/app/organizations/manage/group-add-edit.component.ts","webpack:///./src/app/organizations/manage/group-add-edit.component.html","webpack:///./src/app/organizations/manage/manage.component.ts","webpack:///./src/app/organizations/manage/manage.component.html","webpack:///./src/app/organizations/manage/people.component.ts","webpack:///./src/app/organizations/manage/people.component.html","webpack:///./src/app/organizations/manage/user-add-edit.component.ts","webpack:///./src/app/organizations/manage/user-add-edit.component.html","webpack:///./src/app/organizations/manage/user-confirm.component.ts","webpack:///./src/app/organizations/manage/user-confirm.component.html","webpack:///./src/app/organizations/manage/user-groups.component.ts","webpack:///./src/app/organizations/manage/user-groups.component.html","webpack:///./src/app/organizations/manage/policies.component.ts","webpack:///./src/app/organizations/manage/policies.component.html","webpack:///./jslib/src/abstractions/index.ts","webpack:///./src/app/organizations/manage/policy-edit.component.ts","webpack:///./src/app/organizations/manage/policy-edit.component.html","webpack:///./src/app/organizations/settings/account.component.ts","webpack:///./src/app/organizations/settings/account.component.html","webpack:///./jslib/src/models/request/organizationTaxInfoUpdateRequest.ts","webpack:///./jslib/src/models/request/taxInfoUpdateRequest.ts","webpack:///./src/app/organizations/settings/delete-organization.component.ts","webpack:///./src/app/organizations/settings/delete-organization.component.html","webpack:///./src/app/organizations/settings/organization-billing.component.ts","webpack:///./src/services/webConstants.ts","webpack:///./src/app/organizations/settings/organization-subscription.component.ts","webpack:///./src/app/organizations/settings/organization-subscription.component.html","webpack:///./src/app/organizations/settings/change-plan.component.ts","webpack:///./src/app/organizations/settings/change-plan.component.html","webpack:///./src/app/organizations/settings/download-license.component.ts","webpack:///./src/app/organizations/settings/download-license.component.html","webpack:///./src/app/organizations/settings/adjust-seats.component.ts","webpack:///./src/app/organizations/settings/adjust-seats.component.html","webpack:///./src/app/organizations/settings/settings.component.ts","webpack:///./src/app/organizations/settings/settings.component.html","webpack:///./src/app/organizations/settings/two-factor-setup.component.ts","webpack:///./src/app/settings/two-factor-authenticator.component.ts","webpack:///./src/app/settings/two-factor-authenticator.component.html","webpack:///./src/app/settings/two-factor-email.component.ts","webpack:///./src/app/settings/two-factor-email.component.html","webpack:///./src/app/settings/two-factor-recovery.component.ts","webpack:///./src/app/settings/two-factor-recovery.component.html","webpack:///./src/app/settings/two-factor-webauthn.component.ts","webpack:///./src/app/settings/two-factor-webauthn.component.html","webpack:///./src/app/settings/two-factor-yubikey.component.ts","webpack:///./src/app/settings/two-factor-yubikey.component.html","webpack:///./src/app/organizations/tools/export.component.ts","webpack:///./src/app/organizations/tools/exposed-passwords-report.component.ts","webpack:///./jslib/src/models/data/passwordHistoryData.ts","webpack:///./jslib/src/models/view/attachmentView.ts","webpack:///./jslib/src/models/domain/password.ts","webpack:///./jslib/src/models/request/cipherCreateRequest.ts","webpack:///./jslib/src/models/api/cardApi.ts","webpack:///./jslib/src/models/api/fieldApi.ts","webpack:///./jslib/src/models/api/identityApi.ts","webpack:///./jslib/src/models/api/loginApi.ts","webpack:///./jslib/src/models/api/loginUriApi.ts","webpack:///./jslib/src/models/api/secureNoteApi.ts","webpack:///./jslib/src/angular/directives/fallback-src.directive.ts","webpack:///./src/app/organizations/tools/import.component.ts","webpack:///./src/app/organizations/tools/inactive-two-factor-report.component.ts","webpack:///./src/app/organizations/tools/reused-passwords-report.component.ts","webpack:///./src/app/organizations/tools/tools.component.ts","webpack:///./src/app/organizations/tools/tools.component.html","webpack:///./src/app/organizations/tools/unsecured-websites-report.component.ts","webpack:///./src/app/organizations/tools/weak-passwords-report.component.ts","webpack:///./src/app/organizations/vault/vault.component.ts","webpack:///./src/app/organizations/vault/vault.component.html","webpack:///./src/app/organizations/vault/attachments.component.ts","webpack:///./jslib/src/angular/components/attachments.component.ts","webpack:///./jslib/src/models/response/globalDomainResponse.ts","webpack:///./jslib/src/models/response/identityTokenResponse.ts","webpack:///./jslib/src/models/response/identityTwoFactorResponse.ts","webpack:///./jslib/src/models/response/listResponse.ts","webpack:///./jslib/src/models/response/profileOrganizationResponse.ts","webpack:///./jslib/src/models/response/syncResponse.ts","webpack:///./jslib/src/models/response/policyResponse.ts","webpack:///./src/app/organizations/vault/collections.component.ts","webpack:///./jslib/src/models/request/cipherCollectionsRequest.ts","webpack:///./src/app/vault/bulk-delete.component.ts","webpack:///./src/app/vault/bulk-delete.component.html","webpack:///./jslib/src/models/request/cipherBulkDeleteRequest.ts","webpack:///./src/app/vault/bulk-move.component.ts","webpack:///./src/app/vault/bulk-move.component.html","webpack:///./src/app/vault/bulk-restore.component.ts","webpack:///./src/app/vault/bulk-restore.component.html","webpack:///./src/app/vault/bulk-share.component.ts","webpack:///./src/app/vault/bulk-share.component.html","webpack:///./src/app/send/access.component.ts","webpack:///./src/app/send/access.component.html","webpack:///./src/app/send/send.component.ts","webpack:///./src/app/send/send.component.html","webpack:///./src/app/send/add-edit.component.ts","webpack:///./src/app/send/add-edit.component.html","webpack:///./jslib/src/models/view/sendView.ts","webpack:///./src/app/settings/account.component.ts","webpack:///./src/app/settings/account.component.html","webpack:///./src/app/settings/deauthorize-sessions.component.ts","webpack:///./src/app/settings/deauthorize-sessions.component.html","webpack:///./src/app/settings/delete-account.component.ts","webpack:///./src/app/settings/delete-account.component.html","webpack:///./src/app/settings/profile.component.ts","webpack:///./src/app/settings/profile.component.html","webpack:///./src/app/settings/change-email.component.ts","webpack:///./src/app/settings/change-email.component.html","webpack:///./jslib/src/models/request/emailTokenRequest.ts","webpack:///./src/app/settings/change-password.component.ts","webpack:///./src/app/settings/change-password.component.html","webpack:///./jslib/src/enums/emergencyAccessStatusType.ts","webpack:///./jslib/src/models/request/emergencyAccessUpdateRequest.ts","webpack:///./jslib/src/models/request/folderWithIdRequest.ts","webpack:///./jslib/src/models/request/organizationUserResetPasswordEnrollmentRequest.ts","webpack:///./jslib/src/models/request/passwordRequest.ts","webpack:///./jslib/src/models/request/updateKeyRequest.ts","webpack:///./src/app/settings/change-kdf.component.ts","webpack:///./src/app/settings/change-kdf.component.html","webpack:///./src/app/settings/create-organization.component.ts","webpack:///./src/app/settings/create-organization.component.html","webpack:///./src/app/settings/domain-rules.component.ts","webpack:///./src/app/settings/domain-rules.component.html","webpack:///./src/app/settings/options.component.ts","webpack:///./src/app/settings/options.component.html","webpack:///./src/app/settings/link-sso.component.ts","webpack:///./src/app/settings/link-sso.component.html","webpack:///./src/app/settings/premium.component.ts","webpack:///./src/app/settings/premium.component.html","webpack:///./src/app/settings/settings.component.ts","webpack:///./src/app/settings/settings.component.html","webpack:///./src/app/settings/user-subscription.component.ts","webpack:///./src/app/settings/user-subscription.component.html","webpack:///./src/app/tools/breach-report.component.ts","webpack:///./src/app/tools/breach-report.component.html","webpack:///./src/app/tools/password-generator.component.ts","webpack:///./src/app/tools/password-generator.component.html","webpack:///./src/app/tools/password-generator-history.component.ts","webpack:///./src/app/tools/password-generator-history.component.html","webpack:///./src/app/tools/tools.component.ts","webpack:///./src/app/tools/tools.component.html","webpack:///./src/app/vault/vault.component.ts","webpack:///./src/app/vault/vault.component.html","webpack:///./src/app/settings/update-key.component.ts","webpack:///./src/app/settings/update-key.component.html","webpack:///./src/app/vault/folder-add-edit.component.ts","webpack:///./src/app/vault/folder-add-edit.component.html","webpack:///./src/app/vault/share.component.ts","webpack:///./src/app/vault/share.component.html","webpack:///./src/app/vault/send-info.component.ts","webpack:///./src/app/vault/send-info.component.html","webpack:///./src/app/settings/verify-email.component.ts","webpack:///./src/app/settings/verify-email.component.html","webpack:///./src/app/services/organization-guard.service.ts","webpack:///./src/app/services/organization-type-guard.service.ts","webpack:///./jslib/src/enums/permissions.ts","webpack:///./jslib/src/angular/services/auth-guard.service.ts","webpack:///./jslib/src/angular/services/lock-guard.service.ts","webpack:///./jslib/src/angular/services/unauth-guard.service.ts","webpack:///./src/app/settings/emergency-access-view.component.ts","webpack:///./src/app/settings/emergency-access-view.component.html","webpack:///./jslib/src/models/domain/encryptedObject.ts","webpack:///./jslib/src/models/domain/environmentUrls.ts","webpack:///./jslib/src/models/domain/generatedPasswordHistory.ts","webpack:///./src/app/settings/emergency-access-attachments.component.ts","webpack:///./src/app/settings/emergency-add-edit.component.ts","webpack:///./src/app/settings/emergency-access.component.ts","webpack:///./src/app/settings/emergency-access.component.html","webpack:///./jslib/src/enums/emergencyAccessType.ts","webpack:///./jslib/src/models/response/emergencyAccessResponse.ts","webpack:///./src/app/settings/emergency-access-add-edit.component.ts","webpack:///./src/app/settings/emergency-access-add-edit.component.html","webpack:///./src/app/settings/emergency-access-confirm.component.ts","webpack:///./src/app/settings/emergency-access-confirm.component.html","webpack:///./src/app/settings/emergency-access-takeover.component.ts","webpack:///./src/app/settings/emergency-access-takeover.component.html","webpack:///./jslib/src/services/api.service.ts","webpack:///./jslib/src/models/response/organizationResponse.ts","webpack:///./jslib/src/models/response/planResponse.ts","webpack:///./jslib/src/models/response/subscriptionResponse.ts","webpack:///./jslib/src/models/response/twoFactorWebAuthnResponse.ts","webpack:///./jslib/src/services/appId.service.ts","webpack:///./jslib/src/services/audit.service.ts","webpack:///./jslib/src/services/cipher.service.ts","webpack:///./jslib/src/misc/sequentialize.ts","webpack:///./jslib/src/services/collection.service.ts","webpack:///./jslib/src/misc/serviceUtils.ts","webpack:///./jslib/src/services/container.service.ts","webpack:///./jslib/src/services/crypto.service.ts","webpack:///./jslib/src/misc/wordlist.ts","webpack:///./jslib/src/services/environment.service.ts","webpack:///./jslib/src/services/folder.service.ts","webpack:///./jslib/src/services/i18n.service.ts","webpack:///./jslib/src/services/passwordGeneration.service.ts","webpack:///./jslib/src/services/settings.service.ts","webpack:///./jslib/src/services/state.service.ts","webpack:///./jslib/src/services/sync.service.ts","webpack:///./jslib/src/models/data/sendData.ts","webpack:///./jslib/src/services/token.service.ts","webpack:///./jslib/src/services/totp.service.ts","webpack:///./jslib/src/services/user.service.ts","webpack:///./jslib/src/services/vaultTimeout.service.ts","webpack:///./jslib/src/services/consoleLog.service.ts","webpack:///./jslib/src/enums/logLevelType.ts","webpack:///./jslib/src/models/export/cipherWithIds.ts","webpack:///./jslib/src/models/export/collectionWithId.ts","webpack:///./jslib/src/models/export/folderWithId.ts","webpack:///./jslib/src/importers/onepasswordImporters/onepasswordCsvImporter.ts","webpack:///./jslib/src/models/view/index.ts","webpack:///./jslib/src/enums/notificationType.ts","webpack:///./src/app/main.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./jslib/src/services/broadcaster.service.ts","webpack:///./jslib/src/misc/tldjs.noop.ts","webpack:///./jslib/src/models/request/emergencyAccessAcceptRequest.ts","webpack:///./jslib/src/models/request/organizationUserAcceptRequest.ts","webpack:///./jslib/src/angular/components/hint.component.ts","webpack:///./jslib/src/models/request/passwordHintRequest.ts","webpack:///./jslib/src/angular/components/lock.component.ts","webpack:///./jslib/src/angular/components/login.component.ts","webpack:///./jslib/src/models/request/deleteRecoverRequest.ts","webpack:///./jslib/src/models/request/twoFactorRecoveryRequest.ts","webpack:///./jslib/src/angular/components/register.component.ts","webpack:///./jslib/src/models/request/registerRequest.ts","webpack:///./jslib/src/models/request/referenceEventRequest.ts","webpack:///./jslib/src/angular/components/set-password.component.ts","webpack:///./jslib/src/models/request/setPasswordRequest.ts","webpack:///./jslib/src/angular/components/two-factor-options.component.ts","webpack:///./jslib/src/angular/components/modal.component.ts","webpack:///./jslib/src/angular/components/two-factor.component.ts","webpack:///./jslib/src/models/request/deviceRequest.ts","webpack:///./jslib/src/models/request/preloginRequest.ts","webpack:///./jslib/src/models/request/tokenRequest.ts","webpack:///./jslib/src/misc/webauthn.ts","webpack:///./jslib/src/models/request/verifyEmailRequest.ts","webpack:///./jslib/src/models/request/verifyDeleteRecoverRequest.ts","webpack:///./jslib/src/models/request/groupRequest.ts","webpack:///./jslib/src/models/request/organizationUserConfirmRequest.ts","webpack:///./jslib/src/models/request/organizationUserInviteRequest.ts","webpack:///./jslib/src/models/request/organizationUserUpdateRequest.ts","webpack:///./jslib/src/models/request/organizationUserUpdateGroupsRequest.ts","webpack:///./jslib/src/abstractions/appId.service.ts","webpack:///./jslib/src/abstractions/log.service.ts","webpack:///./jslib/src/models/request/policyRequest.ts","webpack:///./jslib/src/models/request/organizationUpdateRequest.ts","webpack:///./jslib/src/enums/transactionType.ts","webpack:///./jslib/src/models/request/verifyBankRequest.ts","webpack:///./jslib/src/models/request/bitPayInvoiceRequest.ts","webpack:///./jslib/src/models/request/paymentRequest.ts","webpack:///./jslib/src/models/request/organizationCreateRequest.ts","webpack:///./jslib/src/models/request/organizationUpgradeRequest.ts","webpack:///./jslib/src/models/request/seatRequest.ts","webpack:///./jslib/src/models/request/storageRequest.ts","webpack:///./jslib/src/models/request/updateTwoFactorDuoRequest.ts","webpack:///./jslib/src/models/request/twoFactorProviderRequest.ts","webpack:///./jslib/src/models/request/updateTwoFactorAuthenticatorRequest.ts","webpack:///./jslib/src/models/request/updateTwoFactorEmailRequest.ts","webpack:///./jslib/src/models/request/updateTwoFactorWebAuthnDeleteRequest.ts","webpack:///./jslib/src/models/request/updateTwoFactorWebAuthnRequest.ts","webpack:///./jslib/src/models/request/updateTwoFactorYubioOtpRequest.ts","webpack:///./jslib/src/angular/components/export.component.ts","webpack:///./jslib/src/models/request/attachmentRequest.ts","webpack:///./jslib/src/angular/components/add-edit.component.ts","webpack:///./jslib/src/models/response/index.ts","webpack:///./jslib/src/models/response/passwordHistoryResponse.ts","webpack:///./jslib/src/models/response/deviceResponse.ts","webpack:///./jslib/src/models/response/keysResponse.ts","webpack:///./jslib/src/angular/components/ciphers.component.ts","webpack:///./jslib/src/angular/components/collections.component.ts","webpack:///./jslib/src/angular/components/groupings.component.ts","webpack:///./jslib/src/models/domain/sendAccess.ts","webpack:///./jslib/src/models/view/sendAccessView.ts","webpack:///./jslib/src/models/request/sendAccessRequest.ts","webpack:///./jslib/src/angular/components/send/send.component.ts","webpack:///./jslib/src/angular/components/send/add-edit.component.ts","webpack:///./jslib/src/models/request/updateProfileRequest.ts","webpack:///./jslib/src/models/request/emailRequest.ts","webpack:///./jslib/src/models/request/kdfRequest.ts","webpack:///./jslib/src/models/request/updateDomainsRequest.ts","webpack:///./jslib/src/angular/components/password-generator.component.ts","webpack:///./jslib/src/angular/components/password-generator-history.component.ts","webpack:///./jslib/src/angular/components/folder-add-edit.component.ts","webpack:///./jslib/src/angular/components/share.component.ts","webpack:///./jslib/src/models/data/index.ts","webpack:///./jslib/src/models/domain/index.ts","webpack:///./jslib/src/models/request/emergencyAccessConfirmRequest.ts","webpack:///./jslib/src/models/request/emergencyAccessInviteRequest.ts","webpack:///./jslib/src/models/request/emergencyAccessPasswordRequest.ts","webpack:///./src/app/services/services.module.ts","webpack:///./src/services/broadcasterMessaging.service.ts","webpack:///./src/services/htmlStorage.service.ts","webpack:///./jslib/src/services/index.ts","webpack:///./jslib/src/models/response/apiKeyResponse.ts","webpack:///./jslib/src/models/response/attachmentUploadDataResponse.ts","webpack:///./jslib/src/models/response/billingResponse.ts","webpack:///./jslib/src/models/response/breachAccountResponse.ts","webpack:///./jslib/src/models/response/eventResponse.ts","webpack:///./jslib/src/models/response/groupResponse.ts","webpack:///./jslib/src/models/response/organizationSubscriptionResponse.ts","webpack:///./jslib/src/models/response/organizationUserResponse.ts","webpack:///./jslib/src/models/response/paymentResponse.ts","webpack:///./jslib/src/models/response/preloginResponse.ts","webpack:///./jslib/src/models/response/sendAccessResponse.ts","webpack:///./jslib/src/models/response/sendFileDownloadDataResponse.ts","webpack:///./jslib/src/models/response/sendFileUploadDataResponse.ts","webpack:///./jslib/src/models/response/taxInfoResponse.ts","webpack:///./jslib/src/models/response/taxRateResponse.ts","webpack:///./jslib/src/models/response/twoFactorAuthenticatorResponse.ts","webpack:///./jslib/src/models/response/twoFactorDuoResponse.ts","webpack:///./jslib/src/models/response/twoFactorEmailResponse.ts","webpack:///./jslib/src/models/response/twoFactorProviderResponse.ts","webpack:///./jslib/src/models/response/twoFactorRescoverResponse.ts","webpack:///./jslib/src/models/response/twoFactorYubiKeyResponse.ts","webpack:///./jslib/src/models/response/userKeyResponse.ts","webpack:///./jslib/src/misc/throttle.ts","webpack:///./jslib/src/models/request/cipherBulkMoveRequest.ts","webpack:///./jslib/src/models/request/cipherBulkRestoreRequest.ts","webpack:///./jslib/src/models/request/cipherBulkShareRequest.ts","webpack:///./jslib/src/models/request/cipherShareRequest.ts","webpack:///./jslib/src/models/domain/sortedCiphersCache.ts","webpack:///./jslib/src/models/domain/treeNode.ts","webpack:///./jslib/src/models/domain/encArrayBuffer.ts","webpack:///./jslib/src/models/domain/passwordGeneratorPolicyOptions.ts","webpack:///./jslib/src/models/data/organizationData.ts","webpack:///./jslib/src/models/data/sendFileData.ts","webpack:///./jslib/src/models/data/sendTextData.ts","webpack:///./src/services/i18n.service.ts","webpack:///./src/services/memoryStorage.service.ts","webpack:///./src/services/webPlatformUtils.service.ts","webpack:///./jslib/src/services/event.service.ts","webpack:///./jslib/src/models/data/eventData.ts","webpack:///./jslib/src/models/request/eventRequest.ts","webpack:///./jslib/src/services/export.service.ts","webpack:///./jslib/src/models/export/cipher.ts","webpack:///./jslib/src/models/export/card.ts","webpack:///./jslib/src/models/export/field.ts","webpack:///./jslib/src/models/export/identity.ts","webpack:///./jslib/src/models/export/login.ts","webpack:///./jslib/src/models/export/loginUri.ts","webpack:///./jslib/src/models/export/secureNote.ts","webpack:///./jslib/src/models/export/collection.ts","webpack:///./jslib/src/models/export/folder.ts","webpack:///./jslib/src/services/fileUpload.service.ts","webpack:///./jslib/src/enums/fileUploadType.ts","webpack:///./jslib/src/services/azureFileUpload.service.ts","webpack:///./jslib/src/services/bitwardenFileUpload.service.ts","webpack:///./jslib/src/services/import.service.ts","webpack:///./jslib/src/models/request/importCiphersRequest.ts","webpack:///./jslib/src/models/request/importOrganizationCiphersRequest.ts","webpack:///./jslib/src/models/request/kvpRequest.ts","webpack:///./jslib/src/importers/ascendoCsvImporter.ts","webpack:///./jslib/src/importers/avastCsvImporter.ts","webpack:///./jslib/src/importers/avastJsonImporter.ts","webpack:///./jslib/src/importers/aviraCsvImporter.ts","webpack:///./jslib/src/importers/bitwardenCsvImporter.ts","webpack:///./jslib/src/importers/bitwardenJsonImporter.ts","webpack:///./jslib/src/importers/blackBerryCsvImporter.ts","webpack:///./jslib/src/importers/blurCsvImporter.ts","webpack:///./jslib/src/importers/buttercupCsvImporter.ts","webpack:///./jslib/src/importers/chromeCsvImporter.ts","webpack:///./jslib/src/importers/clipperzHtmlImporter.ts","webpack:///./jslib/src/importers/codebookCsvImporter.ts","webpack:///./jslib/src/importers/dashlaneJsonImporter.ts","webpack:///./jslib/src/importers/encryptrCsvImporter.ts","webpack:///./jslib/src/importers/enpassCsvImporter.ts","webpack:///./jslib/src/importers/enpassJsonImporter.ts","webpack:///./jslib/src/importers/firefoxCsvImporter.ts","webpack:///./jslib/src/importers/fsecureFskImporter.ts","webpack:///./jslib/src/importers/gnomeJsonImporter.ts","webpack:///./jslib/src/importers/kasperskyTxtImporter.ts","webpack:///./jslib/src/importers/keepass2XmlImporter.ts","webpack:///./jslib/src/importers/keepassxCsvImporter.ts","webpack:///./jslib/src/importers/keeperCsvImporter.ts","webpack:///./jslib/src/importers/lastpassCsvImporter.ts","webpack:///./jslib/src/importers/logMeOnceCsvImporter.ts","webpack:///./jslib/src/importers/meldiumCsvImporter.ts","webpack:///./jslib/src/importers/msecureCsvImporter.ts","webpack:///./jslib/src/importers/mykiCsvImporter.ts","webpack:///./jslib/src/importers/onepasswordImporters/onepassword1PifImporter.ts","webpack:///./jslib/src/importers/onepasswordImporters/onepasswordMacCsvImporter.ts","webpack:///./jslib/src/importers/onepasswordImporters/cipherImportContext.ts","webpack:///./jslib/src/models/view/view.ts","webpack:///./jslib/src/importers/onepasswordImporters/onepasswordWinCsvImporter.ts","webpack:///./jslib/src/importers/padlockCsvImporter.ts","webpack:///./jslib/src/importers/passkeepCsvImporter.ts","webpack:///./jslib/src/importers/passmanJsonImporter.ts","webpack:///./jslib/src/importers/passpackCsvImporter.ts","webpack:///./jslib/src/importers/passwordAgentCsvImporter.ts","webpack:///./jslib/src/importers/passwordBossJsonImporter.ts","webpack:///./jslib/src/importers/passwordDragonXmlImporter.ts","webpack:///./jslib/src/importers/passwordSafeXmlImporter.ts","webpack:///./jslib/src/importers/passwordWalletTxtImporter.ts","webpack:///./jslib/src/importers/rememBearCsvImporter.ts","webpack:///./jslib/src/importers/roboformCsvImporter.ts","webpack:///./jslib/src/importers/safeInCloudXmlImporter.ts","webpack:///./jslib/src/enums/index.ts","webpack:///./jslib/src/importers/saferpassCsvImport.ts","webpack:///./jslib/src/importers/secureSafeCsvImporter.ts","webpack:///./jslib/src/importers/splashIdCsvImporter.ts","webpack:///./jslib/src/importers/stickyPasswordXmlImporter.ts","webpack:///./jslib/src/importers/truekeyCsvImporter.ts","webpack:///./jslib/src/importers/upmCsvImporter.ts","webpack:///./jslib/src/importers/yotiCsvImporter.ts","webpack:///./jslib/src/importers/zohoVaultCsvImporter.ts","webpack:///./jslib/src/services/notifications.service.ts","webpack:///./jslib/src/models/response/notificationResponse.ts","webpack:///./jslib/src/services/policy.service.ts","webpack:///./jslib/src/models/domain/masterPasswordPolicyOptions.ts","webpack:///./jslib/src/services/search.service.ts","webpack:///./jslib/src/services/send.service.ts","webpack:///./jslib/src/models/request/sendRequest.ts","webpack:///./jslib/src/models/domain/send.ts","webpack:///./jslib/src/services/webCryptoFunction.service.ts","webpack:///./jslib/src/models/domain/decryptParameters.ts","webpack:///./jslib/src/abstractions/fileUpload.service.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.component.html","webpack:///./jslib/src/angular/directives/blur-click.directive.ts","webpack:///./jslib/src/angular/directives/box-row.directive.ts","webpack:///./jslib/src/angular/pipes/search-ciphers.pipe.ts"],"names":["i","chunkIds","length","deferredModules","j","deferredModule","enumerable","get","getter","value","key","bind","module","Object","prototype","hasOwnProperty","call","object","property","jsonpArray","webpackJsonpCallback","I18nService","PlatformUtilsService","ApiService","UserService","i18nService","transform","id","p1","p2","p3","this","t","I18nPipe","MessagingService","el","validationService","ngOnChanges","changes","appApiAction","then","nativeElement","loading","response","e","showError","ApiActionDirective","renderer","title","ngOnInit","hasAttribute","setAttribute","A11yTitleDirective","CryptoService","CipherService","getResponseProperty","propertyName","exactName","Error","undefined","otherCasePropertyName","charAt","toUpperCase","toLowerCase","slice","BaseResponse","type","calloutStyle","icon","CalloutComponent","organizationId","logService","ConsoleLogService","newLineRegex","passwordFieldNames","usernameFieldNames","notesFieldNames","uriFieldNames","parseCsvOptions","encoding","skipEmptyLines","parseXml","data","doc","DOMParser","parseFromString","querySelector","parseCsv","header","options","parseOptions","assign","splitNewLine","join","trim","result","papa","parse","errors","forEach","row","warning","message","parseSingleRowCsv","rowData","isNullOrWhitespace","parsedRow","makeUriArray","uri","loginUri","LoginUriView","fixUri","match","u","push","indexOf","substring","nameFromUrl","url","hostname","Utils","getHostname","startsWith","replace","str","getValueOrDefault","defaultValue","split","getCardBrand","cardNum","re","RegExp","test","setCardExpiration","cipher","expiration","parts","month","year","substr","card","expMonth","expYear","moveFoldersToCollections","folderRelationships","r","collectionRelationships","collections","folders","map","f","collection","CollectionView","name","querySelectorDirectChild","parentEl","query","els","querySelectorAllDirectChild","Array","from","querySelectorAll","filter","parentNode","initLoginCipher","CipherView","favorite","notes","fields","login","LoginView","CipherType","Login","cleanupCipher","processKvp","FieldType","Text","search","field","FieldView","processFolder","folderName","folderIndex","hasFolder","addFolder","FolderView","ciphers","convertToNoteIfNeeded","username","password","uris","SecureNote","secureNote","SecureNoteView","SecureNoteType","Generic","BaseImporter","success","ImportResult","nodeURL","window","init","inited","isNode","process","release","isBrowser","isNativeScript","isMobileBrowser","isMobile","isAppleMobileBrowser","isAppleMobile","global","fromB64ToArray","Uint8Array","Buffer","binaryString","atob","bytes","charCodeAt","fromUrlB64ToArray","fromUrlB64ToB64","fromHexToArray","parseInt","fromUtf8ToArray","strUtf8","unescape","encodeURIComponent","arr","fromByteStringToArray","fromBufferToB64","buffer","toString","binary","byteLength","String","fromCharCode","btoa","fromBufferToUrlB64","fromB64toUrlB64","b64Str","fromBufferToUtf8","encodedString","apply","decodeURIComponent","escape","fromBufferToByteString","fromBufferToHex","x","urlB64Str","output","fromUrlB64ToUtf8","fromB64ToUtf8","fromUtf8ToB64","utfStr","newGuid","c","Math","random","isGuid","uriString","getUrl","getHost","host","getDomain","httpUrl","tldEndingRegex","getUrlObject","validIpAddress","urlDomain","tldjs","domain","getQueryParams","Map","pair","set","getSortFunction","prop","a","b","collator","compare","localeCompare","nameOf","target","source","ipString","win","mobile","navigator","userAgent","vendor","opera","URL","hasProtocol","anchor","document","createElement","href","PasswordGenerationService","onClick","$event","preventDefault","StopClickDirective","StateService","CollectionService","StorageService","PolicyService","condition","disableComplete","InputVerbatimDirective","FolderService","stopPropagation","StopPropDirective","AuthService","SyncService","EnvironmentService","autofocus","focus","AutofocusDirective","environmentUrlsKey","ConstantsService","disableGaKey","disableAddLoginNotificationKey","disableContextMenuItemKey","disableFaviconKey","disableBadgeCounterKey","disableAutoTotpCopyKey","enableAutoFillOnPageLoadKey","vaultTimeoutKey","vaultTimeoutActionKey","lastActiveKey","neverDomainsKey","installedVersionKey","localeKey","themeKey","collapsedGroupingsKey","autoConfirmFingerprints","dontShowCardsCurrentTab","dontShowIdentitiesCurrentTab","defaultUriMatch","pinProtectedKey","protectedPin","clearClipboardKey","eventCollectionKey","ssoCodeVerifierKey","ssoStateKey","biometricUnlockKey","biometricText","biometricAwaitingAcceptance","biometricFingerprintValidated","disableChangedPasswordNotificationKey","EventService","PasswordVerificationRequest","indexedEntityId","SearchService","buildDomainModel","dataObj","alreadyEncrypted","notEncList","objProp","EncString","buildDataModel","notEncStringList","encryptedString","decryptObj","viewModel","orgId","promises","self","theProp","p","Promise","resolve","mapProp","decrypt","val","all","componentFactoryResolver","messagingService","ngOnDestroy","show","parentContainer","fade","setComponentParameters","factory","resolveComponentFactory","componentRef","container","createComponent","instance","modals","jq","modal","on","onShow","emit","send","onShown","find","onClose","onClosed","clear","close","ModalComponent","AuditService","cardholderName","code","_brand","_number","_subTitle","repeat","brand","number","count","exp","formatYear","CardView","VaultTimeoutService","n","TokenService","CryptoFunctionService","encryptedStringOrType","iv","mac","encType","encryptionType","headerPieces","encPieces","EncryptionType","AesCbc128_HmacSha256_B64","AesCbc256_B64","AesCbc256_HmacSha256_B64","Rsa2048_OaepSha256_B64","Rsa2048_OaepSha1_B64","decryptedValue","containerService","bitwardenContainerService","cryptoService","getCryptoService","getOrgKey","decryptToUtf8","IconMap","environmentService","stateService","iconsUrl","baseUrl","imageEnabled","load","setLoginIcon","Card","Identity","hostnameUri","isWebsite","image","fallbackImage","IconComponent","BroadcasterService","TwoFactorProviderType","TotpService","StripeElementStyle","base","color","fontFamily","fontSize","fontSmoothing","invalid","StripeElementClasses","empty","platformUtilsService","apiService","showMethods","showOptions","method","PaymentMethodType","hideBank","hidePaypal","hideCredit","bank","routing_number","account_number","account_holder_name","account_holder_type","currency","country","paymentMethodType","btInstance","stripe","stripeElements","stripeCardNumberElement","stripeCardExpiryElement","stripeCardCvcElement","stripeScript","src","async","onload","Stripe","isDev","WebConstants","stripeTestKey","stripeLiveKey","elements","setStripeElement","btScript","PayPal","BankAccount","Credit","head","appendChild","removeChild","setTimeout","body","btStylesheet","changeMethod","braintree","dropin","create","authorization","btSandboxKey","btProductionKey","paymentOptionPriority","paypal","flow","buttonStyle","label","size","shape","createErr","console","error","createPaymentToken","reject","requestPaymentMethod","payload","nonce","catch","err","postSetupPayment","clientSecret","handleCardSetup","setupIntent","status","payment_method","createToken","token","handleStripeCardPayment","successCallback","paymentIntent","style","classes","placeholder","mount","PaymentComponent","revisionDate","sanitizer","cryptoFunctionService","charCount","textColor","fontWeight","dynamic","circle","generate","email","hash","hashBytes","chars","upperData","getFirstLetters","charObj","getCharText","stringToColor","svg","getSvg","html","outerHTML","svgHtml","text","svgTag","backgroundColor","width","height","character","textTag","textContent","AvatarComponent","obj","externalId","readOnly","hidePasswords","Collection","PolicyType","route","onCountryChanged","EventEmitter","taxInfo","taxId","line1","line2","city","state","postalCode","includeTaxId","pristine","parent","params","subscribe","getOrganizationTaxInfo","getTaxInfo","getTaxRates","taxRates","localTaxRate","rate","getTaxInfoRequest","request","OrganizationTaxInfoUpdateRequest","TaxInfoUpdateRequest","submitTaxInfo","hasChanged","putOrganizationTaxInfo","putTaxInfo","changeCountry","TaxInfoComponent","folderId","organizationUseTotp","edit","viewPassword","identity","IdentityView","attachments","passwordHistory","collectionIds","deletedDate","localData","subTitle","hasAttachments","passwordRevisionDate","middleName","address1","address2","address3","company","phone","ssn","passportNumber","licenseNumber","_firstName","_lastName","firstName","lastName","address","addressPart2","CollectionData","OrganizationUserStatusType","userId","LoginData","SecureNoteData","CardData","IdentityData","FieldData","AttachmentData","ph","PasswordHistoryData","CipherData","l","totp","hasUris","some","canLaunch","launchUri","SendType","toasterService","onAuthed","submit","masterPassword","popAsync","hashPassword","masterPasswordHash","formPromise","getTwoFactorRecover","Duo","OrganizationDuo","getTwoFactorOrganizationDuo","getTwoFactorDuo","Email","getTwoFactorEmail","WebAuthn","getTwoFactorWebAuthn","Authenticator","getTwoFactorAuthenticator","Yubikey","getTwoFactorYubiKey","TwoFactorVerifyComponent","ExportService","Date","Attachment","Field","Password","encKey","model","reduce","promise","attachment","decAttachment","decField","decPh","toCipherData","toISOString","toLoginData","toSecureNoteData","toCardData","toIdentityData","toFieldData","toAttachmentData","toPasswordHistoryData","Cipher","SendService","newField","showValue","lastKnownRevisionDate","LoginApi","LoginUriApi","SecureNoteApi","CardApi","IdentityApi","FieldApi","lastUsedDate","attachments2","fileName","attachmentRequest","AttachmentRequest","CipherRequest","identityResponse","errorModel","responseErrorModel","validationErrors","statusCode","getSingleMessage","getAllMessages","messages","item","prefix","lastSep","lastIndexOf","ErrorResponse","defaultErrorMessage","concat","showToast","timeout","ValidationService","router","activatedRoute","titleService","previousUrl","currentUrl","events","event","NavigationEnd","titleId","rawTitle","child","firstChild","snapshot","newTitle","setTitle","getPreviousUrl","setPreviousUrl","RouterService","KdfType","showText","scoreWidth","score","PasswordStrengthComponent","OrganizationUserType","items","searchText","prop1","prop2","prop3","SearchPipe","getDefaultDateFilters","d","end","getFullYear","getMonth","getDate","setDate","start","toDateTimeLocalString","formatDateFilters","filterStart","filterEnd","isNaN","getTime","getEventInfo","ev","EventOptions","appInfo","getAppInfo","deviceType","getEventMessage","appIcon","appName","msg","EventType","User_LoggedIn","User_ChangedPassword","User_Updated2fa","User_Disabled2fa","User_Recovered2fa","User_FailedLogIn","User_FailedLogIn2fa","User_ClientExportedVault","Cipher_Created","formatCipherId","Cipher_Updated","Cipher_Deleted","Cipher_SoftDeleted","Cipher_Restored","Cipher_AttachmentCreated","Cipher_AttachmentDeleted","Cipher_Shared","Cipher_ClientViewed","Cipher_ClientToggledPasswordVisible","Cipher_ClientToggledHiddenFieldVisible","Cipher_ClientToggledCardCodeVisible","Cipher_ClientCopiedHiddenField","Cipher_ClientCopiedPassword","Cipher_ClientCopiedCardCode","Cipher_ClientAutofilled","Cipher_UpdatedCollections","Collection_Created","formatCollectionId","Collection_Updated","Collection_Deleted","Group_Created","formatGroupId","Group_Updated","Group_Deleted","OrganizationUser_Invited","formatOrgUserId","OrganizationUser_Confirmed","OrganizationUser_Updated","OrganizationUser_Removed","OrganizationUser_UpdatedGroups","OrganizationUser_UnlinkedSso","OrganizationUser_ResetPassword_Enroll","OrganizationUser_ResetPassword_Withdraw","Organization_Updated","Organization_PurgedVault","Policy_Updated","formatPolicyId","DeviceType","Android","iOS","UWP","ChromeExtension","FirefoxExtension","OperaExtension","EdgeExtension","VivaldiExtension","SafariExtension","WindowsDesktop","MacOsDesktop","LinuxDesktop","ChromeBrowser","FirefoxBrowser","OperaBrowser","SafariBrowser","VivaldiBrowser","EdgeBrowser","IEBrowser","UnknownBrowser","shortId","getShortId","cipherId","cipherInfo","makeAnchor","groupId","collectionId","organizationUserId","policyId","innerHTML","date","pad","getHours","getMinutes","num","norm","floor","abs","EventInfo","onUpdated","twoFactorProviderType","enabled","authed","auth","authResponse","enable","enableFunction","disable","showDialog","TwoFactorProviderRequest","putTwoFactorOrganizationDisable","putTwoFactorDisable","TwoFactorBaseComponent","userService","requiresPaid","hasLoaded","setCiphers","selectCipher","childComponent","cipherAddEditModalRef","organization","AddEditComponent","onSavedCipher","onDeletedCipher","onRestoredCipher","checkAccess","useTotp","canAccessPremium","accessPremium","CipherReportComponent","ViewContainerRef","CanLaunchWhitelist","_uri","_domain","_hostname","_host","_canLaunch","UriMatchType","RegularExpression","cipherService","folderService","auditService","collectionService","totpService","passwordGenerationService","eventService","policyService","showRevisionDate","hasPasswordHistory","viewingPasswordHistory","viewOnly","passwordRevisionDisplayDate","cleanUp","totpUpdateCode","getTimeInterval","totpTick","totpInterval","setInterval","toggleFavorite","launch","copy","typeI18nKey","aType","copyToClipboard","editMode","collect","generatePassword","confirmed","getOptions","premiumRequired","upgradeOrganization","viewHistory","clearInterval","getCode","totpCode","half","totpCodeFormatted","allowOwnershipAssignment","cloneMode","ownershipOptions","allowPersonal","intervalSeconds","epoch","round","mod","totpSec","totpDash","totpLow","ImportService","AttachmentResponse","h","PasswordHistoryResponse","CipherResponse","searchService","showAddNew","onAttachmentsClicked","onShareClicked","onCollectionsClicked","onCloneClicked","cipherType","userHasPremiumAccess","pageSize","selectAll","share","clone","delete","actionPromise","permanent","isDeleted","deleteCipher","refresh","restore","restoreWithServer","displayTotpCopyButton","select","selectCount","checkCipher","checked","getSelected","getSelectedIds","hasTotp","deleteWithServer","softDeleteWithServer","showFixOldAttachments","hasOldAttachments","CiphersComponent","TwoFactorProviders","description","priority","sort","premium","tokenService","appIdService","vaultTimeoutService","setCryptoKeys","selectedTwoFactorProviderType","logIn","makePreloginKey","hashedPassword","logInHelper","logInSso","codeVerifier","redirectUrl","logInApiKey","clientId","logInTwoFactor","twoFactorProvider","twoFactorToken","remember","ssoRedirectUrl","logInComplete","logInSsoComplete","logInApiKeyComplete","logOut","callback","getSupportedTwoFactorProviders","providers","twoFactorProvidersData","has","supportsDuo","supportsWebAuthn","getDefaultTwoFactorProvider","webAuthnSupported","providerType","providerPriority","provider","kdf","kdfIterations","postPrelogin","PreloginRequest","preloginResponse","makeKey","authingWithApiKey","authingWithSso","authingWithPassword","getTwoFactorToken","storedTwoFactorToken","getAppId","appId","deviceRequest","DeviceRequest","emailPassword","codeCodeVerifier","clientIdClientSecret","TokenRequest","Remember","postIdentityToken","clearState","AuthResult","twoFactor","accessToken","twoFactorResponse","twoFactorProviders2","twoFactorProviders","tokenResponse","resetMasterPassword","setTwoFactorToken","setTokens","refreshToken","setInformation","getUserId","getEmail","setKey","setKeyHash","setEncKey","privateKey","makeKeyPair","keyPair","postAccountKeys","KeysRequest","setEncPrivateKey","biometricLocked","SelectionReadOnlyRequest","SettingsService","PlanType","syncService","showFree","showCancel","product","ProductType","Free","plan","onSuccess","onCanceled","selfHosted","ownedBusiness","premiumAccessAddon","additionalStorage","additionalSeats","productTypes","singleOrgPolicyBlock","freeTrial","isSelfHost","getPlans","plans","Enterprise","Teams","selectedPlan","isAnnual","validPlans","Custom","canBeUsedByBusiness","legacyYear","disabled","additionalStoragePriceMonthly","additionalStoragePricePerGb","seatPriceMonthly","seatPrice","additionalStorageTotal","hasAdditionalStorageOption","seatTotal","hasAdditionalSeatsOption","subTotal","basePrice","hasPremiumAccessOption","premiumAccessOptionPrice","taxComponent","taxRate","subtotal","taxCharges","changedProduct","selectablePlans","baseSeats","trialPeriodDays","changedOwnedBusiness","TeamsAnnually","changedCountry","paymentComponent","cancel","getAll","SingleOrg","policies","getAllOrganizations","orgs","org","Owner","Admin","Invited","includes","files","createOrganization","fileEl","getElementById","doSubmit","tokenResult","makeShareKey","shareKey","encrypt","collectionCt","fd","FormData","append","postOrganizationLicense","OrganizationCreateRequest","collectionName","billingEmail","planType","paymentToken","businessName","additionalStorageGb","billingAddressPostalCode","billingAddressCountry","taxIdNumber","billingAddressLine1","billingAddressLine2","billingAddressCity","billingAddressState","postOrganization","OrganizationUpgradeRequest","postOrganizationUpgrade","paymentIntentClientSecret","refreshIdentityToken","fullSync","navigate","OrganizationPlansComponent","macKey","keyB64","encKeyB64","macKeyB64","SymmetricCryptoKey","LoginUri","view","toLoginUriData","LoginUriData","elementRef","trueValue","falseValue","propagateChange","_","onHostChange","writeValue","setProperty","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","TrueFalseValueDirective","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","SelectionReadOnlyResponse","organizations","emailVerified","masterPasswordHint","culture","twoFactorEnabled","securityStamp","o","ProfileOrganizationResponse","ProfileResponse","storageService","onSearchTextChanged","searchPlaceholder","searchTextChanged","GroupingsComponent","selectType","usePolicies","useGroups","useDirectory","useEvents","use2fa","useApi","useBusinessPortal","useSso","selfHost","usersGetPremium","seats","maxCollections","maxStorageGb","ssoBound","identifier","permissions","resetPasswordKey","Confirmed","Manager","isAdmin","accessBusinessPortal","accessEventLogs","accessImportExport","accessReports","manageAllCollections","isManager","manageAssignedCollections","manageGroups","manageSso","managePolicies","manageUsers","Organization","sizeName","SendFileView","hidden","SendTextView","vault","loaded","resetPasswordFeatureFlag","unlinkSso","deleteSsoUser","leave","postLeaveOrganization","toggleResetPasswordEnrollment","keyString","toastStringRef","isResetPasswordEnrolled","getEncKey","orgSymKey","encryptedKey","OrganizationUserResetPasswordEnrollmentRequest","putOrganizationUserResetPasswordEnrollment","OrganizationsComponent","getName","lock","NavbarComponent","getApplicationVersion","version","FooterComponent","publicKey","encryptedPrivateKey","Policy","PolicyData","getMasterPasswordPolicyOptions","enforcedPolicyOptions","getPasswordScoreAlertDisplay","minComplexity","strongPassword","setupSubmitActions","getKdf","getKdfIterations","makeEncKey","remakeEncKey","performSubmitActions","masterPasswordRetype","strengthResult","passwordStrength","getPasswordStrengthUserInput","evaluateMasterPassword","updatePasswordStrength","masterPasswordStrengthTimeout","clearTimeout","masterPasswordScore","userInput","atPosition","ChangePasswordComponent","onEditedUsers","organizationUserType","organizationUserStatusType","showSelected","selectedCount","allUsers","loadUsers","getOrganizationUsers","users","entity","getGroupUsers","entityId","s","user","getCollectionUsers","accessAll","check","selectedChanged","filterSelected","selections","putGroupUsers","putCollectionUsers","EntityUsersComponent","showUser","orgUsersUserIdMap","orgUsersIdMap","defaultDates","loadEvents","clearExisting","refreshPromise","morePromise","dates","getEventsOrganizationUser","continuationToken","getEventsCipher","actingUserId","eventInfo","userName","userEmail","ip","ipAddress","EntityEventsComponent","manageCiphers","manageResetPassword","PermissionsApi","postKey","apiKey","keyType","ApiKeyComponent","postPurgeCiphers","PurgeVaultComponent","firstLoaded","showAdjustPayment","showAddCredit","transactionType","TransactionType","getOrganizationBilling","billing","getUserBilling","verifyBank","VerifyBankRequest","amount1","verifyAmount1","amount2","verifyAmount2","verifyBankPromise","postOrganizationVerifyBank","addCredit","paymentSourceInApp","closeAddCredit","changePayment","closePayment","balance","paymentSource","AppleInApp","GoogleInApp","invoices","transactions","UserBillingComponent","onAdded","ppButtonFormAction","buttonActionProduction","ppButtonBusinessId","businessIdProduction","ppLoading","buttonActionSandbox","businessIdSandbox","creditAmount","ppButtonCustomField","getOrganization","subject","returnUrl","location","ppButtonFormRef","BitPay","req","BitPayInvoiceRequest","credit","amount","creditAmountNumber","postBitPayInvoice","bitPayUrl","formatAmount","floatAmount","parseFloat","toFixed","AddCreditComponent","ElementRef","onAdjusted","PaymentRequest","taxInfoComponent","postAccountPayment","postOrganizationPayment","AdjustPaymentComponent","updatePromise","postAccountLicense","postOrganizationLicenseUpdate","UpdateLicenseComponent","storageGbPrice","add","interval","storageAdjustment","StorageRequest","storageGbAdjustment","action","postAccountStorage","postOrganizationStorage","relativeTo","AdjustStorageComponent","processResponse","UpdateTwoFactorDuoRequest","integrationKey","ikey","secretKey","skey","putTwoFactorOrganizationDuo","putTwoFactorDuo","TwoFactorDuoComponent","showPolicyWarning","filterProvider","getTwoFactorProviders","evaluatePolicies","manage","openModal","authenticatorModalRef","TwoFactorAuthenticatorComponent","updateStatus","yubikeyModalRef","TwoFactorYubiKeyComponent","duoModalRef","emailModalRef","TwoFactorEmailComponent","webAuthnModalRef","TwoFactorWebAuthnComponent","recoveryCode","recoveryModalRef","TwoFactorRecoveryComponent","ref","TwoFactorAuthentication","TwoFactorSetupComponent","exportService","saved","ExportComponent","exposedPasswordMap","getAllCiphers","allCiphers","exposedPasswordCiphers","passwordLeaked","exposedCount","getAllDecrypted","canManageCipher","ExposedPasswordsReportComponent","originalCipher","canManageAllCollections","loadCollections","loadCipher","getCipherAdmin","encryptCipher","saveCipher","putCipherAdmin","CipherCreateRequest","postCipherAdmin","deleteCipherAdmin","putDeleteCipherAdmin","AttachmentView","orgKey","decryptToBytes","decValue","PasswordHistoryView","importService","format","successNavigate","setImportOptions","importOptions","importer","getImporter","fileContents","getFileContents","content","import","getFormatInstructionTitle","results","featuredImportOptions","regularImportOptions","fire","heightAuto","buttonsStyling","iconHtml","input","inputValue","inputAttributes","showConfirmButton","confirmButtonText","onOpen","popupEl","scrollTo","file","reader","FileReader","readAsText","evt","pre","onerror","ImportComponent","services","cipherDocs","load2fa","fetch","Request","json","categoryName","responseJson","serviceName","category","service","InactiveTwoFactorReportComponent","ciphersWithPasswords","passwordUseMap","reusedPasswordCiphers","ReusedPasswordsReportComponent","unsecuredCiphers","UnsecuredWebsitesReportComponent","passwordStrengthMap","passwordStrengthCache","weakPasswordCiphers","isUserNameNotEmpty","getCacheKey","hasUserName","cacheKey","scoreKey","WeakPasswordsReportComponent","reupload","reuploadCipherAttachment","AttachmentsComponent","CollectionResponse","CollectionDetailsResponse","groups","g","CollectionGroupDetailsResponse","globalEquivalentDomains","equivalentDomains","GlobalDomainResponse","DomainsResponse","FolderResponse","accessId","maxAccessCount","accessCount","expirationDate","deletionDate","hideEmail","SendTextApi","SendFileApi","SendResponse","onEventsClicked","accessEvents","getAllFromApiForOrganization","indexCiphers","applyFilter","deleted","CollectionsComponent","getCollections","collectionDomains","decryptMany","unassignedCollection","getAllNested","nestedCollections","collapse","grouping","isCollapsed","bulkDelete","selectedIds","ciphersComponent","bulkDeleteModalRef","BulkDeleteComponent","cipherIds","onDeleted","bulkRestore","bulkRestoreModalRef","BulkRestoreComponent","onRestored","bulkShare","selectedCiphers","bulkShareModalRef","BulkShareComponent","onShared","bulkMove","bulkMoveModalRef","BulkMoveComponent","onMoved","BulkActionsComponent","SendFile","SendText","CipherWithIdRequest","folder","FolderRequest","onCopy","copyText","selection","getSelection","rangeCount","getRangeAt","stringEndPos","newLinePos","SelectCopyDirective","colorizedPassword","isSpecial","ColorPasswordPipe","FolderData","Folder","NotificationsService","webpackEmptyAsyncContext","keys","exports","classList","remove","FrontendLayoutComponent","broadcasterService","ngZone","businessUrl","enterpriseUrl","run","command","unsubscribe","goToBusinessPortal","businessTokenPromise","getEnterprisePortalSignInToken","showManageTab","showToolsTab","isOwner","canManageUsers","canManageAssignedCollections","canManageGroups","canManagePolicies","canAccessEventLogs","canAccessImportExport","canAccessReports","canAccessBusinessPortal","OrganizationLayoutComponent","UserLayoutComponent","fired","queryParams","qParams","errorMessage","isAuthenticated","EmergencyAccessAcceptRequest","postEmergencyAccessAccept","toast","save","AcceptEmergencyComponent","OrganizationUserAcceptRequest","postOrganizationUserAccept","orgName","organizationName","AcceptOrganizationComponent","HintComponent","routerService","onSuccessfulSubmit","successRoute","LockComponent","togglePassword","authService","onSuccessfulLoginNavigate","goAfterLogIn","queryParamsSub","orgInvite","emergencyInvite","loginRedirect","LoginComponent","DeleteRecoverRequest","postAccountRecoverDelete","RecoverDeleteComponent","TwoFactorRecoveryRequest","postTwoFactorRecover","RecoverTwoFactorComponent","showCreateOrgMessage","layout","referenceData","ReferenceEventRequest","reference","cookie","pop","shift","invite","getPoliciesByToken","policiesData","RegisterComponent","SetPasswordComponent","redirectUri","origin","storedIdentifier","SsoComponent","loggingIn","twoFactorRoute","changePasswordRoute","checkState","getOrgIdentiferFromState","codeChallenge","returnUri","includeUserIdentifier","initiateSsoFormPromise","preValidate","buildAuthorizeUrl","authorizeUrl","sameWindow","preValidateSso","passwordOptions","uppercase","lowercase","numbers","special","codeVerifierHash","identityBaseUrl","getSsoUserIdentifier","userIdentifier","orgIdFromState","onSuccessfulLoginTwoFactorNavigate","sso","onSuccessfulLoginChangePasswordNavigate","disableFavicon","onSuccessfulLogin","stateSplit","checkStateSplit","anotherMethod","twoFactorOptionsModal","TwoFactorOptionsComponent","onProviderSelected","selectedProviderType","onRecoverSelected","TwoFactorComponent","recover","TwoFactorEmailRequest","postAccountVerifyEmailToken","VerifyEmailRequest","VerifyEmailTokenComponent","VerifyDeleteRecoverRequest","postAccountRecoverDeleteToken","VerifyRecoverDeleteComponent","didScroll","pagedCollectionsCount","getUserCollections","resetPaging","loadMore","pagedLength","pagedCollections","pagedSize","addEditModalRef","CollectionAddEditComponent","onSavedCollection","onDeletedCollection","removeCollection","deleteCollection","usersModalRef","entityName","isSearching","isSearchable","isPaging","searching","index","splice","accessGroups","getGroups","groupsResponse","getCollectionDetails","group","CollectionRequest","putCollection","postCollection","deletePromise","getEventsOrganization","EventsComponent","pagedGroupsCount","pagedGroups","GroupAddEditComponent","onSavedGroup","onDeletedGroup","removeGroup","deleteGroup","GroupsComponent","access","getGroupDetails","GroupRequest","putGroup","postGroup","accessPolicies","ManageComponent","statusMap","pagedUsersCount","viewEvents","pagedUsers","Accepted","confirmedCount","acceptedCount","UserAddEditComponent","onSavedUser","onDeletedUser","removeUser","groupsModalRef","UserGroupsComponent","deleteOrganizationUser","reinvite","postOrganizationUserReinvite","confirm","confirmUser","doConfirmation","mapIndex","updateUser","autoConfirm","confirmModalRef","UserConfirmComponent","onConfirmedUser","getUserPublicKey","publicKeyResponse","log","getFingerprint","eventsModalRef","rsaEncrypt","OrganizationUserConfirmRequest","postOrganizationUserConfirm","PeopleComponent","User","showCustom","getOrganizationUser","setRequestPermissions","clearPermissions","OrganizationUserUpdateRequest","putOrganizationUser","OrganizationUserInviteRequest","emails","postOrganizationUserInvite","dontAskAgain","fingerprint","getOrganizationUserGroups","userGroups","ug","OrganizationUserUpdateGroupsRequest","groupIds","putOrganizationUserGroups","userCanAccessBusinessPortal","policiesEnabledMap","display","MasterPassword","PasswordGenerator","RequireSso","PersonalOwnership","DisableSend","SendOptions","policyIdFromEvents","orgPolicies","orgPolicy","getPolicies","op","editModalRef","PolicyEditComponent","onSavedPolicy","goToEnterprisePortal","enterpriseTokenPromise","PoliciesComponent","AppIdService","LogService","policyType","masterPassMinComplexity","passwordScores","defaultTypes","getPolicy","policy","passGenDefaultType","defaultType","passGenMinLength","minLength","passGenUseUpper","useUpper","passGenUseLower","useLower","passGenUseNumbers","useNumbers","passGenUseSpecial","useSpecial","passGenMinNumbers","minNumbers","passGenMinSpecial","minSpecial","passGenMinNumberWords","minNumberWords","passGenCapitalize","capitalize","passGenIncludeNumber","includeNumber","masterPassMinLength","masterPassRequireUpper","requireUpper","masterPassRequireLower","requireLower","masterPassRequireNumbers","requireNumbers","masterPassRequireSpecial","requireSpecial","sendDisableHideEmail","disableHideEmail","PolicyRequest","putPolicy","canUseApi","OrganizationUpdateRequest","putOrganization","taxFormPromise","deleteOrganization","deleteModalRef","DeleteOrganizationComponent","purgeVault","purgeModalRef","viewApiKey","apiKeyModalRef","postOrganizationApiKey","scope","grantType","apiKeyTitle","apiKeyWarning","apiKeyDescription","rotateApiKey","rotateApiKeyModalRef","isRotation","postOrganizationRotateApiKey","AccountComponent","OrganizationBillingComponent","adjustSeatsAdd","showAdjustSeats","adjustStorageAdd","showAdjustStorage","showUpdateLicense","showDownloadLicense","showChangePlan","getOrganizationSubscription","sub","reinstate","reinstatePromise","postOrganizationReinstate","cancelPromise","postOrganizationCancel","changePlan","subscription","closeChangePlan","changed","downloadLicense","closeDownloadLicense","updateLicense","closeUpdateLicense","updated","adjustSeats","closeSeats","adjustStorage","closeStorage","cancelled","cancelAtEndDate","upcomingInvoice","storageGb","storagePercentage","OrganizationSubscriptionComponent","onChanged","defaultUpgradePlan","FamiliesAnnually","defaultUpgradeProduct","Families","ChangePlanComponent","onDownloaded","installationId","getOrganizationLicense","license","licenseString","JSON","stringify","saveFile","DownloadLicenseComponent","seatAdjustment","SeatRequest","postOrganizationSeat","AdjustSeatsComponent","access2fa","SettingsComponent","duoComp","getTwoFactorOrganizationProviders","qrScript","UpdateTwoFactorAuthenticatorRequest","putTwoFactorAuthenticator","QRious","element","sendEmail","emailPromise","postTwoFactorEmailSetup","sentEmail","UpdateTwoFactorEmailRequest","putTwoFactorEmail","print","w","open","write","onafterprint","formatString","keyIdAvailable","keysConfiguredCount","webAuthnResponse","UpdateTwoFactorWebAuthnRequest","deviceResponse","putTwoFactorWebAuthn","removePromise","UpdateTwoFactorWebAuthnDeleteRequest","deleteTwoFactorWebAuthn","readKey","challengePromise","getTwoFactorWebAuthnChallenge","challenge","readDevice","webAuthnChallenge","resetWebAuthn","credentials","webAuthnListening","webAuthnError","listening","k","configured","migrated","nfc","UpdateTwoFactorYubioOtpRequest","key1","key2","key3","key4","key5","putTwoFactorYubiKey","disablePromise","existingKey","padRight","max","getExportData","getOrganizationExport","getFileName","collectEvent","manageableCiphers","onError","appFallbackSrc","FallbackSrcDirective","ToolsComponent","changeDetectorRef","trashCleanupWarning","groupingsComponent","successfully","detectChanges","selectedAll","reload","selectedTrash","filterDeleted","selectedType","filterCipherType","selectedCollectionId","filterCollection","clearGroupingFilters","clearFilters","go","filterSearchText","editCipherAttachments","attachmentsModalRef","madeAttachmentChanges","onUploadedAttachment","onDeletedAttachment","editCipherCollections","collectionsModalRef","onSavedCollections","addCipher","component","editCipher","cloneCipher","replaceUrl","VaultComponent","saveCipherAttachment","saveAttachmentWithServer","cipherDomain","deleteCipherAttachment","attachmentId","deleteCipherAttachmentAdmin","onReuploadedAttachment","deletePromises","reuploadPromises","emergencyAccessId","hasUpdatedKey","download","downloading","canAccessAttachments","getAttachmentData","attachmentDownloadResponse","cache","arrayBuffer","buf","decryptFromBytes","decBuf","hasEncKey","admin","saveAttachmentRawWithServer","foundAttachment","a2","deleteAttachmentWithServer","Window","domains","excluded","access_token","expiresIn","expires_in","refresh_token","tokenType","token_type","IdentityTokenResponse","IdentityTwoFactorResponse","dr","ListResponse","sends","profile","PolicyResponse","SyncResponse","allowSelectNone","loadCipherCollections","saveCollections","CipherCollectionsRequest","putCipherCollectionsAdmin","deleteCiphers","deleteCiphersAdmin","deleteManyWithServer","softDeleteManyWithServer","deleteRequest","CipherBulkDeleteRequest","deleteManyCiphersAdmin","putDeleteManyCiphersAdmin","ids","moveManyWithServer","restoreManyWithServer","nonShareableCount","shareableCiphers","writeableCollections","allCollections","filterCollections","checkedCollectionIds","shareManyWithServer","sendType","passwordRequired","unavailable","maskedText","creatorIdentifier","sendId","decKey","getSendFileDownloadData","accessRequest","downloadData","toggleText","keyArray","SendAccessRequest","pbkdf2","passwordHash","sendResponse","postSendAccess","sendAccess","SendAccess","makeSendKey","AccessComponent","sendService","addSend","disableSend","editSend","sendAddEditModalRef","onSavedSend","onDeletedSend","SendComponent","datePipe","copyLinkToClipboard","link","SendView","deauthorizeSessions","deauthModalRef","DeauthorizeSessionsComponent","deleteAccount","DeleteAccountComponent","viewUserApiKey","viewUserApiKeyModalRef","postUserApiKey","rotateUserApiKey","rotateUserApiKeyModalRef","postUserRotateApiKey","postSecurityStamp","getProfile","UpdateProfileRequest","putProfile","ProfileComponent","tokenSent","newEmail","EmailTokenRequest","postEmailToken","EmailRequest","newKey","newMasterPasswordHash","newEncKey","postEmail","reset","ChangeEmailComponent","rotateEncKey","rotateEncKeyClicked","currentMasterPassword","PasswordRequest","postPassword","updateKey","getPrivateKey","encPrivateKey","UpdateKeyRequest","FolderWithIdRequest","postAccountKey","updateEmergencyAccesses","updateAllResetPasswordKeys","getEmergencyAccessTrusted","emergencyAccess","allowedStatuses","EmergencyAccessStatusType","RecoveryInitiated","RecoveryApproved","filteredAccesses","details","granteeId","updateRequest","EmergencyAccessUpdateRequest","waitTimeDays","keyEncrypted","putEmergencyAccess","PBKDF2_SHA256","kdfOptions","KdfRequest","postAccountKdf","ChangeKdfComponent","orgPlansComponent","EnterpriseAnnually","CreateOrganizationComponent","custom","getSettingsDomains","toggleExcluded","globalDomain","customize","UpdateDomainsRequest","excludedGlobalEquivalentDomains","d2","putSettingsDomains","indexTrackBy","DomainRulesComponent","vaultTimeout","vaultTimeoutAction","vaultTimeouts","localeOptions","supportedTranslationLocales","locale","localeNames","disableIcons","enableGravatars","enableFullWidth","startingLocale","setVaultTimeoutOptions","vaultTimeoutActionChanged","newValue","OptionsComponent","ngAfterContentInit","LinkSsoComponent","premiumPrice","getPremium","getEmailVerified","finalizePremium","postPremium","paymentResponse","PremiumComponent","getUserSubscription","usingInAppPurchase","postReinstatePremium","postCancelPremium","UserSubscriptionComponent","breachedAccounts","checkedUsername","BreachReportComponent","history","historyModalRef","PasswordGeneratorHistoryComponent","lengthChanged","minNumberChanged","minSpecialChanged","PasswordGeneratorComponent","saveOptions","regenerate","favorites","showVerifyEmail","showBrowserOutdated","showUpdateKey","showPremiumCallout","organizationsComponent","selectedFavorites","filterFavorites","selectedFolder","selectedFolderId","filterFolder","shareCipher","shareModalRef","ShareComponent","onSharedCipher","folderAddEditModalRef","FolderAddEditComponent","onSavedFolder","loadFolders","editFolder","onDeletedFolder","updateKeyModalRef","UpdateKeyComponent","makeRequest","getKey","SendInfoComponent","postAccountVerifyEmail","VerifyEmailComponent","canActivate","OrganizationGuardService","Permissions","AccessBusinessPortal","AccessEventLogs","AccessImportExport","AccessReports","ManageAllCollections","ManageAssignedCollections","ManageGroups","ManageOrganization","ManagePolicies","ManageUsers","OrganizationTypeGuardService","routerState","isLocked","promptBiometric","AuthGuardService","LockGuardService","UnauthGuardService","EmergencyAddEditComponent","postEmergencyAccessView","viewAttachments","EmergencyAccessAttachmentsComponent","decCiphers","rsaDecrypt","oldKeyBuffer","oldEncKey","cipherResponse","cipherData","getLocaleSortingFunction","EmergencyAccessViewComponent","EncryptedObject","EnvironmentUrls","GeneratedPasswordHistory","emergencyAccessType","EmergencyAccessType","emergencyAccessStatusType","isOrganizationOwner","trustedContacts","getEmergencyAccessGranted","grantedContacts","EmergencyAccessAddEditComponent","onSaved","contact","postEmergencyAccessReinvite","EmergencyAccessConfirmComponent","onConfirmed","deleteEmergencyAccess","EmergencyAccessGranteeDetailsResponse","removeGrantee","removeGrantor","requestAccess","postEmergencyAccessInitiate","approve","View","postEmergencyAccessApprove","postEmergencyAccessReject","takeover","EmergencyAccessTakeoverComponent","takeoverModalRef","onDone","EmergencyAccessConfirmRequest","postEmergencyAccessConfirm","EmergencyAccessComponent","creationDate","grantorId","EmergencyAccessGrantorDetailsResponse","EmergencyAccessTakeoverResponse","EmergencyAccessViewResponse","waitTimes","getEmergencyAccess","waitTime","EmergencyAccessInviteRequest","postEmergencyAccessInvite","getEmergencyGrantorPolicies","policyResponse","postEmergencyAccessTakeover","takeoverResponse","EmergencyAccessPasswordRequest","postEmergencyAccessPassword","logoutCallback","customUserAgent","urlsSet","isWebClient","isDesktopClient","usingBaseUrl","device","getDevice","setUrls","urls","apiBaseUrl","eventsBaseUrl","api","headers","Headers","qsStringify","toIdentityToken","identityClientId","getCredentials","isJsonResponse","TwoFactorProviders2","clearTwoFactorToken","doRefreshToken","BillingResponse","SubscriptionResponse","TaxInfoResponse","PreloginResponse","setPassword","getAccountRevisionDate","postPasswordHint","postRegister","PaymentResponse","postIapCheck","postAccountVerifyPassword","ApiKeyResponse","getFolder","postFolder","putFolder","deleteFolder","getSend","apiUrl","SendAccessResponse","SendFileDownloadDataResponse","getSends","postSend","postFileTypeSend","SendFileUploadDataResponse","renewSendFileUploadUrl","fileId","postSendFile","postSendFileLegacy","putSend","putSendRemovePassword","deleteSend","getCipher","getCiphersOrganization","postCipher","postCipherCreate","putCipher","deleteManyCiphers","putMoveCiphers","putShareCipher","putShareCiphers","putCipherCollections","path","postImportCiphers","postImportOrganizationCiphers","putDeleteCipher","putDeleteManyCiphers","putRestoreCipher","putRestoreCipherAdmin","putRestoreManyCiphers","postCipherAttachment","AttachmentUploadDataResponse","postCipherAttachmentLegacy","postCipherAttachmentAdminLegacy","postShareCipherAttachment","renewAttachmentUploadUrl","postAttachmentFile","deleteCollectionUser","GroupDetailsResponse","GroupResponse","deleteGroupUser","OrganizationUserDetailsResponse","OrganizationUserUserDetailsResponse","PlanResponse","postImportDirectory","TaxRateResponse","getSync","TwoFactorProviderResponse","TwoFactorAuthenticatorResponse","TwoFactorEmailResponse","TwoFactorDuoResponse","TwoFactorYubiKeyResponse","TwoFactorWebAuthnResponse","ChallengeResponse","TwoFactorRecoverResponse","rawId","extensions","getClientExtensionResults","AttestationObject","attestationObject","clientDataJson","clientDataJSON","postTwoFactorEmail","OrganizationResponse","OrganizationSubscriptionResponse","getEvents","addEventParameters","EventResponse","postEventsCollect","getActiveBearerToken","authHeader","UserKeyResponse","getHibpBreach","BreachAccountResponse","getToken","tokenNeedsRefresh","nativeFetch","handleError","hasResponse","requestInit","tokenError","isTextResponse","Message","getRefreshToken","decodedToken","decodeToken","grant_type","client_id","typeHeader","businessAddress1","businessAddress2","businessAddress3","businessCountry","businessTaxNumber","nameLocalizationKey","descriptionLocalizationKey","baseStorageGb","maxUsers","maxAdditionalSeats","maxAdditionalStorage","hasSelfHost","hasPolicies","hasGroups","hasDirectory","hasEvents","has2fa","hasApi","hasSso","upgradeSortOrder","displaySortOrder","stripePlanId","stripeSeatPlanId","stripeStoragePlanId","stripePremiumAccessPlanId","storageName","BillingSubscriptionResponse","BillingSubscriptionUpcomingInvoiceResponse","trialEndDate","periodStartDate","periodEndDate","cancelledDate","BillingSubscriptionItemResponse","quantity","KeyResponse","attestation","authenticatorSelection","excludeCredentials","pubKeyCredParams","rp","makeAndGetAppId","getAnonymousAppId","existingId","guid","hashStart","hashEnding","leakedHashes","v","throttle","Keys","DomainMatchBlacklist","Set","settingsService","fileUploadService","sortedCiphersCache","SortedCiphersCache","sortCiphersByLastUsed","_decryptedCipherCache","clearIndex","clearCache","decryptedCipherCache","existingCipher","hasFields","existingHiddenFields","Hidden","ef","matchedField","encryptObjProperty","encryptCipherData","encryptFields","encryptPasswordHistories","encryptAttachments","attachmentsModel","encAttachments","fieldsModel","encFields","encryptField","encField","fieldModel","Boolean","phModels","encPhs","encryptPasswordHistory","encPh","phModel","hasKey","getAllDecryptedForGrouping","groupingId","getAllDecryptedForUrl","includeOtherTypes","defaultMatch","eqDomainsPromise","getEquivalentDomains","eqDomains","matches","eqDomain","matchingDomains","Domain","domainUrlHost","Host","urlHost","Exact","StartsWith","Never","getLastUsedForUrl","getCipherForUrl","getLastLaunchedForUrl","getNextCipherForUrl","updateLastUsedIndexForUrl","updateLastUsedIndex","updateLastUsedDate","ciphersLocalData","cached","updateLastLaunchedDate","lastLaunched","saveNeverDomain","saveWithServer","upsert","shareWithServer","attachmentPromises","shareAttachmentWithServer","encCipher","CipherShareRequest","encCiphers","CipherBulkShareRequest","unencryptedFile","readAsArrayBuffer","cData","filename","encFileName","dataEncKey","encryptToBytes","encData","fileSize","adminRequest","uploadDataResponse","cipherMiniResponse","uploadCipherAttachment","legacyServerAttachmentFileUpload","blob","Blob","filepath","contentType","saveCollectionsWithServer","CipherBulkMoveRequest","deleteAttachment","aLastUsed","bLastUsed","bothNotNull","sortCiphersByLastUsedThenName","aName","bName","softDelete","setDeletedDate","clearDeletedDate","constructor","CipherBulkRestoreRequest","restores","attachmentView","attachmentResponse","theObj","modelProp","lastUsed","isCached","addCiphers","getLastLaunched","getLastUsed","getNext","sequentialize","propertyKey","descriptor","originalMethod","caches","getCache","argsCacheKey","args","onFinally","decryptedCollectionCache","decCollections","nodes","collectionCopy","ServiceUtils","nestedTraverse","getNested","getTreeNodeObject","nodeTree","partIndex","delimiter","partName","node","TreeNode","children","newPartName","attachToWindow","attachToGlobal","ContainerService","secureStorageService","platformUtilService","option","biometric","supportsSecureStorage","keyHash","setOrgKeys","orgKeys","getKeyHash","encKeyCipher","decEncKey","stretchKey","getPublicKey","rsaExtractPublicKey","keyFingerprint","hkdfExpand","userFingerprint","hashPhrase","getOrgKeys","encOrgKeys","clearKey","legacyEtmKey","clearKeyHash","clearEncKey","memoryOnly","clearKeyPair","clearOrgKeys","clearPinProtectedKey","clearKeys","toggleKey","salt","makeKeyFromPin","pin","protectedKeyCs","makePinKey","pinKey","randomBytes","rsaGenerateKeyPair","publicB64","privateEnc","keyMaterial","hkdf","sendKey","getKeyForEncryption","theKey","buildEncKey","plainValue","plainBuf","aesEncrypt","encObj","encValue","macLen","encBytes","EncArrayBuffer","Rsa2048_OaepSha256_HmacSha256_B64","Rsa2048_OaepSha1_HmacSha256_B64","alg","encString","aesDecryptToBytes","decipher","aesDecryptToUtf8","encBuf","ctBytes","ivBytes","macBytes","randomNumber","min","rval","range","bitsNeeded","ceil","log2","bytesNeeded","mask","pow","byteArray","macData","hmac","keyForEnc","resolveLegacyKey","fastParams","aesDecryptFastParameters","hmacFast","computedMac","compareFast","aesDecryptFast","aesDecrypt","minimumEntropy","entropyPerWord","EEFLongWordList","numWords","hashArr","entropyAvailable","phrase","hashNumber","bigInt","fromArray","remainder","divide","encKeyEnc","notificationsService","getWebVaultUrl","webVaultUrl","setUrlsFromStorage","urlsObj","icons","notifications","webVault","enterprise","envUrls","identityUrl","notificationsUrl","eventsUrl","formatUrl","decryptedFolderCache","decFolders","noneFolder","folderCopy","cId","updates","systemLanguage","localesDirectory","getLocalesJson","defaultMessages","localeMessages","translationLocale","Intl","Collator","numeric","sensitivity","loadMessages","translate","messagesObj","formattedLocale","locales","placeholders","placeProp","replaceToken","replaceContent","DefaultOptions","ambiguous","minNumber","minUppercase","minLowercase","wordSeparator","generatePassphrase","sanitizePasswordLength","positions","shuffleArray","allCharSet","lowercaseCharSet","uppercaseCharSet","numberCharSet","specialCharSet","positionChars","randomCharIndex","listLength","wordList","wordIndex","appendRandomNumberToRandomWord","optionsCache","enforcePasswordGeneratorPoliciesOnOptions","enforcedOptions","getPasswordGeneratorPolicyOptions","useUppercase","useLowercase","numberCount","specialCount","PasswordGeneratorPolicyOptions","currentPolicy","getHistory","encrypted","decryptHistory","addHistory","currentHistory","matchesPrevious","unshift","now","encryptHistory","newHistory","userInputs","globalUserInputs","finalUserInputs","zxcvbn","normalizeOptions","decrypted","array","forGeneration","minUppercaseCalc","minLowercaseCalc","minNumberCalc","minSpecialCalc","settingsCache","getSettingsKey","setEquivalentDomains","setSettingsKey","getSettings","settings","purge","syncInProgress","getLastSync","lastSync","setLastSync","toJSON","forceSync","allowThrowOnError","syncStarted","syncCompleted","needsSync","needsSyncing","syncProfile","syncFolders","syncCollections","syncCiphers","syncSends","syncSettings","syncPolicies","syncUpsertFolder","notification","isEdit","localFolder","remoteFolder","syncDeleteFolder","syncUpsertCipher","shouldUpdate","localCipher","checkCollections","remoteCipher","syncDeleteCipher","syncUpsertSend","localSend","remoteSend","SendData","syncDeleteSend","getSecurityStamp","stamp","setSecurityStamp","setEmailVerified","OrganizationData","replaceOrganizations","SendTextData","File","SendFileData","setToken","setRefreshToken","skipTokenStorage","toggleTokens","clearToken","decoded","getTokenExpirationDate","setUTCSeconds","tokenSecondsRemaining","offsetSeconds","msRemaining","valueOf","minutes","email_verified","getIssuer","iss","B32Chars","SteamChars","period","digits","keyB32","isOtpAuth","isSteamAuth","digitParams","periodParam","algParam","timeHex","leftPad","decToHex","timeBytes","keyBytes","b32ToBytes","sign","offset","otp","fullCode","trunc","isAutoCopyEnabled","b32ToHex","cleanedInput","bits","hex","byteIndex","chunk","signature","clearOrganizations","lockedCallback","loggedOutCallback","checkOnInterval","startCheck","checkVaultTimeout","isBiometricLockSet","isViewOpen","lockTimeout","lastActive","vaultTimeoutSeconds","allowSoftLock","isPinLockSet","timersMap","debug","LogLevelType","Debug","info","Info","Warning","level","warn","time","hrtime","timeEnd","elapsed","build","CipherWithIds","CollectionWithId","FolderWithId","IgnoredProperties","loginPropertyParsers","setLoginUsername","setLoginPassword","setLoginUris","creditCardPropertyParsers","setCreditCardNumber","setCreditCardVerification","setCreditCardCardholderName","setCreditCardExpiry","identityPropertyParsers","setIdentityFirstName","setIdentityInitial","setIdentityLastName","setIdentityUserName","setIdentityEmail","setIdentityPhone","setIdentityCompany","quoteChar","escapeChar","getProp","setNotes","setCipherType","altUsername","context","CipherImportContext","setKnownLoginValue","setKnownCreditCardValue","setKnownIdentityValue","setUnknownValue","entries","agg","entry","getPropByRegexp","regexp","matchingKeys","getPropIncluding","includesMap","importRecord","func","lowerProperty","readableDate","toUTCString","OnePasswordCsvImporter","NotificationType","enableProdMode","platformBrowser","bootstrapModule","preserveWhitespaces","registerLocaleData","AppModule","AppComponent","DatePipe","BrowserModule","BrowserAnimationsModule","FormsModule","AppRoutingModule","ServicesModule","ToasterModule","forRoot","InfiniteScrollModule","DragDropModule","BlurClickDirective","BoxRowDirective","SearchCiphersPipe","routes","pathMatch","redirectTo","RouterModule","useHash","paramsInheritanceStrategy","subscribers","messageCallback","PasswordHintRequest","showPassword","pinLock","webVaultHostname","invalidPinAttempts","pinSet","supportsBiometric","biometricLock","vaultUrl","failed","decPin","setKeyAndContinue","passwordValid","storedKeyHash","unlockBiometric","authenticateBiometric","doContinue","rememberEmail","launchSsoBrowser","ssoRedirectUri","ssoCodeVerifier","webUrl","confirmMasterPassword","hint","showTerms","acceptPolicies","useLowerKdf","isIE","RegisterRequest","confirmField","syncLoading","SetPasswordRequest","orgIdentifier","onSuccessfulChangePassword","choose","backdrop","className","addEventListener","webAuthnReady","webAuthnNewTab","webAuthn","twoFactorEmail","loginRoute","authing","needsLock","cleanupWebAuthn","providerData","DuoWebSDK","iframe","sig_request","Signature","submit_callback","sig","stop","doToast","cleanup","getDeviceString","pushToken","codes","client_secret","code_verifier","redirect_uri","deviceIdentifier","deviceName","twoFactorRemember","errorCallback","infoCallback","parseFunction","parseMessage","connectorLink","URLSearchParams","base64Encode","btnText","allow","sendMessage","contentWindow","postMessage","removeEventListener","validMessage","warningDialog","downloadFile","encryptedFormat","getExport","extension","csv","onCancelled","onEditAttachments","onShareCipher","onEditCollections","onGeneratePassword","showCardCode","fieldType","addFieldType","currentDate","typeOptions","cardBrandOptions","cardExpMonthOptions","identityTitleOptions","addFieldTypeOptions","uriMatchOptions","myEmail","addEditCipherInfo","organizationChanged","previousCipherId","addUri","removeUri","addField","removeField","trackByFunction","editCollections","restorePromise","restoreCipher","toggleCardCode","toggleFieldValue","toggleUriOptions","loginUriMatchChanged","drop","moveItemInArray","previousIndex","currentIndex","checkPassword","checkPasswordPromise","DeviceResponse","KeysResponse","activeCipherId","onCipherClicked","onCipherRightClicked","onAddCipher","onAddCipherOptions","pagedCiphers","searchPending","searchTimeout","pagedCiphersCount","refreshing","indexedCiphers","deletedFilter","searchCiphers","rightClickCipher","addCipherOptions","selectedCollectionIds","showFolders","showCollections","showFavorites","showTrash","onAllClicked","onFavoritesClicked","onTrashClicked","onCipherTypeClicked","onFolderClicked","onAddFolder","onEditFolder","onCollectionClicked","setLoaded","collapsedGroupings","nestedFolders","clearSelections","selectFavorites","selectTrash","selectFolder","selectCollection","idPrefix","SendAccessView","expired","filteredSends","hasSearched","onSuccessfulLoad","applyTextSearch","removePassword","removePasswordWithServer","onSuccessfulRemovePassword","onSuccessfulDelete","sendLinkBaseUrl","urlB64Key","searchSends","DateField","copyLink","deletionDateSelect","expirationDateSelect","alertShown","deletionDateOptions","expirationDateOptions","isSafari","isFirefox","nullOrWhiteSpaceCount","expirationDateFallback","expirationTimeFallback","formatDateFallbacks","deletionDateFallback","deletionTimeFallback","disableSendPolicies","sendOptionsPolicies","loadSend","hasPassword","isDateTimeLocalSupported","dateToString","deletionDateParts","dateToSplitString","safariDeletionTime","expirationDateParts","safariExpirationTime","safariDeletionTimeOptions","safariTimeOptions","DeletionDate","safariExpirationTimeOptions","ExpriationDate","deletionDateTimeFallback","expirationDateTimeFallback","setHours","encryptSend","encSend","clearExpiration","typeChanged","toggleOptions","expirationDateFallbackChanged","sendData","dateString","togglePasswordVisible","strarray","noon","midnight","ams","pms","m","hour","midnightOption","standard","military","noonOption","amOption","pmOption","validTimes","previousValue","showSelect","onSelected","avoidAmbiguous","optionsResponse","sliderChanged","sliderInput","copyOptions","cipherView","language","BroadcasterMessagingService","WebPlatformUtilsService","HtmlStorageService","MemoryStorageService","WebCryptoFunctionService","consoleLogService","FileUploadService","eventLoggingService","initFactory","htmlEl","documentElement","theme","useValue","APP_INITIALIZER","useFactory","deps","LOCALE_ID","subscriber","arg","localStorageKeys","localStorageStartsWithKeys","memoryStorageStartsWithKeys","memoryStorage","isLocalStorage","localStorage","getItem","isMemoryStorage","sessionStorage","setItem","removeItem","swKey","fileUploadType","BillingSourceResponse","BillingTransactionResponse","BillingInvoiceResponse","cardBrand","needsVerification","pdfUrl","paid","createdDate","refunded","partiallyRefunded","refundedAmount","addedDate","breachDate","dataClasses","isActive","isVerified","logoPath","modifiedDate","pwnCount","OrganizationUserResponse","userProfile","taxIdType","limit","throttleKey","allThrottles","getThrottles","throttles","argsThrottleKey","queue","exec","comparator","sortedCiphersByUrl","timeouts","Ciphers","resetTimer","lastUsedIndex","y","getNextIndex","inEffect","filePath","store","browserCache","chrome","isChrome","isEdge","isOpera","isVivaldi","isMacAppStore","rel","click","blobData","blobOptions","fileNameLower","doDownload","endsWith","msSaveOrOpenBlob","msSaveBlob","createObjectURL","position","confirmText","cancelText","bodyIsHtml","iconClasses","iconHtmlStr","showCancelButton","cancelButtonText","clipboardData","setData","queryCommandSupported","textarea","copyEl","contains","execCommand","readFromClipboard","getDefaultSystemTheme","onDefaultSystemThemeChange","uploadEvents","eventType","uploadImmediately","orgIds","eventCollection","EventData","EventRequest","clearEvents","getEncryptedExport","getDecryptedExport","getOrganizationEncryptedExport","getOrganizationDecryptedExport","padNumber","getSeconds","buildCommonCipher","unparse","jsonDoc","collectionPromises","decCol","cipherPromises","decCipher","padCharacter","numString","login_uri","login_username","login_password","login_totp","template","toView","values","toDomain","azureFileUploadService","AzureFileUploadService","bitwardenFileUploadService","BitwardenFileUploadService","uploadSendFile","uploadData","encryptedFileData","FileUploadType","Direct","Azure","upload","renewalCallback","encryptedFileName","azureUploadBlob","azureUploadBlocks","urlObject","searchParams","blobResponse","blockSize","getMaxBlockSize","blockIndex","numBlocks","blocksStaged","renewUrlIfNecessary","blockUrl","blockId","encodedBlockId","blockData","blockHeaders","blockRequest","blockResponse","blockListUrl","blockListXml","expiry","setTime","utfBlockId","blockIdList","xml","Version","day","Number","compareTo","apiCall","getImportOptions","importResult","halfway","last","badData","postImport","errorResponse","handleServerError","getImporterInstance","BitwardenCsvImporter","BitwardenJsonImporter","LastPassCsvImporter","KeePassXCsvImporter","AviraCsvImporter","BlurCsvImporter","SafeInCloudXmlImporter","PadlockCsvImporter","KeePass2XmlImporter","ChromeCsvImporter","FirefoxCsvImporter","UpmCsvImporter","SaferPassCsvImporter","MeldiumCsvImporter","OnePassword1PifImporter","OnePasswordWinCsvImporter","OnePasswordMacCsvImporter","KeeperCsvImporter","PasswordDragonXmlImporter","EnpassCsvImporter","EnpassJsonImporter","PasswordSafeXmlImporter","DashlaneJsonImporter","MSecureCsvImporter","StickyPasswordXmlImporter","TrueKeyCsvImporter","ClipperzHtmlImporter","RoboFormCsvImporter","AscendoCsvImporter","PasswordBossJsonImporter","ZohoVaultCsvImporter","SplashIdCsvImporter","PassKeepCsvImporter","GnomeJsonImporter","PasswordAgentCsvImporter","PasspackCsvImporter","PassmanJsonImporter","AvastCsvImporter","AvastJsonImporter","FSecureFskImporter","KasperskyTxtImporter","RememBearCsvImporter","PasswordWalletTxtImporter","MykiCsvImporter","SecureSafeCsvImporter","LogMeOnceCsvImporter","BlackBerryCsvImporter","ButtercupCsvImporter","CodebookCsvImporter","EncryptrCsvImporter","YotiCsvImporter","ImportCiphersRequest","KvpRequest","ImportOrganizationCiphersRequest","itemType","fieldLower","web","logins","custName","note","pwd","loginName","cards","holderName","cardNumber","cvv","website","secondary_username","col","addCollection","collectionIndex","delimPosition","parseEncrypted","parseDecrypted","groupingsMap","fav","extra","OfficialProps","processingCustomFields","currentVersion","actionType","labelLower","Category","Favorite","Entry","Note","Username","TOTP","Website","Phone","PIN","Account","HandledResults","ADDRESS","processAddress","AUTHENTIFIANT","processAuth","BANKSTATEMENT","processNote","IDCARD","PAYMENTMEANS_CREDITCARD","processCard","IDENTITY","processIdentity","credential","secondaryLogin","fullName","nameParts","pseudo","addressName","addressFull","zipcode","owner","nameProperty","Label","Notes","CVV","Expiry","expParts","firstRow","containsField","fieldValue","fieldName","fieldNameLower","foldersMap","foldersIndexMap","folderTree","buildFolderTree","flattenFolderTree","template_type","processLogin","sensitive","uuid","parent_uuid","titlePrefix","tree","creditNumber","creditCvv","creditExpiry","keyRing","display_name","secret","attributes","attr","username_value","notesData","applicationsData","websitesData","workingData","parseDataCategory","applications","websites","nameKey","itemComment","itemCommentKey","colonIndex","rootGroup","traverse","isRootNode","groupPrefixName","groupName","nameEl","cipherIndex","entryString","valueEl","keyEl","attrs","ProtectInMemory","Title","Group","buildBaseCipher","parseSecureNote","parseCard","parseIdentity","ccnum","cardCipher","profilename","firstname","lastname","ccname","cccsc","ccexp","ccexpParts","middlename","zip","extraParts","processedNote","typeParts","mappedData","parseSecureNoteMapping","monthString","processingNotes","extraPart","DisplayName","UserName","Url","nickname","additionalInfo","twoFactAuthToken","cardName","exp_month","exp_year","firstAddressLine","secondAddressLine","zipCode","line","trashed","processStandardItem","processWinOpVaultItem","overview","URLs","parsePasswordHistory","notesPlain","parseFields","sections","section","openContents","faveIndex","typeName","secureContents","maxSize","designationKey","valueKey","fieldDesignation","street","setIdentityAddress","expSplit","tags","tag","getValue","custom_fields","customField","field_type","tagsJson","Tags","tagJson","__parsed_extra","fieldsJson","extraFields","fieldJson","newVersion","altFormat","login_url","identifiers","valObj","expDate","cf","records","record","categoryText","accountName","tagName","passwordSafe","notesDelimiter","getAttribute","groupText","trash","cardholder","verification","expiryMonth","expMonthNumber","expiryYear","expYearNumber","Name","Pwd","Rf_fields","labelEl","cardEl","labelIdEl","labelId","fieldEl","notesEl","candidates","choice","Comment","parseFieldsToNotes","startIndex","loginNodes","loginNode","accountId","usernameText","passwordText","titleText","linkText","notesText","accountLogin","account","parentElement","buildGroupText","PropertiesToIgnore","memo","kind","expiryDate","document_content","ChamberName","parseData","SecretData","CustomData","connected","inactive","reconnectTimer","signalrConnection","off","signalR","HubConnectionBuilder","withUrl","accessTokenFactory","skipNegotiation","transport","HttpTransportType","WebSockets","withHubProtocol","signalRMsgPack","MessagePackHubProtocol","processNotification","NotificationResponse","onclose","reconnect","isAuthedAndUnlocked","updateConnection","sync","reconnectFromActivity","disconnectFromInactivity","contextId","payloadUserId","UserId","myUserId","SyncCipherCreate","SyncCipherUpdate","SyncCipherDelete","SyncLoginDelete","SyncFolderCreate","SyncFolderUpdate","SyncFolderDelete","SyncVault","SyncCiphers","SyncSettings","SyncOrgKeys","LogOut","SyncSendCreate","SyncSendUpdate","SyncSendDelete","SyncCipherNotification","SyncFolderNotification","UserNotification","SyncSendNotification","policyCache","MasterPasswordPolicyOptions","newPassword","toLocaleLowerCase","toLocaleUpperCase","indexing","searchableMinLength","builder","lunr","Builder","boost","extractor","uriExtractor","fieldExtractor","attachmentExtractor","isArray","every","getIndexForSearch","searchCiphersBasic","ciphersMap","searchResults","Query","wildcard","LEADING","TRAILING","q","tokenizer","term","joined","protocolIndex","queryIndex","decryptedSendCache","fileData","Send","cryptoKey","ArrayBuffer","encryptFileData","parseFile","decSends","SendRequest","legacyServerSendFileUpload","encFileData","fileLength","crypto","subtle","ua","isOldSafari","algorithm","iterations","forgeLen","passwordBytes","toByteString","saltBytes","derivedKeyBytes","forge","wcLen","passwordBuf","toBuf","saltBuf","pbkdf2Params","toWebCryptoAlgorithm","importKey","impKey","deriveBits","ikm","outputByteSize","infoBuf","hkdfParams","prk","hashLen","infoArr","runningOkmLength","previousT","okm","md","md5","sha1","valueBytes","update","digest","valueBuf","signingAlgorithm","mac1","mac2","arr1","arr2","getBytes","rand","Uint32Array","util","createBuffer","putInt32","DecryptParameters","meta","encKeyByteString","macKeyByteString","decode64","parameters","dataBuffer","createDecipher","finish","rsaParams","impPrivateKey","exportKey","jwkPrivateKey","jwkPublicKeyParams","kty","ext","impPublicKey","modulusLength","publicExponent","generateKey","getRandomValues","encodeUtf8","toasterConfig","ToasterConfig","showCloseButton","mouseoverTimerStop","animation","lastActivity","idleTimer","isIdle","runOutsideAngular","onmousemove","recordActivity","onmousedown","ontouchstart","onclick","onscroll","onkeypress","setFullWidth","idleStateChanged","sanitize","SecurityContext","HTML","bodyOutputType","BodyOutputType","TrustedHtml","trustedHtml","blur","elRef","formEls","formEl","inputEl"],"mappings":"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,gBAAgBQ,IAEhC,MAAO,CAAP,EAAOJ,UAGG,YAAAhD,YAAd,SAA0B7vF,EAAyB+qB,G,yGAE3CooE,EAAuB,KACA,KAAvBnzF,EAAIA,IAAIgO,WAAR,MACe,GAAM3M,KAAKssF,WAAW3tF,I,OACzB,OADN+rE,EAAS,SACH,GAAM1qE,KAAK4nC,QAAQle,EAAQghD,I,cAAvConB,EAAY,S,oBACkB,KAAvBnzF,EAAIA,IAAIgO,WAAR,MACK,GAAM3M,KAAK4nC,QAAQle,EAAQ/qB,I,cAAvCmzF,EAAY,S,aAEZ,MAAM,IAAInwF,MAAM,qB,OAEpB,MAAO,CAAC,EAAD,CAAC,IAAI,EAAAioC,mBAAmBlgB,GAASooE,YAjmB5C,GADC,EAAA/H,eAAc,WAAM,qB,iDACA,EAAAngD,qB,8DA4ErB,GADC,EAAAmgD,eAAc,WAAM,sB,mHAwhBzB,EA1rBA,GAAa,EAAAzoF,iB,8EC9BA,EAAA8vF,gBAAkB,CAC3B,SACA,UACA,YACA,QACA,UACA,UACA,SACA,OACA,WACA,WACA,WACA,UACA,UACA,SACA,WACA,UACA,WACA,WACA,WACA,WACA,UACA,UACA,WACA,SACA,SACA,UACA,YACA,YACA,UACA,WACA,WACA,WACA,UACA,WACA,SACA,OACA,QACA,WACA,UACA,OACA,UACA,UACA,SACA,SACA,WACA,YACA,SACA,WACA,WACA,WACA,UACA,OACA,UACA,YACA,WACA,WACA,UACA,YACA,OACA,SACA,WACA,YACA,YACA,YACA,YACA,SACA,QACA,YACA,WACA,SACA,UACA,SACA,SACA,WACA,QACA,SACA,YACA,YACA,YACA,YACA,YACA,OACA,UACA,SACA,SACA,QACA,YACA,SACA,QACA,UACA,QACA,WACA,UACA,YACA,QACA,YACA,YACA,SACA,WACA,YACA,UACA,QACA,OACA,OACA,OACA,MACA,OACA,YACA,QACA,YACA,QACA,UACA,UACA,YACA,QACA,QACA,YACA,WACA,SACA,QACA,QACA,WACA,WACA,UACA,WACA,SACA,OACA,QACA,QACA,QACA,YACA,QACA,WACA,UACA,WACA,WACA,OACA,WACA,SACA,SACA,WACA,QACA,YACA,QACA,WACA,YACA,YACA,WACA,YACA,YACA,SACA,YACA,YACA,SACA,UACA,UACA,WACA,OACA,QACA,QACA,QACA,UACA,WACA,UACA,WACA,QACA,SACA,WACA,QACA,YACA,UACA,QACA,QACA,SACA,WACA,SACA,YACA,SACA,UACA,WACA,YACA,UACA,YACA,UACA,SACA,UACA,UACA,UACA,SACA,SACA,WACA,OACA,YACA,UACA,QACA,SACA,SACA,SACA,UACA,UACA,YACA,YACA,UACA,SACA,UACA,YACA,YACA,WACA,QACA,YACA,QACA,QACA,WACA,YACA,WACA,WACA,UACA,WACA,UACA,YACA,UACA,YACA,WACA,WACA,WACA,SACA,UACA,YACA,WACA,SACA,WACA,WACA,YACA,WACA,YACA,WACA,YACA,YACA,YACA,YACA,SACA,UACA,QACA,QACA,UACA,SACA,UACA,SACA,WACA,WACA,UACA,SACA,WACA,QACA,SACA,UACA,YACA,SACA,UACA,YACA,YACA,WACA,WACA,YACA,UACA,WACA,QACA,YACA,YACA,UACA,QACA,YACA,YACA,YACA,YACA,WACA,WACA,UACA,UACA,QACA,QACA,WACA,QACA,OACA,WACA,YACA,YACA,WACA,OACA,QACA,WACA,WACA,QACA,QACA,YACA,UACA,WACA,QACA,SACA,UACA,SACA,UACA,UACA,UACA,SACA,UACA,OACA,QACA,QACA,SACA,UACA,UACA,QACA,SACA,UACA,SACA,YACA,WACA,QACA,MACA,SACA,YACA,SACA,YACA,UACA,QACA,QACA,OACA,QACA,QACA,SACA,YACA,SACA,WACA,SACA,UACA,WACA,UACA,UACA,YACA,YACA,YACA,SACA,WACA,QACA,OACA,WACA,OACA,SACA,YACA,UACA,SACA,SACA,UACA,YACA,WACA,YACA,YACA,SACA,QACA,SACA,WACA,YACA,YACA,WACA,UACA,YACA,WACA,UACA,UACA,WACA,QACA,WACA,YACA,SACA,YACA,SACA,SACA,WACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,SACA,SACA,WACA,SACA,UACA,WACA,QACA,WACA,UACA,OACA,QACA,QACA,SACA,QACA,QACA,SACA,UACA,SACA,QACA,OACA,OACA,SACA,WACA,SACA,SACA,WACA,YACA,YACA,WACA,SACA,SACA,YACA,WACA,WACA,UACA,YACA,WACA,WACA,YACA,UACA,UACA,WACA,YACA,WACA,WACA,YACA,WACA,WACA,YACA,WACA,WACA,YACA,WACA,YACA,SACA,WACA,WACA,YACA,WACA,QACA,WACA,YACA,SACA,QACA,UACA,QACA,UACA,SACA,WACA,QACA,SACA,UACA,SACA,SACA,YACA,UACA,QACA,UACA,WACA,QACA,SACA,WACA,SACA,UACA,YACA,UACA,QACA,WACA,SACA,SACA,SACA,WACA,QACA,WACA,WACA,SACA,SACA,UACA,WACA,WACA,SACA,YACA,UACA,SACA,WACA,SACA,UACA,SACA,UACA,QACA,WACA,UACA,WACA,SACA,UACA,SACA,OACA,YACA,UACA,YACA,SACA,WACA,YACA,UACA,WACA,YACA,WACA,OACA,YACA,SACA,QACA,QACA,QACA,SACA,SACA,QACA,OACA,QACA,OACA,YACA,WACA,YACA,UACA,UACA,SACA,SACA,UACA,UACA,UACA,QACA,OACA,QACA,UACA,YACA,YACA,QACA,YACA,YACA,QACA,WACA,YACA,SACA,UACA,SACA,QACA,QACA,UACA,QACA,QACA,WACA,QACA,QACA,UACA,UACA,WACA,SACA,OACA,WACA,QACA,WACA,UACA,WACA,OACA,OACA,WACA,WACA,UACA,OACA,SACA,UACA,QACA,SACA,YACA,QACA,QACA,UACA,SACA,QACA,QACA,WACA,UACA,WACA,WACA,OACA,SACA,UACA,SACA,SACA,UACA,UACA,YACA,OACA,SACA,SACA,QACA,OACA,MACA,UACA,OACA,UACA,SACA,UACA,WACA,QACA,WACA,WACA,WACA,QACA,UACA,SACA,SACA,QACA,OACA,YACA,YACA,OACA,YACA,SACA,QACA,SACA,UACA,WACA,UACA,QACA,QACA,QACA,SACA,UACA,WACA,YACA,OACA,YACA,WACA,SACA,QACA,OACA,SACA,WACA,SACA,SACA,WACA,SACA,WACA,YACA,YACA,SACA,SACA,QACA,SACA,UACA,OACA,SACA,SACA,WACA,YACA,UACA,WACA,SACA,SACA,WACA,UACA,UACA,QACA,QACA,QACA,QACA,UACA,UACA,SACA,YACA,OACA,QACA,QACA,UACA,UACA,YACA,UACA,UACA,YACA,YACA,UACA,UACA,YACA,YACA,YACA,UACA,WACA,SACA,SACA,YACA,SACA,SACA,WACA,QACA,QACA,UACA,WACA,YACA,SACA,WACA,WACA,SACA,WACA,QACA,QACA,WACA,QACA,YACA,SACA,WACA,SACA,YACA,SACA,SACA,SACA,WACA,WACA,YACA,YACA,WACA,WACA,UACA,QACA,SACA,UACA,SACA,SACA,UACA,UACA,QACA,OACA,QACA,YACA,SACA,OACA,UACA,YACA,YACA,WACA,WACA,UACA,UACA,UACA,WACA,WACA,WACA,QACA,QACA,SACA,SACA,SACA,UACA,YACA,WACA,QACA,OACA,SACA,OACA,SACA,UACA,OACA,WACA,OACA,SACA,UACA,SACA,YACA,QACA,UACA,QACA,SACA,QACA,SACA,SACA,QACA,QACA,WACA,UACA,OACA,UACA,OACA,WACA,WACA,UACA,YACA,WACA,UACA,YACA,OACA,UACA,UACA,UACA,YACA,QACA,SACA,WACA,SACA,WACA,UACA,WACA,SACA,QACA,SACA,SACA,UACA,SACA,QACA,OACA,SACA,WACA,WACA,SACA,UACA,SACA,SACA,SACA,QACA,YACA,SACA,UACA,SACA,UACA,UACA,WACA,OACA,YACA,UACA,UACA,SACA,YACA,UACA,UACA,UACA,YACA,UACA,YACA,UACA,UACA,QACA,UACA,SACA,YACA,SACA,UACA,WACA,WACA,YACA,YACA,YACA,WACA,SACA,YACA,QACA,SACA,UACA,UACA,WACA,UACA,YACA,WACA,YACA,QACA,YACA,YACA,UACA,UACA,UACA,SACA,YACA,QACA,SACA,WACA,SACA,UACA,YACA,YACA,QACA,UACA,UACA,UACA,OACA,OACA,SACA,SACA,SACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,YACA,UACA,YACA,UACA,WACA,SACA,UACA,WACA,WACA,UACA,YACA,WACA,UACA,SACA,SACA,SACA,UACA,YACA,SACA,QACA,UACA,YACA,SACA,SACA,YACA,QACA,UACA,YACA,UACA,WACA,WACA,UACA,SACA,SACA,QACA,SACA,YACA,WACA,WACA,SACA,SACA,SACA,WACA,WACA,YACA,YACA,YACA,UACA,WACA,WACA,QACA,WACA,QACA,QACA,UACA,YACA,UACA,YACA,WACA,SACA,SACA,UACA,QACA,QACA,YACA,WACA,UACA,QACA,UACA,YACA,YACA,WACA,UACA,WACA,UACA,UACA,QACA,UACA,UACA,WACA,QACA,UACA,SACA,WACA,WACA,WACA,UACA,WACA,SACA,WACA,UACA,QACA,QACA,SACA,SACA,OACA,YACA,UACA,QACA,YACA,SACA,QACA,QACA,UACA,QACA,WACA,SACA,UACA,QACA,QACA,YACA,YACA,YACA,WACA,YACA,YACA,QACA,QACA,QACA,OACA,WACA,SACA,WACA,WACA,QACA,WACA,WACA,SACA,YACA,UACA,QACA,UACA,WACA,SACA,OACA,SACA,UACA,WACA,SACA,SACA,QACA,OACA,SACA,QACA,QACA,QACA,QACA,QACA,WACA,QACA,SACA,WACA,SACA,WACA,WACA,YACA,SACA,UACA,UACA,WACA,UACA,SACA,SACA,OACA,QACA,QACA,OACA,QACA,WACA,SACA,SACA,QACA,YACA,QACA,WACA,UACA,UACA,WACA,UACA,WACA,UACA,QACA,QACA,QACA,UACA,SACA,WACA,OACA,OACA,QACA,QACA,QACA,UACA,QACA,SACA,YACA,WACA,QACA,SACA,UACA,SACA,UACA,WACA,QACA,SACA,WACA,OACA,SACA,QACA,UACA,QACA,QACA,UACA,WACA,UACA,UACA,WACA,QACA,SACA,UACA,WACA,YACA,QACA,WACA,SACA,SACA,YACA,SACA,UACA,QACA,YACA,UACA,UACA,WACA,YACA,YACA,OACA,WACA,SACA,UACA,SACA,QACA,UACA,MACA,WACA,SACA,UACA,SACA,YACA,YACA,YACA,WACA,YACA,WACA,WACA,OACA,OACA,OACA,OACA,WACA,WACA,UACA,WACA,SACA,YACA,YACA,UACA,SACA,YACA,WACA,WACA,WACA,SACA,WACA,OACA,OACA,OACA,UACA,QACA,QACA,SACA,QACA,WACA,UACA,UACA,WACA,UACA,YACA,YACA,SACA,YACA,UACA,YACA,YACA,YACA,YACA,YACA,YACA,UACA,UACA,SACA,UACA,SACA,YACA,WACA,WACA,YACA,UACA,YACA,WACA,WACA,YACA,WACA,YACA,UACA,UACA,UACA,WACA,UACA,YACA,UACA,QACA,YACA,UACA,WACA,WACA,SACA,WACA,YACA,YACA,UACA,YACA,YACA,UACA,OACA,UACA,WACA,YACA,YACA,WACA,YACA,YACA,WACA,YACA,UACA,WACA,UACA,WACA,WACA,WACA,YACA,YACA,YACA,YACA,WACA,WACA,UACA,YACA,UACA,WACA,YACA,YACA,YACA,UACA,UACA,YACA,YACA,YACA,WACA,YACA,YACA,YACA,UACA,WACA,YACA,UACA,YACA,WACA,UACA,YACA,YACA,WACA,UACA,UACA,UACA,UACA,WACA,UACA,YACA,UACA,UACA,YACA,OACA,SACA,SACA,UACA,SACA,UACA,SACA,OACA,QACA,OACA,WACA,YACA,UACA,SACA,SACA,SACA,YACA,YACA,WACA,WACA,YACA,QACA,WACA,UACA,WACA,YACA,SACA,UACA,WACA,UACA,YACA,YACA,UACA,SACA,SACA,WACA,YACA,SACA,SACA,YACA,OACA,UACA,SACA,QACA,QACA,QACA,YACA,YACA,WACA,YACA,UACA,SACA,UACA,WACA,QACA,UACA,WACA,UACA,SACA,WACA,OACA,WACA,YACA,WACA,WACA,SACA,WACA,UACA,WACA,YACA,YACA,SACA,QACA,YACA,QACA,UACA,UACA,QACA,QACA,QACA,UACA,WACA,WACA,WACA,WACA,SACA,SACA,UACA,YACA,QACA,UACA,UACA,YACA,SACA,WACA,YACA,SACA,WACA,WACA,WACA,WACA,WACA,SACA,QACA,QACA,SACA,QACA,QACA,WACA,UACA,WACA,YACA,UACA,WACA,UACA,WACA,OACA,UACA,QACA,QACA,QACA,UACA,SACA,WACA,UACA,UACA,UACA,WACA,UACA,YACA,SACA,WACA,UACA,QACA,QACA,QACA,QACA,OACA,QACA,SACA,UACA,UACA,QACA,QACA,UACA,UACA,YACA,UACA,YACA,UACA,QACA,YACA,SACA,UACA,WACA,WACA,YACA,UACA,WACA,YACA,UACA,UACA,WACA,QACA,OACA,SACA,UACA,UACA,YACA,OACA,UACA,UACA,WACA,SACA,SACA,WACA,WACA,YACA,WACA,UACA,YACA,WACA,UACA,YACA,UACA,QACA,SACA,UACA,UACA,UACA,SACA,OACA,SACA,SACA,SACA,SACA,YACA,UACA,QACA,QACA,QACA,UACA,SACA,UACA,SACA,SACA,YACA,QACA,QACA,QACA,OACA,SACA,UACA,YACA,UACA,YACA,WACA,YACA,UACA,MACA,QACA,SACA,UACA,UACA,WACA,SACA,YACA,YACA,MACA,MACA,WACA,SACA,QACA,WACA,SACA,QACA,QACA,WACA,QACA,UACA,YACA,SACA,WACA,QACA,SACA,SACA,WACA,YACA,QACA,WACA,WACA,YACA,UACA,WACA,WACA,UACA,OACA,OACA,YACA,OACA,YACA,OACA,WACA,SACA,WACA,WACA,UACA,OACA,SACA,WACA,UACA,WACA,WACA,UACA,UACA,UACA,UACA,WACA,SACA,YACA,WACA,SACA,UACA,YACA,QACA,OACA,YACA,SACA,WACA,QACA,UACA,WACA,SACA,QACA,SACA,SACA,QACA,QACA,YACA,QACA,WACA,SACA,WACA,YACA,WACA,UACA,SACA,YACA,YACA,UACA,YACA,UACA,YACA,WACA,OACA,WACA,UACA,SACA,YACA,YACA,YACA,QACA,WACA,SACA,WACA,YACA,SACA,SACA,OACA,OACA,SACA,SACA,WACA,SACA,WACA,SACA,UACA,SACA,YACA,YACA,YACA,WACA,UACA,YACA,WACA,WACA,WACA,UACA,SACA,WACA,SACA,WACA,UACA,YACA,WACA,YACA,YACA,QACA,WACA,UACA,UACA,SACA,SACA,OACA,WACA,YACA,WACA,SACA,YACA,QACA,WACA,QACA,WACA,YACA,SACA,WACA,WACA,WACA,YACA,YACA,YACA,WACA,YACA,WACA,UACA,QACA,SACA,WACA,SACA,YACA,YACA,WACA,SACA,YACA,WACA,SACA,WACA,YACA,YACA,WACA,SACA,QACA,SACA,QACA,UACA,SACA,UACA,UACA,OACA,YACA,YACA,WACA,YACA,SACA,UACA,YACA,WACA,SACA,SACA,SACA,WACA,YACA,YACA,UACA,UACA,QACA,WACA,SACA,SACA,WACA,QACA,UACA,YACA,UACA,YACA,YACA,WACA,WACA,YACA,YACA,UACA,WACA,WACA,UACA,UACA,UACA,UACA,YACA,WACA,WACA,SACA,YACA,YACA,WACA,YACA,YACA,SACA,WACA,YACA,WACA,UACA,QACA,UACA,WACA,UACA,UACA,YACA,WACA,SACA,UACA,YACA,UACA,WACA,WACA,YACA,WACA,YACA,YACA,WACA,WACA,WACA,YACA,YACA,UACA,OACA,WACA,SACA,YACA,QACA,OACA,SACA,UACA,YACA,WACA,YACA,WACA,WACA,YACA,YACA,MACA,WACA,YACA,WACA,OACA,SACA,OACA,WACA,QACA,SACA,SACA,UACA,SACA,QACA,UACA,SACA,YACA,QACA,QACA,SACA,SACA,UACA,UACA,UACA,SACA,SACA,UACA,WACA,YACA,YACA,WACA,YACA,WACA,YACA,WACA,WACA,WACA,SACA,WACA,WACA,UACA,YACA,WACA,UACA,UACA,YACA,WACA,WACA,WACA,YACA,WACA,UACA,UACA,YACA,YACA,WACA,OACA,YACA,UACA,OACA,UACA,YACA,YACA,WACA,WACA,YACA,SACA,UACA,WACA,UACA,WACA,SACA,YACA,YACA,WACA,WACA,YACA,YACA,YACA,WACA,UACA,YACA,WACA,UACA,WACA,UACA,YACA,UACA,WACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,WACA,WACA,WACA,QACA,QACA,QACA,YACA,UACA,WACA,WACA,WACA,WACA,SACA,WACA,YACA,YACA,WACA,WACA,WACA,YACA,QACA,SACA,SACA,OACA,WACA,WACA,QACA,QACA,QACA,QACA,OACA,SACA,YACA,SACA,QACA,UACA,SACA,WACA,WACA,WACA,WACA,UACA,WACA,UACA,QACA,QACA,SACA,WACA,YACA,WACA,UACA,UACA,WACA,WACA,WACA,WACA,UACA,QACA,OACA,YACA,SACA,SACA,OACA,SACA,WACA,SACA,OACA,OACA,QACA,OACA,OACA,WACA,YACA,YACA,WACA,YACA,WACA,UACA,UACA,YACA,WACA,YACA,QACA,UACA,UACA,OACA,UACA,WACA,YACA,YACA,WACA,YACA,YACA,YACA,SACA,SACA,WACA,SACA,SACA,QACA,OACA,UACA,QACA,QACA,QACA,UACA,WACA,YACA,WACA,WACA,SACA,WACA,SACA,SACA,WACA,UACA,UACA,UACA,QACA,QACA,QACA,YACA,UACA,WACA,UACA,UACA,UACA,QACA,QACA,WACA,SACA,OACA,MACA,SACA,YACA,UACA,WACA,UACA,WACA,WACA,QACA,OACA,OACA,SACA,SACA,MACA,OACA,SACA,WACA,OACA,UACA,WACA,WACA,MACA,OACA,SACA,YACA,YACA,UACA,UACA,WACA,SACA,SACA,OACA,OACA,UACA,OACA,QACA,QACA,QACA,UACA,UACA,WACA,UACA,YACA,UACA,WACA,UACA,WACA,WACA,OACA,QACA,UACA,UACA,UACA,SACA,UACA,QACA,UACA,UACA,WACA,WACA,WACA,UACA,UACA,UACA,YACA,YACA,UACA,YACA,SACA,SACA,UACA,QACA,UACA,SACA,WACA,SACA,YACA,YACA,SACA,WACA,UACA,QACA,SACA,SACA,OACA,OACA,QACA,QACA,QACA,YACA,OACA,SACA,UACA,YACA,UACA,WACA,YACA,UACA,YACA,YACA,OACA,WACA,SACA,OACA,UACA,SACA,WACA,YACA,WACA,MACA,YACA,UACA,YACA,SACA,YACA,SACA,SACA,WACA,WACA,YACA,UACA,YACA,SACA,QACA,YACA,UACA,SACA,QACA,YACA,UACA,SACA,YACA,WACA,WACA,WACA,UACA,YACA,YACA,WACA,SACA,MACA,WACA,WACA,YACA,QACA,UACA,SACA,MACA,UACA,WACA,MACA,YACA,QACA,YACA,WACA,YACA,QACA,UACA,QACA,QACA,UACA,SACA,UACA,YACA,YACA,QACA,WACA,UACA,SACA,SACA,WACA,SACA,YACA,QACA,UACA,YACA,WACA,OACA,QACA,WACA,UACA,WACA,UACA,UACA,WACA,WACA,YACA,WACA,YACA,WACA,WACA,WACA,WACA,UACA,UACA,YACA,QACA,MACA,SACA,YACA,SACA,YACA,YACA,WACA,UACA,YACA,SACA,SACA,YACA,YACA,WACA,UACA,UACA,WACA,WACA,YACA,QACA,SACA,UACA,UACA,YACA,YACA,UACA,YACA,WACA,YACA,YACA,WACA,YACA,WACA,SACA,WACA,WACA,UACA,WACA,SACA,UACA,WACA,WACA,YACA,UACA,SACA,UACA,YACA,YACA,YACA,UACA,WACA,YACA,WACA,YACA,YACA,WACA,WACA,SACA,SACA,SACA,UACA,UACA,SACA,SACA,YACA,WACA,YACA,WACA,SACA,UACA,SACA,SACA,YACA,SACA,SACA,WACA,UACA,WACA,UACA,YACA,WACA,WACA,WACA,UACA,WACA,QACA,OACA,SACA,OACA,WACA,YACA,YACA,WACA,WACA,YACA,WACA,WACA,UACA,QACA,SACA,WACA,UACA,UACA,YACA,SACA,YACA,YACA,WACA,SACA,SACA,UACA,YACA,SACA,SACA,UACA,QACA,QACA,WACA,YACA,YACA,WACA,WACA,WACA,SACA,YACA,YACA,WACA,UACA,QACA,UACA,YACA,YACA,SACA,WACA,WACA,YACA,YACA,WACA,UACA,UACA,WACA,UACA,QACA,YACA,SACA,YACA,WACA,UACA,QACA,WACA,YACA,YACA,UACA,UACA,OACA,YACA,YACA,YACA,WACA,WACA,QACA,WACA,UACA,OACA,QACA,YACA,SACA,QACA,UACA,UACA,WACA,YACA,YACA,YACA,SACA,WACA,YACA,WACA,UACA,UACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,SACA,YACA,YACA,YACA,YACA,QACA,OACA,YACA,SACA,UACA,SACA,QACA,WACA,OACA,SACA,YACA,WACA,WACA,SACA,UACA,YACA,YACA,YACA,YACA,YACA,QACA,SACA,WACA,YACA,SACA,SACA,WACA,UACA,YACA,WACA,UACA,UACA,UACA,YACA,WACA,WACA,YACA,SACA,WACA,UACA,YACA,YACA,WACA,YACA,SACA,YACA,WACA,WACA,UACA,YACA,YACA,SACA,YACA,UACA,YACA,YACA,QACA,SACA,WACA,WACA,YACA,WACA,WACA,WACA,YACA,UACA,SACA,WACA,SACA,YACA,UACA,UACA,SACA,YACA,UACA,UACA,OACA,SACA,UACA,SACA,OACA,QACA,UACA,OACA,WACA,SACA,SACA,WACA,UACA,UACA,YACA,QACA,UACA,OACA,UACA,YACA,YACA,UACA,UACA,WACA,SACA,UACA,WACA,SACA,YACA,YACA,UACA,WACA,WACA,MACA,QACA,UACA,SACA,SACA,OACA,OACA,SACA,SACA,WACA,WACA,WACA,WACA,WACA,QACA,QACA,UACA,SACA,UACA,WACA,YACA,WACA,SACA,SACA,QACA,SACA,SACA,WACA,UACA,YACA,QACA,QACA,QACA,QACA,UACA,SACA,WACA,WACA,YACA,UACA,UACA,QACA,WACA,QACA,UACA,SACA,WACA,SACA,SACA,SACA,UACA,OACA,SACA,QACA,WACA,SACA,WACA,WACA,UACA,UACA,YACA,QACA,WACA,QACA,UACA,WACA,WACA,YACA,SACA,UACA,UACA,WACA,MACA,OACA,UACA,UACA,WACA,WACA,YACA,YACA,QACA,UACA,QACA,QACA,YACA,UACA,WACA,WACA,OACA,UACA,YACA,YACA,YACA,WACA,WACA,SACA,QACA,UACA,WACA,SACA,WACA,UACA,YACA,YACA,WACA,UACA,WACA,WACA,WACA,YACA,YACA,WACA,OACA,UACA,SACA,QACA,QACA,SACA,SACA,QACA,QACA,OACA,QACA,QACA,QACA,WACA,OACA,SACA,UACA,QACA,WACA,UACA,UACA,QACA,SACA,UACA,WACA,OACA,MACA,MACA,OACA,QACA,OACA,WACA,SACA,WACA,SACA,WACA,SACA,OACA,OACA,OACA,UACA,WACA,WACA,YACA,SACA,WACA,WACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,YACA,WACA,UACA,WACA,WACA,WACA,SACA,SACA,UACA,WACA,WACA,MACA,QACA,WACA,WACA,UACA,YACA,WACA,YACA,WACA,QACA,QACA,UACA,UACA,YACA,SACA,UACA,QACA,WACA,WACA,WACA,UACA,UACA,UACA,WACA,WACA,UACA,WACA,SACA,YACA,WACA,YACA,WACA,UACA,WACA,YACA,WACA,UACA,SACA,WACA,SACA,YACA,WACA,QACA,UACA,UACA,WACA,SACA,SACA,QACA,SACA,WACA,YACA,YACA,WACA,QACA,SACA,UACA,QACA,UACA,YACA,SACA,OACA,QACA,YACA,UACA,WACA,WACA,YACA,SACA,QACA,QACA,SACA,WACA,YACA,WACA,QACA,YACA,SACA,MACA,QACA,MACA,YACA,UACA,QACA,OACA,YACA,WACA,UACA,SACA,SACA,UACA,YACA,SACA,YACA,WACA,OACA,SACA,QACA,SACA,SACA,WACA,UACA,MACA,SACA,UACA,SACA,SACA,UACA,SACA,UACA,SACA,UACA,SACA,MACA,WACA,YACA,SACA,UACA,WACA,QACA,OACA,OACA,SACA,OACA,QACA,OACA,SACA,MACA,SACA,UACA,WACA,WACA,QACA,UACA,YACA,SACA,QACA,YACA,WACA,YACA,UACA,YACA,WACA,WACA,SACA,YACA,YACA,YACA,WACA,YACA,UACA,YACA,UACA,UACA,UACA,QACA,QACA,YACA,SACA,UACA,YACA,QACA,OACA,WACA,YACA,WACA,SACA,WACA,SACA,SACA,SACA,QACA,UACA,SACA,WACA,QACA,QACA,SACA,QACA,UACA,UACA,UACA,QACA,YACA,SACA,YACA,UACA,SACA,WACA,YACA,QACA,UACA,QACA,WACA,UACA,WACA,UACA,SACA,UACA,UACA,UACA,UACA,SACA,UACA,SACA,UACA,WACA,WACA,SACA,YACA,YACA,UACA,WACA,QACA,QACA,QACA,UACA,WACA,UACA,OACA,SACA,YACA,UACA,SACA,OACA,OACA,WACA,OACA,UACA,QACA,WACA,WACA,YACA,OACA,UACA,QACA,UACA,OACA,OACA,OACA,QACA,WACA,YACA,QACA,SACA,OACA,SACA,OACA,SACA,WACA,OACA,UACA,SACA,SACA,SACA,OACA,OACA,OACA,WACA,YACA,WACA,YACA,SACA,SACA,WACA,UACA,YACA,WACA,WACA,UACA,WACA,QACA,WACA,WACA,UACA,UACA,UACA,WACA,UACA,SACA,UACA,QACA,WACA,QACA,QACA,UACA,YACA,QACA,QACA,YACA,UACA,UACA,YACA,WACA,SACA,YACA,SACA,YACA,YACA,UACA,QACA,OACA,UACA,WACA,WACA,YACA,SACA,QACA,UACA,WACA,OACA,YACA,OACA,QACA,YACA,WACA,WACA,QACA,UACA,YACA,QACA,YACA,QACA,SACA,WACA,OACA,UACA,OACA,WACA,SACA,QACA,QACA,SACA,WACA,SACA,QACA,SACA,UACA,QACA,QACA,SACA,UACA,QACA,OACA,SACA,WACA,WACA,UACA,UACA,YACA,UACA,WACA,SACA,QACA,YACA,WACA,WACA,QACA,UACA,YACA,QACA,OACA,WACA,QACA,OACA,UACA,UACA,YACA,UACA,QACA,SACA,WACA,OACA,OACA,QACA,QACA,UACA,OACA,SACA,MACA,UACA,WACA,YACA,WACA,UACA,WACA,SACA,SACA,UACA,UACA,MACA,UACA,QACA,OACA,UACA,OACA,SACA,SACA,YACA,SACA,UACA,SACA,UACA,YACA,UACA,WACA,WACA,YACA,WACA,WACA,YACA,YACA,WACA,SACA,UACA,WACA,UACA,WACA,YACA,YACA,YACA,UACA,UACA,WACA,WACA,UACA,WACA,YACA,WACA,UACA,UACA,YACA,YACA,YACA,WACA,WACA,YACA,YACA,WACA,WACA,UACA,WACA,SACA,YACA,SACA,QACA,YACA,YACA,UACA,WACA,UACA,YACA,QACA,SACA,WACA,WACA,YACA,WACA,WACA,WACA,YACA,UACA,WACA,YACA,SACA,WACA,WACA,WACA,YACA,WACA,QACA,UACA,WACA,YACA,YACA,YACA,UACA,UACA,UACA,QACA,UACA,OACA,SACA,QACA,UACA,YACA,QACA,SACA,YACA,WACA,UACA,WACA,YACA,OACA,UACA,SACA,QACA,QACA,SACA,WACA,SACA,WACA,SACA,OACA,WACA,WACA,YACA,YACA,YACA,SACA,SACA,YACA,WACA,UACA,WACA,WACA,WACA,YACA,YACA,WACA,WACA,YACA,UACA,WACA,YACA,YACA,UACA,WACA,OACA,OACA,QACA,UACA,YACA,UACA,QACA,UACA,YACA,QACA,SACA,SACA,SACA,UACA,UACA,WACA,WACA,UACA,YACA,QACA,WACA,QACA,SACA,SACA,YACA,QACA,WACA,SACA,UACA,UACA,UACA,UACA,QACA,YACA,WACA,WACA,UACA,WACA,SACA,SACA,WACA,OACA,MACA,OACA,OACA,OACA,QACA,SACA,WACA,SACA,QACA,YACA,WACA,UACA,SACA,YACA,WACA,YACA,WACA,WACA,SACA,SACA,YACA,YACA,SACA,WACA,SACA,OACA,SACA,UACA,WACA,WACA,SACA,SACA,SACA,UACA,SACA,YACA,UACA,QACA,OACA,UACA,OACA,SACA,YACA,MACA,SACA,UACA,WACA,YACA,WACA,YACA,YACA,YACA,SACA,WACA,WACA,WACA,YACA,YACA,YACA,YACA,YACA,YACA,MACA,UACA,QACA,OACA,OACA,MACA,WACA,WACA,WACA,UACA,YACA,YACA,WACA,WACA,WACA,SACA,QACA,OACA,QACA,WACA,SACA,SACA,YACA,WACA,WACA,QACA,YACA,WACA,UACA,WACA,UACA,YACA,WACA,UACA,YACA,WACA,WACA,WACA,YACA,WACA,YACA,YACA,WACA,WACA,WACA,SACA,SACA,YACA,UACA,WACA,YACA,YACA,WACA,SACA,UACA,YACA,YACA,WACA,UACA,YACA,YACA,QACA,WACA,YACA,WACA,SACA,WACA,YACA,YACA,WACA,UACA,YACA,UACA,WACA,YACA,WACA,UACA,YACA,YACA,YACA,UACA,YACA,SACA,WACA,SACA,SACA,MACA,OACA,SACA,OACA,QACA,MACA,OACA,YACA,WACA,YACA,YACA,WACA,WACA,UACA,WACA,WACA,YACA,YACA,UACA,QACA,UACA,YACA,UACA,OACA,YACA,SACA,QACA,MACA,MACA,SACA,SACA,YACA,UACA,WACA,YACA,SACA,YACA,WACA,MACA,UACA,UACA,SACA,UACA,UACA,WACA,QACA,OACA,QACA,UACA,UACA,OACA,UACA,YACA,OACA,OACA,YACA,UACA,QACA,SACA,SACA,MACA,QACA,SACA,QACA,SACA,WACA,OACA,UACA,UACA,MACA,SACA,YACA,SACA,UACA,OACA,UACA,WACA,WACA,YACA,QACA,OACA,MACA,SACA,WACA,YACA,SACA,UACA,WACA,YACA,WACA,QACA,YACA,WACA,YACA,OACA,SACA,WACA,UACA,QACA,YACA,QACA,UACA,UACA,OACA,SACA,QACA,OACA,WACA,WACA,OACA,SACA,UACA,SACA,UACA,WACA,SACA,QACA,OACA,UACA,YACA,UACA,SACA,WACA,WACA,QACA,WACA,UACA,SACA,QACA,QACA,SACA,WACA,OACA,MACA,OACA,SACA,OACA,WACA,WACA,SACA,OACA,OACA,WACA,WACA,YACA,WACA,OACA,SACA,SACA,WACA,SACA,WACA,UACA,UACA,UACA,OACA,UACA,UACA,YACA,WACA,SACA,UACA,UACA,OACA,SACA,QACA,OACA,UACA,WACA,OACA,QACA,WACA,QACA,QACA,QACA,SACA,UACA,QACA,OACA,UACA,UACA,WACA,YACA,WACA,SACA,SACA,QACA,UACA,WACA,SACA,UACA,SACA,OACA,OACA,QACA,SACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YACA,YACA,WACA,YACA,WACA,YACA,QACA,UACA,SACA,QACA,SACA,UACA,SACA,OACA,QACA,OACA,OACA,QACA,OACA,QACA,OACA,SACA,WACA,UACA,SACA,WACA,SACA,UACA,UACA,SACA,WACA,SACA,WACA,SACA,WACA,OACA,WACA,OACA,SACA,QACA,SACA,SACA,WACA,UACA,UACA,YACA,OACA,UACA,SACA,YACA,UACA,QACA,OACA,SACA,OACA,OACA,UACA,SACA,UACA,YACA,WACA,SACA,UACA,QACA,WACA,SACA,WACA,YACA,YACA,SACA,UACA,YACA,UACA,UACA,WACA,MACA,OACA,SACA,UACA,UACA,WACA,SACA,WACA,WACA,SACA,QACA,QACA,OACA,OACA,UACA,YACA,QACA,QACA,UACA,WACA,OACA,QACA,WACA,WACA,SACA,SACA,WACA,UACA,OACA,OACA,MACA,UACA,UACA,SACA,OACA,OACA,WACA,YACA,SACA,SACA,SACA,UACA,QACA,SACA,QACA,YACA,UACA,SACA,SACA,YACA,YACA,QACA,UACA,YACA,WACA,YACA,YACA,SACA,WACA,UACA,SACA,YACA,WACA,YACA,UACA,UACA,SACA,QACA,WACA,WACA,YACA,YACA,OACA,QACA,OACA,YACA,OACA,SACA,WACA,SACA,YACA,UACA,YACA,WACA,QACA,YACA,SACA,QACA,YACA,WACA,WACA,SACA,WACA,WACA,QACA,OACA,UACA,YACA,WACA,UACA,SACA,UACA,WACA,QACA,YACA,WACA,YACA,YACA,YACA,UACA,YACA,WACA,WACA,SACA,WACA,UACA,YACA,WACA,WACA,QACA,YACA,SACA,YACA,OACA,OACA,SACA,UACA,YACA,UACA,WACA,UACA,WACA,UACA,YACA,WACA,SACA,SACA,QACA,QACA,YACA,UACA,UACA,UACA,YACA,WACA,YACA,SACA,UACA,UACA,YACA,QACA,UACA,SACA,UACA,QACA,WACA,SACA,SACA,SACA,OACA,MACA,WACA,YACA,UACA,UACA,WACA,QACA,QACA,YACA,YACA,SACA,WACA,SACA,SACA,UACA,WACA,SACA,YACA,SACA,UACA,SACA,QACA,YACA,SACA,YACA,YACA,UACA,SACA,YACA,SACA,UACA,WACA,SACA,UACA,UACA,UACA,YACA,WACA,UACA,WACA,YACA,WACA,WACA,YACA,OACA,SACA,YACA,YACA,SACA,SACA,SACA,SACA,WACA,WACA,WACA,QACA,WACA,WACA,UACA,QACA,SACA,YACA,SACA,UACA,SACA,WACA,WACA,UACA,QACA,SACA,SACA,WACA,SACA,UACA,YACA,SACA,UACA,YACA,WACA,QACA,WACA,OACA,YACA,WACA,WACA,UACA,MACA,YACA,SACA,WACA,WACA,YACA,YACA,YACA,WACA,UACA,UACA,WACA,WACA,WACA,YACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,YACA,UACA,WACA,UACA,YACA,QACA,SACA,WACA,SACA,YACA,WACA,UACA,WACA,YACA,YACA,YACA,WACA,MACA,SACA,WACA,UACA,YACA,WACA,WACA,WACA,QACA,YACA,WACA,YACA,YACA,UACA,WACA,SACA,QACA,OACA,WACA,YACA,SACA,WACA,YACA,SACA,YACA,QACA,QACA,YACA,WACA,UACA,WACA,UACA,WACA,QACA,YACA,YACA,QACA,QACA,UACA,OACA,QACA,SACA,QACA,SACA,OACA,OACA,MACA,MACA,WACA,QACA,OACA,SACA,UACA,WACA,WACA,YACA,YACA,SACA,WACA,QACA,YACA,UACA,QACA,QACA,WACA,UACA,YACA,SACA,QACA,YACA,QACA,YACA,WACA,SACA,UACA,YACA,WACA,QACA,QACA,SACA,YACA,QACA,UACA,UACA,SACA,YACA,QACA,UACA,SACA,WACA,OACA,YACA,YACA,SACA,OACA,SACA,SACA,SACA,UACA,YACA,UACA,OACA,QACA,MACA,OACA,OACA,SACA,QACA,YACA,OACA,SACA,SACA,UACA,QACA,SACA,UACA,YACA,WACA,SACA,WACA,UACA,SACA,WACA,WACA,WACA,YACA,OACA,SACA,UACA,SACA,WACA,SACA,WACA,SACA,YACA,SACA,SACA,WACA,WACA,YACA,WACA,YACA,YACA,UACA,UACA,OACA,SACA,OACA,UACA,QACA,OACA,MACA,YACA,SACA,WACA,WACA,SACA,UACA,QACA,OACA,SACA,WACA,WACA,QACA,QACA,SACA,SACA,WACA,YACA,QACA,WACA,QACA,UACA,SACA,UACA,SACA,UACA,SACA,UACA,SACA,WACA,UACA,WACA,YACA,UACA,WACA,WACA,UACA,UACA,UACA,UACA,UACA,SACA,WACA,WACA,YACA,QACA,SACA,QACA,MACA,MACA,QACA,MACA,YACA,WACA,WACA,SACA,WACA,UACA,WACA,YACA,SACA,YACA,OACA,UACA,YACA,YACA,WACA,YACA,WACA,YACA,YACA,WACA,WACA,YACA,WACA,SACA,YACA,SACA,UACA,YACA,YACA,WACA,WACA,SACA,QACA,SACA,UACA,SACA,UACA,UACA,OACA,MACA,OACA,WACA,OACA,MACA,QACA,WACA,QACA,OACA,UACA,WACA,OACA,WACA,UACA,WACA,UACA,QACA,SACA,WACA,OACA,WACA,QACA,UACA,YACA,UACA,OACA,SACA,OACA,OACA,OACA,OACA,UACA,OACA,OACA,WACA,UACA,YACA,YACA,YACA,WACA,QACA,UACA,WACA,SACA,WACA,WACA,YACA,YACA,MACA,YACA,UACA,QACA,QACA,OACA,QACA,QACA,SACA,UACA,SACA,WACA,WACA,WACA,WACA,UACA,WACA,UACA,WACA,WACA,QACA,WACA,SACA,WACA,WACA,UACA,WACA,SACA,UACA,SACA,UACA,UACA,WACA,WACA,UACA,YACA,YACA,UACA,UACA,SACA,UACA,UACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,YACA,WACA,YACA,YACA,WACA,WACA,UACA,WACA,SACA,OACA,QACA,OACA,UACA,UACA,WACA,UACA,WACA,WACA,YACA,YACA,WACA,YACA,WACA,WACA,WACA,WACA,YACA,YACA,YACA,YACA,YACA,UACA,YACA,YACA,YACA,UACA,WACA,WACA,WACA,WACA,YACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YACA,WACA,YACA,WACA,UACA,UACA,WACA,WACA,WACA,YACA,YACA,WACA,UACA,YACA,WACA,YACA,YACA,WACA,YACA,YACA,WACA,WACA,WACA,UACA,YACA,WACA,YACA,YACA,YACA,WACA,YACA,YACA,WACA,WACA,YACA,YACA,YACA,WACA,YACA,WACA,UACA,WACA,WACA,WACA,UACA,YACA,WACA,YACA,MACA,SACA,UACA,YACA,UACA,YACA,SACA,WACA,SACA,QACA,QACA,YACA,UACA,WACA,WACA,WACA,SACA,SACA,UACA,SACA,WACA,UACA,QACA,QACA,SACA,UACA,SACA,YACA,OACA,WACA,YACA,SACA,WACA,WACA,UACA,WACA,SACA,UACA,WACA,QACA,WACA,OACA,YACA,QACA,UACA,WACA,YACA,UACA,YACA,SACA,QACA,YACA,YACA,SACA,QACA,UACA,UACA,WACA,YACA,SACA,UACA,YACA,WACA,YACA,YACA,YACA,WACA,YACA,YACA,YACA,WACA,WACA,YACA,SACA,UACA,YACA,SACA,SACA,QACA,UACA,UACA,SACA,WACA,SACA,SACA,UACA,UACA,UACA,SACA,UACA,YACA,SACA,UACA,YACA,QACA,WACA,WACA,UACA,WACA,YACA,WACA,UACA,UACA,UACA,YACA,WACA,WACA,WACA,QACA,SACA,SACA,UACA,SACA,WACA,UACA,QACA,YACA,SACA,WACA,YACA,OACA,WACA,UACA,QACA,YACA,UACA,SACA,YACA,YACA,SACA,WACA,QACA,YACA,WACA,SACA,SACA,UACA,UACA,WACA,SACA,QACA,QACA,SACA,UACA,WACA,UACA,SACA,SACA,QACA,SACA,WACA,WACA,YACA,WACA,WACA,YACA,WACA,UACA,SACA,OACA,SACA,WACA,UACA,SACA,UACA,UACA,YACA,WACA,UACA,YACA,QACA,SACA,UACA,WACA,YACA,MACA,WACA,UACA,QACA,YACA,YACA,YACA,YACA,UACA,YACA,SACA,WACA,UACA,YACA,QACA,OACA,WACA,YACA,YACA,YACA,YACA,YACA,YACA,QACA,OACA,YACA,YACA,SACA,YACA,QACA,SACA,WACA,QACA,YACA,SACA,YACA,YACA,QACA,UACA,UACA,SACA,UACA,YACA,SACA,UACA,YACA,QACA,YACA,QACA,SACA,WACA,UACA,UACA,WACA,QACA,UACA,QACA,SACA,UACA,UACA,SACA,WACA,UACA,WACA,WACA,UACA,WACA,YACA,YACA,WACA,WACA,SACA,UACA,YACA,YACA,UACA,WACA,YACA,WACA,UACA,UACA,WACA,UACA,YACA,WACA,QACA,WACA,QACA,SACA,YACA,SACA,WACA,YACA,UACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,UACA,WACA,SACA,OACA,YACA,UACA,QACA,MACA,OACA,OACA,OACA,UACA,UACA,WACA,YACA,SACA,QACA,SACA,QACA,SACA,QACA,SACA,SACA,QACA,SACA,WACA,QACA,OACA,YACA,UACA,YACA,UACA,SACA,OACA,OACA,UACA,OACA,SACA,SACA,QACA,WACA,WACA,UACA,WACA,YACA,OACA,SACA,WACA,WACA,SACA,YACA,WACA,UACA,SACA,WACA,QACA,OACA,SACA,WACA,WACA,SACA,UACA,SACA,UACA,WACA,SACA,SACA,UACA,YACA,UACA,UACA,QACA,SACA,WACA,QACA,UACA,OACA,WACA,YACA,UACA,QACA,SACA,MACA,WACA,SACA,WACA,UACA,WACA,YACA,SACA,UACA,WACA,YACA,UACA,WACA,WACA,UACA,YACA,UACA,SACA,WACA,YACA,UACA,UACA,SACA,YACA,YACA,UACA,YACA,WACA,YACA,YACA,SACA,UACA,WACA,WACA,UACA,WACA,YACA,WACA,UACA,SACA,UACA,SACA,YACA,YACA,YACA,SACA,UACA,YACA,UACA,QACA,UACA,YACA,UACA,YACA,YACA,WACA,UACA,SACA,UACA,UACA,YACA,UACA,UACA,WACA,SACA,YACA,WACA,QACA,SACA,YACA,UACA,UACA,SACA,QACA,WACA,QACA,QACA,QACA,SACA,SACA,WACA,UACA,UACA,YACA,QACA,YACA,WACA,WACA,YACA,QACA,UACA,YACA,UACA,YACA,UACA,WACA,YACA,WACA,WACA,UACA,UACA,UACA,UACA,YACA,YACA,YACA,UACA,WACA,YACA,UACA,YACA,UACA,WACA,YACA,WACA,YACA,YACA,YACA,WACA,YACA,WACA,WACA,QACA,QACA,YACA,SACA,WACA,YACA,SACA,YACA,WACA,WACA,YACA,WACA,UACA,QACA,UACA,YACA,WACA,SACA,YACA,YACA,WACA,WACA,QACA,WACA,SACA,SACA,WACA,WACA,YACA,WACA,UACA,UACA,YACA,YACA,UACA,UACA,WACA,YACA,QACA,SACA,QACA,YACA,QACA,UACA,MACA,UACA,SACA,YACA,SACA,SACA,MACA,OACA,YACA,OACA,UACA,QACA,YACA,OACA,SACA,SACA,QACA,WACA,YACA,YACA,UACA,WACA,OACA,QACA,SACA,QACA,WACA,YACA,WACA,SACA,WACA,YACA,QACA,UACA,WACA,SACA,SACA,UACA,SACA,SACA,WACA,YACA,OACA,QACA,YACA,WACA,UACA,WACA,WACA,YACA,SACA,YACA,UACA,WACA,UACA,SACA,QACA,UACA,OACA,SACA,WACA,UACA,YACA,SACA,QACA,WACA,QACA,WACA,QACA,UACA,YACA,YACA,UACA,UACA,QACA,UACA,UACA,SACA,YACA,YACA,WACA,UACA,SACA,QACA,UACA,UACA,YACA,YACA,YACA,QACA,QACA,QACA,UACA,YACA,QACA,OACA,SACA,YACA,WACA,YACA,QACA,QACA,OACA,SACA,SACA,OACA,SACA,QACA,SACA,WACA,YACA,WACA,YACA,WACA,QACA,SACA,SACA,OACA,OACA,SACA,SACA,UACA,SACA,UACA,UACA,WACA,UACA,SACA,OACA,SACA,QACA,SACA,WACA,OACA,SACA,QACA,YACA,SACA,SACA,SACA,UACA,SACA,UACA,UACA,UACA,QACA,OACA,SACA,SACA,OACA,UACA,SACA,QACA,SACA,SACA,UACA,YACA,WACA,QACA,YACA,WACA,WACA,UACA,WACA,OACA,YACA,WACA,UACA,YACA,YACA,YACA,WACA,SACA,WACA,WACA,WACA,UACA,YACA,SACA,QACA,UACA,SACA,SACA,UACA,SACA,UACA,UACA,WACA,WACA,SACA,SACA,YACA,SACA,SACA,SACA,SACA,YACA,YACA,UACA,SACA,WACA,UACA,WACA,YACA,UACA,YACA,YACA,SACA,YACA,UACA,YACA,YACA,YACA,SACA,SACA,UACA,SACA,WACA,WACA,SACA,YACA,YACA,UACA,WACA,WACA,YACA,WACA,UACA,UACA,UACA,YACA,YACA,UACA,YACA,SACA,YACA,UACA,WACA,WACA,WACA,YACA,YACA,SACA,SACA,UACA,SACA,WACA,WACA,WACA,WACA,YACA,UACA,UACA,WACA,UACA,UACA,YACA,SACA,YACA,YACA,UACA,SACA,WACA,YACA,SACA,SACA,UACA,UACA,SACA,SACA,SACA,WACA,YACA,WACA,UACA,YACA,UACA,UACA,WACA,YACA,QACA,SACA,SACA,YACA,YACA,UACA,YACA,UACA,YACA,SACA,WACA,UACA,YACA,YACA,UACA,WACA,WACA,QACA,QACA,UACA,UACA,YACA,WACA,WACA,WACA,UACA,QACA,UACA,YACA,UACA,SACA,SACA,SACA,WACA,SACA,YACA,OACA,SACA,SACA,UACA,UACA,WACA,SACA,WACA,WACA,YACA,YACA,QACA,UACA,YACA,SACA,UACA,SACA,YACA,UACA,UACA,UACA,WACA,SACA,WACA,YACA,YACA,WACA,YACA,YACA,UACA,UACA,WACA,WACA,YACA,WACA,SACA,SACA,SACA,WACA,UACA,SACA,UACA,YACA,YACA,UACA,SACA,SACA,WACA,YACA,SACA,WACA,WACA,SACA,WACA,UACA,SACA,UACA,QACA,WACA,SACA,YACA,SACA,YACA,YACA,UACA,UACA,WACA,YACA,YACA,YACA,OACA,UACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,UACA,UACA,YACA,UACA,QACA,SACA,WACA,UACA,SACA,WACA,WACA,WACA,WACA,SACA,SACA,QACA,UACA,UACA,YACA,YACA,YACA,WACA,WACA,UACA,WACA,YACA,YACA,YACA,SACA,WACA,WACA,WACA,WACA,SACA,WACA,UACA,WACA,SACA,SACA,WACA,YACA,YACA,SACA,WACA,YACA,SACA,YACA,YACA,UACA,UACA,UACA,UACA,WACA,SACA,SACA,WACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YACA,YACA,QACA,SACA,UACA,SACA,UACA,UACA,WACA,QACA,SACA,UACA,UACA,UACA,SACA,UACA,YACA,WACA,WACA,UACA,YACA,YACA,SACA,YACA,SACA,WACA,UACA,YACA,UACA,UACA,WACA,YACA,SACA,SACA,WACA,YACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UACA,QACA,SACA,UACA,OACA,SACA,SACA,WACA,UACA,UACA,WACA,SACA,OACA,SACA,UACA,OACA,UACA,QACA,QACA,UACA,SACA,OACA,OACA,QACA,UACA,OACA,UACA,WACA,WACA,UACA,SACA,WACA,UACA,OACA,SACA,OACA,UACA,UACA,QACA,QACA,YACA,WACA,YACA,YACA,UACA,WACA,SACA,UACA,QACA,UACA,OACA,QACA,WACA,SACA,WACA,SACA,SACA,WACA,YACA,UACA,WACA,YACA,WACA,QACA,QACA,QACA,OACA,OACA,SACA,SACA,OACA,SACA,UACA,UACA,WACA,WACA,WACA,YACA,UACA,YACA,UACA,UACA,QACA,SACA,QACA,SACA,SACA,UACA,SACA,UACA,OACA,SACA,SACA,MACA,SACA,OACA,SACA,WACA,UACA,QACA,YACA,UACA,SACA,UACA,QACA,OACA,SACA,UACA,QACA,OACA,OACA,OACA,MACA,UACA,WACA,YACA,SACA,YACA,SACA,YACA,UACA,WACA,QACA,UACA,SACA,YACA,YACA,SACA,WACA,UACA,OACA,OACA,UACA,QACA,OACA,QACA,OACA,QACA,SACA,WACA,SACA,SACA,QACA,SACA,QACA,OACA,WACA,SACA,UACA,YACA,YACA,OACA,SACA,WACA,WACA,WACA,YACA,SACA,UACA,WACA,UACA,YACA,UACA,SACA,WACA,UACA,UACA,YACA,UACA,YACA,YACA,WACA,QACA,WACA,YACA,OACA,QACA,UACA,YACA,QACA,UACA,YACA,UACA,OACA,YACA,QACA,UACA,WACA,QACA,YACA,YACA,UACA,WACA,WACA,YACA,QACA,QACA,SACA,UACA,QACA,UACA,SACA,QACA,YACA,MACA,UACA,SACA,UACA,WACA,QACA,UACA,WACA,UACA,WACA,OACA,UACA,UACA,WACA,QACA,YACA,SACA,WACA,YACA,SACA,QACA,UACA,YACA,WACA,QACA,YACA,SACA,WACA,YACA,SACA,WACA,YACA,WACA,UACA,UACA,YACA,QACA,QACA,WACA,QACA,QACA,UACA,QACA,SACA,YACA,YACA,SACA,YACA,SACA,UACA,QACA,WACA,SACA,YACA,UACA,WACA,WACA,SACA,WACA,WACA,WACA,YACA,YACA,QACA,UACA,UACA,SACA,WACA,SACA,WACA,YACA,SACA,SACA,UACA,YACA,WACA,WACA,UACA,UACA,WACA,QACA,QACA,WACA,YACA,SACA,UACA,WACA,YACA,YACA,SACA,UACA,SACA,YACA,SACA,UACA,WACA,WACA,QACA,SACA,WACA,WACA,WACA,SACA,WACA,UACA,UACA,UACA,SACA,WACA,YACA,YACA,WACA,OACA,UACA,WACA,WACA,YACA,YACA,UACA,WACA,YACA,SACA,UACA,OACA,SACA,WACA,YACA,YACA,YACA,YACA,WACA,QACA,YACA,SACA,SACA,SACA,WACA,YACA,SACA,SACA,YACA,UACA,WACA,QACA,UACA,UACA,SACA,WACA,UACA,UACA,SACA,WACA,QACA,YACA,YACA,UACA,UACA,WACA,SACA,QACA,SACA,UACA,YACA,UACA,SACA,QACA,QACA,WACA,UACA,YACA,UACA,QACA,QACA,UACA,UACA,QACA,UACA,WACA,QACA,SACA,QACA,UACA,QACA,YACA,UACA,UACA,UACA,YACA,QACA,SACA,OACA,QACA,QACA,QACA,QACA,UACA,SACA,WACA,SACA,SACA,UACA,WACA,YACA,SACA,UACA,SACA,UACA,QACA,UACA,YACA,UACA,QACA,OACA,QACA,YACA,QACA,QACA,WACA,UACA,WACA,WACA,QACA,WACA,YACA,WACA,UACA,UACA,YACA,YACA,UACA,YACA,SACA,YACA,SACA,QACA,QACA,UACA,WACA,WACA,SACA,WACA,UACA,UACA,QACA,UACA,YACA,YACA,WACA,QACA,SACA,WACA,WACA,YACA,WACA,SACA,SACA,SACA,SACA,SACA,UACA,WACA,YACA,SACA,QACA,SACA,WACA,UACA,UACA,YACA,OACA,QACA,OACA,MACA,UACA,WACA,UACA,SACA,SACA,SACA,OACA,UACA,WACA,WACA,SACA,SACA,UACA,OACA,YACA,QACA,OACA,OACA,SACA,YACA,SACA,YACA,SACA,WACA,SACA,UACA,YACA,SACA,UACA,SACA,WACA,WACA,UACA,SACA,UACA,MACA,QACA,SACA,SACA,SACA,UACA,WACA,YACA,UACA,UACA,QACA,UACA,WACA,YACA,UACA,UACA,OACA,SACA,SACA,WACA,SACA,UACA,YACA,WACA,WACA,UACA,SACA,SACA,SACA,OACA,QACA,QACA,QACA,SACA,UACA,UACA,WACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,SACA,YACA,UACA,WACA,WACA,QACA,UACA,WACA,WACA,UACA,QACA,YACA,UACA,OACA,UACA,UACA,WACA,YACA,SACA,QACA,OACA,UACA,QACA,WACA,YACA,UACA,WACA,QACA,UACA,OACA,OACA,QACA,QACA,QACA,SACA,QACA,YACA,SACA,SACA,UACA,QACA,SACA,YACA,UACA,WACA,YACA,WACA,WACA,QACA,WACA,YACA,SACA,OACA,OACA,SACA,WACA,SACA,SACA,UACA,WACA,SACA,OACA,YACA,UACA,SACA,OACA,OACA,QACA,QACA,MACA,QACA,UACA,YACA,UACA,WACA,UACA,QACA,WACA,QACA,YACA,QACA,QACA,QACA,UACA,QACA,OACA,SACA,YACA,YACA,UACA,QACA,UACA,SACA,UACA,SACA,SACA,WACA,YACA,SACA,WACA,QACA,UACA,UACA,OACA,QACA,QACA,SACA,QACA,QACA,SACA,WACA,QACA,QACA,UACA,WACA,SACA,UACA,SACA,QACA,UACA,UACA,QACA,QACA,WACA,YACA,YACA,UACA,YACA,WACA,WACA,YACA,YACA,YACA,WACA,UACA,WACA,WACA,YACA,WACA,QACA,OACA,QACA,UACA,SACA,WACA,QACA,YACA,YACA,WACA,YACA,UACA,WACA,UACA,WACA,SACA,YACA,YACA,WACA,YACA,SACA,QACA,YACA,UACA,WACA,YACA,UACA,WACA,QACA,OACA,SACA,YACA,SACA,SACA,QACA,SACA,QACA,QACA,UACA,SACA,UACA,UACA,WACA,UACA,WACA,QACA,SACA,WACA,YACA,UACA,YACA,WACA,YACA,UACA,WACA,SACA,WACA,WACA,SACA,WACA,WACA,WACA,UACA,WACA,UACA,UACA,WACA,SACA,SACA,YACA,SACA,SACA,UACA,QACA,WACA,SACA,QACA,QACA,QACA,WACA,SACA,SACA,WACA,YACA,UACA,UACA,WACA,SACA,UACA,SACA,QACA,SACA,SACA,SACA,QACA,QACA,QACA,SACA,YACA,YACA,SACA,SACA,SACA,SACA,SACA,OACA,OACA,OACA,UACA,WACA,WACA,QACA,SACA,WACA,SACA,WACA,WACA,YACA,SACA,WACA,YACA,YACA,WACA,UACA,YACA,QACA,WACA,WACA,SACA,SACA,SACA,YACA,UACA,YACA,YACA,SACA,QACA,UACA,QACA,QACA,UACA,WACA,WACA,YACA,UACA,WACA,YACA,YACA,YACA,WACA,WACA,UACA,UACA,QACA,QACA,QACA,SACA,WACA,YACA,SACA,UACA,WACA,WACA,YACA,UACA,QACA,WACA,UACA,YACA,UACA,WACA,SACA,WACA,UACA,WACA,UACA,YACA,UACA,UACA,WACA,QACA,QACA,SACA,YACA,SACA,UACA,SACA,UACA,YACA,UACA,QACA,YACA,WACA,WACA,YACA,QACA,QACA,QACA,YACA,WACA,YACA,YACA,UACA,OACA,SACA,UACA,OACA,SACA,UACA,YACA,YACA,WACA,YACA,UACA,OACA,QACA,UACA,UACA,YACA,SACA,WACA,YACA,QACA,YACA,YACA,UACA,WACA,UACA,WACA,WACA,WACA,SACA,WACA,SACA,UACA,YACA,OACA,SACA,QACA,QACA,QACA,QACA,QACA,YACA,YACA,YACA,UACA,QACA,QACA,SACA,QACA,QACA,YACA,YACA,WACA,UACA,UACA,WACA,YACA,WACA,UACA,YACA,YACA,QACA,QACA,QACA,WACA,UACA,WACA,YACA,WACA,WACA,YACA,YACA,WACA,WACA,YACA,WACA,UACA,QACA,QACA,SACA,SACA,SACA,WACA,YACA,QACA,SACA,UACA,SACA,WACA,SACA,SACA,SACA,SACA,WACA,SACA,WACA,SACA,SACA,WACA,YACA,WACA,YACA,SACA,YACA,UACA,WACA,QACA,SACA,QACA,UACA,UACA,UACA,WACA,SACA,QACA,UACA,UACA,SACA,QACA,UACA,WACA,SACA,UACA,YACA,QACA,QACA,UACA,UACA,WACA,QACA,SACA,WACA,SACA,UACA,YACA,UACA,WACA,SACA,QACA,YACA,YACA,YACA,UACA,WACA,WACA,WACA,YACA,UACA,WACA,SACA,WACA,UACA,YACA,WACA,YACA,YACA,WACA,SACA,UACA,WACA,YACA,YACA,YACA,UACA,YACA,YACA,UACA,UACA,WACA,YACA,YACA,UACA,WACA,SACA,WACA,WACA,UACA,SACA,SACA,YACA,UACA,YACA,OACA,UACA,SACA,SACA,OACA,WACA,YACA,UACA,SACA,YACA,WACA,QACA,UACA,QACA,WACA,WACA,WACA,SACA,UACA,UACA,UACA,SACA,OACA,SACA,WACA,YACA,SACA,YACA,YACA,YACA,WACA,WACA,WACA,WACA,YACA,YACA,SACA,WACA,SACA,UACA,YACA,UACA,YACA,SACA,WACA,UACA,YACA,YACA,SACA,UACA,WACA,UACA,UACA,UACA,UACA,WACA,UACA,YACA,YACA,WACA,SACA,WACA,UACA,YACA,WACA,QACA,UACA,UACA,WACA,YACA,YACA,OACA,YACA,UACA,YACA,OACA,WACA,QACA,OACA,QACA,QACA,QACA,QACA,QACA,SACA,UACA,UACA,YACA,YACA,UACA,WACA,WACA,WACA,UACA,WACA,QACA,QACA,SACA,SACA,UACA,UACA,QACA,SACA,QACA,QACA,QACA,WACA,WACA,YACA,WACA,UACA,UACA,WACA,UACA,WACA,WACA,YACA,YACA,QACA,SACA,UACA,UACA,QACA,WACA,SACA,SACA,YACA,UACA,YACA,UACA,SACA,WACA,QACA,OACA,UACA,WACA,UACA,UACA,WACA,UACA,YACA,MACA,UACA,OACA,SACA,SACA,WACA,OACA,QACA,SACA,WACA,QACA,SACA,OACA,SACA,UACA,UACA,UACA,WACA,UACA,WACA,WACA,UACA,UACA,OACA,YACA,SACA,SACA,UACA,QACA,SACA,SACA,WACA,OACA,SACA,QACA,YACA,UACA,QACA,WACA,SACA,WACA,SACA,QACA,SACA,QACA,OACA,OACA,UACA,YACA,OACA,QACA,QACA,WACA,WACA,UACA,UACA,YACA,QACA,SACA,WACA,UACA,UACA,YACA,WACA,WACA,QACA,UACA,QACA,QACA,SACA,UACA,WACA,WACA,YACA,YACA,UACA,WACA,SACA,QACA,QACA,QACA,WACA,SACA,SACA,WACA,YACA,SACA,SACA,SACA,WACA,SACA,YACA,SACA,WACA,YACA,YACA,UACA,WACA,OACA,QACA,WACA,WACA,OACA,YACA,UACA,QACA,QACA,QACA,SACA,WACA,UACA,OACA,QACA,UACA,UACA,YACA,YACA,WACA,UACA,OACA,SACA,OACA,OACA,QACA,SACA,UACA,YACA,UACA,SACA,WACA,SACA,SACA,WACA,SACA,WACA,OACA,UACA,OACA,SACA,SACA,SACA,UACA,YACA,SACA,SACA,SACA,QACA,UACA,QACA,WACA,UACA,QACA,UACA,YACA,UACA,UACA,WACA,YACA,QACA,UACA,SACA,WACA,WACA,YACA,YACA,YACA,YACA,YACA,WACA,UACA,YACA,UACA,UACA,WACA,QACA,QACA,SACA,WACA,WACA,OACA,YACA,WACA,YACA,UACA,QACA,SACA,OACA,UACA,UACA,YACA,SACA,SACA,QACA,WACA,SACA,QACA,WACA,YACA,WACA,UACA,YACA,UACA,UACA,WACA,WACA,WACA,UACA,YACA,SACA,WACA,WACA,UACA,QACA,SACA,YACA,WACA,UACA,YACA,UACA,WACA,WACA,UACA,OACA,SACA,WACA,UACA,UACA,UACA,WACA,WACA,SACA,WACA,UACA,UACA,YACA,SACA,WACA,QACA,SACA,QACA,QACA,UACA,QACA,SACA,YACA,UACA,WACA,WACA,YACA,QACA,MACA,QACA,WACA,UACA,UACA,UACA,MACA,UACA,QACA,SACA,WACA,QACA,SACA,UACA,WACA,WACA,YACA,OACA,SACA,UACA,SACA,SACA,OACA,QACA,OACA,MACA,QACA,QACA,QACA,WACA,SACA,YACA,SACA,QACA,QACA,UACA,YACA,OACA,WACA,QACA,QACA,QACA,YACA,UACA,UACA,WACA,SACA,SACA,UACA,SACA,QACA,OACA,QACA,WACA,YACA,QACA,YACA,WACA,SACA,YACA,SACA,YACA,YACA,WACA,UACA,YACA,YACA,YACA,YACA,YACA,UACA,UACA,UACA,YACA,WACA,SACA,SACA,WACA,WACA,YACA,YACA,UACA,WACA,YACA,UACA,YACA,WACA,WACA,YACA,WACA,WACA,WACA,UACA,WACA,WACA,YACA,UACA,YACA,YACA,UACA,UACA,SACA,YACA,YACA,UACA,QACA,SACA,UACA,SACA,YACA,WACA,WACA,YACA,WACA,WACA,WACA,SACA,YACA,YACA,WACA,UACA,UACA,UACA,UACA,YACA,UACA,YACA,WACA,QACA,YACA,UACA,YACA,SACA,YACA,YACA,WACA,WACA,YACA,YACA,WACA,WACA,YACA,WACA,YACA,YACA,UACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,WACA,YACA,YACA,YACA,YACA,WACA,WACA,YACA,YACA,YACA,YACA,YACA,YACA,WACA,UACA,SACA,YACA,UACA,YACA,WACA,UACA,WACA,UACA,SACA,WACA,SACA,YACA,UACA,WACA,YACA,WACA,YACA,WACA,UACA,YACA,SACA,YACA,YACA,YACA,SACA,WACA,UACA,YACA,UACA,WACA,WACA,YACA,YACA,UACA,WACA,YACA,SACA,YACA,WACA,WACA,YACA,WACA,WACA,WACA,WACA,SACA,UACA,WACA,YACA,YACA,WACA,YACA,UACA,WACA,YACA,UACA,YACA,WACA,YACA,WACA,UACA,YACA,SACA,SACA,UACA,WACA,UACA,UACA,YACA,YACA,QACA,YACA,YACA,YACA,YACA,YACA,QACA,WACA,YACA,SACA,WACA,OACA,YACA,WACA,WACA,UACA,SACA,YACA,YACA,UACA,UACA,UACA,WACA,WACA,YACA,UACA,SACA,YACA,YACA,YACA,YACA,UACA,WACA,WACA,QACA,YACA,WACA,WACA,WACA,YACA,YACA,UACA,WACA,WACA,YACA,UACA,SACA,YACA,WACA,WACA,WACA,WACA,YACA,YACA,YACA,YACA,UACA,WACA,UACA,YACA,UACA,WACA,YACA,UACA,YACA,WACA,UACA,YACA,YACA,WACA,YACA,SACA,WACA,SACA,YACA,WACA,UACA,WACA,WACA,YACA,WACA,YACA,YACA,YACA,YACA,WACA,SACA,YACA,WACA,UACA,WACA,UACA,YACA,YACA,SACA,SACA,YACA,YACA,YACA,WACA,SACA,YACA,YACA,WACA,SACA,YACA,YACA,UACA,SACA,YACA,SACA,WACA,WACA,SACA,SACA,WACA,UACA,WACA,YACA,YACA,UACA,WACA,WACA,YACA,WACA,WACA,SACA,WACA,YACA,SACA,YACA,YACA,WACA,WACA,WACA,YACA,YACA,YACA,WACA,YACA,WACA,WACA,SACA,WACA,WACA,SACA,WACA,WACA,YACA,WACA,WACA,YACA,YACA,WACA,YACA,YACA,WACA,YACA,UACA,YACA,YACA,WACA,WACA,WACA,SACA,UACA,WACA,YACA,UACA,UACA,YACA,WACA,UACA,WACA,WACA,SACA,QACA,QACA,UACA,WACA,WACA,YACA,SACA,YACA,YACA,YACA,YACA,UACA,YACA,SACA,UACA,WACA,UACA,UACA,WACA,SACA,UACA,WACA,WACA,YACA,WACA,YACA,WACA,WACA,YACA,UACA,WACA,YACA,SACA,WACA,YACA,UACA,QACA,YACA,SACA,WACA,YACA,SACA,UACA,YACA,YACA,YACA,SACA,YACA,WACA,UACA,UACA,YACA,YACA,QACA,SACA,UACA,WACA,YACA,SACA,UACA,UACA,WACA,SACA,SACA,SACA,WACA,YACA,SACA,OACA,QACA,UACA,WACA,UACA,SACA,SACA,UACA,SACA,UACA,WACA,UACA,UACA,WACA,WACA,UACA,SACA,UACA,SACA,WACA,SACA,SACA,UACA,QACA,SACA,WACA,UACA,SACA,SACA,YACA,UACA,SACA,QACA,UACA,OACA,YACA,OACA,QACA,QACA,UACA,UACA,UACA,SACA,SACA,QACA,UACA,SACA,SACA,WACA,WACA,WACA,YACA,UACA,YACA,UACA,QACA,SACA,SACA,YACA,QACA,UACA,SACA,SACA,WACA,UACA,YACA,WACA,WACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,SACA,WACA,OACA,QACA,SACA,YACA,SACA,WACA,SACA,WACA,UACA,SACA,YACA,WACA,WACA,YACA,UACA,QACA,QACA,YACA,WACA,UACA,UACA,SACA,QACA,UACA,SACA,YACA,WACA,UACA,OACA,SACA,OACA,UACA,OACA,WACA,YACA,SACA,QACA,OACA,WACA,UACA,QACA,WACA,SACA,UACA,WACA,YACA,WACA,UACA,UACA,YACA,WACA,UACA,UACA,YACA,WACA,SACA,SACA,QACA,QACA,UACA,WACA,QACA,OACA,YACA,UACA,WACA,UACA,UACA,SACA,WACA,UACA,QACA,QACA,WACA,WACA,UACA,WACA,YACA,UACA,YACA,QACA,WACA,WACA,UACA,WACA,QACA,UACA,OACA,WACA,SACA,UACA,UACA,QACA,SACA,UACA,QACA,QACA,SACA,YACA,MACA,QACA,SACA,QACA,QACA,QACA,SACA,QACA,OACA,SACA,OACA,UACA,SACA,SACA,QACA,OACA,UACA,SACA,UACA,SACA,WACA,YACA,YACA,WACA,YACA,UACA,SACA,SACA,YACA,UACA,UACA,WACA,YACA,UACA,OACA,UACA,QACA,QACA,WACA,SACA,OACA,WACA,SACA,OACA,QACA,QACA,WACA,QACA,YACA,SACA,QACA,WACA,UACA,QACA,WACA,UACA,WACA,SACA,MACA,OACA,SACA,QACA,SACA,QACA,QACA,YACA,UACA,OACA,OACA,YACA,WACA,UACA,SACA,WACA,WACA,WACA,WACA,SACA,WACA,SACA,YACA,UACA,SACA,YACA,OACA,OACA,QACA,UACA,OACA,OACA,UACA,SACA,WACA,SACA,OACA,QACA,WACA,SACA,OACA,SACA,OACA,OACA,WACA,QACA,UACA,SACA,SACA,WACA,SACA,MACA,OACA,YACA,YACA,YACA,YACA,YACA,UACA,OACA,OACA,SACA,OACA,QACA,OACA,OACA,UACA,UACA,YACA,QACA,YACA,YACA,QACA,QACA,QACA,MACA,UACA,QACA,SACA,WACA,UACA,WACA,SACA,UACA,UACA,UACA,UACA,QACA,UACA,UACA,YACA,UACA,WACA,UACA,YACA,UACA,OACA,QACA,QACA,MACA,UACA,UACA,OACA,OACA,OACA,WACA,WACA,SACA,WACA,QACA,UACA,OACA,MACA,YACA,UACA,QACA,MACA,SACA,QACA,QACA,OACA,SACA,SACA,OACA,QACA,MACA,UACA,QACA,MACA,WACA,OACA,YACA,QACA,YACA,UACA,UACA,QACA,OACA,MACA,SACA,SACA,OACA,SACA,YACA,YACA,UACA,S,68CCjmPJ,aAEA,QAOA,aAUI,WAAoB71E,EAAgCuwB,EACxCimD,GADQ,KAAAx2E,aAAgC,KAAAuwB,iBACxC,KAAAimD,uBAoGhB,OAlGI,YAAAC,eAAA,WACI,OAAwB,MAApBhyF,KAAKiyF,YACEjyF,KAAKiyF,YACLjyF,KAAK+Z,QACL/Z,KAAK+Z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O1sB,KAAK4E,aAAaq8F,EAAQc,aAAad,EAAQ9hG,aACzE,IAInB,EApRA,CAAqD,EAAAkL,cAA/B,EAAA+3F,0B,8ECXtB,aAAS,EAAAllD,eAAA,EAAAA,eACT,YAAS,EAAAhlC,SAAA,EAAAA,SACT,aAAS,EAAA5P,WAAA,EAAAA,WACT,aAAS,EAAAc,UAAA,EAAAA,UACT,aAAS,EAAAgc,aAAA,EAAAA,aACT,aAAS,EAAArgB,aAAA,EAAAA,aACT,aAAS,EAAA4D,UAAA,EAAAA,UACT,YAAS,EAAAuB,eAAA,EAAAA,eACT,cAAS,EAAAwrE,KAAA,EAAAA,M,uFCRT,SAAY2sB,GACR,2CACA,2CACA,yCACA,2CACA,iCAEA,6BACA,iCACA,2CACA,2CACA,2CACA,oCAEA,wBAEA,wCACA,wCACA,wCAlBJ,CAAY,EAAAA,mBAAA,EAAAA,iBAAgB,M,wGCA5B,WAGA,OACA,OACA,OAGA,EAAQ,K,qBAKJ,EAAAC,iBAGJ,EAAAC,kBAAyBC,gBAAgB,EAAD,UAAY,CAAEC,qBAAqB,K,iGChB3E,OAEA,WACA,SAEA,SAEA,SAEA,GADA,KACA,OACA,QACA,SAEA,SAEA,UACA,QAEA,SACA,SAEA,SACA,SACA,SACA,SACA,SAEA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SAEA,SAGA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SAEA,SACA,SACA,SACA,SACA,SACA,SACA,UACA,UACA,UAIA,UACA,UAGA,UACA,UAGA,UAGA,UACA,UAGA,UAIA,UACA,UACA,UACA,UACA,UACA,UAEA,UACA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAEA,SACA,UAEA,SACA,SACA,SACA,WACA,WACA,UACA,SACA,UACA,SACA,SACA,UAEA,UACA,SACA,WACA,UAEA,QAIA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,W,gBAEA,GAAAC,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAY,SAC/B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAY,SAC/B,GAAAA,mBAAmB,WAAY,SAC/B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAU,MAC7B,GAAAA,mBAAmB,WAAY,SAC/B,GAAAA,mBAAmB,WAAY,SAE/B,gC,wCA+MaC,EAAS,WAFN,EAAAC,gB,8DAEHD,IAAS,UAHP,CAAC,GAAAE,UAAS,SA3MZ,CACL,EAAAC,cACA,EAAAC,wBACA,EAAAC,YACA,EAAAC,iBACA,EAAAC,eACA,EAAAC,cAAcC,UACd,EAAAC,qBACA,EAAAC,mB,EATR,GA+Ma,EAAAX,c,iEAAAA,GAAS,eAnMd,GAAAthG,mBACA,EAAAqnD,yBACA,GAAA8f,gBACA,EAAAzf,4BACA,GAAA4Q,iBACA,EAAA3O,qBACA,GAAA5S,mBACA,GAAAlhB,iBACA,GAAAyhB,uBACA,EAAAqkB,qBACA,GAAAtjB,uBACA,GAAA34C,mBACA,GAAA2zC,gBACA,EAAAkuD,aACA,GAAArhD,qBACA,GAAAvvC,mBACA,EAAAyQ,gBACA,GAAA8gF,mBACA,GAAAC,gBACA,GAAA3zB,sBACA,GAAA9qB,qBACA,GAAAhB,oBACA,GAAAc,kBACA,GAAAT,qBACA,GAAAK,mBACA,GAAAniD,iBACA,GAAAyoE,qBACA,GAAAgC,mBACA,GAAAt7B,wBACA,EAAA0qB,oBACA,GAAAz+B,iBACA,GAAAulB,qBACA,GAAA+C,kBACA,GAAAknB,4BACA,GAAA3D,6BACA,GAAAE,uBACA,EAAA7Q,4BACA,GAAAiV,qBACA,EAAAjR,yBACA,GAAAiY,gCACA,GAAAnB,oCACA,GAAAyC,yBACA,GAAAlB,gCACA,GAAAa,iCACA,GAAA5B,6BACA,GAAAX,0BACA,GAAA33B,gBACA,GAAAS,gCACA,GAAA2kB,qBACA,GAAAuQ,uBACA,EAAAzhC,gBACA,EAAA2W,wBACA,GAAAva,mBACA,EAAA8c,cACA,GAAA9oD,SACA,GAAAua,cACA,GAAAglC,gBACA,GAAAY,iCACA,GAAA9uC,uBACA,GAAAu9D,iBACA,EAAA1lB,cACA,EAAAS,eACA,EAAAxyC,eACA,EAAAs4B,gBACA,GAAAi/B,iBACA,mBACA,oBACA,EAAAhV,6BACA,GAAArwB,2BACA,GAAAsyB,kCACA,wBACA,oBACA,6BACA,wBACA,wBACA,uBACA,kBACA,mBACA,mCACA,mBACA,oCACA,wBACA,sBACA,kBACA,uBACA,kBACA,kBACA,sBACA,oBACA,kCACA,qBACA,kBACA,2BACA,uBACA,uBACA,sBACA,GAAArsB,uBACA,EAAAuY,4BACA,oCACA,kBACA,gCACA,GAAAqoB,2BACA,GAAAJ,kCACA,EAAA5hD,0BACA,GAAA3N,iBACA,GAAA4uD,iBACA,GAAAjF,iBACA,GAAAx1B,oBACA,EAAAoV,uBACA,EAAAG,0BACA,EAAAY,kBACA,GA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","file":"app/main.e13181d2a73040648c3e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([753,2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export abstract class I18nService {\n    locale: string;\n    supportedTranslationLocales: string[];\n    translationLocale: string;\n    collator: Intl.Collator;\n    localeNames: Map<string, string>;\n    t: (id: string, p1?: string, p2?: string, p3?: string) => string;\n    translate: (id: string, p1?: string, p2?: string, p3?: string) => string;\n}\n","import { DeviceType } from '../enums/deviceType';\n\nexport abstract class PlatformUtilsService {\n    identityClientId: string;\n    getDevice: () => DeviceType;\n    getDeviceString: () => string;\n    isFirefox: () => boolean;\n    isChrome: () => boolean;\n    isEdge: () => boolean;\n    isOpera: () => boolean;\n    isVivaldi: () => boolean;\n    isSafari: () => boolean;\n    isIE: () => boolean;\n    isMacAppStore: () => boolean;\n    isViewOpen: () => Promise<boolean>;\n    /**\n     * @deprecated This only ever returns null. Pull from your platform's storage using ConstantsService.vaultTimeoutKey\n     */\n    lockTimeout: () => number;\n    launchUri: (uri: string, options?: any) => void;\n    saveFile: (win: Window, blobData: any, blobOptions: any, fileName: string) => void;\n    getApplicationVersion: () => Promise<string>;\n    supportsWebAuthn: (win: Window) => boolean;\n    supportsDuo: () => boolean;\n    showToast: (type: 'error' | 'success' | 'warning' | 'info', title: string, text: string | string[],\n        options?: any) => void;\n    showDialog: (body: string, title?: string, confirmText?: string, cancelText?: string,\n        type?: string, bodyIsHtml?: boolean) => Promise<boolean>;\n    isDev: () => boolean;\n    isSelfHost: () => boolean;\n    copyToClipboard: (text: string, options?: any) => void;\n    readFromClipboard: (options?: any) => Promise<string>;\n    supportsBiometric: () => Promise<boolean>;\n    authenticateBiometric: () => Promise<boolean>;\n    getDefaultSystemTheme: () => Promise<'light' | 'dark'>;\n    onDefaultSystemThemeChange: (callback: ((theme: 'light' | 'dark') => unknown)) => unknown;\n    supportsSecureStorage: () => boolean;\n}\n","import { PolicyType } from '../enums/policyType';\n\nimport { EnvironmentUrls } from '../models/domain/environmentUrls';\nimport { AttachmentRequest } from '../models/request/attachmentRequest';\n\nimport { BitPayInvoiceRequest } from '../models/request/bitPayInvoiceRequest';\nimport { CipherBulkDeleteRequest } from '../models/request/cipherBulkDeleteRequest';\nimport { CipherBulkMoveRequest } from '../models/request/cipherBulkMoveRequest';\nimport { CipherBulkRestoreRequest } from '../models/request/cipherBulkRestoreRequest';\nimport { CipherBulkShareRequest } from '../models/request/cipherBulkShareRequest';\nimport { CipherCollectionsRequest } from '../models/request/cipherCollectionsRequest';\nimport { CipherCreateRequest } from '../models/request/cipherCreateRequest';\nimport { CipherRequest } from '../models/request/cipherRequest';\nimport { CipherShareRequest } from '../models/request/cipherShareRequest';\nimport { CollectionRequest } from '../models/request/collectionRequest';\nimport { DeleteRecoverRequest } from '../models/request/deleteRecoverRequest';\nimport { EmailRequest } from '../models/request/emailRequest';\nimport { EmailTokenRequest } from '../models/request/emailTokenRequest';\nimport { EmergencyAccessAcceptRequest } from '../models/request/emergencyAccessAcceptRequest';\nimport { EmergencyAccessConfirmRequest } from '../models/request/emergencyAccessConfirmRequest';\nimport { EmergencyAccessInviteRequest } from '../models/request/emergencyAccessInviteRequest';\nimport { EmergencyAccessPasswordRequest } from '../models/request/emergencyAccessPasswordRequest';\nimport { EmergencyAccessUpdateRequest } from '../models/request/emergencyAccessUpdateRequest';\nimport { EventRequest } from '../models/request/eventRequest';\nimport { FolderRequest } from '../models/request/folderRequest';\nimport { GroupRequest } from '../models/request/groupRequest';\nimport { IapCheckRequest } from '../models/request/iapCheckRequest';\nimport { ImportCiphersRequest } from '../models/request/importCiphersRequest';\nimport { ImportDirectoryRequest } from '../models/request/importDirectoryRequest';\nimport { ImportOrganizationCiphersRequest } from '../models/request/importOrganizationCiphersRequest';\nimport { KdfRequest } from '../models/request/kdfRequest';\nimport { KeysRequest } from '../models/request/keysRequest';\nimport { OrganizationCreateRequest } from '../models/request/organizationCreateRequest';\nimport { OrganizationTaxInfoUpdateRequest } from '../models/request/organizationTaxInfoUpdateRequest';\nimport { OrganizationUpdateRequest } from '../models/request/organizationUpdateRequest';\nimport { OrganizationUpgradeRequest } from '../models/request/organizationUpgradeRequest';\nimport { OrganizationUserAcceptRequest } from '../models/request/organizationUserAcceptRequest';\nimport { OrganizationUserConfirmRequest } from '../models/request/organizationUserConfirmRequest';\nimport { OrganizationUserInviteRequest } from '../models/request/organizationUserInviteRequest';\nimport { OrganizationUserResetPasswordEnrollmentRequest } from '../models/request/organizationUserResetPasswordEnrollmentRequest';\nimport { OrganizationUserUpdateGroupsRequest } from '../models/request/organizationUserUpdateGroupsRequest';\nimport { OrganizationUserUpdateRequest } from '../models/request/organizationUserUpdateRequest';\nimport { PasswordHintRequest } from '../models/request/passwordHintRequest';\nimport { PasswordRequest } from '../models/request/passwordRequest';\nimport { PasswordVerificationRequest } from '../models/request/passwordVerificationRequest';\nimport { PaymentRequest } from '../models/request/paymentRequest';\nimport { PolicyRequest } from '../models/request/policyRequest';\nimport { PreloginRequest } from '../models/request/preloginRequest';\nimport { RegisterRequest } from '../models/request/registerRequest';\nimport { SeatRequest } from '../models/request/seatRequest';\nimport { SelectionReadOnlyRequest } from '../models/request/selectionReadOnlyRequest';\nimport { SendAccessRequest } from '../models/request/sendAccessRequest';\nimport { SendRequest } from '../models/request/sendRequest';\nimport { SetPasswordRequest } from '../models/request/setPasswordRequest';\nimport { StorageRequest } from '../models/request/storageRequest';\nimport { TaxInfoUpdateRequest } from '../models/request/taxInfoUpdateRequest';\nimport { TokenRequest } from '../models/request/tokenRequest';\nimport { TwoFactorEmailRequest } from '../models/request/twoFactorEmailRequest';\nimport { TwoFactorProviderRequest } from '../models/request/twoFactorProviderRequest';\nimport { TwoFactorRecoveryRequest } from '../models/request/twoFactorRecoveryRequest';\nimport { UpdateDomainsRequest } from '../models/request/updateDomainsRequest';\nimport { UpdateKeyRequest } from '../models/request/updateKeyRequest';\nimport { UpdateProfileRequest } from '../models/request/updateProfileRequest';\nimport { UpdateTwoFactorAuthenticatorRequest } from '../models/request/updateTwoFactorAuthenticatorRequest';\nimport { UpdateTwoFactorDuoRequest } from '../models/request/updateTwoFactorDuoRequest';\nimport { UpdateTwoFactorEmailRequest } from '../models/request/updateTwoFactorEmailRequest';\nimport { UpdateTwoFactorWebAuthnDeleteRequest } from '../models/request/updateTwoFactorWebAuthnDeleteRequest';\nimport { UpdateTwoFactorWebAuthnRequest } from '../models/request/updateTwoFactorWebAuthnRequest';\nimport { UpdateTwoFactorYubioOtpRequest } from '../models/request/updateTwoFactorYubioOtpRequest';\nimport { VerifyBankRequest } from '../models/request/verifyBankRequest';\nimport { VerifyDeleteRecoverRequest } from '../models/request/verifyDeleteRecoverRequest';\nimport { VerifyEmailRequest } from '../models/request/verifyEmailRequest';\n\nimport { ApiKeyResponse } from '../models/response/apiKeyResponse';\nimport { AttachmentResponse } from '../models/response/attachmentResponse';\nimport { AttachmentUploadDataResponse } from '../models/response/attachmentUploadDataResponse';\nimport { BillingResponse } from '../models/response/billingResponse';\nimport { BreachAccountResponse } from '../models/response/breachAccountResponse';\nimport { CipherResponse } from '../models/response/cipherResponse';\nimport {\n    CollectionGroupDetailsResponse,\n    CollectionResponse,\n} from '../models/response/collectionResponse';\nimport { DomainsResponse } from '../models/response/domainsResponse';\nimport {\n    EmergencyAccessGranteeDetailsResponse,\n    EmergencyAccessGrantorDetailsResponse,\n    EmergencyAccessTakeoverResponse,\n    EmergencyAccessViewResponse\n} from '../models/response/emergencyAccessResponse';\nimport { EventResponse } from '../models/response/eventResponse';\nimport { FolderResponse } from '../models/response/folderResponse';\nimport {\n    GroupDetailsResponse,\n    GroupResponse,\n} from '../models/response/groupResponse';\nimport { IdentityTokenResponse } from '../models/response/identityTokenResponse';\nimport { IdentityTwoFactorResponse } from '../models/response/identityTwoFactorResponse';\nimport { ListResponse } from '../models/response/listResponse';\nimport { OrganizationResponse } from '../models/response/organizationResponse';\nimport { OrganizationSubscriptionResponse } from '../models/response/organizationSubscriptionResponse';\nimport {\n    OrganizationUserDetailsResponse,\n    OrganizationUserUserDetailsResponse,\n} from '../models/response/organizationUserResponse';\nimport { PaymentResponse } from '../models/response/paymentResponse';\nimport { PlanResponse } from '../models/response/planResponse';\nimport { PolicyResponse } from '../models/response/policyResponse';\nimport { PreloginResponse } from '../models/response/preloginResponse';\nimport { ProfileResponse } from '../models/response/profileResponse';\nimport { SelectionReadOnlyResponse } from '../models/response/selectionReadOnlyResponse';\nimport { SendAccessResponse } from '../models/response/sendAccessResponse';\nimport { SendFileDownloadDataResponse } from '../models/response/sendFileDownloadDataResponse';\nimport { SendFileUploadDataResponse } from '../models/response/sendFileUploadDataResponse';\nimport { SendResponse } from '../models/response/sendResponse';\nimport { SubscriptionResponse } from '../models/response/subscriptionResponse';\nimport { SyncResponse } from '../models/response/syncResponse';\nimport { TaxInfoResponse } from '../models/response/taxInfoResponse';\nimport { TaxRateResponse } from '../models/response/taxRateResponse';\nimport { TwoFactorAuthenticatorResponse } from '../models/response/twoFactorAuthenticatorResponse';\nimport { TwoFactorDuoResponse } from '../models/response/twoFactorDuoResponse';\nimport { TwoFactorEmailResponse } from '../models/response/twoFactorEmailResponse';\nimport { TwoFactorProviderResponse } from '../models/response/twoFactorProviderResponse';\nimport { TwoFactorRecoverResponse } from '../models/response/twoFactorRescoverResponse';\nimport { ChallengeResponse, TwoFactorWebAuthnResponse } from '../models/response/twoFactorWebAuthnResponse';\nimport { TwoFactorYubiKeyResponse } from '../models/response/twoFactorYubiKeyResponse';\nimport { UserKeyResponse } from '../models/response/userKeyResponse';\n\nimport { SendAccessView } from '../models/view/sendAccessView';\n\nexport abstract class ApiService {\n    urlsSet: boolean;\n    apiBaseUrl: string;\n    identityBaseUrl: string;\n    eventsBaseUrl: string;\n\n    setUrls: (urls: EnvironmentUrls) => void;\n    postIdentityToken: (request: TokenRequest) => Promise<IdentityTokenResponse | IdentityTwoFactorResponse>;\n    refreshIdentityToken: () => Promise<any>;\n\n    getProfile: () => Promise<ProfileResponse>;\n    getUserBilling: () => Promise<BillingResponse>;\n    getUserSubscription: () => Promise<SubscriptionResponse>;\n    getTaxInfo: () => Promise<TaxInfoResponse>;\n    putProfile: (request: UpdateProfileRequest) => Promise<ProfileResponse>;\n    putTaxInfo: (request: TaxInfoUpdateRequest) => Promise<any>;\n    postPrelogin: (request: PreloginRequest) => Promise<PreloginResponse>;\n    postEmailToken: (request: EmailTokenRequest) => Promise<any>;\n    postEmail: (request: EmailRequest) => Promise<any>;\n    postPassword: (request: PasswordRequest) => Promise<any>;\n    setPassword: (request: SetPasswordRequest) => Promise<any>;\n    postSecurityStamp: (request: PasswordVerificationRequest) => Promise<any>;\n    deleteAccount: (request: PasswordVerificationRequest) => Promise<any>;\n    getAccountRevisionDate: () => Promise<number>;\n    postPasswordHint: (request: PasswordHintRequest) => Promise<any>;\n    postRegister: (request: RegisterRequest) => Promise<any>;\n    postPremium: (data: FormData) => Promise<PaymentResponse>;\n    postIapCheck: (request: IapCheckRequest) => Promise<any>;\n    postReinstatePremium: () => Promise<any>;\n    postCancelPremium: () => Promise<any>;\n    postAccountStorage: (request: StorageRequest) => Promise<PaymentResponse>;\n    postAccountPayment: (request: PaymentRequest) => Promise<any>;\n    postAccountLicense: (data: FormData) => Promise<any>;\n    postAccountKey: (request: UpdateKeyRequest) => Promise<any>;\n    postAccountKeys: (request: KeysRequest) => Promise<any>;\n    postAccountVerifyEmail: () => Promise<any>;\n    postAccountVerifyEmailToken: (request: VerifyEmailRequest) => Promise<any>;\n    postAccountVerifyPassword: (request: PasswordVerificationRequest) => Promise<any>;\n    postAccountRecoverDelete: (request: DeleteRecoverRequest) => Promise<any>;\n    postAccountRecoverDeleteToken: (request: VerifyDeleteRecoverRequest) => Promise<any>;\n    postAccountKdf: (request: KdfRequest) => Promise<any>;\n    getEnterprisePortalSignInToken: () => Promise<string>;\n    postUserApiKey: (id: string, request: PasswordVerificationRequest) => Promise<ApiKeyResponse>;\n    postUserRotateApiKey: (id: string, request: PasswordVerificationRequest) => Promise<ApiKeyResponse>;\n\n    getFolder: (id: string) => Promise<FolderResponse>;\n    postFolder: (request: FolderRequest) => Promise<FolderResponse>;\n    putFolder: (id: string, request: FolderRequest) => Promise<FolderResponse>;\n    deleteFolder: (id: string) => Promise<any>;\n\n    getSend: (id: string) => Promise<SendResponse>;\n    postSendAccess: (id: string, request: SendAccessRequest, apiUrl?: string) => Promise<SendAccessResponse>;\n    getSends: () => Promise<ListResponse<SendResponse>>;\n    postSend: (request: SendRequest) => Promise<SendResponse>;\n    postFileTypeSend: (request: SendRequest) => Promise<SendFileUploadDataResponse>;\n    postSendFile: (sendId: string, fileId: string, data: FormData) => Promise<any>;\n    /**\n     * @deprecated Mar 25 2021: This method has been deprecated in favor of direct uploads.\n     * This method still exists for backward compatibility with old server versions.\n     */\n    postSendFileLegacy: (data: FormData) => Promise<SendResponse>;\n    putSend: (id: string, request: SendRequest) => Promise<SendResponse>;\n    putSendRemovePassword: (id: string) => Promise<SendResponse>;\n    deleteSend: (id: string) => Promise<any>;\n    getSendFileDownloadData: (send: SendAccessView, request: SendAccessRequest, apiUrl?: string) => Promise<SendFileDownloadDataResponse>;\n    renewSendFileUploadUrl: (sendId: string, fileId: string) => Promise<SendFileUploadDataResponse>;\n\n    getCipher: (id: string) => Promise<CipherResponse>;\n    getCipherAdmin: (id: string) => Promise<CipherResponse>;\n    getAttachmentData: (cipherId: string, attachmentId: string, emergencyAccessId?: string) => Promise<AttachmentResponse>;\n    getCiphersOrganization: (organizationId: string) => Promise<ListResponse<CipherResponse>>;\n    postCipher: (request: CipherRequest) => Promise<CipherResponse>;\n    postCipherCreate: (request: CipherCreateRequest) => Promise<CipherResponse>;\n    postCipherAdmin: (request: CipherCreateRequest) => Promise<CipherResponse>;\n    putCipher: (id: string, request: CipherRequest) => Promise<CipherResponse>;\n    putCipherAdmin: (id: string, request: CipherRequest) => Promise<CipherResponse>;\n    deleteCipher: (id: string) => Promise<any>;\n    deleteCipherAdmin: (id: string) => Promise<any>;\n    deleteManyCiphers: (request: CipherBulkDeleteRequest) => Promise<any>;\n    deleteManyCiphersAdmin: (request: CipherBulkDeleteRequest) => Promise<any>;\n    putMoveCiphers: (request: CipherBulkMoveRequest) => Promise<any>;\n    putShareCipher: (id: string, request: CipherShareRequest) => Promise<CipherResponse>;\n    putShareCiphers: (request: CipherBulkShareRequest) => Promise<any>;\n    putCipherCollections: (id: string, request: CipherCollectionsRequest) => Promise<any>;\n    putCipherCollectionsAdmin: (id: string, request: CipherCollectionsRequest) => Promise<any>;\n    postPurgeCiphers: (request: PasswordVerificationRequest, organizationId?: string) => Promise<any>;\n    postImportCiphers: (request: ImportCiphersRequest) => Promise<any>;\n    postImportOrganizationCiphers: (organizationId: string, request: ImportOrganizationCiphersRequest) => Promise<any>;\n    putDeleteCipher: (id: string) => Promise<any>;\n    putDeleteCipherAdmin: (id: string) => Promise<any>;\n    putDeleteManyCiphers: (request: CipherBulkDeleteRequest) => Promise<any>;\n    putDeleteManyCiphersAdmin: (request: CipherBulkDeleteRequest) => Promise<any>;\n    putRestoreCipher: (id: string) => Promise<CipherResponse>;\n    putRestoreCipherAdmin: (id: string) => Promise<CipherResponse>;\n    putRestoreManyCiphers: (request: CipherBulkRestoreRequest) => Promise<ListResponse<CipherResponse>>;\n\n    /**\n     * @deprecated Mar 25 2021: This method has been deprecated in favor of direct uploads.\n     * This method still exists for backward compatibility with old server versions.\n     */\n    postCipherAttachmentLegacy: (id: string, data: FormData) => Promise<CipherResponse>;\n    /**\n     * @deprecated Mar 25 2021: This method has been deprecated in favor of direct uploads.\n     * This method still exists for backward compatibility with old server versions.\n     */\n    postCipherAttachmentAdminLegacy: (id: string, data: FormData) => Promise<CipherResponse>;\n    postCipherAttachment: (id: string, request: AttachmentRequest) => Promise<AttachmentUploadDataResponse>;\n    deleteCipherAttachment: (id: string, attachmentId: string) => Promise<any>;\n    deleteCipherAttachmentAdmin: (id: string, attachmentId: string) => Promise<any>;\n    postShareCipherAttachment: (id: string, attachmentId: string, data: FormData,\n        organizationId: string) => Promise<any>;\n    renewAttachmentUploadUrl: (id: string, attachmentId: string) => Promise<AttachmentUploadDataResponse>;\n    postAttachmentFile: (id: string, attachmentId: string, data: FormData) => Promise<any>;\n\n    getCollectionDetails: (organizationId: string, id: string) => Promise<CollectionGroupDetailsResponse>;\n    getUserCollections: () => Promise<ListResponse<CollectionResponse>>;\n    getCollections: (organizationId: string) => Promise<ListResponse<CollectionResponse>>;\n    getCollectionUsers: (organizationId: string, id: string) => Promise<SelectionReadOnlyResponse[]>;\n    postCollection: (organizationId: string, request: CollectionRequest) => Promise<CollectionResponse>;\n    putCollectionUsers: (organizationId: string, id: string, request: SelectionReadOnlyRequest[]) => Promise<any>;\n    putCollection: (organizationId: string, id: string, request: CollectionRequest) => Promise<CollectionResponse>;\n    deleteCollection: (organizationId: string, id: string) => Promise<any>;\n    deleteCollectionUser: (organizationId: string, id: string, organizationUserId: string) => Promise<any>;\n\n    getGroupDetails: (organizationId: string, id: string) => Promise<GroupDetailsResponse>;\n    getGroups: (organizationId: string) => Promise<ListResponse<GroupResponse>>;\n    getGroupUsers: (organizationId: string, id: string) => Promise<string[]>;\n    postGroup: (organizationId: string, request: GroupRequest) => Promise<GroupResponse>;\n    putGroup: (organizationId: string, id: string, request: GroupRequest) => Promise<GroupResponse>;\n    putGroupUsers: (organizationId: string, id: string, request: string[]) => Promise<any>;\n    deleteGroup: (organizationId: string, id: string) => Promise<any>;\n    deleteGroupUser: (organizationId: string, id: string, organizationUserId: string) => Promise<any>;\n\n    getPolicy: (organizationId: string, type: PolicyType) => Promise<PolicyResponse>;\n    getPolicies: (organizationId: string) => Promise<ListResponse<PolicyResponse>>;\n    getPoliciesByToken: (organizationId: string, token: string, email: string, organizationUserId: string) =>\n        Promise<ListResponse<PolicyResponse>>;\n    putPolicy: (organizationId: string, type: PolicyType, request: PolicyRequest) => Promise<PolicyResponse>;\n\n    getOrganizationUser: (organizationId: string, id: string) => Promise<OrganizationUserDetailsResponse>;\n    getOrganizationUserGroups: (organizationId: string, id: string) => Promise<string[]>;\n    getOrganizationUsers: (organizationId: string) => Promise<ListResponse<OrganizationUserUserDetailsResponse>>;\n    postOrganizationUserInvite: (organizationId: string, request: OrganizationUserInviteRequest) => Promise<any>;\n    postOrganizationUserReinvite: (organizationId: string, id: string) => Promise<any>;\n    postOrganizationUserAccept: (organizationId: string, id: string,\n        request: OrganizationUserAcceptRequest) => Promise<any>;\n    postOrganizationUserConfirm: (organizationId: string, id: string,\n        request: OrganizationUserConfirmRequest) => Promise<any>;\n    putOrganizationUser: (organizationId: string, id: string, request: OrganizationUserUpdateRequest) => Promise<any>;\n    putOrganizationUserGroups: (organizationId: string, id: string,\n        request: OrganizationUserUpdateGroupsRequest) => Promise<any>;\n    putOrganizationUserResetPasswordEnrollment: (organizationId: string, userId: string,\n        request: OrganizationUserResetPasswordEnrollmentRequest) => Promise<any>;\n    deleteOrganizationUser: (organizationId: string, id: string) => Promise<any>;\n\n    getSync: () => Promise<SyncResponse>;\n    postImportDirectory: (organizationId: string, request: ImportDirectoryRequest) => Promise<any>;\n\n    getSettingsDomains: () => Promise<DomainsResponse>;\n    putSettingsDomains: (request: UpdateDomainsRequest) => Promise<DomainsResponse>;\n\n    getTwoFactorProviders: () => Promise<ListResponse<TwoFactorProviderResponse>>;\n    getTwoFactorOrganizationProviders: (organizationId: string) => Promise<ListResponse<TwoFactorProviderResponse>>;\n    getTwoFactorAuthenticator: (request: PasswordVerificationRequest) => Promise<TwoFactorAuthenticatorResponse>;\n    getTwoFactorEmail: (request: PasswordVerificationRequest) => Promise<TwoFactorEmailResponse>;\n    getTwoFactorDuo: (request: PasswordVerificationRequest) => Promise<TwoFactorDuoResponse>;\n    getTwoFactorOrganizationDuo: (organizationId: string,\n        request: PasswordVerificationRequest) => Promise<TwoFactorDuoResponse>;\n    getTwoFactorYubiKey: (request: PasswordVerificationRequest) => Promise<TwoFactorYubiKeyResponse>;\n    getTwoFactorWebAuthn: (request: PasswordVerificationRequest) => Promise<TwoFactorWebAuthnResponse>;\n    getTwoFactorWebAuthnChallenge: (request: PasswordVerificationRequest) => Promise<ChallengeResponse>;\n    getTwoFactorRecover: (request: PasswordVerificationRequest) => Promise<TwoFactorRecoverResponse>;\n    putTwoFactorAuthenticator: (\n        request: UpdateTwoFactorAuthenticatorRequest) => Promise<TwoFactorAuthenticatorResponse>;\n    putTwoFactorEmail: (request: UpdateTwoFactorEmailRequest) => Promise<TwoFactorEmailResponse>;\n    putTwoFactorDuo: (request: UpdateTwoFactorDuoRequest) => Promise<TwoFactorDuoResponse>;\n    putTwoFactorOrganizationDuo: (organizationId: string,\n        request: UpdateTwoFactorDuoRequest) => Promise<TwoFactorDuoResponse>;\n    putTwoFactorYubiKey: (request: UpdateTwoFactorYubioOtpRequest) => Promise<TwoFactorYubiKeyResponse>;\n    putTwoFactorWebAuthn: (request: UpdateTwoFactorWebAuthnRequest) => Promise<TwoFactorWebAuthnResponse>;\n    deleteTwoFactorWebAuthn: (request: UpdateTwoFactorWebAuthnDeleteRequest) => Promise<TwoFactorWebAuthnResponse>;\n    putTwoFactorDisable: (request: TwoFactorProviderRequest) => Promise<TwoFactorProviderResponse>;\n    putTwoFactorOrganizationDisable: (organizationId: string,\n        request: TwoFactorProviderRequest) => Promise<TwoFactorProviderResponse>;\n    postTwoFactorRecover: (request: TwoFactorRecoveryRequest) => Promise<any>;\n    postTwoFactorEmailSetup: (request: TwoFactorEmailRequest) => Promise<any>;\n    postTwoFactorEmail: (request: TwoFactorEmailRequest) => Promise<any>;\n\n    getEmergencyAccessTrusted: () => Promise<ListResponse<EmergencyAccessGranteeDetailsResponse>>;\n    getEmergencyAccessGranted: () => Promise<ListResponse<EmergencyAccessGrantorDetailsResponse>>;\n    getEmergencyAccess: (id: string) => Promise<EmergencyAccessGranteeDetailsResponse>;\n    getEmergencyGrantorPolicies: (id: string) => Promise<ListResponse<PolicyResponse>>;\n    putEmergencyAccess: (id: string, request: EmergencyAccessUpdateRequest) => Promise<any>;\n    deleteEmergencyAccess: (id: string) => Promise<any>;\n    postEmergencyAccessInvite: (request: EmergencyAccessInviteRequest) => Promise<any>;\n    postEmergencyAccessReinvite: (id: string) => Promise<any>;\n    postEmergencyAccessAccept: (id: string, request: EmergencyAccessAcceptRequest) => Promise<any>;\n    postEmergencyAccessConfirm: (id: string, request: EmergencyAccessConfirmRequest) => Promise<any>;\n    postEmergencyAccessInitiate: (id: string) => Promise<any>;\n    postEmergencyAccessApprove: (id: string) => Promise<any>;\n    postEmergencyAccessReject: (id: string) => Promise<any>;\n    postEmergencyAccessTakeover: (id: string) => Promise<EmergencyAccessTakeoverResponse>;\n    postEmergencyAccessPassword: (id: string, request: EmergencyAccessPasswordRequest) => Promise<any>;\n    postEmergencyAccessView: (id: string) => Promise<EmergencyAccessViewResponse>;\n\n    getOrganization: (id: string) => Promise<OrganizationResponse>;\n    getOrganizationBilling: (id: string) => Promise<BillingResponse>;\n    getOrganizationSubscription: (id: string) => Promise<OrganizationSubscriptionResponse>;\n    getOrganizationLicense: (id: string, installationId: string) => Promise<any>;\n    getOrganizationTaxInfo: (id: string) => Promise<TaxInfoResponse>;\n    postOrganization: (request: OrganizationCreateRequest) => Promise<OrganizationResponse>;\n    putOrganization: (id: string, request: OrganizationUpdateRequest) => Promise<OrganizationResponse>;\n    putOrganizationTaxInfo: (id: string, request: OrganizationTaxInfoUpdateRequest) => Promise<any>;\n    postLeaveOrganization: (id: string) => Promise<any>;\n    postOrganizationLicense: (data: FormData) => Promise<OrganizationResponse>;\n    postOrganizationLicenseUpdate: (id: string, data: FormData) => Promise<any>;\n    postOrganizationApiKey: (id: string, request: PasswordVerificationRequest) => Promise<ApiKeyResponse>;\n    postOrganizationRotateApiKey: (id: string, request: PasswordVerificationRequest) => Promise<ApiKeyResponse>;\n    postOrganizationUpgrade: (id: string, request: OrganizationUpgradeRequest) => Promise<PaymentResponse>;\n    postOrganizationSeat: (id: string, request: SeatRequest) => Promise<PaymentResponse>;\n    postOrganizationStorage: (id: string, request: StorageRequest) => Promise<any>;\n    postOrganizationPayment: (id: string, request: PaymentRequest) => Promise<any>;\n    postOrganizationVerifyBank: (id: string, request: VerifyBankRequest) => Promise<any>;\n    postOrganizationCancel: (id: string) => Promise<any>;\n    postOrganizationReinstate: (id: string) => Promise<any>;\n    deleteOrganization: (id: string, request: PasswordVerificationRequest) => Promise<any>;\n    getPlans: () => Promise<ListResponse<PlanResponse>>;\n    getTaxRates: () => Promise<ListResponse<TaxRateResponse>>;\n\n    getEvents: (start: string, end: string, token: string) => Promise<ListResponse<EventResponse>>;\n    getEventsCipher: (id: string, start: string, end: string, token: string) => Promise<ListResponse<EventResponse>>;\n    getEventsOrganization: (id: string, start: string, end: string,\n        token: string) => Promise<ListResponse<EventResponse>>;\n    getEventsOrganizationUser: (organizationId: string, id: string,\n        start: string, end: string, token: string) => Promise<ListResponse<EventResponse>>;\n    postEventsCollect: (request: EventRequest[]) => Promise<any>;\n\n    deleteSsoUser: (organizationId: string) => Promise<any>;\n    getSsoUserIdentifier: () => Promise<string>;\n\n    getUserPublicKey: (id: string) => Promise<UserKeyResponse>;\n\n    getHibpBreach: (username: string) => Promise<BreachAccountResponse[]>;\n\n    postBitPayInvoice: (request: BitPayInvoiceRequest) => Promise<string>;\n    postSetupPayment: () => Promise<string>;\n\n    getActiveBearerToken: () => Promise<string>;\n    fetch: (request: Request) => Promise<Response>;\n    nativeFetch: (request: Request) => Promise<Response>;\n\n    preValidateSso: (identifier: string) => Promise<boolean>;\n}\n","import { OrganizationData } from '../models/data/organizationData';\nimport { Organization } from '../models/domain/organization';\n\nimport { KdfType } from '../enums/kdfType';\n\nexport abstract class UserService {\n    setInformation: (userId: string, email: string, kdf: KdfType, kdfIterations: number) => Promise<any>;\n    setEmailVerified: (emailVerified: boolean) => Promise<any>;\n    setSecurityStamp: (stamp: string) => Promise<any>;\n    getUserId: () => Promise<string>;\n    getEmail: () => Promise<string>;\n    getSecurityStamp: () => Promise<string>;\n    getKdf: () => Promise<KdfType>;\n    getKdfIterations: () => Promise<number>;\n    getEmailVerified: () => Promise<boolean>;\n    clear: () => Promise<any>;\n    isAuthenticated: () => Promise<boolean>;\n    canAccessPremium: () => Promise<boolean>;\n    getOrganization: (id: string) => Promise<Organization>;\n    getAllOrganizations: () => Promise<Organization[]>;\n    replaceOrganizations: (organizations: { [id: string]: OrganizationData; }) => Promise<any>;\n    clearOrganizations: (userId: string) => Promise<any>;\n}\n","import {\n    Pipe,\n    PipeTransform,\n} from '@angular/core';\n\nimport { I18nService } from '../../abstractions/i18n.service';\n\n@Pipe({\n    name: 'i18n',\n})\nexport class I18nPipe implements PipeTransform {\n    constructor(private i18nService: I18nService) { }\n\n    transform(id: string, p1?: string, p2?: string, p3?: string): string {\n        return this.i18nService.t(id, p1, p2, p3);\n    }\n}\n","export abstract class MessagingService {\n    send: (subscriber: string, arg?: any) => void;\n}\n","import {\n    Directive,\n    ElementRef,\n    Input,\n    OnChanges,\n} from '@angular/core';\n\nimport { ValidationService } from '../services/validation.service';\n\n@Directive({\n    selector: '[appApiAction]',\n})\nexport class ApiActionDirective implements OnChanges {\n    @Input() appApiAction: Promise<any>;\n\n    constructor(private el: ElementRef, private validationService: ValidationService) { }\n\n    ngOnChanges(changes: any) {\n        if (this.appApiAction == null || this.appApiAction.then == null) {\n            return;\n        }\n\n        this.el.nativeElement.loading = true;\n\n        this.appApiAction.then((response: any) => {\n            this.el.nativeElement.loading = false;\n        }, (e: any) => {\n            this.el.nativeElement.loading = false;\n            this.validationService.showError(e);\n        });\n    }\n}\n","import {\n    Directive,\n    ElementRef,\n    Input,\n    Renderer2,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appA11yTitle]',\n})\nexport class A11yTitleDirective {\n    @Input() set appA11yTitle(title: string) {\n        this.title = title;\n    }\n\n    private title: string;\n\n    constructor(private el: ElementRef, private renderer: Renderer2) { }\n\n    ngOnInit() {\n        if (!this.el.nativeElement.hasAttribute('title')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'title', this.title);\n        }\n        if (!this.el.nativeElement.hasAttribute('aria-label')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'aria-label', this.title);\n        }\n    }\n}\n","import { EncArrayBuffer } from '../models/domain/encArrayBuffer';\nimport { EncString } from '../models/domain/encString';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nimport { ProfileOrganizationResponse } from '../models/response/profileOrganizationResponse';\n\nimport { KdfType } from '../enums/kdfType';\n\nexport abstract class CryptoService {\n    setKey: (key: SymmetricCryptoKey) => Promise<any>;\n    setKeyHash: (keyHash: string) => Promise<{}>;\n    setEncKey: (encKey: string) => Promise<{}>;\n    setEncPrivateKey: (encPrivateKey: string) => Promise<{}>;\n    setOrgKeys: (orgs: ProfileOrganizationResponse[]) => Promise<{}>;\n    getKey: () => Promise<SymmetricCryptoKey>;\n    getKeyHash: () => Promise<string>;\n    getEncKey: (key?: SymmetricCryptoKey) => Promise<SymmetricCryptoKey>;\n    getPublicKey: () => Promise<ArrayBuffer>;\n    getPrivateKey: () => Promise<ArrayBuffer>;\n    getFingerprint: (userId: string, publicKey?: ArrayBuffer) => Promise<string[]>;\n    getOrgKeys: () => Promise<Map<string, SymmetricCryptoKey>>;\n    getOrgKey: (orgId: string) => Promise<SymmetricCryptoKey>;\n    hasKey: () => Promise<boolean>;\n    hasEncKey: () => Promise<boolean>;\n    clearKey: () => Promise<any>;\n    clearKeyHash: () => Promise<any>;\n    clearEncKey: (memoryOnly?: boolean) => Promise<any>;\n    clearKeyPair: (memoryOnly?: boolean) => Promise<any>;\n    clearOrgKeys: (memoryOnly?: boolean) => Promise<any>;\n    clearPinProtectedKey: () => Promise<any>;\n    clearKeys: () => Promise<any>;\n    toggleKey: () => Promise<any>;\n    makeKey: (password: string, salt: string, kdf: KdfType, kdfIterations: number) => Promise<SymmetricCryptoKey>;\n    makeKeyFromPin: (pin: string, salt: string, kdf: KdfType, kdfIterations: number,\n        protectedKeyCs?: EncString) => Promise<SymmetricCryptoKey>;\n    makeShareKey: () => Promise<[EncString, SymmetricCryptoKey]>;\n    makeKeyPair: (key?: SymmetricCryptoKey) => Promise<[string, EncString]>;\n    makePinKey: (pin: string, salt: string, kdf: KdfType, kdfIterations: number) => Promise<SymmetricCryptoKey>;\n    makeSendKey: (keyMaterial: ArrayBuffer) => Promise<SymmetricCryptoKey>;\n    hashPassword: (password: string, key: SymmetricCryptoKey) => Promise<string>;\n    makeEncKey: (key: SymmetricCryptoKey) => Promise<[SymmetricCryptoKey, EncString]>;\n    remakeEncKey: (key: SymmetricCryptoKey, encKey?: SymmetricCryptoKey) => Promise<[SymmetricCryptoKey, EncString]>;\n    encrypt: (plainValue: string | ArrayBuffer, key?: SymmetricCryptoKey) => Promise<EncString>;\n    encryptToBytes: (plainValue: ArrayBuffer, key?: SymmetricCryptoKey) => Promise<EncArrayBuffer>;\n    rsaEncrypt: (data: ArrayBuffer, publicKey?: ArrayBuffer) => Promise<EncString>;\n    rsaDecrypt: (encValue: string) => Promise<ArrayBuffer>;\n    decryptToBytes: (encString: EncString, key?: SymmetricCryptoKey) => Promise<ArrayBuffer>;\n    decryptToUtf8: (encString: EncString, key?: SymmetricCryptoKey) => Promise<string>;\n    decryptFromBytes: (encBuf: ArrayBuffer, key: SymmetricCryptoKey) => Promise<ArrayBuffer>;\n    randomNumber: (min: number, max: number) => Promise<number>;\n}\n","import { CipherType } from '../enums/cipherType';\nimport { UriMatchType } from '../enums/uriMatchType';\n\nimport { CipherData } from '../models/data/cipherData';\n\nimport { Cipher } from '../models/domain/cipher';\nimport { Field } from '../models/domain/field';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nimport { CipherView } from '../models/view/cipherView';\nimport { FieldView } from '../models/view/fieldView';\n\nexport abstract class CipherService {\n    decryptedCipherCache: CipherView[];\n\n    clearCache: () => void;\n    encrypt: (model: CipherView, key?: SymmetricCryptoKey, originalCipher?: Cipher) => Promise<Cipher>;\n    encryptFields: (fieldsModel: FieldView[], key: SymmetricCryptoKey) => Promise<Field[]>;\n    encryptField: (fieldModel: FieldView, key: SymmetricCryptoKey) => Promise<Field>;\n    get: (id: string) => Promise<Cipher>;\n    getAll: () => Promise<Cipher[]>;\n    getAllDecrypted: () => Promise<CipherView[]>;\n    getAllDecryptedForGrouping: (groupingId: string, folder?: boolean) => Promise<CipherView[]>;\n    getAllDecryptedForUrl: (url: string, includeOtherTypes?: CipherType[],\n        defaultMatch?: UriMatchType) => Promise<CipherView[]>;\n    getAllFromApiForOrganization: (organizationId: string) => Promise<CipherView[]>;\n    getLastUsedForUrl: (url: string) => Promise<CipherView>;\n    getLastLaunchedForUrl: (url: string) => Promise<CipherView>;\n    getNextCipherForUrl: (url: string) => Promise<CipherView>;\n    updateLastUsedIndexForUrl: (url: string) => void;\n    updateLastUsedDate: (id: string) => Promise<void>;\n    updateLastLaunchedDate: (id: string) => Promise<void>;\n    saveNeverDomain: (domain: string) => Promise<void>;\n    saveWithServer: (cipher: Cipher) => Promise<any>;\n    shareWithServer: (cipher: CipherView, organizationId: string, collectionIds: string[]) => Promise<any>;\n    shareManyWithServer: (ciphers: CipherView[], organizationId: string, collectionIds: string[]) => Promise<any>;\n    saveAttachmentWithServer: (cipher: Cipher, unencryptedFile: any, admin?: boolean) => Promise<Cipher>;\n    saveAttachmentRawWithServer: (cipher: Cipher, filename: string, data: ArrayBuffer,\n        admin?: boolean) => Promise<Cipher>;\n    saveCollectionsWithServer: (cipher: Cipher) => Promise<any>;\n    upsert: (cipher: CipherData | CipherData[]) => Promise<any>;\n    replace: (ciphers: { [id: string]: CipherData; }) => Promise<any>;\n    clear: (userId: string) => Promise<any>;\n    moveManyWithServer: (ids: string[], folderId: string) => Promise<any>;\n    delete: (id: string | string[]) => Promise<any>;\n    deleteWithServer: (id: string) => Promise<any>;\n    deleteManyWithServer: (ids: string[]) => Promise<any>;\n    deleteAttachment: (id: string, attachmentId: string) => Promise<void>;\n    deleteAttachmentWithServer: (id: string, attachmentId: string) => Promise<void>;\n    sortCiphersByLastUsed: (a: any, b: any) => number;\n    sortCiphersByLastUsedThenName: (a: any, b: any) => number;\n    getLocaleSortingFunction: () => (a: CipherView, b: CipherView) => number;\n    softDelete: (id: string | string[]) => Promise<any>;\n    softDeleteWithServer: (id: string) => Promise<any>;\n    softDeleteManyWithServer: (ids: string[]) => Promise<any>;\n    restore: (cipher: { id: string, revisionDate: string; } | { id: string, revisionDate: string; }[]) => Promise<any>;\n    restoreWithServer: (id: string) => Promise<any>;\n    restoreManyWithServer: (ids: string[]) => Promise<any>;\n}\n","export abstract class BaseResponse {\n    private response: any;\n\n    constructor(response: any) {\n        this.response = response;\n    }\n\n    protected getResponseProperty(propertyName: string, response: any = null, exactName = false): any {\n        if (propertyName == null || propertyName === '') {\n            throw new Error('propertyName must not be null/empty.');\n        }\n        if (response == null && this.response != null) {\n            response = this.response;\n        }\n        if (response == null) {\n            return null;\n        }\n        if (!exactName && response[propertyName] === undefined) {\n            let otherCasePropertyName: string = null;\n            if (propertyName.charAt(0) === propertyName.charAt(0).toUpperCase()) {\n                otherCasePropertyName = propertyName.charAt(0).toLowerCase();\n            } else {\n                otherCasePropertyName = propertyName.charAt(0).toUpperCase();\n            }\n            if (propertyName.length > 1) {\n                otherCasePropertyName += propertyName.slice(1);\n            }\n\n            propertyName = otherCasePropertyName;\n            if (response[propertyName] === undefined) {\n                propertyName = propertyName.toLowerCase();\n            }\n            if (response[propertyName] === undefined) {\n                propertyName = propertyName.toUpperCase();\n            }\n        }\n        return response[propertyName];\n    }\n}\n","import {\n    Component,\n    Input,\n    OnInit,\n} from '@angular/core';\n\nimport { I18nService } from '../../abstractions/i18n.service';\n\n@Component({\n    selector: 'app-callout',\n    templateUrl: 'callout.component.html',\n})\nexport class CalloutComponent implements OnInit {\n    @Input() type = 'info';\n    @Input() icon: string;\n    @Input() title: string;\n    @Input() clickable: boolean;\n\n    calloutStyle: string;\n\n    constructor(private i18nService: I18nService) { }\n\n    ngOnInit() {\n        this.calloutStyle = this.type;\n\n        if (this.type === 'warning' || this.type === 'danger') {\n            if (this.type === 'danger') {\n                this.calloutStyle = 'danger';\n            }\n            if (this.title === undefined) {\n                this.title = this.i18nService.t('warning');\n            }\n            if (this.icon === undefined) {\n                this.icon = 'fa-warning';\n            }\n        } else if (this.type === 'error') {\n            this.calloutStyle = 'danger';\n            if (this.title === undefined) {\n                this.title = this.i18nService.t('error');\n            }\n            if (this.icon === undefined) {\n                this.icon = 'fa-bolt';\n            }\n        } else if (this.type === 'tip') {\n            this.calloutStyle = 'success';\n            if (this.title === undefined) {\n                this.title = this.i18nService.t('tip');\n            }\n            if (this.icon === undefined) {\n                this.icon = 'fa-lightbulb-o';\n            }\n        }\n    }\n}\n","<div class=\"callout callout-{{calloutStyle}}\" [ngClass]=\"{'clickable': clickable}\" role=\"alert\">\n    <h3 class=\"callout-heading\" *ngIf=\"title\">\n        <i class=\"fa {{icon}}\" *ngIf=\"icon\" aria-hidden=\"true\"></i>\n        {{title}}\n    </h3>\n    <ng-content></ng-content>\n</div>\n","import * as papa from 'papaparse';\n\nimport { LogService } from '../abstractions/log.service';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CipherView } from '../models/view/cipherView';\nimport { CollectionView } from '../models/view/collectionView';\nimport { LoginUriView } from '../models/view/loginUriView';\n\nimport { Utils } from '../misc/utils';\n\nimport { FieldView } from '../models/view/fieldView';\nimport { FolderView } from '../models/view/folderView';\nimport { LoginView } from '../models/view/loginView';\nimport { SecureNoteView } from '../models/view/secureNoteView';\n\nimport { CipherType } from '../enums/cipherType';\nimport { FieldType } from '../enums/fieldType';\nimport { SecureNoteType } from '../enums/secureNoteType';\n\nimport { ConsoleLogService } from '../services/consoleLog.service';\n\nexport abstract class BaseImporter {\n    organizationId: string = null;\n\n    protected logService: LogService = new ConsoleLogService(false);\n\n    protected newLineRegex = /(?:\\r\\n|\\r|\\n)/;\n\n    protected passwordFieldNames = [\n        'password', 'pass word', 'passphrase', 'pass phrase',\n        'pass', 'code', 'code word', 'codeword',\n        'secret', 'secret word', 'personpwd',\n        'key', 'keyword', 'key word', 'keyphrase', 'key phrase',\n        'form_pw', 'wppassword', 'pin', 'pwd', 'pw', 'pword', 'passwd',\n        'p', 'serial', 'serial#', 'license key', 'reg #',\n\n        // Non-English names\n        'passwort',\n    ];\n\n    protected usernameFieldNames = [\n        'user', 'name', 'user name', 'username', 'login name',\n        'email', 'e-mail', 'id', 'userid', 'user id',\n        'login', 'form_loginname', 'wpname', 'mail',\n        'loginid', 'login id', 'log', 'personlogin',\n        'first name', 'last name', 'card#', 'account #',\n        'member', 'member #',\n\n        // Non-English names\n        'nom', 'benutzername',\n    ];\n\n    protected notesFieldNames = [\n        'note', 'notes', 'comment', 'comments', 'memo',\n        'description', 'free form', 'freeform',\n        'free text', 'freetext', 'free',\n\n        // Non-English names\n        'kommentar',\n    ];\n\n    protected uriFieldNames: string[] = [\n        'url', 'hyper link', 'hyperlink', 'link',\n        'host', 'hostname', 'host name', 'server', 'address',\n        'hyper ref', 'href', 'web', 'website', 'web site', 'site',\n        'web-site', 'uri',\n\n        // Non-English names\n        'ort', 'adresse',\n    ];\n\n    protected parseCsvOptions = {\n        encoding: 'UTF-8',\n        skipEmptyLines: false,\n    };\n\n    protected get organization() {\n        return this.organizationId != null;\n    }\n\n    protected parseXml(data: string): Document {\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(data, 'application/xml');\n        return doc != null && doc.querySelector('parsererror') == null ? doc : null;\n    }\n\n    protected parseCsv(data: string, header: boolean, options: any = {}): any[] {\n        const parseOptions = Object.assign({ header: header }, this.parseCsvOptions, options);\n        data = this.splitNewLine(data).join('\\n').trim();\n        const result = papa.parse(data, parseOptions);\n        if (result.errors != null && result.errors.length > 0) {\n            result.errors.forEach(e => {\n                if (e.row != null) {\n                    // tslint:disable-next-line\n                    this.logService.warning('Error parsing row ' + e.row + ': ' + e.message);\n                }\n            });\n        }\n        return result.data && result.data.length > 0 ? result.data : null;\n    }\n\n    protected parseSingleRowCsv(rowData: string) {\n        if (this.isNullOrWhitespace(rowData)) {\n            return null;\n        }\n        const parsedRow = this.parseCsv(rowData, false);\n        if (parsedRow != null && parsedRow.length > 0 && parsedRow[0].length > 0) {\n            return parsedRow[0];\n        }\n        return null;\n    }\n\n    protected makeUriArray(uri: string | string[]): LoginUriView[] {\n        if (uri == null) {\n            return null;\n        }\n\n        if (typeof uri === 'string') {\n            const loginUri = new LoginUriView();\n            loginUri.uri = this.fixUri(uri);\n            if (this.isNullOrWhitespace(loginUri.uri)) {\n                return null;\n            }\n            loginUri.match = null;\n            return [loginUri];\n        }\n\n        if (uri.length > 0) {\n            const returnArr: LoginUriView[] = [];\n            uri.forEach(u => {\n                const loginUri = new LoginUriView();\n                loginUri.uri = this.fixUri(u);\n                if (this.isNullOrWhitespace(loginUri.uri)) {\n                    return;\n                }\n                loginUri.match = null;\n                returnArr.push(loginUri);\n            });\n            return returnArr.length === 0 ? null : returnArr;\n        }\n\n        return null;\n    }\n\n    protected fixUri(uri: string) {\n        if (uri == null) {\n            return null;\n        }\n        uri = uri.trim();\n        if (uri.indexOf('://') === -1 && uri.indexOf('.') >= 0) {\n            uri = 'http://' + uri;\n        }\n        if (uri.length > 1000) {\n            return uri.substring(0, 1000);\n        }\n        return uri;\n    }\n\n    protected nameFromUrl(url: string) {\n        const hostname = Utils.getHostname(url);\n        if (this.isNullOrWhitespace(hostname)) {\n            return null;\n        }\n        return hostname.startsWith('www.') ? hostname.replace('www.', '') : hostname;\n    }\n\n    protected isNullOrWhitespace(str: string): boolean {\n        return Utils.isNullOrWhitespace(str);\n    }\n\n    protected getValueOrDefault(str: string, defaultValue: string = null): string {\n        if (this.isNullOrWhitespace(str)) {\n            return defaultValue;\n        }\n        return str;\n    }\n\n    protected splitNewLine(str: string): string[] {\n        return str.split(this.newLineRegex);\n    }\n\n    // ref https://stackoverflow.com/a/5911300\n    protected getCardBrand(cardNum: string) {\n        if (this.isNullOrWhitespace(cardNum)) {\n            return null;\n        }\n\n        // Visa\n        let re = new RegExp('^4');\n        if (cardNum.match(re) != null) {\n            return 'Visa';\n        }\n\n        // Mastercard\n        // Updated for Mastercard 2017 BINs expansion\n        if (/^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$/\n            .test(cardNum)) {\n            return 'Mastercard';\n        }\n\n        // AMEX\n        re = new RegExp('^3[47]');\n        if (cardNum.match(re) != null) {\n            return 'Amex';\n        }\n\n        // Discover\n        re = new RegExp('^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)');\n        if (cardNum.match(re) != null) {\n            return 'Discover';\n        }\n\n        // Diners\n        re = new RegExp('^36');\n        if (cardNum.match(re) != null) {\n            return 'Diners Club';\n        }\n\n        // Diners - Carte Blanche\n        re = new RegExp('^30[0-5]');\n        if (cardNum.match(re) != null) {\n            return 'Diners Club';\n        }\n\n        // JCB\n        re = new RegExp('^35(2[89]|[3-8][0-9])');\n        if (cardNum.match(re) != null) {\n            return 'JCB';\n        }\n\n        // Visa Electron\n        re = new RegExp('^(4026|417500|4508|4844|491(3|7))');\n        if (cardNum.match(re) != null) {\n            return 'Visa';\n        }\n\n        return null;\n    }\n\n    protected setCardExpiration(cipher: CipherView, expiration: string): boolean {\n        if (!this.isNullOrWhitespace(expiration)) {\n            const parts = expiration.split('/');\n            if (parts.length === 2) {\n                let month: string = null;\n                let year: string = null;\n                if (parts[0].length === 1 || parts[0].length === 2) {\n                    month = parts[0];\n                    if (month.length === 2 && month[0] === '0') {\n                        month = month.substr(1, 1);\n                    }\n                }\n                if (parts[1].length === 2 || parts[1].length === 4) {\n                    year = month.length === 2 ? '20' + parts[1] : parts[1];\n                }\n                if (month != null && year != null) {\n                    cipher.card.expMonth = month;\n                    cipher.card.expYear = year;\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    protected moveFoldersToCollections(result: ImportResult) {\n        result.folderRelationships.forEach(r => result.collectionRelationships.push(r));\n        result.collections = result.folders.map(f => {\n            const collection = new CollectionView();\n            collection.name = f.name;\n            return collection;\n        });\n        result.folderRelationships = [];\n        result.folders = [];\n    }\n\n    protected querySelectorDirectChild(parentEl: Element, query: string) {\n        const els = this.querySelectorAllDirectChild(parentEl, query);\n        return els.length === 0 ? null : els[0];\n    }\n\n    protected querySelectorAllDirectChild(parentEl: Element, query: string) {\n        return Array.from(parentEl.querySelectorAll(query)).filter(el => el.parentNode === parentEl);\n    }\n\n    protected initLoginCipher() {\n        const cipher = new CipherView();\n        cipher.favorite = false;\n        cipher.notes = '';\n        cipher.fields = [];\n        cipher.login = new LoginView();\n        cipher.type = CipherType.Login;\n        return cipher;\n    }\n\n    protected cleanupCipher(cipher: CipherView) {\n        if (cipher == null) {\n            return;\n        }\n        if (cipher.type !== CipherType.Login) {\n            cipher.login = null;\n        }\n        if (this.isNullOrWhitespace(cipher.name)) {\n            cipher.name = '--';\n        }\n        if (this.isNullOrWhitespace(cipher.notes)) {\n            cipher.notes = null;\n        } else {\n            cipher.notes = cipher.notes.trim();\n        }\n        if (cipher.fields != null && cipher.fields.length === 0) {\n            cipher.fields = null;\n        }\n    }\n\n    protected processKvp(cipher: CipherView, key: string, value: string, type: FieldType = FieldType.Text) {\n        if (this.isNullOrWhitespace(value)) {\n            return;\n        }\n        if (this.isNullOrWhitespace(key)) {\n            key = '';\n        }\n        if (value.length > 200 || value.trim().search(this.newLineRegex) > -1) {\n            if (cipher.notes == null) {\n                cipher.notes = '';\n            }\n            cipher.notes += (key + ': ' + this.splitNewLine(value).join('\\n') + '\\n');\n        } else {\n            if (cipher.fields == null) {\n                cipher.fields = [];\n            }\n            const field = new FieldView();\n            field.type = type;\n            field.name = key;\n            field.value = value;\n            cipher.fields.push(field);\n        }\n    }\n\n    protected processFolder(result: ImportResult, folderName: string) {\n        let folderIndex = result.folders.length;\n        const hasFolder = !this.isNullOrWhitespace(folderName);\n        let addFolder = hasFolder;\n\n        if (hasFolder) {\n            for (let i = 0; i < result.folders.length; i++) {\n                if (result.folders[i].name === folderName) {\n                    addFolder = false;\n                    folderIndex = i;\n                    break;\n                }\n            }\n        }\n\n        if (addFolder) {\n            const f = new FolderView();\n            f.name = folderName;\n            result.folders.push(f);\n        }\n        if (hasFolder) {\n            result.folderRelationships.push([result.ciphers.length, folderIndex]);\n        }\n    }\n\n    protected convertToNoteIfNeeded(cipher: CipherView) {\n        if (cipher.type === CipherType.Login && this.isNullOrWhitespace(cipher.login.username) &&\n            this.isNullOrWhitespace(cipher.login.password) &&\n            (cipher.login.uris == null || cipher.login.uris.length === 0)) {\n            cipher.type = CipherType.SecureNote;\n            cipher.secureNote = new SecureNoteView();\n            cipher.secureNote.type = SecureNoteType.Generic;\n        }\n    }\n}\n","import { CipherView } from '../view/cipherView';\nimport { CollectionView } from '../view/collectionView';\nimport { FolderView } from '../view/folderView';\n\nexport class ImportResult {\n    success = false;\n    errorMessage: string;\n    ciphers: CipherView[] = [];\n    folders: FolderView[] = [];\n    folderRelationships: [number, number][] = [];\n    collections: CollectionView[] = [];\n    collectionRelationships: [number, number][] = [];\n}\n","import * as tldjs from 'tldjs';\n\nimport { I18nService } from '../abstractions/i18n.service';\n\n// tslint:disable-next-line\nconst nodeURL = typeof window === 'undefined' ? require('url') : null;\n\nexport class Utils {\n    static inited = false;\n    static isNativeScript = false;\n    static isNode = false;\n    static isBrowser = true;\n    static isMobileBrowser = false;\n    static isAppleMobileBrowser = false;\n    static global: any = null;\n    static tldEndingRegex = /.*\\.(com|net|org|edu|uk|gov|ca|de|jp|fr|au|ru|ch|io|es|us|co|xyz|info|ly|mil)$/;\n\n    static init() {\n        if (Utils.inited) {\n            return;\n        }\n\n        Utils.inited = true;\n        Utils.isNode = typeof process !== 'undefined' && (process as any).release != null &&\n            (process as any).release.name === 'node';\n        Utils.isBrowser = typeof window !== 'undefined';\n        Utils.isNativeScript = !Utils.isNode && !Utils.isBrowser;\n        Utils.isMobileBrowser = Utils.isBrowser && this.isMobile(window);\n        Utils.isAppleMobileBrowser = Utils.isBrowser && this.isAppleMobile(window);\n        Utils.global = Utils.isNativeScript ? global : (Utils.isNode && !Utils.isBrowser ? global : window);\n    }\n\n    static fromB64ToArray(str: string): Uint8Array {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return new Uint8Array(Buffer.from(str, 'base64'));\n        } else {\n            const binaryString = window.atob(str);\n            const bytes = new Uint8Array(binaryString.length);\n            for (let i = 0; i < binaryString.length; i++) {\n                bytes[i] = binaryString.charCodeAt(i);\n            }\n            return bytes;\n        }\n    }\n\n    static fromUrlB64ToArray(str: string): Uint8Array {\n        return Utils.fromB64ToArray(Utils.fromUrlB64ToB64(str));\n    }\n\n    static fromHexToArray(str: string): Uint8Array {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return new Uint8Array(Buffer.from(str, 'hex'));\n        } else {\n            const bytes = new Uint8Array(str.length / 2);\n            for (let i = 0; i < str.length; i += 2) {\n                bytes[i / 2] = parseInt(str.substr(i, 2), 16);\n            }\n            return bytes;\n        }\n    }\n\n    static fromUtf8ToArray(str: string): Uint8Array {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return new Uint8Array(Buffer.from(str, 'utf8'));\n        } else {\n            const strUtf8 = unescape(encodeURIComponent(str));\n            const arr = new Uint8Array(strUtf8.length);\n            for (let i = 0; i < strUtf8.length; i++) {\n                arr[i] = strUtf8.charCodeAt(i);\n            }\n            return arr;\n        }\n    }\n\n    static fromByteStringToArray(str: string): Uint8Array {\n        const arr = new Uint8Array(str.length);\n        for (let i = 0; i < str.length; i++) {\n            arr[i] = str.charCodeAt(i);\n        }\n        return arr;\n    }\n\n    static fromBufferToB64(buffer: ArrayBuffer): string {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return Buffer.from(buffer).toString('base64');\n        } else {\n            let binary = '';\n            const bytes = new Uint8Array(buffer);\n            for (let i = 0; i < bytes.byteLength; i++) {\n                binary += String.fromCharCode(bytes[i]);\n            }\n            return window.btoa(binary);\n        }\n    }\n\n    static fromBufferToUrlB64(buffer: ArrayBuffer): string {\n        return Utils.fromB64toUrlB64(Utils.fromBufferToB64(buffer));\n    }\n\n    static fromB64toUrlB64(b64Str: string) {\n        return b64Str.replace(/\\+/g, '-')\n            .replace(/\\//g, '_')\n            .replace(/=/g, '');\n    }\n\n    static fromBufferToUtf8(buffer: ArrayBuffer): string {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return Buffer.from(buffer).toString('utf8');\n        } else {\n            const bytes = new Uint8Array(buffer);\n            const encodedString = String.fromCharCode.apply(null, bytes);\n            return decodeURIComponent(escape(encodedString));\n        }\n    }\n\n    static fromBufferToByteString(buffer: ArrayBuffer): string {\n        return String.fromCharCode.apply(null, new Uint8Array(buffer));\n    }\n\n    // ref: https://stackoverflow.com/a/40031979/1090359\n    static fromBufferToHex(buffer: ArrayBuffer): string {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return Buffer.from(buffer).toString('hex');\n        } else {\n            const bytes = new Uint8Array(buffer);\n            return Array.prototype.map.call(bytes, (x: number) => ('00' + x.toString(16)).slice(-2)).join('');\n        }\n    }\n\n    static fromUrlB64ToB64(urlB64Str: string): string {\n        let output = urlB64Str.replace(/-/g, '+').replace(/_/g, '/');\n        switch (output.length % 4) {\n            case 0:\n                break;\n            case 2:\n                output += '==';\n                break;\n            case 3:\n                output += '=';\n                break;\n            default:\n                throw new Error('Illegal base64url string!');\n        }\n\n        return output;\n    }\n\n    static fromUrlB64ToUtf8(urlB64Str: string): string {\n        return Utils.fromB64ToUtf8(Utils.fromUrlB64ToB64(urlB64Str));\n    }\n\n    static fromUtf8ToB64(utfStr: string): string {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return Buffer.from(utfStr, 'utf8').toString('base64');\n        } else {\n            return decodeURIComponent(escape(window.btoa(utfStr)));\n        }\n    }\n\n    static fromB64ToUtf8(b64Str: string): string {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return Buffer.from(b64Str, 'base64').toString('utf8');\n        } else {\n            return decodeURIComponent(escape(window.atob(b64Str)));\n        }\n    }\n\n    // ref: http://stackoverflow.com/a/2117523/1090359\n    static newGuid(): string {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n            // tslint:disable-next-line\n            const r = Math.random() * 16 | 0;\n            // tslint:disable-next-line\n            const v = c === 'x' ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    }\n\n    static isGuid(id: string) {\n        return RegExp(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/, 'i').test(id);\n    }\n\n    static getHostname(uriString: string): string {\n        const url = Utils.getUrl(uriString);\n        try {\n            return url != null && url.hostname !== '' ? url.hostname : null;\n        } catch {\n            return null;\n        }\n    }\n\n    static getHost(uriString: string): string {\n        const url = Utils.getUrl(uriString);\n        try {\n            return url != null && url.host !== '' ? url.host : null;\n        } catch {\n            return null;\n        }\n    }\n\n    static getDomain(uriString: string): string {\n        if (uriString == null) {\n            return null;\n        }\n\n        uriString = uriString.trim();\n        if (uriString === '') {\n            return null;\n        }\n\n        if (uriString.startsWith('data:')) {\n            return null;\n        }\n\n        let httpUrl = uriString.startsWith('http://') || uriString.startsWith('https://');\n        if (!httpUrl && uriString.indexOf('://') < 0 && Utils.tldEndingRegex.test(uriString)) {\n            uriString = 'http://' + uriString;\n            httpUrl = true;\n        }\n\n        if (httpUrl) {\n            try {\n                const url = Utils.getUrlObject(uriString);\n                if (url.hostname === 'localhost' || Utils.validIpAddress(url.hostname)) {\n                    return url.hostname;\n                }\n\n                const urlDomain = tldjs != null && tldjs.getDomain != null ? tldjs.getDomain(url.hostname) : null;\n                return urlDomain != null ? urlDomain : url.hostname;\n            } catch (e) { }\n        }\n\n        try {\n            const domain = tldjs != null && tldjs.getDomain != null ? tldjs.getDomain(uriString) : null;\n\n            if (domain != null) {\n                return domain;\n            }\n        } catch {\n            return null;\n        }\n\n        return null;\n    }\n\n    static getQueryParams(uriString: string): Map<string, string> {\n        const url = Utils.getUrl(uriString);\n        if (url == null || url.search == null || url.search === '') {\n            return null;\n        }\n        const map = new Map<string, string>();\n        const pairs = (url.search[0] === '?' ? url.search.substr(1) : url.search).split('&');\n        pairs.forEach(pair => {\n            const parts = pair.split('=');\n            if (parts.length < 1) {\n                return;\n            }\n            map.set(decodeURIComponent(parts[0]).toLowerCase(), parts[1] == null ? '' : decodeURIComponent(parts[1]));\n        });\n        return map;\n    }\n\n    static getSortFunction(i18nService: I18nService, prop: string) {\n        return (a: any, b: any) => {\n            if (a[prop] == null && b[prop] != null) {\n                return -1;\n            }\n            if (a[prop] != null && b[prop] == null) {\n                return 1;\n            }\n            if (a[prop] == null && b[prop] == null) {\n                return 0;\n            }\n\n            return i18nService.collator ? i18nService.collator.compare(a[prop], b[prop]) :\n                a[prop].localeCompare(b[prop]);\n        };\n    }\n\n    static isNullOrWhitespace(str: string): boolean {\n        return str == null || typeof str !== 'string' || str.trim() === '';\n    }\n\n    static nameOf<T>(name: string & keyof T) {\n        return name;\n    }\n\n    static assign<T>(target: T, source: Partial<T>): T {\n        return Object.assign(target, source);\n    }\n\n    static getUrl(uriString: string): URL {\n        if (uriString == null) {\n            return null;\n        }\n\n        uriString = uriString.trim();\n        if (uriString === '') {\n            return null;\n        }\n\n        let url = Utils.getUrlObject(uriString);\n        if (url == null) {\n            const hasHttpProtocol = uriString.indexOf('http://') === 0 || uriString.indexOf('https://') === 0;\n            if (!hasHttpProtocol && uriString.indexOf('.') > -1) {\n                url = Utils.getUrlObject('http://' + uriString);\n            }\n        }\n        return url;\n    }\n\n    private static validIpAddress(ipString: string): boolean {\n        // tslint:disable-next-line\n        const ipRegex = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n        return ipRegex.test(ipString);\n    }\n\n    private static isMobile(win: Window) {\n        let mobile = false;\n        (a => {\n            // tslint:disable-next-line\n            if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) {\n                mobile = true;\n            }\n        })(win.navigator.userAgent || win.navigator.vendor || (win as any).opera);\n        return mobile || win.navigator.userAgent.match(/iPad/i) != null;\n    }\n\n    private static isAppleMobile(win: Window) {\n        return win.navigator.userAgent.match(/iPhone/i) != null || win.navigator.userAgent.match(/iPad/i) != null;\n    }\n\n    private static getUrlObject(uriString: string): URL {\n        try {\n            if (nodeURL != null) {\n                return nodeURL.URL ? new nodeURL.URL(uriString) : nodeURL.parse(uriString);\n            } else if (typeof URL === 'function') {\n                return new URL(uriString);\n            } else if (window != null) {\n                const hasProtocol = uriString.indexOf('://') > -1;\n                if (!hasProtocol && uriString.indexOf('.') > -1) {\n                    uriString = 'http://' + uriString;\n                } else if (!hasProtocol) {\n                    return null;\n                }\n                const anchor = window.document.createElement('a');\n                anchor.href = uriString;\n                return anchor as any;\n            }\n        } catch (e) { }\n\n        return null;\n    }\n}\n\nUtils.init();\n","import { GeneratedPasswordHistory } from '../models/domain/generatedPasswordHistory';\nimport { PasswordGeneratorPolicyOptions } from '../models/domain/passwordGeneratorPolicyOptions';\n\nexport abstract class PasswordGenerationService {\n    generatePassword: (options: any) => Promise<string>;\n    generatePassphrase: (options: any) => Promise<string>;\n    getOptions: () => Promise<[any, PasswordGeneratorPolicyOptions]>;\n    enforcePasswordGeneratorPoliciesOnOptions: (options: any) => Promise<[any, PasswordGeneratorPolicyOptions]>;\n    getPasswordGeneratorPolicyOptions: () => Promise<PasswordGeneratorPolicyOptions>;\n    saveOptions: (options: any) => Promise<any>;\n    getHistory: () => Promise<GeneratedPasswordHistory[]>;\n    addHistory: (password: string) => Promise<any>;\n    clear: () => Promise<any>;\n    passwordStrength: (password: string, userInputs?: string[]) => zxcvbn.ZXCVBNResult;\n    normalizeOptions: (options: any, enforcedPolicyOptions: PasswordGeneratorPolicyOptions) => void;\n}\n","import {\n    Directive,\n    HostListener,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appStopClick]',\n})\nexport class StopClickDirective {\n    @HostListener('click', ['$event']) onClick($event: MouseEvent) {\n        $event.preventDefault();\n    }\n}\n","export abstract class StateService {\n    get: <T>(key: string) => Promise<T>;\n    save: (key: string, obj: any) => Promise<any>;\n    remove: (key: string) => Promise<any>;\n    purge: () => Promise<any>;\n}\n","export enum CipherType {\n    Login = 1,\n    SecureNote = 2,\n    Card = 3,\n    Identity = 4,\n}\n","import { CollectionData } from '../models/data/collectionData';\n\nimport { Collection } from '../models/domain/collection';\nimport { TreeNode } from '../models/domain/treeNode';\n\nimport { CollectionView } from '../models/view/collectionView';\n\nexport abstract class CollectionService {\n    decryptedCollectionCache: CollectionView[];\n\n    clearCache: () => void;\n    encrypt: (model: CollectionView) => Promise<Collection>;\n    decryptMany: (collections: Collection[]) => Promise<CollectionView[]>;\n    get: (id: string) => Promise<Collection>;\n    getAll: () => Promise<Collection[]>;\n    getAllDecrypted: () => Promise<CollectionView[]>;\n    getAllNested: (collections?: CollectionView[]) => Promise<TreeNode<CollectionView>[]>;\n    getNested: (id: string) => Promise<TreeNode<CollectionView>>;\n    upsert: (collection: CollectionData | CollectionData[]) => Promise<any>;\n    replace: (collections: { [id: string]: CollectionData; }) => Promise<any>;\n    clear: (userId: string) => Promise<any>;\n    delete: (id: string | string[]) => Promise<any>;\n}\n","export abstract class StorageService {\n    get: <T>(key: string) => Promise<T>;\n    save: (key: string, obj: any) => Promise<any>;\n    remove: (key: string) => Promise<any>;\n}\n","import { PolicyData } from '../models/data/policyData';\n\nimport { MasterPasswordPolicyOptions } from '../models/domain/masterPasswordPolicyOptions';\nimport { Policy } from '../models/domain/policy';\n\nimport { PolicyType } from '../enums/policyType';\n\nexport abstract class PolicyService {\n    policyCache: Policy[];\n\n    clearCache: () => void;\n    getAll: (type?: PolicyType) => Promise<Policy[]>;\n    replace: (policies: { [id: string]: PolicyData; }) => Promise<any>;\n    clear: (userId: string) => Promise<any>;\n    getMasterPasswordPolicyOptions: (policies?: Policy[]) => Promise<MasterPasswordPolicyOptions>;\n    evaluateMasterPassword: (passwordStrength: number, newPassword: string,\n        enforcedPolicyOptions?: MasterPasswordPolicyOptions) => boolean;\n}\n","import {\n    Directive,\n    ElementRef,\n    Input,\n    Renderer2,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appInputVerbatim]',\n})\nexport class InputVerbatimDirective {\n    @Input() set appInputVerbatim(condition: boolean | string) {\n        this.disableComplete = condition === '' || condition === true;\n    }\n\n    private disableComplete: boolean;\n\n    constructor(private el: ElementRef, private renderer: Renderer2) { }\n\n    ngOnInit() {\n        if (this.disableComplete && !this.el.nativeElement.hasAttribute('autocomplete')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'autocomplete', 'off');\n        }\n        if (!this.el.nativeElement.hasAttribute('autocapitalize')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'autocapitalize', 'none');\n        }\n        if (!this.el.nativeElement.hasAttribute('autocorrect')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'autocorrect', 'none');\n        }\n        if (!this.el.nativeElement.hasAttribute('spellcheck')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'spellcheck', 'false');\n        }\n        if (!this.el.nativeElement.hasAttribute('inputmode')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'inputmode', 'verbatim');\n        }\n    }\n}\n","import { FolderData } from '../models/data/folderData';\n\nimport { Folder } from '../models/domain/folder';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\nimport { TreeNode } from '../models/domain/treeNode';\n\nimport { FolderView } from '../models/view/folderView';\n\nexport abstract class FolderService {\n    decryptedFolderCache: FolderView[];\n\n    clearCache: () => void;\n    encrypt: (model: FolderView, key?: SymmetricCryptoKey) => Promise<Folder>;\n    get: (id: string) => Promise<Folder>;\n    getAll: () => Promise<Folder[]>;\n    getAllDecrypted: () => Promise<FolderView[]>;\n    getAllNested: () => Promise<TreeNode<FolderView>[]>;\n    getNested: (id: string) => Promise<TreeNode<FolderView>>;\n    saveWithServer: (folder: Folder) => Promise<any>;\n    upsert: (folder: FolderData | FolderData[]) => Promise<any>;\n    replace: (folders: { [id: string]: FolderData; }) => Promise<any>;\n    clear: (userId: string) => Promise<any>;\n    delete: (id: string | string[]) => Promise<any>;\n    deleteWithServer: (id: string) => Promise<any>;\n}\n","import {\n    Directive,\n    HostListener,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appStopProp]',\n})\nexport class StopPropDirective {\n    @HostListener('click', ['$event']) onClick($event: MouseEvent) {\n        $event.stopPropagation();\n    }\n}\n","import { TwoFactorProviderType } from '../enums/twoFactorProviderType';\n\nimport { AuthResult } from '../models/domain/authResult';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nexport abstract class AuthService {\n    email: string;\n    masterPasswordHash: string;\n    code: string;\n    codeVerifier: string;\n    ssoRedirectUrl: string;\n    clientId: string;\n    clientSecret: string;\n    twoFactorProvidersData: Map<TwoFactorProviderType, { [key: string]: string; }>;\n    selectedTwoFactorProviderType: TwoFactorProviderType;\n\n    logIn: (email: string, masterPassword: string) => Promise<AuthResult>;\n    logInSso: (code: string, codeVerifier: string, redirectUrl: string) => Promise<AuthResult>;\n    logInApiKey: (clientId: string, clientSecret: string) => Promise<AuthResult>;\n    logInTwoFactor: (twoFactorProvider: TwoFactorProviderType, twoFactorToken: string,\n        remember?: boolean) => Promise<AuthResult>;\n    logInComplete: (email: string, masterPassword: string, twoFactorProvider: TwoFactorProviderType,\n        twoFactorToken: string, remember?: boolean) => Promise<AuthResult>;\n    logInSsoComplete: (code: string, codeVerifier: string, redirectUrl: string,\n        twoFactorProvider: TwoFactorProviderType, twoFactorToken: string, remember?: boolean) => Promise<AuthResult>;\n    logInApiKeyComplete: (clientId: string, clientSecret: string, twoFactorProvider: TwoFactorProviderType,\n        twoFactorToken: string, remember?: boolean) => Promise<AuthResult>;\n    logOut: (callback: Function) => void;\n    getSupportedTwoFactorProviders: (win: Window) => any[];\n    getDefaultTwoFactorProvider: (webAuthnSupported: boolean) => TwoFactorProviderType;\n    makePreloginKey: (masterPassword: string, email: string) => Promise<SymmetricCryptoKey>;\n    authingWithApiKey: () => boolean;\n    authingWithSso: () => boolean;\n    authingWithPassword: () => boolean;\n}\n","import {\n    SyncCipherNotification,\n    SyncFolderNotification,\n    SyncSendNotification,\n} from '../models/response/notificationResponse';\n\nexport abstract class SyncService {\n    syncInProgress: boolean;\n\n    getLastSync: () => Promise<Date>;\n    setLastSync: (date: Date) => Promise<any>;\n    fullSync: (forceSync: boolean, allowThrowOnError?: boolean) => Promise<boolean>;\n    syncUpsertFolder: (notification: SyncFolderNotification, isEdit: boolean) => Promise<boolean>;\n    syncDeleteFolder: (notification: SyncFolderNotification) => Promise<boolean>;\n    syncUpsertCipher: (notification: SyncCipherNotification, isEdit: boolean) => Promise<boolean>;\n    syncDeleteCipher: (notification: SyncFolderNotification) => Promise<boolean>;\n    syncUpsertSend: (notification: SyncSendNotification, isEdit: boolean) => Promise<boolean>;\n    syncDeleteSend: (notification: SyncSendNotification) => Promise<boolean>;\n}\n","export abstract class EnvironmentService {\n    baseUrl: string;\n    webVaultUrl: string;\n    apiUrl: string;\n    identityUrl: string;\n    iconsUrl: string;\n    notificationsUrl: string;\n    eventsUrl: string;\n    enterpriseUrl: string;\n\n    getWebVaultUrl: () => string;\n    setUrlsFromStorage: () => Promise<void>;\n    setUrls: (urls: any) => Promise<any>;\n}\n","import {\n    Directive,\n    ElementRef,\n    Input,\n} from '@angular/core';\n\nimport { Utils } from '../../misc/utils';\n\n@Directive({\n    selector: '[appAutofocus]',\n})\nexport class AutofocusDirective {\n    @Input() set appAutofocus(condition: boolean | string) {\n        this.autofocus = condition === '' || condition === true;\n    }\n\n    private autofocus: boolean;\n\n    constructor(private el: ElementRef) { }\n\n    ngOnInit() {\n        if (!Utils.isMobileBrowser && this.autofocus) {\n            this.el.nativeElement.focus();\n        }\n    }\n}\n","export class ConstantsService {\n    static readonly environmentUrlsKey: string = 'environmentUrls';\n    static readonly disableGaKey: string = 'disableGa';\n    static readonly disableAddLoginNotificationKey: string = 'disableAddLoginNotification';\n    static readonly disableChangedPasswordNotificationKey: string = 'disableChangedPasswordNotification';\n    static readonly disableContextMenuItemKey: string = 'disableContextMenuItem';\n    static readonly disableFaviconKey: string = 'disableFavicon';\n    static readonly disableBadgeCounterKey: string = 'disableBadgeCounter';\n    static readonly disableAutoTotpCopyKey: string = 'disableAutoTotpCopy';\n    static readonly enableAutoFillOnPageLoadKey: string = 'enableAutoFillOnPageLoad';\n    static readonly vaultTimeoutKey: string = 'lockOption';\n    static readonly vaultTimeoutActionKey: string = 'vaultTimeoutAction';\n    static readonly lastActiveKey: string = 'lastActive';\n    static readonly neverDomainsKey: string = 'neverDomains';\n    static readonly installedVersionKey: string = 'installedVersion';\n    static readonly localeKey: string = 'locale';\n    static readonly themeKey: string = 'theme';\n    static readonly collapsedGroupingsKey: string = 'collapsedGroupings';\n    static readonly autoConfirmFingerprints: string = 'autoConfirmFingerprints';\n    static readonly dontShowCardsCurrentTab: string = 'dontShowCardsCurrentTab';\n    static readonly dontShowIdentitiesCurrentTab: string = 'dontShowIdentitiesCurrentTab';\n    static readonly defaultUriMatch: string = 'defaultUriMatch';\n    static readonly pinProtectedKey: string = 'pinProtectedKey';\n    static readonly protectedPin: string = 'protectedPin';\n    static readonly clearClipboardKey: string = 'clearClipboardKey';\n    static readonly eventCollectionKey: string = 'eventCollection';\n    static readonly ssoCodeVerifierKey: string = 'ssoCodeVerifier';\n    static readonly ssoStateKey: string = 'ssoState';\n    static readonly biometricUnlockKey: string = 'biometric';\n    static readonly biometricText: string = 'biometricText';\n    static readonly biometricAwaitingAcceptance: string = 'biometricAwaitingAcceptance';\n    static readonly biometricFingerprintValidated: string = 'biometricFingerprintValidated';\n\n    readonly environmentUrlsKey: string = ConstantsService.environmentUrlsKey;\n    readonly disableGaKey: string = ConstantsService.disableGaKey;\n    readonly disableAddLoginNotificationKey: string = ConstantsService.disableAddLoginNotificationKey;\n    readonly disableContextMenuItemKey: string = ConstantsService.disableContextMenuItemKey;\n    readonly disableFaviconKey: string = ConstantsService.disableFaviconKey;\n    readonly disableBadgeCounterKey: string = ConstantsService.disableBadgeCounterKey;\n    readonly disableAutoTotpCopyKey: string = ConstantsService.disableAutoTotpCopyKey;\n    readonly enableAutoFillOnPageLoadKey: string = ConstantsService.enableAutoFillOnPageLoadKey;\n    readonly vaultTimeoutKey: string = ConstantsService.vaultTimeoutKey;\n    readonly vaultTimeoutActionKey: string = ConstantsService.vaultTimeoutActionKey;\n    readonly lastActiveKey: string = ConstantsService.lastActiveKey;\n    readonly neverDomainsKey: string = ConstantsService.neverDomainsKey;\n    readonly installedVersionKey: string = ConstantsService.installedVersionKey;\n    readonly localeKey: string = ConstantsService.localeKey;\n    readonly themeKey: string = ConstantsService.themeKey;\n    readonly collapsedGroupingsKey: string = ConstantsService.collapsedGroupingsKey;\n    readonly autoConfirmFingerprints: string = ConstantsService.autoConfirmFingerprints;\n    readonly dontShowCardsCurrentTab: string = ConstantsService.dontShowCardsCurrentTab;\n    readonly dontShowIdentitiesCurrentTab: string = ConstantsService.dontShowIdentitiesCurrentTab;\n    readonly defaultUriMatch: string = ConstantsService.defaultUriMatch;\n    readonly pinProtectedKey: string = ConstantsService.pinProtectedKey;\n    readonly protectedPin: string = ConstantsService.protectedPin;\n    readonly clearClipboardKey: string = ConstantsService.clearClipboardKey;\n    readonly eventCollectionKey: string = ConstantsService.eventCollectionKey;\n    readonly ssoCodeVerifierKey: string = ConstantsService.ssoCodeVerifierKey;\n    readonly ssoStateKey: string = ConstantsService.ssoStateKey;\n    readonly biometricUnlockKey: string = ConstantsService.biometricUnlockKey;\n    readonly biometricText: string = ConstantsService.biometricText;\n    readonly biometricAwaitingAcceptance: string = ConstantsService.biometricAwaitingAcceptance;\n    readonly biometricFingerprintValidated: string = ConstantsService.biometricFingerprintValidated;\n}\n","import { EventType } from '../enums/eventType';\n\nexport abstract class EventService {\n    collect: (eventType: EventType, cipherId?: string, uploadImmediately?: boolean) => Promise<any>;\n    uploadEvents: () => Promise<any>;\n    clearEvents: () => Promise<any>;\n}\n","export class PasswordVerificationRequest {\n    masterPasswordHash: string;\n}\n","import { CipherView } from '../models/view/cipherView';\nimport { SendView } from '../models/view/sendView';\n\nexport abstract class SearchService {\n    indexedEntityId?: string = null;\n    clearIndex: () => void;\n    isSearchable: (query: string) => boolean;\n    indexCiphers: (indexedEntityGuid?: string, ciphersToIndex?: CipherView[]) => Promise<void>;\n    searchCiphers: (query: string,\n        filter?: ((cipher: CipherView) => boolean) | (((cipher: CipherView) => boolean)[]),\n        ciphers?: CipherView[]) => Promise<CipherView[]>;\n    searchCiphersBasic: (ciphers: CipherView[], query: string, deleted?: boolean) => CipherView[];\n    searchSends: (sends: SendView[], query: string) => SendView[];\n}\n","import { EncString } from './encString';\n\nimport { View } from '../view/view';\n\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport default class Domain {\n    protected buildDomainModel<D extends Domain>(domain: D, dataObj: any, map: any,\n        alreadyEncrypted: boolean, notEncList: any[] = []) {\n        for (const prop in map) {\n            if (!map.hasOwnProperty(prop)) {\n                continue;\n            }\n\n            const objProp = dataObj[(map[prop] || prop)];\n            if (alreadyEncrypted === true || notEncList.indexOf(prop) > -1) {\n                (domain as any)[prop] = objProp ? objProp : null;\n            } else {\n                (domain as any)[prop] = objProp ? new EncString(objProp) : null;\n            }\n        }\n    }\n    protected buildDataModel<D extends Domain>(domain: D, dataObj: any, map: any, notEncStringList: any[] = []) {\n        for (const prop in map) {\n            if (!map.hasOwnProperty(prop)) {\n                continue;\n            }\n\n            const objProp = (domain as any)[(map[prop] || prop)];\n            if (notEncStringList.indexOf(prop) > -1) {\n                (dataObj as any)[prop] = objProp != null ? objProp : null;\n            } else {\n                (dataObj as any)[prop] = objProp != null ? (objProp as EncString).encryptedString : null;\n            }\n        }\n    }\n\n    protected async decryptObj<T extends View>(viewModel: T, map: any, orgId: string,\n        key: SymmetricCryptoKey = null): Promise<T> {\n        const promises = [];\n        const self: any = this;\n\n        for (const prop in map) {\n            if (!map.hasOwnProperty(prop)) {\n                continue;\n            }\n\n            // tslint:disable-next-line\n            (function (theProp) {\n                const p = Promise.resolve().then(() => {\n                    const mapProp = map[theProp] || theProp;\n                    if (self[mapProp]) {\n                        return self[mapProp].decrypt(orgId, key);\n                    }\n                    return null;\n                }).then((val: any) => {\n                    (viewModel as any)[theProp] = val;\n                });\n                promises.push(p);\n            })(prop);\n        }\n\n        await Promise.all(promises);\n        return viewModel;\n    }\n}\n","import * as jq from 'jquery';\n\nimport {\n    Component,\n    ComponentFactoryResolver,\n    Type,\n    ViewContainerRef,\n} from '@angular/core';\n\nimport { ModalComponent as BaseModalComponent } from 'jslib/angular/components/modal.component';\nimport { Utils } from 'jslib/misc/utils';\n\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\n\n@Component({\n    selector: 'app-modal',\n    template: `<ng-template #container></ng-template>`,\n})\nexport class ModalComponent extends BaseModalComponent {\n    el: any = null;\n\n    constructor(componentFactoryResolver: ComponentFactoryResolver, messagingService: MessagingService) {\n        super(componentFactoryResolver, messagingService);\n    }\n\n    ngOnDestroy() { /* Nothing */ }\n\n    show<T>(type: Type<T>, parentContainer: ViewContainerRef, fade: boolean = true,\n        setComponentParameters: (component: T) => void = null): T {\n        this.parentContainer = parentContainer;\n        this.fade = fade;\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory<T>(type);\n        const componentRef = this.container.createComponent<T>(factory);\n        if (setComponentParameters != null) {\n            setComponentParameters(componentRef.instance);\n        }\n\n        const modals = Array.from(document.querySelectorAll('.modal'));\n        if (modals.length > 0) {\n            this.el = jq(modals[0]);\n            this.el.modal('show');\n\n            this.el.on('show.bs.modal', () => {\n                this.onShow.emit();\n                this.messagingService.send('modalShow');\n            });\n            this.el.on('shown.bs.modal', () => {\n                this.onShown.emit();\n                this.messagingService.send('modalShown');\n                if (!Utils.isMobileBrowser) {\n                    this.el.find('*[appAutoFocus]').focus();\n                }\n            });\n            this.el.on('hide.bs.modal', () => {\n                this.onClose.emit();\n                this.messagingService.send('modalClose');\n            });\n            this.el.on('hidden.bs.modal', () => {\n                this.onClosed.emit();\n                this.messagingService.send('modalClosed');\n                if (this.parentContainer != null) {\n                    this.parentContainer.clear();\n                }\n            });\n        }\n\n        return componentRef.instance;\n    }\n\n    close() {\n        if (this.el != null) {\n            this.el.modal('hide');\n        }\n    }\n}\n","import { BreachAccountResponse } from '../models/response/breachAccountResponse';\n\nexport abstract class AuditService {\n    passwordLeaked: (password: string) => Promise<number>;\n    breachedAccounts: (username: string) => Promise<BreachAccountResponse[]>;\n}\n","import { View } from './view';\n\nimport { Card } from '../domain/card';\n\nexport class CardView implements View {\n    cardholderName: string = null;\n    expMonth: string = null;\n    expYear: string = null;\n    code: string = null;\n\n    // tslint:disable\n    private _brand: string = null;\n    private _number: string = null;\n    private _subTitle: string = null;\n    // tslint:enable\n\n    constructor(c?: Card) {\n        // ctor\n    }\n\n    get maskedCode(): string {\n        return this.code != null ? ''.repeat(this.code.length) : null;\n    }\n\n    get brand(): string {\n        return this._brand;\n    }\n    set brand(value: string) {\n        this._brand = value;\n        this._subTitle = null;\n    }\n\n    get number(): string {\n        return this._number;\n    }\n    set number(value: string) {\n        this._number = value;\n        this._subTitle = null;\n    }\n\n    get subTitle(): string {\n        if (this._subTitle == null) {\n            this._subTitle = this.brand;\n            if (this.number != null && this.number.length >= 4) {\n                if (this._subTitle != null && this._subTitle !== '') {\n                    this._subTitle += ', ';\n                } else {\n                    this._subTitle = '';\n                }\n\n                // Show last 5 on amex, last 4 for all others\n                const count = this.number.length >= 5 && this.number.match(new RegExp('^3[47]')) != null ? 5 : 4;\n                this._subTitle += ('*' + this.number.substr(this.number.length - count));\n            }\n        }\n        return this._subTitle;\n    }\n\n    get expiration(): string {\n        if (!this.expMonth && !this.expYear) {\n            return null;\n        }\n\n        let exp = this.expMonth != null ? ('0' + this.expMonth).slice(-2) : '__';\n        exp += (' / ' + (this.expYear != null ? this.formatYear(this.expYear) : '____'));\n        return exp;\n    }\n\n    private formatYear(year: string): string {\n        return year.length === 2 ? '20' + year : year;\n    }\n}\n","import { EncString } from '../models/domain/encString';\n\nexport abstract class VaultTimeoutService {\n    biometricLocked: boolean;\n    pinProtectedKey: EncString;\n    isLocked: () => Promise<boolean>;\n    checkVaultTimeout: () => Promise<void>;\n    lock: (allowSoftLock?: boolean) => Promise<void>;\n    logOut: () => Promise<void>;\n    setVaultTimeoutOptions: (vaultTimeout: number, vaultTimeoutAction: string) => Promise<void>;\n    isPinLockSet: () => Promise<[boolean, boolean]>;\n    isBiometricLockSet: () => Promise<boolean>;\n    clear: () => Promise<any>;\n}\n","import { SecureNoteType } from '../../enums/secureNoteType';\n\nimport { View } from './view';\n\nimport { SecureNote } from '../domain/secureNote';\n\nexport class SecureNoteView implements View {\n    type: SecureNoteType = null;\n\n    constructor(n?: SecureNote) {\n        if (!n) {\n            return;\n        }\n\n        this.type = n.type;\n    }\n\n    get subTitle(): string {\n        return null;\n    }\n}\n","export abstract class TokenService {\n    token: string;\n    decodedToken: any;\n    refreshToken: string;\n    setTokens: (accessToken: string, refreshToken: string) => Promise<any>;\n    setToken: (token: string) => Promise<any>;\n    getToken: () => Promise<string>;\n    setRefreshToken: (refreshToken: string) => Promise<any>;\n    getRefreshToken: () => Promise<string>;\n    toggleTokens: () => Promise<any>;\n    setTwoFactorToken: (token: string, email: string) => Promise<any>;\n    getTwoFactorToken: (email: string) => Promise<string>;\n    clearTwoFactorToken: (email: string) => Promise<any>;\n    clearToken: () => Promise<any>;\n    decodeToken: () => any;\n    getTokenExpirationDate: () => Date;\n    tokenSecondsRemaining: (offsetSeconds?: number) => number;\n    tokenNeedsRefresh: (minutes?: number) => boolean;\n    getUserId: () => string;\n    getEmail: () => string;\n    getEmailVerified: () => boolean;\n    getName: () => string;\n    getPremium: () => boolean;\n    getIssuer: () => string;\n}\n","import { DecryptParameters } from '../models/domain/decryptParameters';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nexport abstract class CryptoFunctionService {\n    pbkdf2: (password: string | ArrayBuffer, salt: string | ArrayBuffer, algorithm: 'sha256' | 'sha512',\n        iterations: number) => Promise<ArrayBuffer>;\n    hkdf: (ikm: ArrayBuffer, salt: string | ArrayBuffer, info: string | ArrayBuffer,\n        outputByteSize: number, algorithm: 'sha256' | 'sha512') => Promise<ArrayBuffer>;\n    hkdfExpand: (prk: ArrayBuffer, info: string | ArrayBuffer, outputByteSize: number,\n        algorithm: 'sha256' | 'sha512') => Promise<ArrayBuffer>;\n    hash: (value: string | ArrayBuffer, algorithm: 'sha1' | 'sha256' | 'sha512' | 'md5') => Promise<ArrayBuffer>;\n    hmac: (value: ArrayBuffer, key: ArrayBuffer, algorithm: 'sha1' | 'sha256' | 'sha512') => Promise<ArrayBuffer>;\n    compare: (a: ArrayBuffer, b: ArrayBuffer) => Promise<boolean>;\n    hmacFast: (value: ArrayBuffer | string, key: ArrayBuffer | string, algorithm: 'sha1' | 'sha256' | 'sha512') =>\n        Promise<ArrayBuffer | string>;\n    compareFast: (a: ArrayBuffer | string, b: ArrayBuffer | string) => Promise<boolean>;\n    aesEncrypt: (data: ArrayBuffer, iv: ArrayBuffer, key: ArrayBuffer) => Promise<ArrayBuffer>;\n    aesDecryptFastParameters: (data: string, iv: string, mac: string, key: SymmetricCryptoKey) =>\n        DecryptParameters<ArrayBuffer | string>;\n    aesDecryptFast: (parameters: DecryptParameters<ArrayBuffer | string>) => Promise<string>;\n    aesDecrypt: (data: ArrayBuffer, iv: ArrayBuffer, key: ArrayBuffer) => Promise<ArrayBuffer>;\n    rsaEncrypt: (data: ArrayBuffer, publicKey: ArrayBuffer, algorithm: 'sha1' | 'sha256') => Promise<ArrayBuffer>;\n    rsaDecrypt: (data: ArrayBuffer, privateKey: ArrayBuffer, algorithm: 'sha1' | 'sha256') => Promise<ArrayBuffer>;\n    rsaExtractPublicKey: (privateKey: ArrayBuffer) => Promise<ArrayBuffer>;\n    rsaGenerateKeyPair: (length: 1024 | 2048 | 4096) => Promise<[ArrayBuffer, ArrayBuffer]>;\n    randomBytes: (length: number) => Promise<ArrayBuffer>;\n}\n","import { EncryptionType } from '../../enums/encryptionType';\n\nimport { CryptoService } from '../../abstractions/crypto.service';\n\nimport { Utils } from '../../misc/utils';\n\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport class EncString {\n    encryptedString?: string;\n    encryptionType?: EncryptionType;\n    decryptedValue?: string;\n    data?: string;\n    iv?: string;\n    mac?: string;\n\n    constructor(encryptedStringOrType: string | EncryptionType, data?: string, iv?: string, mac?: string) {\n        if (data != null) {\n            // data and header\n            const encType = encryptedStringOrType as EncryptionType;\n\n            if (iv != null) {\n                this.encryptedString = encType + '.' + iv + '|' + data;\n            } else {\n                this.encryptedString = encType + '.' + data;\n            }\n\n            // mac\n            if (mac != null) {\n                this.encryptedString += ('|' + mac);\n            }\n\n            this.encryptionType = encType;\n            this.data = data;\n            this.iv = iv;\n            this.mac = mac;\n\n            return;\n        }\n\n        this.encryptedString = encryptedStringOrType as string;\n        if (!this.encryptedString) {\n            return;\n        }\n\n        const headerPieces = this.encryptedString.split('.');\n        let encPieces: string[] = null;\n\n        if (headerPieces.length === 2) {\n            try {\n                this.encryptionType = parseInt(headerPieces[0], null);\n                encPieces = headerPieces[1].split('|');\n            } catch (e) {\n                return;\n            }\n        } else {\n            encPieces = this.encryptedString.split('|');\n            this.encryptionType = encPieces.length === 3 ? EncryptionType.AesCbc128_HmacSha256_B64 :\n                EncryptionType.AesCbc256_B64;\n        }\n\n        switch (this.encryptionType) {\n            case EncryptionType.AesCbc128_HmacSha256_B64:\n            case EncryptionType.AesCbc256_HmacSha256_B64:\n                if (encPieces.length !== 3) {\n                    return;\n                }\n\n                this.iv = encPieces[0];\n                this.data = encPieces[1];\n                this.mac = encPieces[2];\n                break;\n            case EncryptionType.AesCbc256_B64:\n                if (encPieces.length !== 2) {\n                    return;\n                }\n\n                this.iv = encPieces[0];\n                this.data = encPieces[1];\n                break;\n            case EncryptionType.Rsa2048_OaepSha256_B64:\n            case EncryptionType.Rsa2048_OaepSha1_B64:\n                if (encPieces.length !== 1) {\n                    return;\n                }\n\n                this.data = encPieces[0];\n                break;\n            default:\n                return;\n        }\n    }\n\n    async decrypt(orgId: string, key: SymmetricCryptoKey = null): Promise<string> {\n        if (this.decryptedValue != null) {\n            return this.decryptedValue;\n        }\n\n        let cryptoService: CryptoService;\n        const containerService = (Utils.global as any).bitwardenContainerService;\n        if (containerService) {\n            cryptoService = containerService.getCryptoService();\n        } else {\n            throw new Error('global bitwardenContainerService not initialized.');\n        }\n\n        try {\n            if (key == null) {\n                key = await cryptoService.getOrgKey(orgId);\n            }\n            this.decryptedValue = await cryptoService.decryptToUtf8(this, key);\n        } catch (e) {\n            this.decryptedValue = '[error: cannot decrypt]';\n        }\n        return this.decryptedValue;\n    }\n}\n","export enum SecureNoteType {\n    Generic = 0,\n}\n","import {\n    Component,\n    Input,\n    OnChanges,\n} from '@angular/core';\n\nimport { CipherType } from '../../enums/cipherType';\n\nimport { CipherView } from '../../models/view/cipherView';\n\nimport { EnvironmentService } from '../../abstractions/environment.service';\nimport { StateService } from '../../abstractions/state.service';\n\nimport { ConstantsService } from '../../services/constants.service';\n\nimport { Utils } from '../../misc/utils';\n\nconst IconMap: any = {\n    'fa-globe': String.fromCharCode(0xf0ac),\n    'fa-sticky-note-o': String.fromCharCode(0xf24a),\n    'fa-id-card-o': String.fromCharCode(0xf2c3),\n    'fa-credit-card': String.fromCharCode(0xf09d),\n    'fa-android': String.fromCharCode(0xf17b),\n    'fa-apple': String.fromCharCode(0xf179),\n};\n\n@Component({\n    selector: 'app-vault-icon',\n    templateUrl: 'icon.component.html',\n})\nexport class IconComponent implements OnChanges {\n    @Input() cipher: CipherView;\n    icon: string;\n    image: string;\n    fallbackImage: string;\n    imageEnabled: boolean;\n\n    private iconsUrl: string;\n\n    constructor(environmentService: EnvironmentService, protected stateService: StateService) {\n        this.iconsUrl = environmentService.iconsUrl;\n        if (!this.iconsUrl) {\n            if (environmentService.baseUrl) {\n                this.iconsUrl = environmentService.baseUrl + '/icons';\n            } else {\n                this.iconsUrl = 'https://icons.bitwarden.net';\n            }\n        }\n    }\n\n    async ngOnChanges() {\n        this.imageEnabled = !(await this.stateService.get<boolean>(ConstantsService.disableFaviconKey));\n        this.load();\n    }\n\n    get iconCode(): string {\n        return IconMap[this.icon];\n    }\n\n    protected load() {\n        switch (this.cipher.type) {\n            case CipherType.Login:\n                this.icon = 'fa-globe';\n                this.setLoginIcon();\n                break;\n            case CipherType.SecureNote:\n                this.icon = 'fa-sticky-note-o';\n                break;\n            case CipherType.Card:\n                this.icon = 'fa-credit-card';\n                break;\n            case CipherType.Identity:\n                this.icon = 'fa-id-card-o';\n                break;\n            default:\n                break;\n        }\n    }\n\n    private setLoginIcon() {\n        if (this.cipher.login.uri) {\n            let hostnameUri = this.cipher.login.uri;\n            let isWebsite = false;\n\n            if (hostnameUri.indexOf('androidapp://') === 0) {\n                this.icon = 'fa-android';\n                this.image = null;\n            } else if (hostnameUri.indexOf('iosapp://') === 0) {\n                this.icon = 'fa-apple';\n                this.image = null;\n            } else if (this.imageEnabled && hostnameUri.indexOf('://') === -1 && hostnameUri.indexOf('.') > -1) {\n                hostnameUri = 'http://' + hostnameUri;\n                isWebsite = true;\n            } else if (this.imageEnabled) {\n                isWebsite = hostnameUri.indexOf('http') === 0 && hostnameUri.indexOf('.') > -1;\n            }\n\n            if (this.imageEnabled && isWebsite) {\n                try {\n                    this.image = this.iconsUrl + '/' + Utils.getHostname(hostnameUri) + '/icon.png';\n                    this.fallbackImage = 'images/fa-globe.png';\n                } catch (e) { }\n            }\n        } else {\n            this.image = null;\n        }\n    }\n}\n","<div class=\"icon\" aria-hidden=\"true\">\n    <img [src]=\"image\" appFallbackSrc=\"{{fallbackImage}}\" *ngIf=\"imageEnabled && image\" alt=\"\" />\n    <i class=\"fa fa-fw fa-lg {{icon}}\" *ngIf=\"!imageEnabled || !image\"></i>\n</div>\n","import { Injectable } from '@angular/core';\n\nimport { BroadcasterService as BaseBroadcasterService } from '../../services/broadcaster.service';\n\n@Injectable()\nexport class BroadcasterService extends BaseBroadcasterService {\n}\n","export enum TwoFactorProviderType {\n    Authenticator = 0,\n    Email = 1,\n    Duo = 2,\n    Yubikey = 3,\n    U2f = 4,\n    Remember = 5,\n    OrganizationDuo = 6,\n    WebAuthn = 7,\n}\n","export abstract class TotpService {\n    getCode: (key: string) => Promise<string>;\n    getTimeInterval: (key: string) => number;\n    isAutoCopyEnabled: () => Promise<boolean>;\n}\n","import {\n    Component,\n    Input,\n    OnInit,\n} from '@angular/core';\n\nimport { PaymentMethodType } from 'jslib/enums/paymentMethodType';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { WebConstants } from '../../services/webConstants';\n\nconst StripeElementStyle = {\n    base: {\n        color: '#333333',\n        fontFamily: '\"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, ' +\n            '\"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\n        fontSize: '14px',\n        fontSmoothing: 'antialiased',\n    },\n    invalid: {\n        color: '#333333',\n    },\n};\n\nconst StripeElementClasses = {\n    focus: 'is-focused',\n    empty: 'is-empty',\n    invalid: 'is-invalid',\n};\n\n@Component({\n    selector: 'app-payment',\n    templateUrl: 'payment.component.html',\n})\nexport class PaymentComponent implements OnInit {\n    @Input() showMethods = true;\n    @Input() showOptions = true;\n    @Input() method = PaymentMethodType.Card;\n    @Input() hideBank = false;\n    @Input() hidePaypal = false;\n    @Input() hideCredit = false;\n\n    bank: any = {\n        routing_number: null,\n        account_number: null,\n        account_holder_name: null,\n        account_holder_type: '',\n        currency: 'USD',\n        country: 'US',\n    };\n\n    paymentMethodType = PaymentMethodType;\n\n    private btScript: HTMLScriptElement;\n    private btInstance: any = null;\n    private stripeScript: HTMLScriptElement;\n    private stripe: any = null;\n    private stripeElements: any = null;\n    private stripeCardNumberElement: any = null;\n    private stripeCardExpiryElement: any = null;\n    private stripeCardCvcElement: any = null;\n\n    constructor(private platformUtilsService: PlatformUtilsService, private apiService: ApiService) {\n        this.stripeScript = window.document.createElement('script');\n        this.stripeScript.src = 'https://js.stripe.com/v3/';\n        this.stripeScript.async = true;\n        this.stripeScript.onload = () => {\n            this.stripe = (window as any).Stripe(this.platformUtilsService.isDev() ?\n                WebConstants.stripeTestKey : WebConstants.stripeLiveKey);\n            this.stripeElements = this.stripe.elements();\n            this.setStripeElement();\n        };\n        this.btScript = window.document.createElement('script');\n        this.btScript.src = 'scripts/dropin.js';\n        this.btScript.async = true;\n    }\n\n    ngOnInit() {\n        if (!this.showOptions) {\n            this.hidePaypal = this.method !== PaymentMethodType.PayPal;\n            this.hideBank = this.method !== PaymentMethodType.BankAccount;\n            this.hideCredit = this.method !== PaymentMethodType.Credit;\n        }\n        window.document.head.appendChild(this.stripeScript);\n        if (!this.hidePaypal) {\n            window.document.head.appendChild(this.btScript);\n        }\n    }\n\n    ngOnDestroy() {\n        window.document.head.removeChild(this.stripeScript);\n        window.setTimeout(() => {\n            Array.from(window.document.querySelectorAll('iframe')).forEach(el => {\n                if (el.src != null && el.src.indexOf('stripe') > -1) {\n                    try {\n                        window.document.body.removeChild(el);\n                    } catch { }\n                }\n            });\n        }, 500);\n        if (!this.hidePaypal) {\n            window.document.head.removeChild(this.btScript);\n            window.setTimeout(() => {\n                Array.from(window.document.head.querySelectorAll('script')).forEach(el => {\n                    if (el.src != null && el.src.indexOf('paypal') > -1) {\n                        try {\n                            window.document.head.removeChild(el);\n                        } catch { }\n                    }\n                });\n                const btStylesheet = window.document.head.querySelector('#braintree-dropin-stylesheet');\n                if (btStylesheet != null) {\n                    try {\n                        window.document.head.removeChild(btStylesheet);\n                    } catch { }\n                }\n            }, 500);\n        }\n    }\n\n    changeMethod() {\n        this.btInstance = null;\n\n        if (this.method === PaymentMethodType.PayPal) {\n            window.setTimeout(() => {\n                (window as any).braintree.dropin.create({\n                    authorization: this.platformUtilsService.isDev() ?\n                        WebConstants.btSandboxKey : WebConstants.btProductionKey,\n                    container: '#bt-dropin-container',\n                    paymentOptionPriority: ['paypal'],\n                    paypal: {\n                        flow: 'vault',\n                        buttonStyle: {\n                            label: 'pay',\n                            size: 'medium',\n                            shape: 'pill',\n                            color: 'blue',\n                        },\n                    },\n                }, (createErr: any, instance: any) => {\n                    if (createErr != null) {\n                        // tslint:disable-next-line\n                        console.error(createErr);\n                        return;\n                    }\n                    this.btInstance = instance;\n                });\n            }, 250);\n        } else {\n            this.setStripeElement();\n        }\n    }\n\n    createPaymentToken(): Promise<[string, PaymentMethodType]> {\n        return new Promise((resolve, reject) => {\n            if (this.method === PaymentMethodType.Credit) {\n                resolve([null, this.method]);\n            } else if (this.method === PaymentMethodType.PayPal) {\n                this.btInstance.requestPaymentMethod().then((payload: any) => {\n                    resolve([payload.nonce, this.method]);\n                }).catch((err: any) => {\n                    reject(err.message);\n                });\n            } else if (this.method === PaymentMethodType.Card || this.method === PaymentMethodType.BankAccount) {\n                if (this.method === PaymentMethodType.Card) {\n                    this.apiService.postSetupPayment().then(clientSecret =>\n                        this.stripe.handleCardSetup(clientSecret, this.stripeCardNumberElement))\n                        .then((result: any) => {\n                            if (result.error) {\n                                reject(result.error.message);\n                            } else if (result.setupIntent && result.setupIntent.status === 'succeeded') {\n                                resolve([result.setupIntent.payment_method, this.method]);\n                            } else {\n                                reject();\n                            }\n                        });\n                } else {\n                    this.stripe.createToken('bank_account', this.bank).then((result: any) => {\n                        if (result.error) {\n                            reject(result.error.message);\n                        } else if (result.token && result.token.id != null) {\n                            resolve([result.token.id, this.method]);\n                        } else {\n                            reject();\n                        }\n                    });\n                }\n            }\n        });\n    }\n\n    handleStripeCardPayment(clientSecret: string, successCallback: () => Promise<any>): Promise<any> {\n        return new Promise((resolve, reject) => {\n            if (this.showMethods && this.stripeCardNumberElement == null) {\n                reject();\n                return;\n            }\n            const handleCardPayment = () => this.showMethods ?\n                this.stripe.handleCardSetup(clientSecret, this.stripeCardNumberElement) :\n                this.stripe.handleCardSetup(clientSecret);\n            return handleCardPayment().then(async (result: any) => {\n                if (result.error) {\n                    reject(result.error.message);\n                } else if (result.paymentIntent && result.paymentIntent.status === 'succeeded') {\n                    if (successCallback != null) {\n                        await successCallback();\n                    }\n                    resolve();\n                } else {\n                    reject();\n                }\n            });\n        });\n    }\n\n    private setStripeElement() {\n        window.setTimeout(() => {\n            if (this.showMethods && this.method === PaymentMethodType.Card) {\n                if (this.stripeCardNumberElement == null) {\n                    this.stripeCardNumberElement = this.stripeElements.create('cardNumber', {\n                        style: StripeElementStyle,\n                        classes: StripeElementClasses,\n                        placeholder: '',\n                    });\n                }\n                if (this.stripeCardExpiryElement == null) {\n                    this.stripeCardExpiryElement = this.stripeElements.create('cardExpiry', {\n                        style: StripeElementStyle,\n                        classes: StripeElementClasses,\n                    });\n                }\n                if (this.stripeCardCvcElement == null) {\n                    this.stripeCardCvcElement = this.stripeElements.create('cardCvc', {\n                        style: StripeElementStyle,\n                        classes: StripeElementClasses,\n                        placeholder: '',\n                    });\n                }\n                this.stripeCardNumberElement.mount('#stripe-card-number-element');\n                this.stripeCardExpiryElement.mount('#stripe-card-expiry-element');\n                this.stripeCardCvcElement.mount('#stripe-card-cvc-element');\n            }\n        }, 50);\n    }\n}\n","<div class=\"mb-4 text-lg\" *ngIf=\"showOptions && showMethods\">\n    <div class=\"form-check form-check-inline mr-4\">\n        <input class=\"form-check-input\" type=\"radio\" name=\"Method\" id=\"method-card\" [value]=\"paymentMethodType.Card\"\n            [(ngModel)]=\"method\" (change)=\"changeMethod()\">\n        <label class=\"form-check-label\" for=\"method-card\">\n            <i class=\"fa fa-fw fa-credit-card\" aria-hidden=\"true\"></i> {{'creditCard' | i18n}}</label>\n    </div>\n    <div class=\"form-check form-check-inline mr-4\" *ngIf=\"!hideBank\">\n        <input class=\"form-check-input\" type=\"radio\" name=\"Method\" id=\"method-bank\"\n            [value]=\"paymentMethodType.BankAccount\" [(ngModel)]=\"method\" (change)=\"changeMethod()\">\n        <label class=\"form-check-label\" for=\"method-bank\">\n            <i class=\"fa fa-fw fa-university\" aria-hidden=\"true\"></i> {{'bankAccount' | i18n}}</label>\n    </div>\n    <div class=\"form-check form-check-inline\" *ngIf=\"!hidePaypal\">\n        <input class=\"form-check-input\" type=\"radio\" name=\"Method\" id=\"method-paypal\" [value]=\"paymentMethodType.PayPal\"\n            [(ngModel)]=\"method\" (change)=\"changeMethod()\">\n        <label class=\"form-check-label\" for=\"method-paypal\">\n            <i class=\"fa fa-fw fa-paypal\" aria-hidden=\"true\"></i> PayPal</label>\n    </div>\n    <div class=\"form-check form-check-inline\" *ngIf=\"!hideCredit\">\n        <input class=\"form-check-input\" type=\"radio\" name=\"Method\" id=\"method-credit\" [value]=\"paymentMethodType.Credit\"\n            [(ngModel)]=\"method\" (change)=\"changeMethod()\">\n        <label class=\"form-check-label\" for=\"method-credit\">\n            <i class=\"fa fa-fw fa-dollar\" aria-hidden=\"true\"></i> {{'accountCredit' | i18n}}</label>\n    </div>\n</div>\n<ng-container *ngIf=\"showMethods && method === paymentMethodType.Card\">\n    <div class=\"row\">\n        <div class=\"form-group col-4\">\n            <label for=\"stripe-card-number-element\">{{'number' | i18n}}</label>\n            <div id=\"stripe-card-number-element\" class=\"form-control stripe-form-control\"></div>\n        </div>\n        <div class=\"form-group col-8 d-flex align-items-end\">\n            <img src=\"images/cards.png\" alt=\"Visa, MasterCard, Discover, AmEx, JCB, Diners Club, UnionPay\"\n                width=\"323\" height=\"32\">\n        </div>\n        <div class=\"form-group col-4\">\n            <label for=\"stripe-card-expiry-element\">{{'expiration' | i18n}}</label>\n            <div id=\"stripe-card-expiry-element\" class=\"form-control stripe-form-control\"></div>\n        </div>\n        <div class=\"form-group col-4\">\n            <div class=\"d-flex\">\n                <label for=\"stripe-card-cvc-element\">\n                    {{'securityCode' | i18n}}\n                </label>\n                <a href=\"https://www.cvvnumber.com/cvv.html\" tabindex=\"-1\" target=\"_blank\" rel=\"noopener noreferrer\"\n                    class=\"ml-auto\" appA11yTitle=\"{{'learnMore' | i18n}}\">\n                    <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                </a>\n            </div>\n            <div id=\"stripe-card-cvc-element\" class=\"form-control stripe-form-control\"></div>\n        </div>\n    </div>\n</ng-container>\n<ng-container *ngIf=\"showMethods && method === paymentMethodType.BankAccount\">\n    <app-callout type=\"warning\" title=\"{{'verifyBankAccount' | i18n}}\">\n        {{'verifyBankAccountInitialDesc' | i18n}} {{'verifyBankAccountFailureWarning' | i18n}}\n    </app-callout>\n    <div class=\"row\">\n        <div class=\"form-group col-6\">\n            <label for=\"routing_number\">{{'routingNumber' | i18n}}</label>\n            <input id=\"routing_number\" class=\"form-control\" type=\"text\" name=\"routing_number\"\n                [(ngModel)]=\"bank.routing_number\" required appInputVerbatim>\n        </div>\n        <div class=\"form-group col-6\">\n            <label for=\"account_number\">{{'accountNumber' | i18n}}</label>\n            <input id=\"account_number\" class=\"form-control\" type=\"text\" name=\"account_number\"\n                [(ngModel)]=\"bank.account_number\" required appInputVerbatim>\n        </div>\n        <div class=\"form-group col-6\">\n            <label for=\"account_holder_name\">{{'accountHolderName' | i18n}}</label>\n            <input id=\"account_holder_name\" class=\"form-control\" type=\"text\" name=\"account_holder_name\"\n                [(ngModel)]=\"bank.account_holder_name\" required>\n        </div>\n        <div class=\"form-group col-6\">\n            <label for=\"account_holder_type\">{{'bankAccountType' | i18n}}</label>\n            <select id=\"account_holder_type\" class=\"form-control\" name=\"account_holder_type\"\n                [(ngModel)]=\"bank.account_holder_type\" required>\n                <option value=\"\">-- {{'select' | i18n}} --</option>\n                <option value=\"company\">{{'bankAccountTypeCompany' | i18n}}</option>\n                <option value=\"individual\">{{'bankAccountTypeIndividual' | i18n}}</option>\n            </select>\n        </div>\n    </div>\n</ng-container>\n<ng-container *ngIf=\"showMethods && method === paymentMethodType.PayPal\">\n    <div class=\"mb-3\">\n        <div id=\"bt-dropin-container\" class=\"mb-1\"></div>\n        <small class=\"text-muted\">{{'paypalClickSubmit' | i18n}}</small>\n    </div>\n</ng-container>\n<ng-container *ngIf=\"showMethods && method === paymentMethodType.Credit\">\n    <app-callout type=\"note\">\n        {{'makeSureEnoughCredit' | i18n}}\n    </app-callout>\n</ng-container>\n","export enum FieldType {\n    Text = 0,\n    Hidden = 1,\n    Boolean = 2,\n}\n","import { View } from './view';\n\nimport { Folder } from '../domain/folder';\nimport { ITreeNodeObject } from '../domain/treeNode';\n\nexport class FolderView implements View, ITreeNodeObject {\n    id: string = null;\n    name: string = null;\n    revisionDate: Date = null;\n\n    constructor(f?: Folder) {\n        if (!f) {\n            return;\n        }\n\n        this.id = f.id;\n        this.revisionDate = f.revisionDate;\n    }\n}\n","import {\n    Component,\n    Input,\n    OnChanges,\n    OnInit,\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\nimport { CryptoFunctionService } from 'jslib/abstractions/cryptoFunction.service';\nimport { StateService } from 'jslib/abstractions/state.service';\n\nimport { Utils } from 'jslib/misc/utils';\n\n@Component({\n    selector: 'app-avatar',\n    template: '<img [src]=\"sanitizer.bypassSecurityTrustResourceUrl(src)\" title=\"{{data}}\" ' +\n        '[ngClass]=\"{\\'rounded-circle\\': circle}\">',\n})\nexport class AvatarComponent implements OnChanges, OnInit {\n    @Input() data: string;\n    @Input() email: string;\n    @Input() size = 45;\n    @Input() charCount = 2;\n    @Input() textColor = '#ffffff';\n    @Input() fontSize = 20;\n    @Input() fontWeight = 300;\n    @Input() dynamic = false;\n    @Input() circle = false;\n\n    src: string;\n\n    constructor(public sanitizer: DomSanitizer, private cryptoFunctionService: CryptoFunctionService,\n        private stateService: StateService) { }\n\n    ngOnInit() {\n        if (!this.dynamic) {\n            this.generate();\n        }\n    }\n\n    ngOnChanges() {\n        if (this.dynamic) {\n            this.generate();\n        }\n    }\n\n    private async generate() {\n        const enableGravatars = await this.stateService.get<boolean>('enableGravatars');\n        if (enableGravatars && this.email != null) {\n            const hashBytes = await this.cryptoFunctionService.hash(this.email.toLowerCase().trim(), 'md5');\n            const hash = Utils.fromBufferToHex(hashBytes).toLowerCase();\n            this.src = 'https://www.gravatar.com/avatar/' + hash + '?s=' + this.size + '&r=pg&d=retro';\n        } else {\n            let chars: string = null;\n            const upperData = this.data.toUpperCase();\n\n            if (this.charCount > 1) {\n                chars = this.getFirstLetters(upperData, this.charCount);\n            }\n            if (chars == null) {\n                chars = upperData.substr(0, this.charCount);\n            }\n\n            const charObj = this.getCharText(chars);\n            const color = this.stringToColor(upperData);\n            const svg = this.getSvg(this.size, color);\n            svg.appendChild(charObj);\n            const html = window.document.createElement('div').appendChild(svg).outerHTML;\n            const svgHtml = window.btoa(unescape(encodeURIComponent(html)));\n            this.src = 'data:image/svg+xml;base64,' + svgHtml;\n        }\n    }\n\n    private stringToColor(str: string): string {\n        let hash = 0;\n        for (let i = 0; i < str.length; i++) {\n            // tslint:disable-next-line\n            hash = str.charCodeAt(i) + ((hash << 5) - hash);\n        }\n        let color = '#';\n        for (let i = 0; i < 3; i++) {\n            // tslint:disable-next-line\n            const value = (hash >> (i * 8)) & 0xFF;\n            color += ('00' + value.toString(16)).substr(-2);\n        }\n        return color;\n    }\n\n    private getFirstLetters(data: string, count: number): string {\n        const parts = data.split(' ');\n        if (parts.length > 1) {\n            let text = '';\n            for (let i = 0; i < count; i++) {\n                text += parts[i].substr(0, 1);\n            }\n            return text;\n        }\n        return null;\n    }\n\n    private getSvg(size: number, color: string): HTMLElement {\n        const svgTag = window.document.createElement('svg');\n        svgTag.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n        svgTag.setAttribute('pointer-events', 'none');\n        svgTag.setAttribute('width', size.toString());\n        svgTag.setAttribute('height', size.toString());\n        svgTag.style.backgroundColor = color;\n        svgTag.style.width = size + 'px';\n        svgTag.style.height = size + 'px';\n        return svgTag;\n    }\n\n    private getCharText(character: string): HTMLElement {\n        const textTag = window.document.createElement('text');\n        textTag.setAttribute('text-anchor', 'middle');\n        textTag.setAttribute('y', '50%');\n        textTag.setAttribute('x', '50%');\n        textTag.setAttribute('dy', '0.35em');\n        textTag.setAttribute('pointer-events', 'auto');\n        textTag.setAttribute('fill', this.textColor);\n        textTag.setAttribute('font-family', '\"Open Sans\",\"Helvetica Neue\",Helvetica,Arial,' +\n            'sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"');\n        textTag.textContent = character;\n        textTag.style.fontWeight = this.fontWeight.toString();\n        textTag.style.fontSize = this.fontSize + 'px';\n        return textTag;\n    }\n}\n","import { CollectionData } from '../data/collectionData';\n\nimport { CollectionView } from '../view/collectionView';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\n\nexport class Collection extends Domain {\n    id: string;\n    organizationId: string;\n    name: EncString;\n    externalId: string;\n    readOnly: boolean;\n    hidePasswords: boolean;\n\n    constructor(obj?: CollectionData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.buildDomainModel(this, obj, {\n            id: null,\n            organizationId: null,\n            name: null,\n            externalId: null,\n            readOnly: null,\n            hidePasswords: null,\n        }, alreadyEncrypted, ['id', 'organizationId', 'externalId', 'readOnly', 'hidePasswords']);\n    }\n\n    decrypt(): Promise<CollectionView> {\n        return this.decryptObj(new CollectionView(this), {\n            name: null,\n        }, this.organizationId);\n    }\n}\n","export enum PolicyType {\n    TwoFactorAuthentication = 0, // Requires users to have 2fa enabled\n    MasterPassword = 1, // Sets minimum requirements for master password complexity\n    PasswordGenerator = 2, // Sets minimum requirements/default type for generated passwords/passphrases\n    SingleOrg = 3, // Allows users to only be apart of one organization\n    RequireSso = 4, // Requires users to authenticate with SSO\n    PersonalOwnership = 5, // Disables personal vault ownership for adding/cloning items\n    DisableSend = 6, // Disables the ability to create and edit Bitwarden Sends\n    SendOptions = 7, // Sets restrictions or defaults for Bitwarden Sends\n}\n","import {\n    Component,\n    EventEmitter,\n    Output,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { OrganizationTaxInfoUpdateRequest } from 'jslib/models/request/organizationTaxInfoUpdateRequest';\nimport { TaxInfoUpdateRequest } from 'jslib/models/request/taxInfoUpdateRequest';\nimport { TaxRateResponse } from 'jslib/models/response/taxRateResponse';\n\n@Component({\n    selector: 'app-tax-info',\n    templateUrl: 'tax-info.component.html',\n})\nexport class TaxInfoComponent {\n    @Output() onCountryChanged = new EventEmitter();\n\n    loading: boolean = true;\n    organizationId: string;\n    taxInfo: any = {\n        taxId: null,\n        line1: null,\n        line2: null,\n        city: null,\n        state: null,\n        postalCode: null,\n        country: 'US',\n        includeTaxId: false,\n    };\n\n    taxRates: TaxRateResponse[];\n\n    private pristine: any = {\n        taxId: null,\n        line1: null,\n        line2: null,\n        city: null,\n        state: null,\n        postalCode: null,\n        country: 'US',\n        includeTaxId: false,\n    };\n\n    constructor(private apiService: ApiService, private route: ActivatedRoute) { }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            if (this.organizationId) {\n                try {\n                    const taxInfo = await this.apiService.getOrganizationTaxInfo(this.organizationId);\n                    if (taxInfo) {\n                        this.taxInfo.taxId = taxInfo.taxId;\n                        this.taxInfo.state = taxInfo.state;\n                        this.taxInfo.line1 = taxInfo.line1;\n                        this.taxInfo.line2 = taxInfo.line2;\n                        this.taxInfo.city = taxInfo.city;\n                        this.taxInfo.state = taxInfo.state;\n                        this.taxInfo.postalCode = taxInfo.postalCode;\n                        this.taxInfo.country = taxInfo.country || 'US';\n                        this.taxInfo.includeTaxId = this.taxInfo.country !== 'US' && (\n                            !!taxInfo.taxId\n                            || !!taxInfo.line1\n                            || !!taxInfo.line2\n                            || !!taxInfo.city\n                            || !!taxInfo.state);\n                    }\n                } catch { }\n            } else {\n                const taxInfo = await this.apiService.getTaxInfo();\n                if (taxInfo) {\n                    this.taxInfo.postalCode = taxInfo.postalCode;\n                    this.taxInfo.country = taxInfo.country || 'US';\n                }\n            }\n            this.pristine = Object.assign({}, this.taxInfo);\n            // If not the default (US) then trigger onCountryChanged\n            if (this.taxInfo.country !== 'US') {\n                this.onCountryChanged.emit();\n            }\n        });\n\n        const taxRates = await this.apiService.getTaxRates();\n        this.taxRates = taxRates.data;\n        this.loading = false;\n    }\n\n    get taxRate() {\n        if (this.taxRates != null) {\n            const localTaxRate = this.taxRates.find(x =>\n                x.country === this.taxInfo.country &&\n                x.postalCode === this.taxInfo.postalCode\n            );\n            return localTaxRate?.rate ?? null;\n        }\n    }\n\n    getTaxInfoRequest(): TaxInfoUpdateRequest {\n        if (this.organizationId) {\n            const request = new OrganizationTaxInfoUpdateRequest();\n            request.taxId = this.taxInfo.taxId;\n            request.state = this.taxInfo.state;\n            request.line1 = this.taxInfo.line1;\n            request.line2 = this.taxInfo.line2;\n            request.city = this.taxInfo.city;\n            request.state = this.taxInfo.state;\n            request.postalCode = this.taxInfo.postalCode;\n            request.country = this.taxInfo.country;\n            return request;\n        } else {\n            const request = new TaxInfoUpdateRequest();\n            request.postalCode = this.taxInfo.postalCode;\n            request.country = this.taxInfo.country;\n            return request;\n        }\n    }\n\n    submitTaxInfo(): Promise<any> {\n        if (!this.hasChanged()) {\n            return new Promise(resolve => { resolve(); });\n        }\n        const request = this.getTaxInfoRequest();\n        return this.organizationId ? this.apiService.putOrganizationTaxInfo(this.organizationId,\n            request as OrganizationTaxInfoUpdateRequest) : this.apiService.putTaxInfo(request);\n    }\n\n    changeCountry() {\n        if (this.taxInfo.country === 'US') {\n            this.taxInfo.includeTaxId = false;\n            this.taxInfo.taxId = null;\n            this.taxInfo.line1 = null;\n            this.taxInfo.line2 = null;\n            this.taxInfo.city = null;\n            this.taxInfo.state = null;\n        }\n        this.onCountryChanged.emit();\n    }\n\n    private hasChanged(): boolean {\n        for (const key in this.taxInfo) {\n            if (this.pristine.hasOwnProperty(key) && this.pristine[key] !== this.taxInfo[key]) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","<div class=\"row\">\n    <div class=\"col-6\">\n        <div class=\"form-group\">\n            <label for=\"addressCountry\">{{'country' | i18n}}</label>\n            <select id=\"addressCountry\" class=\"form-control\" [(ngModel)]=\"taxInfo.country\" required name=\"addressCountry\" \n                autocomplete=\"country\" (change)=\"changeCountry()\">\n                <option value=\"\">-- Select --</option>\n                <option value=\"US\">United States</option>\n                <option value=\"CN\">China</option>\n                <option value=\"FR\">France</option>\n                <option value=\"DE\">Germany</option>\n                <option value=\"CA\">Canada</option>\n                <option value=\"GB\">United Kingdom</option>\n                <option value=\"AU\">Australia</option>\n                <option value=\"IN\">India</option>\n                <option value=\"-\" disabled></option>\n                <option value=\"AF\">Afghanistan</option>\n                <option value=\"AX\">land Islands</option>\n                <option value=\"AL\">Albania</option>\n                <option value=\"DZ\">Algeria</option>\n                <option value=\"AS\">American Samoa</option>\n                <option value=\"AD\">Andorra</option>\n                <option value=\"AO\">Angola</option>\n                <option value=\"AI\">Anguilla</option>\n                <option value=\"AQ\">Antarctica</option>\n                <option value=\"AG\">Antigua and Barbuda</option>\n                <option value=\"AR\">Argentina</option>\n                <option value=\"AM\">Armenia</option>\n                <option value=\"AW\">Aruba</option>\n                <option value=\"AT\">Austria</option>\n                <option value=\"AZ\">Azerbaijan</option>\n                <option value=\"BS\">Bahamas</option>\n                <option value=\"BH\">Bahrain</option>\n                <option value=\"BD\">Bangladesh</option>\n                <option value=\"BB\">Barbados</option>\n                <option value=\"BY\">Belarus</option>\n                <option value=\"BE\">Belgium</option>\n                <option value=\"BZ\">Belize</option>\n                <option value=\"BJ\">Benin</option>\n                <option value=\"BM\">Bermuda</option>\n                <option value=\"BT\">Bhutan</option>\n                <option value=\"BO\">Bolivia, Plurinational State of</option>\n                <option value=\"BQ\">Bonaire, Sint Eustatius and Saba</option>\n                <option value=\"BA\">Bosnia and Herzegovina</option>\n                <option value=\"BW\">Botswana</option>\n                <option value=\"BV\">Bouvet Island</option>\n                <option value=\"BR\">Brazil</option>\n                <option value=\"IO\">British Indian Ocean Territory</option>\n                <option value=\"BN\">Brunei Darussalam</option>\n                <option value=\"BG\">Bulgaria</option>\n                <option value=\"BF\">Burkina Faso</option>\n                <option value=\"BI\">Burundi</option>\n                <option value=\"KH\">Cambodia</option>\n                <option value=\"CM\">Cameroon</option>\n                <option value=\"CV\">Cape Verde</option>\n                <option value=\"KY\">Cayman Islands</option>\n                <option value=\"CF\">Central African Republic</option>\n                <option value=\"TD\">Chad</option>\n                <option value=\"CL\">Chile</option>\n                <option value=\"CX\">Christmas Island</option>\n                <option value=\"CC\">Cocos (Keeling) Islands</option>\n                <option value=\"CO\">Colombia</option>\n                <option value=\"KM\">Comoros</option>\n                <option value=\"CG\">Congo</option>\n                <option value=\"CD\">Congo, the Democratic Republic of the</option>\n                <option value=\"CK\">Cook Islands</option>\n                <option value=\"CR\">Costa Rica</option>\n                <option value=\"CI\">Cte d'Ivoire</option>\n                <option value=\"HR\">Croatia</option>\n                <option value=\"CU\">Cuba</option>\n                <option value=\"CW\">Curaao</option>\n                <option value=\"CY\">Cyprus</option>\n                <option value=\"CZ\">Czech Republic</option>\n                <option value=\"DK\">Denmark</option>\n                <option value=\"DJ\">Djibouti</option>\n                <option value=\"DM\">Dominica</option>\n                <option value=\"DO\">Dominican Republic</option>\n                <option value=\"EC\">Ecuador</option>\n                <option value=\"EG\">Egypt</option>\n                <option value=\"SV\">El Salvador</option>\n                <option value=\"GQ\">Equatorial Guinea</option>\n                <option value=\"ER\">Eritrea</option>\n                <option value=\"EE\">Estonia</option>\n                <option value=\"ET\">Ethiopia</option>\n                <option value=\"FK\">Falkland Islands (Malvinas)</option>\n                <option value=\"FO\">Faroe Islands</option>\n                <option value=\"FJ\">Fiji</option>\n                <option value=\"FI\">Finland</option>\n                <option value=\"GF\">French Guiana</option>\n                <option value=\"PF\">French Polynesia</option>\n                <option value=\"TF\">French Southern Territories</option>\n                <option value=\"GA\">Gabon</option>\n                <option value=\"GM\">Gambia</option>\n                <option value=\"GE\">Georgia</option>\n                <option value=\"GH\">Ghana</option>\n                <option value=\"GI\">Gibraltar</option>\n                <option value=\"GR\">Greece</option>\n                <option value=\"GL\">Greenland</option>\n                <option value=\"GD\">Grenada</option>\n                <option value=\"GP\">Guadeloupe</option>\n                <option value=\"GU\">Guam</option>\n                <option value=\"GT\">Guatemala</option>\n                <option value=\"GG\">Guernsey</option>\n                <option value=\"GN\">Guinea</option>\n                <option value=\"GW\">Guinea-Bissau</option>\n                <option value=\"GY\">Guyana</option>\n                <option value=\"HT\">Haiti</option>\n                <option value=\"HM\">Heard Island and McDonald Islands</option>\n                <option value=\"VA\">Holy See (Vatican City State)</option>\n                <option value=\"HN\">Honduras</option>\n                <option value=\"HK\">Hong Kong</option>\n                <option value=\"HU\">Hungary</option>\n                <option value=\"IS\">Iceland</option>\n                <option value=\"ID\">Indonesia</option>\n                <option value=\"IR\">Iran, Islamic Republic of</option>\n                <option value=\"IQ\">Iraq</option>\n                <option value=\"IE\">Ireland</option>\n                <option value=\"IM\">Isle of Man</option>\n                <option value=\"IL\">Israel</option>\n                <option value=\"IT\">Italy</option>\n                <option value=\"JM\">Jamaica</option>\n                <option value=\"JP\">Japan</option>\n                <option value=\"JE\">Jersey</option>\n                <option value=\"JO\">Jordan</option>\n                <option value=\"KZ\">Kazakhstan</option>\n                <option value=\"KE\">Kenya</option>\n                <option value=\"KI\">Kiribati</option>\n                <option value=\"KP\">Korea, Democratic People's Republic of</option>\n                <option value=\"KR\">Korea, Republic of</option>\n                <option value=\"KW\">Kuwait</option>\n                <option value=\"KG\">Kyrgyzstan</option>\n                <option value=\"LA\">Lao People's Democratic Republic</option>\n                <option value=\"LV\">Latvia</option>\n                <option value=\"LB\">Lebanon</option>\n                <option value=\"LS\">Lesotho</option>\n                <option value=\"LR\">Liberia</option>\n                <option value=\"LY\">Libya</option>\n                <option value=\"LI\">Liechtenstein</option>\n                <option value=\"LT\">Lithuania</option>\n                <option value=\"LU\">Luxembourg</option>\n                <option value=\"MO\">Macao</option>\n                <option value=\"MK\">Macedonia, the former Yugoslav Republic of</option>\n                <option value=\"MG\">Madagascar</option>\n                <option value=\"MW\">Malawi</option>\n                <option value=\"MY\">Malaysia</option>\n                <option value=\"MV\">Maldives</option>\n                <option value=\"ML\">Mali</option>\n                <option value=\"MT\">Malta</option>\n                <option value=\"MH\">Marshall Islands</option>\n                <option value=\"MQ\">Martinique</option>\n                <option value=\"MR\">Mauritania</option>\n                <option value=\"MU\">Mauritius</option>\n                <option value=\"YT\">Mayotte</option>\n                <option value=\"MX\">Mexico</option>\n                <option value=\"FM\">Micronesia, Federated States of</option>\n                <option value=\"MD\">Moldova, Republic of</option>\n                <option value=\"MC\">Monaco</option>\n                <option value=\"MN\">Mongolia</option>\n                <option value=\"ME\">Montenegro</option>\n                <option value=\"MS\">Montserrat</option>\n                <option value=\"MA\">Morocco</option>\n                <option value=\"MZ\">Mozambique</option>\n                <option value=\"MM\">Myanmar</option>\n                <option value=\"NA\">Namibia</option>\n                <option value=\"NR\">Nauru</option>\n                <option value=\"NP\">Nepal</option>\n                <option value=\"NL\">Netherlands</option>\n                <option value=\"NC\">New Caledonia</option>\n                <option value=\"NZ\">New Zealand</option>\n                <option value=\"NI\">Nicaragua</option>\n                <option value=\"NE\">Niger</option>\n                <option value=\"NG\">Nigeria</option>\n                <option value=\"NU\">Niue</option>\n                <option value=\"NF\">Norfolk Island</option>\n                <option value=\"MP\">Northern Mariana Islands</option>\n                <option value=\"NO\">Norway</option>\n                <option value=\"OM\">Oman</option>\n                <option value=\"PK\">Pakistan</option>\n                <option value=\"PW\">Palau</option>\n                <option value=\"PS\">Palestinian Territory, Occupied</option>\n                <option value=\"PA\">Panama</option>\n                <option value=\"PG\">Papua New Guinea</option>\n                <option value=\"PY\">Paraguay</option>\n                <option value=\"PE\">Peru</option>\n                <option value=\"PH\">Philippines</option>\n                <option value=\"PN\">Pitcairn</option>\n                <option value=\"PL\">Poland</option>\n                <option value=\"PT\">Portugal</option>\n                <option value=\"PR\">Puerto Rico</option>\n                <option value=\"QA\">Qatar</option>\n                <option value=\"RE\">Runion</option>\n                <option value=\"RO\">Romania</option>\n                <option value=\"RU\">Russian Federation</option>\n                <option value=\"RW\">Rwanda</option>\n                <option value=\"BL\">Saint Barthlemy</option>\n                <option value=\"SH\">Saint Helena, Ascension and Tristan da Cunha</option>\n                <option value=\"KN\">Saint Kitts and Nevis</option>\n                <option value=\"LC\">Saint Lucia</option>\n                <option value=\"MF\">Saint Martin (French part)</option>\n                <option value=\"PM\">Saint Pierre and Miquelon</option>\n                <option value=\"VC\">Saint Vincent and the Grenadines</option>\n                <option value=\"WS\">Samoa</option>\n                <option value=\"SM\">San Marino</option>\n                <option value=\"ST\">Sao Tome and Principe</option>\n                <option value=\"SA\">Saudi Arabia</option>\n                <option value=\"SN\">Senegal</option>\n                <option value=\"RS\">Serbia</option>\n                <option value=\"SC\">Seychelles</option>\n                <option value=\"SL\">Sierra Leone</option>\n                <option value=\"SG\">Singapore</option>\n                <option value=\"SX\">Sint Maarten (Dutch part)</option>\n                <option value=\"SK\">Slovakia</option>\n                <option value=\"SI\">Slovenia</option>\n                <option value=\"SB\">Solomon Islands</option>\n                <option value=\"SO\">Somalia</option>\n                <option value=\"ZA\">South Africa</option>\n                <option value=\"GS\">South Georgia and the South Sandwich Islands</option>\n                <option value=\"SS\">South Sudan</option>\n                <option value=\"ES\">Spain</option>\n                <option value=\"LK\">Sri Lanka</option>\n                <option value=\"SD\">Sudan</option>\n                <option value=\"SR\">Suriname</option>\n                <option value=\"SJ\">Svalbard and Jan Mayen</option>\n                <option value=\"SZ\">Swaziland</option>\n                <option value=\"SE\">Sweden</option>\n                <option value=\"CH\">Switzerland</option>\n                <option value=\"SY\">Syrian Arab Republic</option>\n                <option value=\"TW\">Taiwan</option>\n                <option value=\"TJ\">Tajikistan</option>\n                <option value=\"TZ\">Tanzania, United Republic of</option>\n                <option value=\"TH\">Thailand</option>\n                <option value=\"TL\">Timor-Leste</option>\n                <option value=\"TG\">Togo</option>\n                <option value=\"TK\">Tokelau</option>\n                <option value=\"TO\">Tonga</option>\n                <option value=\"TT\">Trinidad and Tobago</option>\n                <option value=\"TN\">Tunisia</option>\n                <option value=\"TR\">Turkey</option>\n                <option value=\"TM\">Turkmenistan</option>\n                <option value=\"TC\">Turks and Caicos Islands</option>\n                <option value=\"TV\">Tuvalu</option>\n                <option value=\"UG\">Uganda</option>\n                <option value=\"UA\">Ukraine</option>\n                <option value=\"AE\">United Arab Emirates</option>\n                <option value=\"UM\">United States Minor Outlying Islands</option>\n                <option value=\"UY\">Uruguay</option>\n                <option value=\"UZ\">Uzbekistan</option>\n                <option value=\"VU\">Vanuatu</option>\n                <option value=\"VE\">Venezuela, Bolivarian Republic of</option>\n                <option value=\"VN\">Viet Nam</option>\n                <option value=\"VG\">Virgin Islands, British</option>\n                <option value=\"VI\">Virgin Islands, U.S.</option>\n                <option value=\"WF\">Wallis and Futuna</option>\n                <option value=\"EH\">Western Sahara</option>\n                <option value=\"YE\">Yemen</option>\n                <option value=\"ZM\">Zambia</option>\n                <option value=\"ZW\">Zimbabwe</option>\n            </select>\n        </div>\n    </div>\n    <div class=\"col-3\">\n        <div class=\"form-group\">\n            <label for=\"addressPostalCode\">{{'zipPostalCode' | i18n}}</label>\n            <input id=\"addressPostalCode\" class=\"form-control\" type=\"text\" name=\"addressPostalCode\" \n                [(ngModel)]=\"taxInfo.postalCode\" [required]=\"taxInfo.country === 'US'\" autocomplete=\"postal-code\">\n        </div>\n    </div>\n    <div class=\"col-6\" *ngIf=\"organizationId && taxInfo.country !== 'US'\">\n        <div class=\"form-group form-check\">\n            <input class=\"form-check-input\" id=\"addressIncludeTaxId\" name=\"addressIncludeTaxId\" type=\"checkbox\" \n                [(ngModel)]=\"taxInfo.includeTaxId\">\n            <label class=\"form-check-label\" for=\"addressIncludeTaxId\">{{'includeVAT' | i18n}}</label>\n        </div>\n    </div>\n</div>\n<div class=\"row\" *ngIf=\"organizationId && taxInfo.includeTaxId\">\n    <div class=\"col-6\">\n        <div class=\"form-group\">\n            <label for=\"taxId\">{{'taxIdNumber' | i18n}}</label>\n            <input id=\"taxId\" class=\"form-control\" type=\"text\" name=\"taxId\" [(ngModel)]=\"taxInfo.taxId\">\n        </div>\n    </div>\n</div>\n<div class=\"row\" *ngIf=\"organizationId && taxInfo.includeTaxId\">\n    <div class=\"col-6\">\n        <div class=\"form-group\">\n            <label for=\"addressLine1\">{{'address1' | i18n}}</label>\n            <input id=\"addressLine1\" class=\"form-control\" type=\"text\" name=\"addressLine1\" \n                [(ngModel)]=\"taxInfo.line1\" autocomplete=\"address-line1\">\n        </div>\n    </div>\n    <div class=\"col-6\">\n        <div class=\"form-group\">\n            <label for=\"addressLine2\">{{'address2' | i18n}}</label>\n            <input id=\"addressLine2\" class=\"form-control\" type=\"text\" name=\"addressLine2\" \n                [(ngModel)]=\"taxInfo.line2\" autocomplete=\"address-line2\">\n        </div>\n    </div>\n    <div class=\"col-6\">\n        <div class=\"form-group\">\n            <label for=\"addressCity\">{{'cityTown' | i18n}}</label>\n            <input id=\"addressCity\" class=\"form-control\" type=\"text\" name=\"addressCity\" \n                [(ngModel)]=\"taxInfo.city\" autocomplete=\"address-level2\">\n        </div>\n    </div>\n    <div class=\"col-6\">\n        <div class=\"form-group\">\n            <label for=\"addressState\">{{'stateProvince' | i18n}}</label>\n            <input id=\"addressState\" class=\"form-control\" type=\"text\" name=\"addressState\" \n                [(ngModel)]=\"taxInfo.state\" autocomplete=\"address-level1\">\n        </div>\n    </div>\n</div>\n","import { CipherType } from '../../enums/cipherType';\n\nimport { Cipher } from '../domain/cipher';\n\nimport { AttachmentView } from './attachmentView';\nimport { CardView } from './cardView';\nimport { FieldView } from './fieldView';\nimport { IdentityView } from './identityView';\nimport { LoginView } from './loginView';\nimport { PasswordHistoryView } from './passwordHistoryView';\nimport { SecureNoteView } from './secureNoteView';\nimport { View } from './view';\n\nexport class CipherView implements View {\n    id: string = null;\n    organizationId: string = null;\n    folderId: string = null;\n    name: string = null;\n    notes: string = null;\n    type: CipherType = null;\n    favorite = false;\n    organizationUseTotp = false;\n    edit = false;\n    viewPassword = true;\n    localData: any;\n    login = new LoginView();\n    identity = new IdentityView();\n    card = new CardView();\n    secureNote = new SecureNoteView();\n    attachments: AttachmentView[] = null;\n    fields: FieldView[] = null;\n    passwordHistory: PasswordHistoryView[] = null;\n    collectionIds: string[] = null;\n    revisionDate: Date = null;\n    deletedDate: Date = null;\n\n    constructor(c?: Cipher) {\n        if (!c) {\n            return;\n        }\n\n        this.id = c.id;\n        this.organizationId = c.organizationId;\n        this.folderId = c.folderId;\n        this.favorite = c.favorite;\n        this.organizationUseTotp = c.organizationUseTotp;\n        this.edit = c.edit;\n        this.viewPassword = c.viewPassword;\n        this.type = c.type;\n        this.localData = c.localData;\n        this.collectionIds = c.collectionIds;\n        this.revisionDate = c.revisionDate;\n        this.deletedDate = c.deletedDate;\n    }\n\n    get subTitle(): string {\n        switch (this.type) {\n            case CipherType.Login:\n                return this.login.subTitle;\n            case CipherType.SecureNote:\n                return this.secureNote.subTitle;\n            case CipherType.Card:\n                return this.card.subTitle;\n            case CipherType.Identity:\n                return this.identity.subTitle;\n            default:\n                break;\n        }\n\n        return null;\n    }\n\n    get hasPasswordHistory(): boolean {\n        return this.passwordHistory && this.passwordHistory.length > 0;\n    }\n\n    get hasAttachments(): boolean {\n        return this.attachments && this.attachments.length > 0;\n    }\n\n    get hasOldAttachments(): boolean {\n        if (this.hasAttachments) {\n            for (let i = 0; i < this.attachments.length; i++) {\n                if (this.attachments[i].key == null) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    get hasFields(): boolean {\n        return this.fields && this.fields.length > 0;\n    }\n\n    get passwordRevisionDisplayDate(): Date {\n        if (this.type !== CipherType.Login || this.login == null) {\n            return null;\n        } else if (this.login.password == null || this.login.password === '') {\n            return null;\n        }\n        return this.login.passwordRevisionDate;\n    }\n\n    get isDeleted(): boolean {\n        return this.deletedDate != null;\n    }\n}\n","import { View } from './view';\n\nimport { Identity } from '../domain/identity';\n\nimport { Utils } from '../../misc/utils';\n\nexport class IdentityView implements View {\n    title: string = null;\n    middleName: string = null;\n    address1: string = null;\n    address2: string = null;\n    address3: string = null;\n    city: string = null;\n    state: string = null;\n    postalCode: string = null;\n    country: string = null;\n    company: string = null;\n    email: string = null;\n    phone: string = null;\n    ssn: string = null;\n    username: string = null;\n    passportNumber: string = null;\n    licenseNumber: string = null;\n\n    // tslint:disable\n    private _firstName: string = null;\n    private _lastName: string = null;\n    private _subTitle: string = null;\n    // tslint:enable\n\n    constructor(i?: Identity) {\n        // ctor\n    }\n\n    get firstName(): string {\n        return this._firstName;\n    }\n    set firstName(value: string) {\n        this._firstName = value;\n        this._subTitle = null;\n    }\n\n    get lastName(): string {\n        return this._lastName;\n    }\n    set lastName(value: string) {\n        this._lastName = value;\n        this._subTitle = null;\n    }\n\n    get subTitle(): string {\n        if (this._subTitle == null && (this.firstName != null || this.lastName != null)) {\n            this._subTitle = '';\n            if (this.firstName != null) {\n                this._subTitle = this.firstName;\n            }\n            if (this.lastName != null) {\n                if (this._subTitle !== '') {\n                    this._subTitle += ' ';\n                }\n                this._subTitle += this.lastName;\n            }\n        }\n\n        return this._subTitle;\n    }\n\n    get fullName(): string {\n        if (this.title != null || this.firstName != null || this.middleName != null || this.lastName != null) {\n            let name = '';\n            if (this.title != null) {\n                name += (this.title + ' ');\n            }\n            if (this.firstName != null) {\n                name += (this.firstName + ' ');\n            }\n            if (this.middleName != null) {\n                name += (this.middleName + ' ');\n            }\n            if (this.lastName != null) {\n                name += this.lastName;\n            }\n            return name.trim();\n        }\n\n        return null;\n    }\n\n    get fullAddress(): string {\n        let address = this.address1;\n        if (!Utils.isNullOrWhitespace(this.address2)) {\n            if (!Utils.isNullOrWhitespace(address)) {\n                address += ', ';\n            }\n            address += this.address2;\n        }\n        if (!Utils.isNullOrWhitespace(this.address3)) {\n            if (!Utils.isNullOrWhitespace(address)) {\n                address += ', ';\n            }\n            address += this.address3;\n        }\n        return address;\n    }\n\n    get fullAddressPart2(): string {\n        if (this.city == null && this.state == null && this.postalCode == null) {\n            return null;\n        }\n        const city = this.city || '-';\n        const state = this.state;\n        const postalCode = this.postalCode || '-';\n        let addressPart2 = city;\n        if (!Utils.isNullOrWhitespace(state)) {\n            addressPart2 += ', ' + state;\n        }\n        addressPart2 += ', ' + postalCode;\n        return addressPart2;\n    }\n}\n","import { CollectionDetailsResponse } from '../response/collectionResponse';\n\nexport class CollectionData {\n    id: string;\n    organizationId: string;\n    name: string;\n    externalId: string;\n    readOnly: boolean;\n\n    constructor(response: CollectionDetailsResponse) {\n        this.id = response.id;\n        this.organizationId = response.organizationId;\n        this.name = response.name;\n        this.externalId = response.externalId;\n        this.readOnly = response.readOnly;\n    }\n}\n","import { View } from './view';\n\nimport { Collection } from '../domain/collection';\nimport { ITreeNodeObject } from '../domain/treeNode';\n\nimport { CollectionGroupDetailsResponse } from '../response/collectionResponse';\n\nexport class CollectionView implements View, ITreeNodeObject {\n    id: string = null;\n    organizationId: string = null;\n    name: string = null;\n    externalId: string = null;\n    readOnly: boolean = null;\n    hidePasswords: boolean = null;\n\n    constructor(c?: Collection | CollectionGroupDetailsResponse) {\n        if (!c) {\n            return;\n        }\n\n        this.id = c.id;\n        this.organizationId = c.organizationId;\n        this.externalId = c.externalId;\n        if (c instanceof Collection) {\n            this.readOnly = c.readOnly;\n            this.hidePasswords = c.hidePasswords;\n        }\n    }\n}\n","export enum OrganizationUserStatusType {\n    Invited = 0,\n    Accepted = 1,\n    Confirmed = 2,\n}\n","import { CipherType } from '../../enums/cipherType';\n\nimport { AttachmentData } from './attachmentData';\nimport { CardData } from './cardData';\nimport { FieldData } from './fieldData';\nimport { IdentityData } from './identityData';\nimport { LoginData } from './loginData';\nimport { PasswordHistoryData } from './passwordHistoryData';\nimport { SecureNoteData } from './secureNoteData';\n\nimport { CipherResponse } from '../response/cipherResponse';\n\nexport class CipherData {\n    id: string;\n    organizationId: string;\n    folderId: string;\n    userId: string;\n    edit: boolean;\n    viewPassword: boolean;\n    organizationUseTotp: boolean;\n    favorite: boolean;\n    revisionDate: string;\n    type: CipherType;\n    sizeName: string;\n    name: string;\n    notes: string;\n    login?: LoginData;\n    secureNote?: SecureNoteData;\n    card?: CardData;\n    identity?: IdentityData;\n    fields?: FieldData[];\n    attachments?: AttachmentData[];\n    passwordHistory?: PasswordHistoryData[];\n    collectionIds?: string[];\n    deletedDate: string;\n\n    constructor(response?: CipherResponse, userId?: string, collectionIds?: string[]) {\n        if (response == null) {\n            return;\n        }\n\n        this.id = response.id;\n        this.organizationId = response.organizationId;\n        this.folderId = response.folderId;\n        this.userId = userId;\n        this.edit = response.edit;\n        this.viewPassword = response.viewPassword;\n        this.organizationUseTotp = response.organizationUseTotp;\n        this.favorite = response.favorite;\n        this.revisionDate = response.revisionDate;\n        this.type = response.type;\n        this.name = response.name;\n        this.notes = response.notes;\n        this.collectionIds = collectionIds != null ? collectionIds : response.collectionIds;\n        this.deletedDate = response.deletedDate;\n\n        switch (this.type) {\n            case CipherType.Login:\n                this.login = new LoginData(response.login);\n                break;\n            case CipherType.SecureNote:\n                this.secureNote = new SecureNoteData(response.secureNote);\n                break;\n            case CipherType.Card:\n                this.card = new CardData(response.card);\n                break;\n            case CipherType.Identity:\n                this.identity = new IdentityData(response.identity);\n                break;\n            default:\n                break;\n        }\n\n        if (response.fields != null) {\n            this.fields = response.fields.map(f => new FieldData(f));\n        }\n        if (response.attachments != null) {\n            this.attachments = response.attachments.map(a => new AttachmentData(a));\n        }\n        if (response.passwordHistory != null) {\n            this.passwordHistory = response.passwordHistory.map(ph => new PasswordHistoryData(ph));\n        }\n    }\n}\n","import { LoginUriView } from './loginUriView';\nimport { View } from './view';\n\nimport { Utils } from '../../misc/utils';\nimport { Login } from '../domain/login';\n\nexport class LoginView implements View {\n    username: string = null;\n    password: string = null;\n    passwordRevisionDate?: Date = null;\n    totp: string = null;\n    uris: LoginUriView[] = null;\n\n    constructor(l?: Login) {\n        if (!l) {\n            return;\n        }\n\n        this.passwordRevisionDate = l.passwordRevisionDate;\n    }\n\n    get uri(): string {\n        return this.hasUris ? this.uris[0].uri : null;\n    }\n\n    get maskedPassword(): string {\n        return this.password != null ? '' : null;\n    }\n\n    get subTitle(): string {\n        return this.username;\n    }\n\n    get canLaunch(): boolean {\n        return this.hasUris && this.uris.some(u => u.canLaunch);\n    }\n\n    get hasTotp(): boolean {\n        return !Utils.isNullOrWhitespace(this.totp);\n    }\n\n    get launchUri(): string {\n        if (this.hasUris) {\n            const uri = this.uris.find(u => u.canLaunch);\n            if (uri != null) {\n                return uri.launchUri;\n            }\n        }\n        return null;\n    }\n\n    get hasUris(): boolean {\n        return this.uris != null && this.uris.length > 0;\n    }\n}\n","export enum SendType {\n    Text = 0,\n    File = 1,\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { PasswordVerificationRequest } from 'jslib/models/request/passwordVerificationRequest';\n\n@Component({\n    selector: 'app-two-factor-verify',\n    templateUrl: 'two-factor-verify.component.html',\n})\nexport class TwoFactorVerifyComponent {\n    @Input() type: TwoFactorProviderType;\n    @Input() organizationId: string;\n    @Output() onAuthed = new EventEmitter<any>();\n\n    masterPassword: string;\n    formPromise: Promise<any>;\n\n    private masterPasswordHash: string;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private cryptoService: CryptoService) { }\n\n    async submit() {\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        const request = new PasswordVerificationRequest();\n        request.masterPasswordHash = this.masterPasswordHash =\n            await this.cryptoService.hashPassword(this.masterPassword, null);\n\n        try {\n            switch (this.type) {\n                case -1:\n                    this.formPromise = this.apiService.getTwoFactorRecover(request);\n                    break;\n                case TwoFactorProviderType.Duo:\n                case TwoFactorProviderType.OrganizationDuo:\n                    if (this.organizationId != null) {\n                        this.formPromise = this.apiService.getTwoFactorOrganizationDuo(this.organizationId, request);\n                    } else {\n                        this.formPromise = this.apiService.getTwoFactorDuo(request);\n                    }\n                    break;\n                case TwoFactorProviderType.Email:\n                    this.formPromise = this.apiService.getTwoFactorEmail(request);\n                    break;\n                case TwoFactorProviderType.WebAuthn:\n                    this.formPromise = this.apiService.getTwoFactorWebAuthn(request);\n                    break;\n                case TwoFactorProviderType.Authenticator:\n                    this.formPromise = this.apiService.getTwoFactorAuthenticator(request);\n                    break;\n                case TwoFactorProviderType.Yubikey:\n                    this.formPromise = this.apiService.getTwoFactorYubiKey(request);\n                    break;\n            }\n\n            const response = await this.formPromise;\n            this.onAuthed.emit({\n                response: response,\n                masterPasswordHash: this.masterPasswordHash,\n            });\n        } catch { }\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"modal-body\">\n        <p>{{'twoStepLoginAuthDesc' | i18n}}</p>\n        <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n        <input id=\"masterPassword\" type=\"password\" name=\"MasterPasswordHash\" class=\"form-control\"\n            [(ngModel)]=\"masterPassword\" required appAutoFocus appInputVerbatim>\n    </div>\n    <div class=\"modal-footer\">\n        <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'continue' | i18n}}</span>\n        </button>\n        <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close' | i18n}}</button>\n    </div>\n</form>\n","export abstract class ExportService {\n    getExport: (format?: 'csv' | 'json' | 'encrypted_json') => Promise<string>;\n    getOrganizationExport: (organizationId: string, format?: 'csv' | 'json' | 'encrypted_json') => Promise<string>;\n    getFileName: (prefix?: string, extension?: string) => string;\n}\n","import { CipherType } from '../../enums/cipherType';\n\nimport { CipherData } from '../data/cipherData';\n\nimport { CipherView } from '../view/cipherView';\n\nimport { Attachment } from './attachment';\nimport { Card } from './card';\nimport Domain from './domainBase';\nimport { EncString } from './encString';\nimport { Field } from './field';\nimport { Identity } from './identity';\nimport { Login } from './login';\nimport { Password } from './password';\nimport { SecureNote } from './secureNote';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport class Cipher extends Domain {\n    id: string;\n    organizationId: string;\n    folderId: string;\n    name: EncString;\n    notes: EncString;\n    type: CipherType;\n    favorite: boolean;\n    organizationUseTotp: boolean;\n    edit: boolean;\n    viewPassword: boolean;\n    revisionDate: Date;\n    localData: any;\n    login: Login;\n    identity: Identity;\n    card: Card;\n    secureNote: SecureNote;\n    attachments: Attachment[];\n    fields: Field[];\n    passwordHistory: Password[];\n    collectionIds: string[];\n    deletedDate: Date;\n\n    constructor(obj?: CipherData, alreadyEncrypted: boolean = false, localData: any = null) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.buildDomainModel(this, obj, {\n            id: null,\n            userId: null,\n            organizationId: null,\n            folderId: null,\n            name: null,\n            notes: null,\n        }, alreadyEncrypted, ['id', 'userId', 'organizationId', 'folderId']);\n\n        this.type = obj.type;\n        this.favorite = obj.favorite;\n        this.organizationUseTotp = obj.organizationUseTotp;\n        this.edit = obj.edit;\n        if (obj.viewPassword != null) {\n            this.viewPassword = obj.viewPassword;\n        } else {\n            this.viewPassword = true; // Default for already synced Ciphers without viewPassword\n        }\n        this.revisionDate = obj.revisionDate != null ? new Date(obj.revisionDate) : null;\n        this.collectionIds = obj.collectionIds;\n        this.localData = localData;\n        this.deletedDate = obj.deletedDate != null ? new Date(obj.deletedDate) : null;\n\n        switch (this.type) {\n            case CipherType.Login:\n                this.login = new Login(obj.login, alreadyEncrypted);\n                break;\n            case CipherType.SecureNote:\n                this.secureNote = new SecureNote(obj.secureNote, alreadyEncrypted);\n                break;\n            case CipherType.Card:\n                this.card = new Card(obj.card, alreadyEncrypted);\n                break;\n            case CipherType.Identity:\n                this.identity = new Identity(obj.identity, alreadyEncrypted);\n                break;\n            default:\n                break;\n        }\n\n        if (obj.attachments != null) {\n            this.attachments = obj.attachments.map(a => new Attachment(a, alreadyEncrypted));\n        } else {\n            this.attachments = null;\n        }\n\n        if (obj.fields != null) {\n            this.fields = obj.fields.map(f => new Field(f, alreadyEncrypted));\n        } else {\n            this.fields = null;\n        }\n\n        if (obj.passwordHistory != null) {\n            this.passwordHistory = obj.passwordHistory.map(ph => new Password(ph, alreadyEncrypted));\n        } else {\n            this.passwordHistory = null;\n        }\n    }\n\n    async decrypt(encKey?: SymmetricCryptoKey): Promise<CipherView> {\n        const model = new CipherView(this);\n\n        await this.decryptObj(model, {\n            name: null,\n            notes: null,\n        }, this.organizationId, encKey);\n\n        switch (this.type) {\n            case CipherType.Login:\n                model.login = await this.login.decrypt(this.organizationId, encKey);\n                break;\n            case CipherType.SecureNote:\n                model.secureNote = await this.secureNote.decrypt(this.organizationId, encKey);\n                break;\n            case CipherType.Card:\n                model.card = await this.card.decrypt(this.organizationId, encKey);\n                break;\n            case CipherType.Identity:\n                model.identity = await this.identity.decrypt(this.organizationId, encKey);\n                break;\n            default:\n                break;\n        }\n\n        const orgId = this.organizationId;\n\n        if (this.attachments != null && this.attachments.length > 0) {\n            const attachments: any[] = [];\n            await this.attachments.reduce((promise, attachment) => {\n                return promise.then(() => {\n                    return attachment.decrypt(orgId, encKey);\n                }).then(decAttachment => {\n                    attachments.push(decAttachment);\n                });\n            }, Promise.resolve());\n            model.attachments = attachments;\n        }\n\n        if (this.fields != null && this.fields.length > 0) {\n            const fields: any[] = [];\n            await this.fields.reduce((promise, field) => {\n                return promise.then(() => {\n                    return field.decrypt(orgId, encKey);\n                }).then(decField => {\n                    fields.push(decField);\n                });\n            }, Promise.resolve());\n            model.fields = fields;\n        }\n\n        if (this.passwordHistory != null && this.passwordHistory.length > 0) {\n            const passwordHistory: any[] = [];\n            await this.passwordHistory.reduce((promise, ph) => {\n                return promise.then(() => {\n                    return ph.decrypt(orgId, encKey);\n                }).then(decPh => {\n                    passwordHistory.push(decPh);\n                });\n            }, Promise.resolve());\n            model.passwordHistory = passwordHistory;\n        }\n\n        return model;\n    }\n\n    toCipherData(userId: string): CipherData {\n        const c = new CipherData();\n        c.id = this.id;\n        c.organizationId = this.organizationId;\n        c.folderId = this.folderId;\n        c.userId = this.organizationId != null ? userId : null;\n        c.edit = this.edit;\n        c.viewPassword = this.viewPassword;\n        c.organizationUseTotp = this.organizationUseTotp;\n        c.favorite = this.favorite;\n        c.revisionDate = this.revisionDate != null ? this.revisionDate.toISOString() : null;\n        c.type = this.type;\n        c.collectionIds = this.collectionIds;\n        c.deletedDate = this.deletedDate != null ? this.deletedDate.toISOString() : null;\n\n        this.buildDataModel(this, c, {\n            name: null,\n            notes: null,\n        });\n\n        switch (c.type) {\n            case CipherType.Login:\n                c.login = this.login.toLoginData();\n                break;\n            case CipherType.SecureNote:\n                c.secureNote = this.secureNote.toSecureNoteData();\n                break;\n            case CipherType.Card:\n                c.card = this.card.toCardData();\n                break;\n            case CipherType.Identity:\n                c.identity = this.identity.toIdentityData();\n                break;\n            default:\n                break;\n        }\n\n        if (this.fields != null) {\n            c.fields = this.fields.map(f => f.toFieldData());\n        }\n        if (this.attachments != null) {\n            c.attachments = this.attachments.map(a => a.toAttachmentData());\n        }\n        if (this.passwordHistory != null) {\n            c.passwordHistory = this.passwordHistory.map(ph => ph.toPasswordHistoryData());\n        }\n        return c;\n    }\n}\n","import { SendData } from '../models/data/sendData';\n\nimport { EncArrayBuffer } from '../models/domain/encArrayBuffer';\nimport { Send } from '../models/domain/send';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nimport { SendView } from '../models/view/sendView';\n\nexport abstract class SendService {\n    decryptedSendCache: SendView[];\n\n    clearCache: () => void;\n    encrypt: (model: SendView, file: File | ArrayBuffer, password: string, key?: SymmetricCryptoKey) => Promise<[Send, EncArrayBuffer]>;\n    get: (id: string) => Promise<Send>;\n    getAll: () => Promise<Send[]>;\n    getAllDecrypted: () => Promise<SendView[]>;\n    saveWithServer: (sendData: [Send, EncArrayBuffer]) => Promise<any>;\n    upsert: (send: SendData | SendData[]) => Promise<any>;\n    replace: (sends: { [id: string]: SendData; }) => Promise<any>;\n    clear: (userId: string) => Promise<any>;\n    delete: (id: string | string[]) => Promise<any>;\n    deleteWithServer: (id: string) => Promise<any>;\n    removePasswordWithServer: (id: string) => Promise<any>;\n}\n","import { FieldType } from '../../enums/fieldType';\n\nimport { View } from './view';\n\nimport { Field } from '../domain/field';\n\nexport class FieldView implements View {\n    name: string = null;\n    value: string = null;\n    type: FieldType = null;\n    newField: boolean = false; // Marks if the field is new and hasn't been saved\n    showValue: boolean = false;\n\n    constructor(f?: Field) {\n        if (!f) {\n            return;\n        }\n\n        this.type = f.type;\n    }\n\n    get maskedValue(): string {\n        return this.value != null ? '' : null;\n    }\n}\n","import { CipherType } from '../../enums/cipherType';\n\nimport { Cipher } from '../domain/cipher';\n\nimport { CardApi } from '../api/cardApi';\nimport { FieldApi } from '../api/fieldApi';\nimport { IdentityApi } from '../api/identityApi';\nimport { LoginApi } from '../api/loginApi';\nimport { LoginUriApi } from '../api/loginUriApi';\nimport { SecureNoteApi } from '../api/secureNoteApi';\n\nimport { AttachmentRequest } from './attachmentRequest';\nimport { PasswordHistoryRequest } from './passwordHistoryRequest';\n\nexport class CipherRequest {\n    type: CipherType;\n    folderId: string;\n    organizationId: string;\n    name: string;\n    notes: string;\n    favorite: boolean;\n    login: LoginApi;\n    secureNote: SecureNoteApi;\n    card: CardApi;\n    identity: IdentityApi;\n    fields: FieldApi[];\n    passwordHistory: PasswordHistoryRequest[];\n    // Deprecated, remove at some point and rename attachments2 to attachments\n    attachments: { [id: string]: string; };\n    attachments2: { [id: string]: AttachmentRequest; };\n    lastKnownRevisionDate: Date;\n\n    constructor(cipher: Cipher) {\n        this.type = cipher.type;\n        this.folderId = cipher.folderId;\n        this.organizationId = cipher.organizationId;\n        this.name = cipher.name ? cipher.name.encryptedString : null;\n        this.notes = cipher.notes ? cipher.notes.encryptedString : null;\n        this.favorite = cipher.favorite;\n        this.lastKnownRevisionDate = cipher.revisionDate;\n\n        switch (this.type) {\n            case CipherType.Login:\n                this.login = new LoginApi();\n                this.login.uris = null;\n                this.login.username = cipher.login.username ? cipher.login.username.encryptedString : null;\n                this.login.password = cipher.login.password ? cipher.login.password.encryptedString : null;\n                this.login.passwordRevisionDate = cipher.login.passwordRevisionDate != null ?\n                    cipher.login.passwordRevisionDate.toISOString() : null;\n                this.login.totp = cipher.login.totp ? cipher.login.totp.encryptedString : null;\n\n                if (cipher.login.uris != null) {\n                    this.login.uris = cipher.login.uris.map(u => {\n                        const uri = new LoginUriApi();\n                        uri.uri = u.uri != null ? u.uri.encryptedString : null;\n                        uri.match = u.match != null ? u.match : null;\n                        return uri;\n                    });\n                }\n                break;\n            case CipherType.SecureNote:\n                this.secureNote = new SecureNoteApi();\n                this.secureNote.type = cipher.secureNote.type;\n                break;\n            case CipherType.Card:\n                this.card = new CardApi();\n                this.card.cardholderName = cipher.card.cardholderName != null ?\n                    cipher.card.cardholderName.encryptedString : null;\n                this.card.brand = cipher.card.brand != null ? cipher.card.brand.encryptedString : null;\n                this.card.number = cipher.card.number != null ? cipher.card.number.encryptedString : null;\n                this.card.expMonth = cipher.card.expMonth != null ? cipher.card.expMonth.encryptedString : null;\n                this.card.expYear = cipher.card.expYear != null ? cipher.card.expYear.encryptedString : null;\n                this.card.code = cipher.card.code != null ? cipher.card.code.encryptedString : null;\n                break;\n            case CipherType.Identity:\n                this.identity = new IdentityApi();\n                this.identity.title = cipher.identity.title != null ? cipher.identity.title.encryptedString : null;\n                this.identity.firstName = cipher.identity.firstName != null ?\n                    cipher.identity.firstName.encryptedString : null;\n                this.identity.middleName = cipher.identity.middleName != null ?\n                    cipher.identity.middleName.encryptedString : null;\n                this.identity.lastName = cipher.identity.lastName != null ?\n                    cipher.identity.lastName.encryptedString : null;\n                this.identity.address1 = cipher.identity.address1 != null ?\n                    cipher.identity.address1.encryptedString : null;\n                this.identity.address2 = cipher.identity.address2 != null ?\n                    cipher.identity.address2.encryptedString : null;\n                this.identity.address3 = cipher.identity.address3 != null ?\n                    cipher.identity.address3.encryptedString : null;\n                this.identity.city = cipher.identity.city != null ? cipher.identity.city.encryptedString : null;\n                this.identity.state = cipher.identity.state != null ? cipher.identity.state.encryptedString : null;\n                this.identity.postalCode = cipher.identity.postalCode != null ?\n                    cipher.identity.postalCode.encryptedString : null;\n                this.identity.country = cipher.identity.country != null ?\n                    cipher.identity.country.encryptedString : null;\n                this.identity.company = cipher.identity.company != null ?\n                    cipher.identity.company.encryptedString : null;\n                this.identity.email = cipher.identity.email != null ? cipher.identity.email.encryptedString : null;\n                this.identity.phone = cipher.identity.phone != null ? cipher.identity.phone.encryptedString : null;\n                this.identity.ssn = cipher.identity.ssn != null ? cipher.identity.ssn.encryptedString : null;\n                this.identity.username = cipher.identity.username != null ?\n                    cipher.identity.username.encryptedString : null;\n                this.identity.passportNumber = cipher.identity.passportNumber != null ?\n                    cipher.identity.passportNumber.encryptedString : null;\n                this.identity.licenseNumber = cipher.identity.licenseNumber != null ?\n                    cipher.identity.licenseNumber.encryptedString : null;\n                break;\n            default:\n                break;\n        }\n\n        if (cipher.fields != null) {\n            this.fields = cipher.fields.map(f => {\n                const field = new FieldApi();\n                field.type = f.type;\n                field.name = f.name ? f.name.encryptedString : null;\n                field.value = f.value ? f.value.encryptedString : null;\n                return field;\n            });\n        }\n\n        if (cipher.passwordHistory != null) {\n            this.passwordHistory = [];\n            cipher.passwordHistory.forEach(ph => {\n                this.passwordHistory.push({\n                    lastUsedDate: ph.lastUsedDate,\n                    password: ph.password ? ph.password.encryptedString : null,\n                });\n            });\n        }\n\n        if (cipher.attachments != null) {\n            this.attachments = {};\n            this.attachments2 = {};\n            cipher.attachments.forEach(attachment => {\n                const fileName = attachment.fileName ? attachment.fileName.encryptedString : null;\n                this.attachments[attachment.id] = fileName;\n                const attachmentRequest = new AttachmentRequest();\n                attachmentRequest.fileName = fileName;\n                if (attachment.key != null) {\n                    attachmentRequest.key = attachment.key.encryptedString;\n                }\n                this.attachments2[attachment.id] = attachmentRequest;\n            });\n        }\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class ErrorResponse extends BaseResponse {\n    message: string;\n    validationErrors: { [key: string]: string[]; };\n    statusCode: number;\n\n    constructor(response: any, status: number, identityResponse?: boolean) {\n        super(response);\n        let errorModel = null;\n        if (response != null) {\n            const responseErrorModel = this.getResponseProperty('ErrorModel');\n            if (responseErrorModel && identityResponse) {\n                errorModel = responseErrorModel;\n            } else {\n                errorModel = response;\n            }\n        }\n\n        if (errorModel) {\n            this.message = this.getResponseProperty('Message', errorModel);\n            this.validationErrors = this.getResponseProperty('ValidationErrors', errorModel);\n        } else {\n            if (status === 429) {\n                this.message = 'Rate limit exceeded. Try again later.';\n            }\n        }\n        this.statusCode = status;\n    }\n\n    getSingleMessage(): string {\n        if (this.validationErrors == null) {\n            return this.message;\n        }\n        for (const key in this.validationErrors) {\n            if (!this.validationErrors.hasOwnProperty(key)) {\n                continue;\n            }\n            if (this.validationErrors[key].length) {\n                return this.validationErrors[key][0];\n            }\n        }\n        return this.message;\n    }\n\n    getAllMessages(): string[] {\n        const messages: string[] = [];\n        if (this.validationErrors == null) {\n            return messages;\n        }\n        for (const key in this.validationErrors) {\n            if (!this.validationErrors.hasOwnProperty(key)) {\n                continue;\n            }\n            this.validationErrors[key].forEach((item: string) => {\n                let prefix = '';\n                if (key.indexOf('[') > -1 && key.indexOf(']') > -1) {\n                    const lastSep = key.lastIndexOf('.');\n                    prefix = key.substr(0, lastSep > -1 ? lastSep : key.length) + ': ';\n                }\n                messages.push(prefix + item);\n            });\n        }\n        return messages;\n    }\n}\n","import { Injectable } from '@angular/core';\n\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nimport { ErrorResponse } from '../../models/response/errorResponse';\n\n@Injectable()\nexport class ValidationService {\n    constructor(private i18nService: I18nService, private platformUtilsService: PlatformUtilsService) { }\n\n    showError(data: any): string[] {\n        const defaultErrorMessage = this.i18nService.t('unexpectedError');\n        let errors: string[] = [];\n\n        if (data != null && typeof data === 'string') {\n            errors.push(data);\n        } else if (data == null || typeof data !== 'object') {\n            errors.push(defaultErrorMessage);\n        } else if (data.validationErrors != null) {\n            errors = errors.concat((data as ErrorResponse).getAllMessages());\n        } else {\n            errors.push(data.message ? data.message : defaultErrorMessage);\n        }\n\n        if (errors.length === 1) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'), errors[0]);\n        } else if (errors.length > 1) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'), errors, {\n                timeout: 5000 * errors.length,\n            });\n        }\n\n        return errors;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport {\n    ActivatedRoute,\n    NavigationEnd,\n    Router,\n} from '@angular/router';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\n@Injectable()\nexport class RouterService {\n    private previousUrl: string = undefined;\n    private currentUrl: string = undefined;\n\n    constructor(private router: Router, private activatedRoute: ActivatedRoute,\n        private titleService: Title, i18nService: I18nService) {\n        this.currentUrl = this.router.url;\n        router.events.subscribe(event => {\n            if (event instanceof NavigationEnd) {\n                this.previousUrl = this.currentUrl;\n                this.currentUrl = event.url;\n\n                let title = i18nService.t('pageTitle', 'Bitwarden');\n                let titleId: string = null;\n                let rawTitle: string = null;\n                let child = this.activatedRoute.firstChild;\n                while (child != null) {\n                    if (child.firstChild != null) {\n                        child = child.firstChild;\n                    } else if (child.snapshot.data != null && child.snapshot.data.title != null) {\n                        rawTitle = child.snapshot.data.title;\n                        break;\n                    } else if (child.snapshot.data != null && child.snapshot.data.titleId != null) {\n                        titleId = child.snapshot.data.titleId;\n                        break;\n                    } else {\n                        titleId = null;\n                        rawTitle = null;\n                        break;\n                    }\n                }\n\n                if (titleId != null || rawTitle != null) {\n                    const newTitle = rawTitle != null ? rawTitle : i18nService.t(titleId);\n                    if (newTitle != null && newTitle !== '') {\n                        title = (newTitle + ' | ' + title);\n                    }\n                }\n                this.titleService.setTitle(title);\n            }\n        });\n    }\n\n    getPreviousUrl() {\n        return this.previousUrl;\n    }\n\n    setPreviousUrl(url: string) {\n        this.previousUrl = url;\n    }\n}\n","export enum KdfType {\n    PBKDF2_SHA256 = 0,\n}\n","import {\n    Component,\n    Input,\n    OnChanges,\n} from '@angular/core';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\n@Component({\n    selector: 'app-password-strength',\n    templateUrl: 'password-strength.component.html',\n})\nexport class PasswordStrengthComponent implements OnChanges {\n    @Input() score?: number;\n    @Input() showText = false;\n\n    scoreWidth = 0;\n    color = 'bg-danger';\n    text: string;\n\n    constructor(private i18nService: I18nService) { }\n\n    ngOnChanges(): void {\n        this.scoreWidth = this.score == null ? 0 : (this.score + 1) * 20;\n        switch (this.score) {\n            case 4:\n                this.color = 'bg-success';\n                this.text = this.i18nService.t('strong');\n                break;\n            case 3:\n                this.color = 'bg-primary';\n                this.text = this.i18nService.t('good');\n                break;\n            case 2:\n                this.color = 'bg-warning';\n                this.text = this.i18nService.t('weak');\n                break;\n            default:\n                this.color = 'bg-danger';\n                this.text = this.score != null ? this.i18nService.t('weak') : null;\n                break;\n        }\n    }\n}\n","<div class=\"progress\">\n    <div class=\"progress-bar {{color}}\" role=\"progressbar\" [ngStyle]=\"{width: (scoreWidth + '%')}\"\n        attr.aria-valuenow=\"{{scoreWidth}}\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n        <ng-container *ngIf=\"showText && text\">\n            {{text}}\n        </ng-container>\n    </div>\n</div>\n","export enum OrganizationUserType {\n    Owner = 0,\n    Admin = 1,\n    User = 2,\n    Manager = 3,\n    Custom = 4,\n}\n","import {\n    Pipe,\n    PipeTransform,\n} from '@angular/core';\n\n@Pipe({\n    name: 'search',\n})\nexport class SearchPipe implements PipeTransform {\n    transform(items: any[], searchText: string, prop1?: string, prop2?: string, prop3?: string): any[] {\n        if (items == null || items.length === 0) {\n            return [];\n        }\n\n        if (searchText == null || searchText.length < 2) {\n            return items;\n        }\n\n        searchText = searchText.trim().toLowerCase();\n        return items.filter(i => {\n            if (prop1 != null && i[prop1] != null && i[prop1].toString().toLowerCase().indexOf(searchText) > -1) {\n                return true;\n            }\n            if (prop2 != null && i[prop2] != null && i[prop2].toString().toLowerCase().indexOf(searchText) > -1) {\n                return true;\n            }\n            if (prop3 != null && i[prop3] != null && i[prop3].toString().toLowerCase().indexOf(searchText) > -1) {\n                return true;\n            }\n            return false;\n        });\n    }\n}\n","import { Injectable } from '@angular/core';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { DeviceType } from 'jslib/enums/deviceType';\nimport { EventType } from 'jslib/enums/eventType';\n\nimport { EventResponse } from 'jslib/models/response/eventResponse';\n\n@Injectable()\nexport class EventService {\n    constructor(private i18nService: I18nService) { }\n\n    getDefaultDateFilters() {\n        const d = new Date();\n        const end = new Date(d.getFullYear(), d.getMonth(), d.getDate(), 23, 59);\n        d.setDate(d.getDate() - 30);\n        const start = new Date(d.getFullYear(), d.getMonth(), d.getDate(), 0, 0);\n        return [this.toDateTimeLocalString(start), this.toDateTimeLocalString(end)];\n    }\n\n    formatDateFilters(filterStart: string, filterEnd: string) {\n        const start: Date = new Date(filterStart);\n        const end: Date = new Date(filterEnd + ':59.999');\n        if (isNaN(start.getTime()) || isNaN(end.getTime()) || end < start) {\n            throw new Error('Invalid date range.');\n        }\n        return [start.toISOString(), end.toISOString()];\n    }\n\n    getEventInfo(ev: EventResponse, options = new EventOptions()): EventInfo {\n        const appInfo = this.getAppInfo(ev.deviceType);\n        return {\n            message: this.getEventMessage(ev, options),\n            appIcon: appInfo[0],\n            appName: appInfo[1],\n        };\n    }\n\n    private getEventMessage(ev: EventResponse, options: EventOptions) {\n        let msg = '';\n        switch (ev.type) {\n            // User\n            case EventType.User_LoggedIn:\n                msg = this.i18nService.t('loggedIn');\n                break;\n            case EventType.User_ChangedPassword:\n                msg = this.i18nService.t('changedPassword');\n                break;\n            case EventType.User_Updated2fa:\n                msg = this.i18nService.t('enabledUpdated2fa');\n                break;\n            case EventType.User_Disabled2fa:\n                msg = this.i18nService.t('disabled2fa');\n                break;\n            case EventType.User_Recovered2fa:\n                msg = this.i18nService.t('recovered2fa');\n                break;\n            case EventType.User_FailedLogIn:\n                msg = this.i18nService.t('failedLogin');\n                break;\n            case EventType.User_FailedLogIn2fa:\n                msg = this.i18nService.t('failedLogin2fa');\n                break;\n            case EventType.User_ClientExportedVault:\n                msg = this.i18nService.t('exportedVault');\n                break;\n            // Cipher\n            case EventType.Cipher_Created:\n                msg = this.i18nService.t('createdItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_Updated:\n                msg = this.i18nService.t('editedItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_Deleted:\n                msg = this.i18nService.t('permanentlyDeletedItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_SoftDeleted:\n                msg = this.i18nService.t('deletedItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_Restored:\n                msg = this.i18nService.t('restoredItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_AttachmentCreated:\n                msg = this.i18nService.t('createdAttachmentForItem', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_AttachmentDeleted:\n                msg = this.i18nService.t('deletedAttachmentForItem', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_Shared:\n                msg = this.i18nService.t('sharedItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_ClientViewed:\n                msg = this.i18nService.t('viewedItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_ClientToggledPasswordVisible:\n                msg = this.i18nService.t('viewedPasswordItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_ClientToggledHiddenFieldVisible:\n                msg = this.i18nService.t('viewedHiddenFieldItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_ClientToggledCardCodeVisible:\n                msg = this.i18nService.t('viewedSecurityCodeItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_ClientCopiedHiddenField:\n                msg = this.i18nService.t('copiedHiddenFieldItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_ClientCopiedPassword:\n                msg = this.i18nService.t('copiedPasswordItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_ClientCopiedCardCode:\n                msg = this.i18nService.t('copiedSecurityCodeItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_ClientAutofilled:\n                msg = this.i18nService.t('autofilledItemId', this.formatCipherId(ev, options));\n                break;\n            case EventType.Cipher_UpdatedCollections:\n                msg = this.i18nService.t('editedCollectionsForItem', this.formatCipherId(ev, options));\n                break;\n            // Collection\n            case EventType.Collection_Created:\n                msg = this.i18nService.t('createdCollectionId', this.formatCollectionId(ev));\n                break;\n            case EventType.Collection_Updated:\n                msg = this.i18nService.t('editedCollectionId', this.formatCollectionId(ev));\n                break;\n            case EventType.Collection_Deleted:\n                msg = this.i18nService.t('deletedCollectionId', this.formatCollectionId(ev));\n                break;\n            // Group\n            case EventType.Group_Created:\n                msg = this.i18nService.t('createdGroupId', this.formatGroupId(ev));\n                break;\n            case EventType.Group_Updated:\n                msg = this.i18nService.t('editedGroupId', this.formatGroupId(ev));\n                break;\n            case EventType.Group_Deleted:\n                msg = this.i18nService.t('deletedGroupId', this.formatGroupId(ev));\n                break;\n            // Org user\n            case EventType.OrganizationUser_Invited:\n                msg = this.i18nService.t('invitedUserId', this.formatOrgUserId(ev));\n                break;\n            case EventType.OrganizationUser_Confirmed:\n                msg = this.i18nService.t('confirmedUserId', this.formatOrgUserId(ev));\n                break;\n            case EventType.OrganizationUser_Updated:\n                msg = this.i18nService.t('editedUserId', this.formatOrgUserId(ev));\n                break;\n            case EventType.OrganizationUser_Removed:\n                msg = this.i18nService.t('removedUserId', this.formatOrgUserId(ev));\n                break;\n            case EventType.OrganizationUser_UpdatedGroups:\n                msg = this.i18nService.t('editedGroupsForUser', this.formatOrgUserId(ev));\n                break;\n            case EventType.OrganizationUser_UnlinkedSso:\n                msg = this.i18nService.t('unlinkedSsoUser', this.formatOrgUserId(ev));\n                break;\n            case EventType.OrganizationUser_ResetPassword_Enroll:\n                msg = this.i18nService.t('eventEnrollPasswordReset', this.formatOrgUserId(ev));\n                break;\n            case EventType.OrganizationUser_ResetPassword_Withdraw:\n                msg = this.i18nService.t('eventWithdrawPasswordReset', this.formatOrgUserId(ev));\n                break;\n            // Org\n            case EventType.Organization_Updated:\n                msg = this.i18nService.t('editedOrgSettings');\n                break;\n            case EventType.Organization_PurgedVault:\n                msg = this.i18nService.t('purgedOrganizationVault');\n                break;\n            /*\n            case EventType.Organization_ClientExportedVault:\n                msg = this.i18nService.t('exportedOrganizationVault');\n                break;\n            */\n            // Policies\n            case EventType.Policy_Updated:\n                msg = this.i18nService.t('modifiedPolicy', this.formatPolicyId(ev));\n                break;\n\n            default:\n                break;\n        }\n        return msg === '' ? null : msg;\n    }\n\n    private getAppInfo(deviceType: DeviceType): [string, string] {\n        switch (deviceType) {\n            case DeviceType.Android:\n                return ['fa-android', this.i18nService.t('mobile') + ' - Android'];\n            case DeviceType.iOS:\n                return ['fa-apple', this.i18nService.t('mobile') + ' - iOS'];\n            case DeviceType.UWP:\n                return ['fa-windows', this.i18nService.t('mobile') + ' - Windows'];\n            case DeviceType.ChromeExtension:\n                return ['fa-chrome', this.i18nService.t('extension') + ' - Chrome'];\n            case DeviceType.FirefoxExtension:\n                return ['fa-firefox', this.i18nService.t('extension') + ' - Firefox'];\n            case DeviceType.OperaExtension:\n                return ['fa-opera', this.i18nService.t('extension') + ' - Opera'];\n            case DeviceType.EdgeExtension:\n                return ['fa-edge', this.i18nService.t('extension') + ' - Edge'];\n            case DeviceType.VivaldiExtension:\n                return ['fa-puzzle-piece', this.i18nService.t('extension') + ' - Vivaldi'];\n            case DeviceType.SafariExtension:\n                return ['fa-safari', this.i18nService.t('extension') + ' - Safari'];\n            case DeviceType.WindowsDesktop:\n                return ['fa-windows', this.i18nService.t('desktop') + ' - Windows'];\n            case DeviceType.MacOsDesktop:\n                return ['fa-apple', this.i18nService.t('desktop') + ' - macOS'];\n            case DeviceType.LinuxDesktop:\n                return ['fa-linux', this.i18nService.t('desktop') + ' - Linux'];\n            case DeviceType.ChromeBrowser:\n                return ['fa-globe', this.i18nService.t('webVault') + ' - Chrome'];\n            case DeviceType.FirefoxBrowser:\n                return ['fa-globe', this.i18nService.t('webVault') + ' - Firefox'];\n            case DeviceType.OperaBrowser:\n                return ['fa-globe', this.i18nService.t('webVault') + ' - Opera'];\n            case DeviceType.SafariBrowser:\n                return ['fa-globe', this.i18nService.t('webVault') + ' - Safari'];\n            case DeviceType.VivaldiBrowser:\n                return ['fa-globe', this.i18nService.t('webVault') + ' - Vivaldi'];\n            case DeviceType.EdgeBrowser:\n                return ['fa-globe', this.i18nService.t('webVault') + ' - Edge'];\n            case DeviceType.IEBrowser:\n                return ['fa-globe', this.i18nService.t('webVault') + ' - IE'];\n            case DeviceType.UnknownBrowser:\n                return ['fa-globe', this.i18nService.t('webVault') + ' - ' + this.i18nService.t('unknown')];\n            default:\n                return ['fa-globe', this.i18nService.t('unknown')];\n        }\n    }\n\n    private formatCipherId(ev: EventResponse, options: EventOptions) {\n        const shortId = this.getShortId(ev.cipherId);\n        if (ev.organizationId == null || !options.cipherInfo) {\n            return '<code>' + shortId + '</code>';\n        }\n        const a = this.makeAnchor(shortId);\n        a.setAttribute('href', '#/organizations/' + ev.organizationId + '/vault?search=' + shortId +\n            '&viewEvents=' + ev.cipherId);\n        return a.outerHTML;\n    }\n\n    private formatGroupId(ev: EventResponse) {\n        const shortId = this.getShortId(ev.groupId);\n        const a = this.makeAnchor(shortId);\n        a.setAttribute('href', '#/organizations/' + ev.organizationId + '/manage/groups?search=' + shortId);\n        return a.outerHTML;\n    }\n\n    private formatCollectionId(ev: EventResponse) {\n        const shortId = this.getShortId(ev.collectionId);\n        const a = this.makeAnchor(shortId);\n        a.setAttribute('href', '#/organizations/' + ev.organizationId + '/manage/collections?search=' + shortId);\n        return a.outerHTML;\n    }\n\n    private formatOrgUserId(ev: EventResponse) {\n        const shortId = this.getShortId(ev.organizationUserId);\n        const a = this.makeAnchor(shortId);\n        a.setAttribute('href', '#/organizations/' + ev.organizationId + '/manage/people?search=' + shortId +\n            '&viewEvents=' + ev.organizationUserId);\n        return a.outerHTML;\n    }\n\n    private formatPolicyId(ev: EventResponse) {\n        const shortId = this.getShortId(ev.policyId);\n        const a = this.makeAnchor(shortId);\n        a.setAttribute('href', '#/organizations/' + ev.organizationId + '/manage/policies?policyId=' + ev.policyId);\n        return a.outerHTML;\n    }\n\n    private makeAnchor(shortId: string) {\n        const a = document.createElement('a');\n        a.title = this.i18nService.t('view');\n        a.innerHTML = '<code>' + shortId + '</code>';\n        return a;\n    }\n\n    private getShortId(id: string) {\n        return id.substring(0, 8);\n    }\n\n    private toDateTimeLocalString(date: Date) {\n        return date.getFullYear() +\n            '-' + this.pad(date.getMonth() + 1) +\n            '-' + this.pad(date.getDate()) +\n            'T' + this.pad(date.getHours()) +\n            ':' + this.pad(date.getMinutes());\n    }\n\n    private pad(num: number) {\n        const norm = Math.floor(Math.abs(num));\n        return (norm < 10 ? '0' : '') + norm;\n    }\n}\n\nexport class EventInfo {\n    message: string;\n    appIcon: string;\n    appName: string;\n}\n\nexport class EventOptions {\n    cipherInfo = true;\n}\n","export enum EventType {\n    User_LoggedIn = 1000,\n    User_ChangedPassword = 1001,\n    User_Updated2fa = 1002,\n    User_Disabled2fa = 1003,\n    User_Recovered2fa = 1004,\n    User_FailedLogIn = 1005,\n    User_FailedLogIn2fa = 1006,\n    User_ClientExportedVault = 1007,\n\n    Cipher_Created = 1100,\n    Cipher_Updated = 1101,\n    Cipher_Deleted = 1102,\n    Cipher_AttachmentCreated = 1103,\n    Cipher_AttachmentDeleted = 1104,\n    Cipher_Shared = 1105,\n    Cipher_UpdatedCollections = 1106,\n    Cipher_ClientViewed = 1107,\n    Cipher_ClientToggledPasswordVisible = 1108,\n    Cipher_ClientToggledHiddenFieldVisible = 1109,\n    Cipher_ClientToggledCardCodeVisible = 1110,\n    Cipher_ClientCopiedPassword = 1111,\n    Cipher_ClientCopiedHiddenField = 1112,\n    Cipher_ClientCopiedCardCode = 1113,\n    Cipher_ClientAutofilled = 1114,\n    Cipher_SoftDeleted = 1115,\n    Cipher_Restored = 1116,\n\n    Collection_Created = 1300,\n    Collection_Updated = 1301,\n    Collection_Deleted = 1302,\n\n    Group_Created = 1400,\n    Group_Updated = 1401,\n    Group_Deleted = 1402,\n\n    OrganizationUser_Invited = 1500,\n    OrganizationUser_Confirmed = 1501,\n    OrganizationUser_Updated = 1502,\n    OrganizationUser_Removed = 1503,\n    OrganizationUser_UpdatedGroups = 1504,\n    OrganizationUser_UnlinkedSso = 1505,\n    OrganizationUser_ResetPassword_Enroll = 1506,\n    OrganizationUser_ResetPassword_Withdraw = 1507,\n\n    Organization_Updated = 1600,\n    Organization_PurgedVault = 1601,\n    // Organization_ClientExportedVault = 1602,\n\n    Policy_Updated = 1700,\n}\n","export enum PaymentMethodType {\n    Card = 0,\n    BankAccount = 1,\n    PayPal = 2,\n    BitPay = 3,\n    Credit = 4,\n    WireTransfer = 5,\n    AppleInApp = 6,\n    GoogleInApp = 7,\n    Check = 8,\n}\n","import {\n    Directive,\n    EventEmitter,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\nimport { TwoFactorProviderRequest } from 'jslib/models/request/twoFactorProviderRequest';\n\n@Directive()\nexport abstract class TwoFactorBaseComponent {\n    @Output() onUpdated = new EventEmitter<boolean>();\n\n    type: TwoFactorProviderType;\n    organizationId: string;\n    twoFactorProviderType = TwoFactorProviderType;\n    enabled = false;\n    authed = false;\n\n    protected masterPasswordHash: string;\n\n    constructor(protected apiService: ApiService, protected i18nService: I18nService,\n        protected toasterService: ToasterService, protected platformUtilsService: PlatformUtilsService) { }\n\n    protected auth(authResponse: any) {\n        this.masterPasswordHash = authResponse.masterPasswordHash;\n        this.authed = true;\n    }\n\n    protected async enable(enableFunction: () => Promise<void>) {\n        try {\n            await enableFunction();\n            this.onUpdated.emit(true);\n        } catch { }\n    }\n\n    protected async disable(promise: Promise<any>) {\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('twoStepDisableDesc'),\n            this.i18nService.t('disable'), this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return;\n        }\n\n        try {\n            const request = new TwoFactorProviderRequest();\n            request.masterPasswordHash = this.masterPasswordHash;\n            request.type = this.type;\n            if (this.organizationId != null) {\n                promise = this.apiService.putTwoFactorOrganizationDisable(this.organizationId, request);\n            } else {\n                promise = this.apiService.putTwoFactorDisable(request);\n            }\n            await promise;\n            this.enabled = false;\n            this.toasterService.popAsync('success', null, this.i18nService.t('twoStepDisabled'));\n            this.onUpdated.emit(false);\n        } catch { }\n    }\n}\n","import {\n    ComponentFactoryResolver,\n    Directive,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { Organization } from 'jslib/models/domain/organization';\n\nimport { ModalComponent } from '../modal.component';\nimport { AddEditComponent as OrgAddEditComponent } from '../organizations/vault/add-edit.component';\nimport { AddEditComponent } from '../vault/add-edit.component';\n\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\n@Directive()\nexport class CipherReportComponent {\n    @ViewChild('cipherAddEdit', { read: ViewContainerRef, static: true }) cipherAddEditModalRef: ViewContainerRef;\n\n    loading = false;\n    hasLoaded = false;\n    ciphers: CipherView[] = [];\n    organization: Organization;\n\n    private modal: ModalComponent = null;\n\n    constructor(private componentFactoryResolver: ComponentFactoryResolver, protected userService: UserService,\n        protected messagingService: MessagingService, public requiresPaid: boolean) { }\n\n    async load() {\n        this.loading = true;\n        await this.setCiphers();\n        this.loading = false;\n        this.hasLoaded = true;\n    }\n\n    selectCipher(cipher: CipherView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.cipherAddEditModalRef.createComponent(factory).instance;\n        let childComponent: OrgAddEditComponent | AddEditComponent;\n        if (this.organization != null) {\n            childComponent = this.modal.show<OrgAddEditComponent>(OrgAddEditComponent, this.cipherAddEditModalRef);\n            (childComponent as OrgAddEditComponent).organization = this.organization;\n        } else {\n            childComponent = this.modal.show<AddEditComponent>(AddEditComponent, this.cipherAddEditModalRef);\n        }\n\n        childComponent.cipherId = cipher == null ? null : cipher.id;\n        if (this.organization != null) {\n            childComponent.organizationId = this.organization.id;\n        }\n        childComponent.onSavedCipher.subscribe(async (c: CipherView) => {\n            this.modal.close();\n            await this.load();\n        });\n        childComponent.onDeletedCipher.subscribe(async (c: CipherView) => {\n            this.modal.close();\n            await this.load();\n        });\n        childComponent.onRestoredCipher.subscribe(async (c: CipherView) => {\n            this.modal.close();\n            await this.load();\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n\n        return childComponent;\n    }\n\n    protected async checkAccess(): Promise<boolean> {\n        if (this.organization != null) {\n            // TODO: Maybe we want to just make sure they are not on a free plan? Just compare useTotp for now\n            // since all paid plans include useTotp\n            if (this.requiresPaid && !this.organization.useTotp) {\n                this.messagingService.send('upgradeOrganization', { organizationId: this.organization.id });\n                return false;\n            }\n        } else {\n            const accessPremium = await this.userService.canAccessPremium();\n            if (this.requiresPaid && !accessPremium) {\n                this.messagingService.send('premiumRequired');\n                this.loading = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    protected async setCiphers() {\n        this.ciphers = [];\n    }\n}\n","import { UriMatchType } from '../../enums/uriMatchType';\n\nimport { View } from './view';\n\nimport { LoginUri } from '../domain/loginUri';\n\nimport { Utils } from '../../misc/utils';\n\nconst CanLaunchWhitelist = [\n    'https://',\n    'http://',\n    'ssh://',\n    'ftp://',\n    'sftp://',\n    'irc://',\n    'vnc://',\n    // https://docs.microsoft.com/en-us/windows-server/remote/remote-desktop-services/clients/remote-desktop-uri\n    'rdp://', // Legacy RDP URI scheme\n    'ms-rd:', // Preferred RDP URI scheme\n    'chrome://',\n    'iosapp://',\n    'androidapp://',\n];\n\nexport class LoginUriView implements View {\n    match: UriMatchType = null;\n\n    // tslint:disable\n    private _uri: string = null;\n    private _domain: string = null;\n    private _hostname: string = null;\n    private _host: string = null;\n    private _canLaunch: boolean = null;\n    // tslint:enable\n\n    constructor(u?: LoginUri) {\n        if (!u) {\n            return;\n        }\n\n        this.match = u.match;\n    }\n\n    get uri(): string {\n        return this._uri;\n    }\n    set uri(value: string) {\n        this._uri = value;\n        this._domain = null;\n        this._canLaunch = null;\n    }\n\n    get domain(): string {\n        if (this._domain == null && this.uri != null) {\n            this._domain = Utils.getDomain(this.uri);\n            if (this._domain === '') {\n                this._domain = null;\n            }\n        }\n\n        return this._domain;\n    }\n\n    get hostname(): string {\n        if (this.match === UriMatchType.RegularExpression) {\n            return null;\n        }\n        if (this._hostname == null && this.uri != null) {\n            this._hostname = Utils.getHostname(this.uri);\n            if (this._hostname === '') {\n                this._hostname = null;\n            }\n        }\n\n        return this._hostname;\n    }\n\n    get host(): string {\n        if (this.match === UriMatchType.RegularExpression) {\n            return null;\n        }\n        if (this._host == null && this.uri != null) {\n            this._host = Utils.getHost(this.uri);\n            if (this._host === '') {\n                this._host = null;\n            }\n        }\n\n        return this._host;\n    }\n\n    get hostnameOrUri(): string {\n        return this.hostname != null ? this.hostname : this.uri;\n    }\n\n    get hostOrUri(): string {\n        return this.host != null ? this.host : this.uri;\n    }\n\n    get isWebsite(): boolean {\n        return this.uri != null && (this.uri.indexOf('http://') === 0 || this.uri.indexOf('https://') === 0 ||\n            (this.uri.indexOf('://') < 0 && Utils.tldEndingRegex.test(this.uri)));\n    }\n\n    get canLaunch(): boolean {\n        if (this._canLaunch != null) {\n            return this._canLaunch;\n        }\n        if (this.uri != null && this.match !== UriMatchType.RegularExpression) {\n            const uri = this.launchUri;\n            for (let i = 0; i < CanLaunchWhitelist.length; i++) {\n                if (uri.indexOf(CanLaunchWhitelist[i]) === 0) {\n                    this._canLaunch = true;\n                    return this._canLaunch;\n                }\n            }\n        }\n        this._canLaunch = false;\n        return this._canLaunch;\n    }\n\n    get launchUri(): string {\n        return this.uri.indexOf('://') < 0 && Utils.tldEndingRegex.test(this.uri) ? ('http://' + this.uri) : this.uri;\n    }\n}\n","export enum UriMatchType {\n    Domain = 0,\n    Host = 1,\n    StartsWith = 2,\n    Exact = 3,\n    RegularExpression = 4,\n    Never = 5,\n}\n","import { Component } from '@angular/core';\n\nimport { CipherType } from 'jslib/enums/cipherType';\nimport { EventType } from 'jslib/enums/eventType';\n\nimport { AuditService } from 'jslib/abstractions/audit.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { EventService } from 'jslib/abstractions/event.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { TotpService } from 'jslib/abstractions/totp.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { AddEditComponent as BaseAddEditComponent } from 'jslib/angular/components/add-edit.component';\nimport { LoginUriView } from 'jslib/models/view/loginUriView';\n\n@Component({\n    selector: 'app-vault-add-edit',\n    templateUrl: 'add-edit.component.html',\n})\nexport class AddEditComponent extends BaseAddEditComponent {\n    canAccessPremium: boolean;\n    totpCode: string;\n    totpCodeFormatted: string;\n    totpDash: number;\n    totpSec: number;\n    totpLow: boolean;\n    showRevisionDate = false;\n    hasPasswordHistory = false;\n    viewingPasswordHistory = false;\n    viewOnly = false;\n\n    protected totpInterval: number;\n\n    constructor(cipherService: CipherService, folderService: FolderService,\n        i18nService: I18nService, platformUtilsService: PlatformUtilsService,\n        auditService: AuditService, stateService: StateService,\n        userService: UserService, collectionService: CollectionService,\n        protected totpService: TotpService, protected passwordGenerationService: PasswordGenerationService,\n        protected messagingService: MessagingService, eventService: EventService,\n        protected policyService: PolicyService) {\n        super(cipherService, folderService, i18nService, platformUtilsService, auditService, stateService,\n            userService, collectionService, messagingService, eventService, policyService);\n    }\n\n    async ngOnInit() {\n        await super.ngOnInit();\n        await this.load();\n        this.showRevisionDate = this.cipher.passwordRevisionDisplayDate != null;\n        this.hasPasswordHistory = this.cipher.hasPasswordHistory;\n        this.cleanUp();\n\n        this.canAccessPremium = await this.userService.canAccessPremium();\n        if (this.cipher.type === CipherType.Login && this.cipher.login.totp &&\n            (this.cipher.organizationUseTotp || this.canAccessPremium)) {\n            await this.totpUpdateCode();\n            const interval = this.totpService.getTimeInterval(this.cipher.login.totp);\n            await this.totpTick(interval);\n\n            this.totpInterval = window.setInterval(async () => {\n                await this.totpTick(interval);\n            }, 1000);\n        }\n    }\n\n    toggleFavorite() {\n        this.cipher.favorite = !this.cipher.favorite;\n    }\n\n    launch(uri: LoginUriView) {\n        if (!uri.canLaunch) {\n            return;\n        }\n\n        this.platformUtilsService.launchUri(uri.launchUri);\n    }\n\n    copy(value: string, typeI18nKey: string, aType: string) {\n        if (value == null) {\n            return;\n        }\n\n        this.platformUtilsService.copyToClipboard(value, { window: window });\n        this.platformUtilsService.showToast('info', null,\n            this.i18nService.t('valueCopied', this.i18nService.t(typeI18nKey)));\n\n        if (this.editMode) {\n            if (typeI18nKey === 'password') {\n                this.eventService.collect(EventType.Cipher_ClientToggledHiddenFieldVisible, this.cipherId);\n            } else if (typeI18nKey === 'securityCode') {\n                this.eventService.collect(EventType.Cipher_ClientCopiedCardCode, this.cipherId);\n            } else if (aType === 'H_Field') {\n                this.eventService.collect(EventType.Cipher_ClientCopiedHiddenField, this.cipherId);\n            }\n        }\n    }\n\n    async generatePassword(): Promise<boolean> {\n        const confirmed = await super.generatePassword();\n        if (confirmed) {\n            const options = (await this.passwordGenerationService.getOptions())[0];\n            this.cipher.login.password = await this.passwordGenerationService.generatePassword(options);\n        }\n        return confirmed;\n    }\n\n    premiumRequired() {\n        if (!this.canAccessPremium) {\n            this.messagingService.send('premiumRequired');\n            return;\n        }\n    }\n\n    upgradeOrganization() {\n        this.messagingService.send('upgradeOrganization', { organizationId: this.cipher.organizationId });\n    }\n\n    viewHistory() {\n        this.viewingPasswordHistory = !this.viewingPasswordHistory;\n    }\n\n    protected cleanUp() {\n        if (this.totpInterval) {\n            window.clearInterval(this.totpInterval);\n        }\n    }\n\n    protected async totpUpdateCode() {\n        if (this.cipher == null || this.cipher.type !== CipherType.Login || this.cipher.login.totp == null) {\n            if (this.totpInterval) {\n                window.clearInterval(this.totpInterval);\n            }\n            return;\n        }\n\n        this.totpCode = await this.totpService.getCode(this.cipher.login.totp);\n        if (this.totpCode != null) {\n            if (this.totpCode.length > 4) {\n                const half = Math.floor(this.totpCode.length / 2);\n                this.totpCodeFormatted = this.totpCode.substring(0, half) + ' ' + this.totpCode.substring(half);\n            } else {\n                this.totpCodeFormatted = this.totpCode;\n            }\n        } else {\n            this.totpCodeFormatted = null;\n            if (this.totpInterval) {\n                window.clearInterval(this.totpInterval);\n            }\n        }\n    }\n\n    protected allowOwnershipAssignment() {\n        return (!this.editMode || this.cloneMode) && this.ownershipOptions != null\n            && (this.ownershipOptions.length > 1 || !this.allowPersonal);\n    }\n\n    private async totpTick(intervalSeconds: number) {\n        const epoch = Math.round(new Date().getTime() / 1000.0);\n        const mod = epoch % intervalSeconds;\n\n        this.totpSec = intervalSeconds - mod;\n        this.totpDash = +(Math.round((((78.6 / intervalSeconds) * mod) + 'e+2') as any) + 'e-2');\n        this.totpLow = this.totpSec <= 7;\n        if (mod === 0) {\n            await this.totpUpdateCode();\n        }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"cipherAddEditTitle\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate\n            autocomplete=\"off\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"cipherAddEditTitle\">{{title}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"cipher\">\n                <app-callout type=\"info\" *ngIf=\"allowOwnershipAssignment() && !allowPersonal\">\n                    {{'personalOwnershipPolicyInEffect' | i18n}}\n                </app-callout>\n                <div class=\"row\" *ngIf=\"!editMode && !viewOnly\">\n                    <div class=\"col-6 form-group\">\n                        <label for=\"type\">{{'whatTypeOfItem' | i18n}}</label>\n                        <select id=\"type\" name=\"Type\" [(ngModel)]=\"cipher.type\" class=\"form-control\"\n                            [disabled]=\"cipher.isDeleted\" appAutofocus>\n                            <option *ngFor=\"let o of typeOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                        </select>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-6 form-group\">\n                        <label for=\"name\">{{'name' | i18n}}</label>\n                        <input id=\"name\" class=\"form-control\" type=\"text\" name=\"Name\" [(ngModel)]=\"cipher.name\" required\n                            [disabled]=\"cipher.isDeleted || viewOnly\">\n                    </div>\n                    <div class=\"col-6 form-group\" *ngIf=\"!organization\">\n                        <label for=\"folder\">{{'folder' | i18n}}</label>\n                        <select id=\"folder\" name=\"FolderId\" [(ngModel)]=\"cipher.folderId\" class=\"form-control\"\n                            [disabled]=\"cipher.isDeleted || viewOnly\">\n                            <option *ngFor=\"let f of folders\" [ngValue]=\"f.id\">{{f.name}}</option>\n                        </select>\n                    </div>\n                </div>\n                <!-- Login -->\n                <ng-container *ngIf=\"cipher.type === cipherType.Login\">\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"loginUsername\">{{'username' | i18n}}</label>\n                            <div class=\"input-group\">\n                                <input id=\"loginUsername\" class=\"form-control\" type=\"text\" name=\"Login.Username\"\n                                    [(ngModel)]=\"cipher.login.username\" appInputVerbatim\n                                    [disabled]=\"cipher.isDeleted || viewOnly\">\n                                <div class=\"input-group-append\" *ngIf=\"!cipher.isDeleted\">\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                        appA11yTitle=\"{{'copyUsername' | i18n}}\"\n                                        (click)=\"copy(cipher.login.username, 'username', 'Username')\">\n                                        <i class=\"fa fa-lg fa-clone\" aria-hidden=\"true\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-6 form-group\">\n                            <div class=\"d-flex\">\n                                <label for=\"loginPassword\">{{'password' | i18n}}</label>\n                                <div class=\"ml-auto d-flex\" *ngIf=\"!cipher.isDeleted && !viewOnly\">\n                                    <a href=\"#\" class=\"d-block mr-2 fa-icon-above-input\" appStopClick\n                                        appA11yTitle=\"{{'generatePassword' | i18n}}\" (click)=\"generatePassword()\"\n                                        *ngIf=\"cipher.viewPassword\">\n                                        <i class=\"fa fa-lg fa-fw fa-refresh\" aria-hidden=\"true\"></i>\n                                    </a>\n                                    <a href=\"#\" class=\"d-block fa-icon-above-input\" #checkPasswordBtn appStopClick\n                                        appA11yTitle=\"{{'checkPassword' | i18n}}\" (click)=\"checkPassword()\"\n                                        [appApiAction]=\"checkPasswordPromise\">\n                                        <i class=\"fa fa-lg fa-fw fa-check-circle\" [hidden]=\"checkPasswordBtn.loading\"\n                                            aria-hidden=\"true\"></i>\n                                        <i class=\"fa fa-lg fa-fw fa-spinner fa-spin\" aria-hidden=\"true\"\n                                            [hidden]=\"!checkPasswordBtn.loading\" title=\"{{'loading' | i18n}}\"></i>\n                                    </a>\n                                </div>\n                            </div>\n                            <div class=\"input-group\">\n                                <input id=\"loginPassword\" class=\"form-control text-monospace\"\n                                    type=\"{{showPassword ? 'text' : 'password'}}\" name=\"Login.Password\"\n                                    [(ngModel)]=\"cipher.login.password\" appInputVerbatim autocomplete=\"new-password\"\n                                    [disabled]=\"cipher.isDeleted || !cipher.viewPassword || viewOnly\">\n                                <div class=\"input-group-append\">\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                        appA11yTitle=\"{{'toggleVisibility' | i18n}}\" (click)=\"togglePassword()\"\n                                        [disabled]=\"!cipher.viewPassword\">\n                                        <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                            [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                                    </button>\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                        appA11yTitle=\"{{'copyPassword' | i18n}}\"\n                                        (click)=\"copy(cipher.login.password, 'password', 'Password')\"\n                                        [disabled]=\"!cipher.viewPassword\">\n                                        <i class=\"fa fa-lg fa-clone\" aria-hidden=\"true\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"loginTotp\">{{'authenticatorKeyTotp' | i18n}}</label>\n                            <input id=\"loginTotp\" type=\"{{cipher.viewPassword ? 'text' : 'password'}}\" name=\"Login.Totp\"\n                                class=\"form-control text-monospace\" [(ngModel)]=\"cipher.login.totp\" appInputVerbatim\n                                [disabled]=\"cipher.isDeleted || !cipher.viewPassword || viewOnly\">\n                        </div>\n                        <div class=\"col-6 form-group totp d-flex align-items-end\" [ngClass]=\"{'low': totpLow}\">\n                            <div *ngIf=\"!cipher.login.totp || !totpCode\">\n                                <img src=\"images/totp-countdown.png\" title=\"{{'verificationCodeTotp' | i18n}}\"\n                                    class=\"ml-2\">\n                                <a href=\"#\" appStopClick class=\"badge badge-primary ml-3\" (click)=\"premiumRequired()\"\n                                    *ngIf=\"!organization && !cipher.organizationId && !canAccessPremium\">\n                                    {{'premium' | i18n}}\n                                </a>\n                                <a href=\"#\" appStopClick class=\"badge badge-primary ml-3\"\n                                    (click)=\"upgradeOrganization()\"\n                                    *ngIf=\"(organization && !organization.useTotp) || (!organization && !canAccessPremium && cipher.organizationId && !cipher.organizationUseTotp)\">\n                                    {{'upgrade' | i18n}}\n                                </a>\n                            </div>\n                            <div *ngIf=\"cipher.login.totp && totpCode\" class=\"d-flex align-items-center\">\n                                <span class=\"totp-countdown mr-3 ml-2\">\n                                    <span class=\"totp-sec\">{{totpSec}}</span>\n                                    <svg>\n                                        <g>\n                                            <circle class=\"totp-circle inner\" r=\"12.6\" cy=\"16\" cx=\"16\"\n                                                [ngStyle]=\"{'stroke-dashoffset.px': totpDash}\"></circle>\n                                            <circle class=\"totp-circle outer\" r=\"14\" cy=\"16\" cx=\"16\"></circle>\n                                        </g>\n                                    </svg>\n                                </span>\n                                <span class=\"totp-code mr-2\"\n                                    title=\"{{'verificationCodeTotp' | i18n}}\">{{totpCodeFormatted}}</span>\n                                <button type=\"button\" class=\"btn btn-link\"\n                                    appA11yTitle=\"{{'copyVerificationCode' | i18n}}\"\n                                    (click)=\"copy(totpCode, 'verificationCodeTotp', 'TOTP')\">\n                                    <i class=\"fa fa-clone\" aria-hidden=\"true\"></i>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <ng-container *ngIf=\"cipher.login.hasUris\">\n                        <div class=\"row\" *ngFor=\"let u of cipher.login.uris; let i = index; trackBy:trackByFunction\">\n                            <div class=\"col-7 form-group\">\n                                <label for=\"loginUri{{i}}\">{{'uriPosition' | i18n : (i + 1)}}</label>\n                                <div class=\"input-group\">\n                                    <input class=\"form-control\" id=\"loginUri{{i}}\" type=\"text\"\n                                        name=\"Login.Uris[{{i}}].Uri\" [(ngModel)]=\"u.uri\"\n                                        [disabled]=\"cipher.isDeleted || viewOnly\"\n                                        placeholder=\"{{'ex' | i18n}} https://google.com\" appInputVerbatim>\n                                    <div class=\"input-group-append\">\n                                        <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                            appA11yTitle=\"{{'launch' | i18n}}\" (click)=\"launch(u)\"\n                                            [disabled]=\"!u.canLaunch\">\n                                            <i class=\"fa fa-lg fa-share\" aria-hidden=\"true\"></i>\n                                        </button>\n                                        <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                            appA11yTitle=\"{{'copyUri' | i18n}}\" (click)=\"copy(u.uri, 'uri', 'URI')\">\n                                            <i class=\"fa fa-lg fa-clone\" aria-hidden=\"true\"></i>\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-5 form-group\">\n                                <div class=\"d-flex\">\n                                    <label for=\"loginUriMatch{{i}}\">\n                                        {{'matchDetection' | i18n}}\n                                    </label>\n                                    <a class=\"ml-auto\" href=\"https://help.bitwarden.com/article/uri-match-detection/\"\n                                        target=\"_blank\" rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\">\n                                        <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                                    </a>\n                                </div>\n                                <div class=\"d-flex\">\n                                    <select class=\"form-control overflow-hidden\" id=\"loginUriMatch{{i}}\"\n                                        name=\"Login.Uris[{{i}}].Match\" [(ngModel)]=\"u.match\"\n                                        (change)=\"loginUriMatchChanged(u)\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                                        <option *ngFor=\"let o of uriMatchOptions\" [ngValue]=\"o.value\">{{o.name}}\n                                        </option>\n                                    </select>\n                                    <button type=\"button\" class=\"btn btn-link text-danger ml-2\" (click)=\"removeUri(u)\"\n                                        appA11yTitle=\"{{'remove' | i18n}}\" *ngIf=\"!cipher.isDeleted && !viewOnly\">\n                                        <i class=\"fa fa-minus-circle fa-lg\" aria-hidden=\"true\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </ng-container>\n                    <a href=\"#\" appStopClick (click)=\"addUri()\" class=\"d-inline-block mb-3\"\n                        *ngIf=\"!cipher.isDeleted && !viewOnly\">\n                        <i class=\"fa fa-plus-circle fa-fw\" aria-hidden=\"true\"></i> {{'newUri' | i18n}}\n                    </a>\n                </ng-container>\n                <!-- Card -->\n                <ng-container *ngIf=\"cipher.type === cipherType.Card\">\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"cardCardholderName\">{{'cardholderName' | i18n}}</label>\n                            <input id=\"cardCardholderName\" class=\"form-control\" type=\"text\"\n                                name=\"Card.CardCardholderName\" [(ngModel)]=\"cipher.card.cardholderName\"\n                                [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-6 form-group\">\n                            <label for=\"cardBrand\">{{'brand' | i18n}}</label>\n                            <select id=\"cardBrand\" class=\"form-control\" name=\"Card.Brand\"\n                                [(ngModel)]=\"cipher.card.brand\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                                <option *ngFor=\"let o of cardBrandOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"cardNumber\">{{'number' | i18n}}</label>\n                            <div class=\"input-group\">\n                                <input id=\"cardNumber\" class=\"form-control\" type=\"text\" name=\"Card.Number\"\n                                    [(ngModel)]=\"cipher.card.number\" appInputVerbatim\n                                    [disabled]=\"cipher.isDeleted || viewOnly\">\n                                <div class=\"input-group-append\">\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                        appA11yTitle=\"{{'copyNumber' | i18n}}\"\n                                        (click)=\"copy(cipher.card.number, 'number', 'Number')\">\n                                        <i class=\"fa fa-lg fa-clone\" aria-hidden=\"true\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col form-group\">\n                            <label for=\"cardExpMonth\">{{'expirationMonth' | i18n}}</label>\n                            <select id=\"cardExpMonth\" class=\"form-control\" name=\"Card.ExpMonth\"\n                                [(ngModel)]=\"cipher.card.expMonth\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                                <option *ngFor=\"let o of cardExpMonthOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                            </select>\n                        </div>\n                        <div class=\"col form-group\">\n                            <label for=\"cardExpYear\">{{'expirationYear' | i18n}}</label>\n                            <input id=\"cardExpYear\" class=\"form-control\" type=\"text\" name=\"Card.ExpYear\"\n                                [(ngModel)]=\"cipher.card.expYear\" placeholder=\"{{'ex' | i18n}} 2019\"\n                                [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"cardCode\">{{'securityCode' | i18n}}</label>\n                            <div class=\"input-group\">\n                                <input id=\"cardCode\" class=\"form-control text-monospace\"\n                                    type=\"{{showCardCode ? 'text' : 'password'}}\" name=\"Card.Code\"\n                                    [(ngModel)]=\"cipher.card.code\" appInputVerbatim autocomplete=\"new-password\"\n                                    [disabled]=\"cipher.isDeleted || viewOnly\">\n                                <div class=\"input-group-append\">\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                        appA11yTitle=\"{{'toggleVisibility' | i18n}}\" (click)=\"toggleCardCode()\">\n                                        <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                            [ngClass]=\"{'fa-eye': !showCardCode, 'fa-eye-slash': showCardCode}\"></i>\n                                    </button>\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                        appA11yTitle=\"{{'securityCode' | i18n}}\"\n                                        (click)=\"copy(cipher.card.code, 'securityCode', 'Security Code')\">\n                                        <i class=\"fa fa-lg fa-clone\" aria-hidden=\"true\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n                <!-- Identity -->\n                <ng-container *ngIf=\"cipher.type === cipherType.Identity\">\n                    <div class=\"row\">\n                        <div class=\"col-4 form-group\">\n                            <label for=\"idTitle\">{{'title' | i18n}}</label>\n                            <select id=\"idTitle\" class=\"form-control\" name=\"Identity.Title\"\n                                [(ngModel)]=\"cipher.identity.title\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                                <option *ngFor=\"let o of identityTitleOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-4 form-group\">\n                            <label for=\"idFirstName\">{{'firstName' | i18n}}</label>\n                            <input id=\"idFirstName\" class=\"form-control\" type=\"text\" name=\"Identity.FirstName\"\n                                [(ngModel)]=\"cipher.identity.firstName\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-4 form-group\">\n                            <label for=\"idMiddleName\">{{'middleName' | i18n}}</label>\n                            <input id=\"idMiddleName\" class=\"form-control\" type=\"text\" name=\"Identity.MiddleName\"\n                                [(ngModel)]=\"cipher.identity.middleName\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-4 form-group\">\n                            <label for=\"idLastName\">{{'lastName' | i18n}}</label>\n                            <input id=\"idLastName\" class=\"form-control\" type=\"text\" name=\"Identity.LastName\"\n                                [(ngModel)]=\"cipher.identity.lastName\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-4 form-group\">\n                            <label for=\"idUsername\">{{'username' | i18n}}</label>\n                            <input id=\"idUsername\" class=\"form-control\" type=\"text\" name=\"Identity.Username\"\n                                [(ngModel)]=\"cipher.identity.username\" appInputVerbatim\n                                [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-4 form-group\">\n                            <label for=\"idCompany\">{{'company' | i18n}}</label>\n                            <input id=\"idCompany\" class=\"form-control\" type=\"text\" name=\"Identity.Company\"\n                                [(ngModel)]=\"cipher.identity.company\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-4 form-group\">\n                            <label for=\"idSsn\">{{'ssn' | i18n}}</label>\n                            <input id=\"idSsn\" class=\"form-control\" type=\"text\" name=\"Identity.SSN\"\n                                [(ngModel)]=\"cipher.identity.ssn\" appInputVerbatim\n                                [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-4 form-group\">\n                            <label for=\"idPassportNumber\">{{'passportNumber' | i18n}}</label>\n                            <input id=\"idPassportNumber\" class=\"form-control\" type=\"text\" name=\"Identity.PassportNumber\"\n                                [(ngModel)]=\"cipher.identity.passportNumber\" appInputVerbatim\n                                [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-4 form-group\">\n                            <label for=\"idLicenseNumber\">{{'licenseNumber' | i18n}}</label>\n                            <input id=\"idLicenseNumber\" class=\"form-control\" type=\"text\" name=\"Identity.LicenseNumber\"\n                                [(ngModel)]=\"cipher.identity.licenseNumber\" appInputVerbatim\n                                [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"idEmail\">{{'email' | i18n}}</label>\n                            <input id=\"idEmail\" class=\"form-control\" type=\"text\" name=\"Identity.Email\"\n                                [(ngModel)]=\"cipher.identity.email\" appInputVerbatim\n                                [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-6 form-group\">\n                            <label for=\"idPhone\">{{'phone' | i18n}}</label>\n                            <input id=\"idPhone\" class=\"form-control\" type=\"text\" name=\"Identity.Phone\"\n                                [(ngModel)]=\"cipher.identity.phone\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"idAddress1\">{{'address1' | i18n}}</label>\n                            <input id=\"idAddress1\" class=\"form-control\" type=\"text\" name=\"Identity.Address1\"\n                                [(ngModel)]=\"cipher.identity.address1\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-6 form-group\">\n                            <label for=\"idAddress2\">{{'address2' | i18n}}</label>\n                            <input id=\"idAddress2\" class=\"form-control\" type=\"text\" name=\"Identity.Address2\"\n                                [(ngModel)]=\"cipher.identity.address2\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"idAddress3\">{{'address3' | i18n}}</label>\n                            <input id=\"idAddress3\" class=\"form-control\" type=\"text\" name=\"Identity.Address3\"\n                                [(ngModel)]=\"cipher.identity.address3\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-6 form-group\">\n                            <label for=\"idCity\">{{'cityTown' | i18n}}</label>\n                            <input id=\"idCity\" class=\"form-control\" type=\"text\" name=\"Identity.City\"\n                                [(ngModel)]=\"cipher.identity.city\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"idState\">{{'stateProvince' | i18n}}</label>\n                            <input id=\"idState\" class=\"form-control\" type=\"text\" name=\"Identity.State\"\n                                [(ngModel)]=\"cipher.identity.state\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-6 form-group\">\n                            <label for=\"idPostalCode\">{{'zipPostalCode' | i18n}}</label>\n                            <input id=\"idPostalCode\" class=\"form-control\" type=\"text\" name=\"Identity.PostalCode\"\n                                [(ngModel)]=\"cipher.identity.postalCode\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"idCountry\">{{'country' | i18n}}</label>\n                            <input id=\"idCountry\" class=\"form-control\" type=\"text\" name=\"Identity.Country\"\n                                [(ngModel)]=\"cipher.identity.country\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                    </div>\n                </ng-container>\n                <div class=\"form-group\">\n                    <label for=\"notes\">{{'notes' | i18n}}</label>\n                    <textarea id=\"notes\" name=\"Notes\" rows=\"6\" [(ngModel)]=\"cipher.notes\"\n                        [disabled]=\"cipher.isDeleted || viewOnly\" class=\"form-control\"></textarea>\n                </div>\n                <h3 class=\"mt-4\">{{'customFields' | i18n}}</h3>\n                <div cdkDropList (cdkDropListDropped)=\"drop($event)\" *ngIf=\"cipher.hasFields\">\n                    <div class=\"row\" cdkDrag *ngFor=\"let f of cipher.fields; let i = index; trackBy:trackByFunction\">\n                        <div class=\"col-5 form-group\">\n                            <div class=\"d-flex\">\n                                <label for=\"fieldName{{i}}\">{{'name' | i18n}}</label>\n                                <a class=\"ml-auto\" href=\"https://help.bitwarden.com/article/custom-fields/\"\n                                    target=\"_blank\" rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\">\n                                    <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                                </a>\n                            </div>\n                            <input id=\"fieldName{{i}}\" type=\"text\" name=\"Field.Name{{i}}\" [(ngModel)]=\"f.name\"\n                                class=\"form-control\" appInputVerbatim [disabled]=\"cipher.isDeleted || viewOnly\">\n                        </div>\n                        <div class=\"col-7 form-group\">\n                            <label for=\"fieldValue{{i}}\">{{'value' | i18n}}</label>\n                            <div class=\"d-flex align-items-center\">\n                                <div class=\"input-group\" *ngIf=\"f.type === fieldType.Text\">\n                                    <input id=\"fieldValue{{i}}\" class=\"form-control\" type=\"text\" name=\"Field.Value{{i}}\"\n                                        [(ngModel)]=\"f.value\" appInputVerbatim\n                                        [disabled]=\"cipher.isDeleted || viewOnly\">\n                                    <div class=\"input-group-append\">\n                                        <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                            appA11yTitle=\"{{'copyValue' | i18n}}\"\n                                            (click)=\"copy(f.value, 'value', 'Field')\">\n                                            <i class=\"fa fa-lg fa-clone\" aria-hidden=\"true\"></i>\n                                        </button>\n                                    </div>\n                                </div>\n                                <div class=\"input-group\" *ngIf=\"f.type === fieldType.Hidden\">\n                                    <input id=\"fieldValue{{i}}\" type=\"{{f.showValue ? 'text' : 'password'}}\"\n                                        name=\"Field.Value{{i}}\" [(ngModel)]=\"f.value\"\n                                        class=\"form-control text-monospace\" appInputVerbatim autocomplete=\"new-password\"\n                                        [disabled]=\"cipher.isDeleted || viewOnly || (!cipher.viewPassword && !f.newField)\">\n                                    <div class=\"input-group-append\">\n                                        <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                            appA11yTitle=\"{{'toggleVisibility' | i18n}}\" (click)=\"toggleFieldValue(f)\"\n                                            [disabled]=\"!cipher.viewPassword && !f.newField\">\n                                            <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                                [ngClass]=\"{'fa-eye': !f.showValue, 'fa-eye-slash': f.showValue}\">\n                                            </i>\n                                        </button>\n                                        <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                            appA11yTitle=\"{{'copyValue' | i18n}}\"\n                                            (click)=\"copy(f.value, 'value', f.type === fieldType.Hidden ? 'H_Field' : 'Field')\"\n                                            [disabled]=\"!cipher.viewPassword && !f.newField\">\n                                            <i class=\"fa fa-lg fa-clone\" aria-hidden=\"true\"></i>\n                                        </button>\n                                    </div>\n                                </div>\n                                <div class=\"flex-fill\">\n                                    <input id=\"fieldValue{{i}}\" name=\"Field.Value{{i}}\" type=\"checkbox\"\n                                        [(ngModel)]=\"f.value\" *ngIf=\"f.type === fieldType.Boolean\" appTrueFalseValue\n                                        trueValue=\"true\" falseValue=\"false\" [disabled]=\"cipher.isDeleted || viewOnly\">\n                                </div>\n                                <button type=\"button\" class=\"btn btn-link text-danger ml-2\" (click)=\"removeField(f)\"\n                                    appA11yTitle=\"{{'remove' | i18n}}\" *ngIf=\"!cipher.isDeleted && !viewOnly\">\n                                    <i class=\"fa fa-minus-circle fa-lg\" aria-hidden=\"true\"></i>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-link text-muted cursor-move\"\n                                    appA11yTitle=\"{{'dragToSort' | i18n}}\" *ngIf=\"!cipher.isDeleted && !viewOnly\">\n                                    <i class=\"fa fa-bars fa-lg\" aria-hidden=\"true\"></i>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <a href=\"#\" appStopClick (click)=\"addField()\" class=\"d-inline-block mb-2\"\n                    *ngIf=\"!cipher.isDeleted && !viewOnly\">\n                    <i class=\"fa fa-plus-circle fa-fw\" aria-hidden=\"true\"></i> {{'newCustomField' | i18n}}\n                </a>\n                <div class=\"row\" *ngIf=\"!cipher.isDeleted && !viewOnly\">\n                    <div class=\"col-5\">\n                        <label for=\"addFieldType\" class=\"sr-only\">{{'type' | i18n}}</label>\n                        <select id=\"addFieldType\" class=\"form-control\" name=\"AddFieldType\" [(ngModel)]=\"addFieldType\">\n                            <option *ngFor=\"let o of addFieldTypeOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                        </select>\n                    </div>\n                </div>\n                <ng-container *ngIf=\"allowOwnershipAssignment()\">\n                    <h3 class=\"mt-4\">{{'ownership' | i18n}}</h3>\n                    <div class=\"row\">\n                        <div class=\"col-5\">\n                            <label for=\"organizationId\">{{'whoOwnsThisItem' | i18n}}</label>\n                            <select id=\"organizationId\" class=\"form-control\" name=\"OrganizationId\"\n                                [(ngModel)]=\"cipher.organizationId\" (change)=\"organizationChanged()\"\n                                [disabled]=\"cipher.isDeleted || viewOnly\">\n                                <option *ngFor=\"let o of ownershipOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                            </select>\n                        </div>\n                    </div>\n                </ng-container>\n                <ng-container *ngIf=\"(!editMode || cloneMode) && cipher.organizationId\">\n                    <h3 class=\"mt-4\">{{'collections' | i18n}}</h3>\n                    <div *ngIf=\"!collections || !collections.length\">\n                        {{'noCollectionsInList' | i18n}}\n                    </div>\n                    <ng-container *ngIf=\"collections && collections.length\">\n                        <div class=\"form-check\" *ngFor=\"let c of collections; let i = index\">\n                            <input class=\"form-check-input\" type=\"checkbox\" [(ngModel)]=\"c.checked\"\n                                id=\"collection-{{i}}\" name=\"Collection[{{i}}].Checked\"\n                                [disabled]=\"cipher.isDeleted || viewOnly\">\n                            <label class=\"form-check-label\" for=\"collection-{{i}}\">{{c.name}}</label>\n                        </div>\n                    </ng-container>\n                </ng-container>\n                <ng-container *ngIf=\"editMode\">\n                    <div class=\"small text-muted mt-4\">\n                        <div>\n                            <b class=\"font-weight-semibold\">{{'dateUpdated' | i18n}}:</b>\n                            {{cipher.revisionDate | date:'medium'}}\n                        </div>\n                        <div *ngIf=\"showRevisionDate\">\n                            <b class=\"font-weight-semibold\">{{'datePasswordUpdated' | i18n}}:</b>\n                            {{cipher.passwordRevisionDisplayDate | date:'medium'}}\n                        </div>\n                        <div *ngIf=\"hasPasswordHistory\">\n                            <b class=\"font-weight-semibold\">{{'passwordHistory' | i18n}}:</b>\n                            <a href=\"#\" appStopClick (click)=\"viewHistory()\" title=\"{{'view' | i18n}}\">\n                                {{cipher.passwordHistory.length}}\n                            </a>\n                        </div>\n                        <div class=\"ml-3\" *ngIf=\"viewingPasswordHistory\">\n                            <div *ngFor=\"let ph of cipher.passwordHistory\">\n                                {{ph.lastUsedDate | date:'short'}} -\n                                <span class=\"password-wrapper text-monospace ml-2\">{{ph.password}}</span>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\" *ngIf=\"!viewOnly\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{(cipher?.isDeleted ? 'restore' : 'save') | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">\n                    {{(viewOnly ? 'close' : 'cancel') | i18n}}\n                </button>\n                <div class=\"ml-auto\" *ngIf=\"cipher && !viewOnly\">\n                    <button *ngIf=\"!organization && !cipher.isDeleted\" type=\"button\" (click)=\"toggleFavorite()\"\n                        class=\"btn btn-link\" appA11yTitle=\"{{(cipher.favorite ? 'unfavorite' : 'favorite') | i18n}}\">\n                        <i class=\"fa fa-lg\" [ngClass]=\"{'fa-star': cipher.favorite, 'fa-star-o': !cipher.favorite}\"\n                            aria-hidden=\"true\"></i>\n                    </button>\n                    <button #deleteBtn type=\"button\" (click)=\"delete()\" class=\"btn btn-outline-danger\"\n                        appA11yTitle=\"{{(cipher.isDeleted ? 'permanentlyDelete' : 'delete') | i18n}}\"\n                        *ngIf=\"editMode && !cloneMode\" [disabled]=\"deleteBtn.loading\" [appApiAction]=\"deletePromise\">\n                        <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\" aria-hidden=\"true\"></i>\n                        <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\"\n                            title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    </button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n","import { Importer } from '../importers/importer';\n\nexport interface ImportOption {\n    id: string;\n    name: string;\n}\nexport abstract class ImportService {\n    featuredImportOptions: ImportOption[];\n    regularImportOptions: ImportOption[];\n    getImportOptions: () => ImportOption[];\n    import: (importer: Importer, fileContents: string, organizationId?: string) => Promise<Error>;\n    getImporter: (format: string, organizationId: string) => Importer;\n}\n","import { AttachmentResponse } from './attachmentResponse';\nimport { BaseResponse } from './baseResponse';\nimport { PasswordHistoryResponse } from './passwordHistoryResponse';\n\nimport { CardApi } from '../api/cardApi';\nimport { FieldApi } from '../api/fieldApi';\nimport { IdentityApi } from '../api/identityApi';\nimport { LoginApi } from '../api/loginApi';\nimport { SecureNoteApi } from '../api/secureNoteApi';\n\nexport class CipherResponse extends BaseResponse {\n    id: string;\n    organizationId: string;\n    folderId: string;\n    type: number;\n    name: string;\n    notes: string;\n    fields: FieldApi[];\n    login: LoginApi;\n    card: CardApi;\n    identity: IdentityApi;\n    secureNote: SecureNoteApi;\n    favorite: boolean;\n    edit: boolean;\n    viewPassword: boolean;\n    organizationUseTotp: boolean;\n    revisionDate: string;\n    attachments: AttachmentResponse[];\n    passwordHistory: PasswordHistoryResponse[];\n    collectionIds: string[];\n    deletedDate: string;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.organizationId = this.getResponseProperty('OrganizationId');\n        this.folderId = this.getResponseProperty('FolderId') || null;\n        this.type = this.getResponseProperty('Type');\n        this.name = this.getResponseProperty('Name');\n        this.notes = this.getResponseProperty('Notes');\n        this.favorite = this.getResponseProperty('Favorite') || false;\n        this.edit = !!this.getResponseProperty('Edit');\n        if (this.getResponseProperty('ViewPassword') == null) {\n            this.viewPassword = true;\n        } else {\n            this.viewPassword = this.getResponseProperty('ViewPassword');\n        }\n        this.organizationUseTotp = this.getResponseProperty('OrganizationUseTotp');\n        this.revisionDate = this.getResponseProperty('RevisionDate');\n        this.collectionIds = this.getResponseProperty('CollectionIds');\n        this.deletedDate = this.getResponseProperty('DeletedDate');\n\n        const login = this.getResponseProperty('Login');\n        if (login != null) {\n            this.login = new LoginApi(login);\n        }\n\n        const card = this.getResponseProperty('Card');\n        if (card != null) {\n            this.card = new CardApi(card);\n        }\n\n        const identity = this.getResponseProperty('Identity');\n        if (identity != null) {\n            this.identity = new IdentityApi(identity);\n        }\n\n        const secureNote = this.getResponseProperty('SecureNote');\n        if (secureNote != null) {\n            this.secureNote = new SecureNoteApi(secureNote);\n        }\n\n        const fields = this.getResponseProperty('Fields');\n        if (fields != null) {\n            this.fields = fields.map((f: any) => new FieldApi(f));\n        }\n\n        const attachments = this.getResponseProperty('Attachments');\n        if (attachments != null) {\n            this.attachments = attachments.map((a: any) => new AttachmentResponse(a));\n        }\n\n        const passwordHistory = this.getResponseProperty('PasswordHistory');\n        if (passwordHistory != null) {\n            this.passwordHistory = passwordHistory.map((h: any) => new PasswordHistoryResponse(h));\n        }\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnDestroy,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { EventService } from 'jslib/abstractions/event.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SearchService } from 'jslib/abstractions/search.service';\nimport { TotpService } from 'jslib/abstractions/totp.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CiphersComponent as BaseCiphersComponent } from 'jslib/angular/components/ciphers.component';\n\nimport { CipherType } from 'jslib/enums/cipherType';\nimport { EventType } from 'jslib/enums/eventType';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nconst MaxCheckedCount = 500;\n\n@Component({\n    selector: 'app-vault-ciphers',\n    templateUrl: 'ciphers.component.html',\n})\nexport class CiphersComponent extends BaseCiphersComponent implements OnDestroy {\n    @Input() showAddNew = true;\n    @Output() onAttachmentsClicked = new EventEmitter<CipherView>();\n    @Output() onShareClicked = new EventEmitter<CipherView>();\n    @Output() onCollectionsClicked = new EventEmitter<CipherView>();\n    @Output() onCloneClicked = new EventEmitter<CipherView>();\n\n    cipherType = CipherType;\n    actionPromise: Promise<any>;\n    userHasPremiumAccess = false;\n\n    constructor(searchService: SearchService, protected toasterService: ToasterService,\n        protected i18nService: I18nService, protected platformUtilsService: PlatformUtilsService,\n        protected cipherService: CipherService, protected eventService: EventService,\n        protected totpService: TotpService, protected userService: UserService) {\n        super(searchService);\n        this.pageSize = 200;\n    }\n\n    async ngOnInit() {\n        this.userHasPremiumAccess = await this.userService.canAccessPremium();\n    }\n\n    ngOnDestroy() {\n        this.selectAll(false);\n    }\n\n    launch(uri: string) {\n        this.platformUtilsService.launchUri(uri);\n    }\n\n    attachments(c: CipherView) {\n        this.onAttachmentsClicked.emit(c);\n    }\n\n    share(c: CipherView) {\n        this.onShareClicked.emit(c);\n    }\n\n    collections(c: CipherView) {\n        this.onCollectionsClicked.emit(c);\n    }\n\n    clone(c: CipherView) {\n        this.onCloneClicked.emit(c);\n    }\n\n    async delete(c: CipherView): Promise<boolean> {\n        if (this.actionPromise != null) {\n            return;\n        }\n        const permanent = c.isDeleted;\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t(permanent ? 'permanentlyDeleteItemConfirmation' : 'deleteItemConfirmation'),\n            this.i18nService.t(permanent ? 'permanentlyDeleteItem' : 'deleteItem'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.actionPromise = this.deleteCipher(c.id, permanent);\n            await this.actionPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t(permanent ? 'permanentlyDeletedItem'\n                : 'deletedItem'));\n            this.refresh();\n        } catch { }\n        this.actionPromise = null;\n    }\n\n    async restore(c: CipherView): Promise<boolean> {\n        if (this.actionPromise != null || !c.isDeleted) {\n            return;\n        }\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('restoreItemConfirmation'),\n            this.i18nService.t('restoreItem'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.actionPromise = this.cipherService.restoreWithServer(c.id);\n            await this.actionPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('restoredItem'));\n            this.refresh();\n        } catch { }\n        this.actionPromise = null;\n    }\n\n    async copy(cipher: CipherView, value: string, typeI18nKey: string, aType: string) {\n        if (value == null || aType === 'TOTP' && !this.displayTotpCopyButton(cipher)) {\n            return;\n        } else if (value === cipher.login.totp) {\n            value = await this.totpService.getCode(value);\n        }\n\n        this.platformUtilsService.copyToClipboard(value, { window: window });\n        this.toasterService.popAsync('info', null,\n            this.i18nService.t('valueCopied', this.i18nService.t(typeI18nKey)));\n\n        if (typeI18nKey === 'password' || typeI18nKey === 'verificationCodeTotp') {\n            this.eventService.collect(EventType.Cipher_ClientToggledHiddenFieldVisible, cipher.id);\n        } else if (typeI18nKey === 'securityCode') {\n            this.eventService.collect(EventType.Cipher_ClientCopiedCardCode, cipher.id);\n        }\n    }\n\n    selectAll(select: boolean) {\n        if (select) {\n            this.selectAll(false);\n        }\n        const selectCount = select && this.ciphers.length > MaxCheckedCount\n            ? MaxCheckedCount\n            : this.ciphers.length;\n        for (let i = 0; i < selectCount; i++) {\n            this.checkCipher(this.ciphers[i], select);\n        }\n    }\n\n    checkCipher(c: CipherView, select?: boolean) {\n        (c as any).checked = select == null ? !(c as any).checked : select;\n    }\n\n    getSelected(): CipherView[] {\n        if (this.ciphers == null) {\n            return [];\n        }\n        return this.ciphers.filter(c => !!(c as any).checked);\n    }\n\n    getSelectedIds(): string[] {\n        return this.getSelected().map(c => c.id);\n    }\n\n    displayTotpCopyButton(cipher: CipherView) {\n        return (cipher?.login?.hasTotp ?? false) &&\n            (cipher.organizationUseTotp || this.userHasPremiumAccess);\n    }\n\n    protected deleteCipher(id: string, permanent: boolean) {\n        return permanent ? this.cipherService.deleteWithServer(id) : this.cipherService.softDeleteWithServer(id);\n    }\n\n    protected showFixOldAttachments(c: CipherView) {\n        return c.hasOldAttachments && c.organizationId == null;\n    }\n}\n","<ng-container *ngIf=\"(isPaging() ? pagedCiphers : ciphers) as filteredCiphers\">\n    <table class=\"table table-hover table-list table-ciphers\" *ngIf=\"filteredCiphers.length\" infiniteScroll\n        [infiniteScrollDistance]=\"1\" [infiniteScrollDisabled]=\"!isPaging()\" (scrolled)=\"loadMore()\">\n        <tbody>\n            <tr *ngFor=\"let c of filteredCiphers\">\n                <td (click)=\"checkCipher(c)\" class=\"table-list-checkbox\">\n                    <input type=\"checkbox\" [(ngModel)]=\"c.checked\" appStopProp>\n                </td>\n                <td (click)=\"checkCipher(c)\" class=\"table-list-icon\">\n                    <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n                </td>\n                <td (click)=\"checkCipher(c)\" class=\"reduced-lh wrap\">\n                    <a href=\"#\" appStopClick appStopProp (click)=\"selectCipher(c)\"\n                        title=\"{{'editItem' | i18n}}\">{{c.name}}</a>\n                    <ng-container *ngIf=\"!organization && c.organizationId\">\n                        <i class=\"fa fa-share-alt\" appStopProp title=\"{{'shared' | i18n}}\" aria-hidden=\"true\"></i>\n                        <span class=\"sr-only\">{{'shared' | i18n}}</span>\n                    </ng-container>\n                    <ng-container *ngIf=\"c.hasAttachments\">\n                        <i class=\"fa fa-paperclip\" appStopProp title=\"{{'attachments' | i18n}}\" aria-hidden=\"true\"></i>\n                        <span class=\"sr-only\">{{'attachments' | i18n}}</span>\n                        <ng-container *ngIf=\"showFixOldAttachments(c)\">\n                            <i class=\"fa fa-exclamation-triangle text-warning\" appStopProp\n                                title=\"{{'attachmentsNeedFix' | i18n}}\" aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'attachmentsNeedFix' | i18n}}</span>\n                        </ng-container>\n                    </ng-container>\n                    <br>\n                    <small appStopProp>{{c.subTitle}}</small>\n                </td>\n                <td class=\"table-list-options\">\n                    <div class=\"dropdown\" appListDropdown>\n                        <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\"\n                            data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\n                            appA11yTitle=\"{{'options' | i18n}}\">\n                            <i class=\"fa fa-cog fa-lg\" aria-hidden=\"true\"></i>\n                        </button>\n                        <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenuButton\">\n                            <ng-container *ngIf=\"c.type === cipherType.Login && !c.isDeleted\">\n                                <a class=\"dropdown-item\" href=\"#\" appStopClick\n                                    (click)=\"copy(c, c.login.username, 'username', 'username')\">\n                                    <i class=\"fa fa-fw fa-clone\" aria-hidden=\"true\"></i>\n                                    {{'copyUsername' | i18n}}\n                                </a>\n                                <a class=\"dropdown-item\" href=\"#\" appStopClick\n                                    (click)=\"copy(c, c.login.password, 'password', 'password')\" *ngIf=\"c.viewPassword\">\n                                    <i class=\"fa fa-fw fa-clone\" aria-hidden=\"true\"></i>\n                                    {{'copyPassword' | i18n}}\n                                </a>\n                                <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"copy(c, c.login.totp, 'verificationCodeTotp', 'TOTP')\"\n                                    *ngIf=\"displayTotpCopyButton(c)\">\n                                    <i class=\"fa fa-fw fa-clone\" aria-hidden=\"true\"></i>\n                                    {{'copyVerificationCode' | i18n}}\n                                </a>\n                                <a class=\"dropdown-item\" href=\"#\" appStopClick *ngIf=\"c.login.canLaunch\"\n                                    (click)=\"launch(c.login.launchUri)\">\n                                    <i class=\"fa fa-fw fa-share-square-o\" aria-hidden=\"true\"></i>\n                                    {{'launch' | i18n}}\n                                </a>\n                            </ng-container>\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"attachments(c)\">\n                                <i class=\"fa fa-fw fa-paperclip\" aria-hidden=\"true\"></i>\n                                {{'attachments' | i18n}}\n                            </a>\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick\n                                *ngIf=\"((!organization && !c.organizationId) || organization) && !c.isDeleted\"\n                                (click)=\"clone(c)\">\n                                <i class=\"fa fa-fw fa-files-o\" aria-hidden=\"true\"></i>\n                                {{'clone' | i18n}}\n                            </a>\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick\n                                *ngIf=\"!organization && !c.organizationId && !c.isDeleted\" (click)=\"share(c)\">\n                                <i class=\"fa fa-fw fa-share-alt\" aria-hidden=\"true\"></i>\n                                {{'share' | i18n}}\n                            </a>\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick *ngIf=\"c.organizationId && !c.isDeleted\"\n                                (click)=\"collections(c)\">\n                                <i class=\"fa fa-fw fa-cubes\" aria-hidden=\"true\"></i>\n                                {{'collections' | i18n}}\n                            </a>\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick *ngIf=\"c.organizationId && accessEvents\"\n                                (click)=\"events(c)\">\n                                <i class=\"fa fa-fw fa-file-text-o\" aria-hidden=\"true\"></i>\n                                {{'eventLogs' | i18n}}\n                            </a>\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"restore(c)\" *ngIf=\"c.isDeleted\">\n                                <i class=\"fa fa-fw fa-undo\" aria-hidden=\"true\"></i>\n                                {{'restore' | i18n}}\n                            </a>\n                            <a class=\"dropdown-item text-danger\" href=\"#\" appStopClick (click)=\"delete(c)\">\n                                <i class=\"fa fa-fw fa-trash-o\" aria-hidden=\"true\"></i>\n                                {{(c.isDeleted ? 'permanentlyDelete' : 'delete') | i18n}}\n                            </a>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    <div class=\"no-items\" *ngIf=\"!filteredCiphers.length\">\n        <ng-container *ngIf=\"!loaded\">\n            <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </ng-container>\n        <ng-container *ngIf=\"loaded\">\n            <p>{{'noItemsInList' | i18n}}</p>\n            <button (click)=\"addCipher()\" class=\"btn btn-outline-primary\" *ngIf=\"showAddNew\">\n                <i class=\"fa fa-plus fa-fw\"></i>{{'addItem' | i18n}}</button>\n        </ng-container>\n    </div>\n</ng-container>\n","export enum EncryptionType {\n    AesCbc256_B64 = 0,\n    AesCbc128_HmacSha256_B64 = 1,\n    AesCbc256_HmacSha256_B64 = 2,\n    Rsa2048_OaepSha256_B64 = 3,\n    Rsa2048_OaepSha1_B64 = 4,\n    Rsa2048_OaepSha256_HmacSha256_B64 = 5,\n    Rsa2048_OaepSha1_HmacSha256_B64 = 6,\n}\n","import { KdfType } from '../enums/kdfType';\nimport { TwoFactorProviderType } from '../enums/twoFactorProviderType';\n\nimport { AuthResult } from '../models/domain/authResult';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nimport { DeviceRequest } from '../models/request/deviceRequest';\nimport { KeysRequest } from '../models/request/keysRequest';\nimport { PreloginRequest } from '../models/request/preloginRequest';\nimport { TokenRequest } from '../models/request/tokenRequest';\n\nimport { IdentityTokenResponse } from '../models/response/identityTokenResponse';\nimport { IdentityTwoFactorResponse } from '../models/response/identityTwoFactorResponse';\n\nimport { ApiService } from '../abstractions/api.service';\nimport { AppIdService } from '../abstractions/appId.service';\nimport { AuthService as AuthServiceAbstraction } from '../abstractions/auth.service';\nimport { CryptoService } from '../abstractions/crypto.service';\nimport { I18nService } from '../abstractions/i18n.service';\nimport { LogService } from '../abstractions/log.service';\nimport { MessagingService } from '../abstractions/messaging.service';\nimport { PlatformUtilsService } from '../abstractions/platformUtils.service';\nimport { TokenService } from '../abstractions/token.service';\nimport { UserService } from '../abstractions/user.service';\nimport { VaultTimeoutService } from '../abstractions/vaultTimeout.service';\n\nexport const TwoFactorProviders = {\n    [TwoFactorProviderType.Authenticator]: {\n        type: TwoFactorProviderType.Authenticator,\n        name: null as string,\n        description: null as string,\n        priority: 1,\n        sort: 1,\n        premium: false,\n    },\n    [TwoFactorProviderType.Yubikey]: {\n        type: TwoFactorProviderType.Yubikey,\n        name: null as string,\n        description: null as string,\n        priority: 3,\n        sort: 2,\n        premium: true,\n    },\n    [TwoFactorProviderType.Duo]: {\n        type: TwoFactorProviderType.Duo,\n        name: 'Duo',\n        description: null as string,\n        priority: 2,\n        sort: 3,\n        premium: true,\n    },\n    [TwoFactorProviderType.OrganizationDuo]: {\n        type: TwoFactorProviderType.OrganizationDuo,\n        name: 'Duo (Organization)',\n        description: null as string,\n        priority: 10,\n        sort: 4,\n        premium: false,\n    },\n    [TwoFactorProviderType.Email]: {\n        type: TwoFactorProviderType.Email,\n        name: null as string,\n        description: null as string,\n        priority: 0,\n        sort: 6,\n        premium: false,\n    },\n    [TwoFactorProviderType.WebAuthn]: {\n        type: TwoFactorProviderType.WebAuthn,\n        name: null as string,\n        description: null as string,\n        priority: 4,\n        sort: 5,\n        premium: true,\n    },\n};\n\nexport class AuthService implements AuthServiceAbstraction {\n    email: string;\n    masterPasswordHash: string;\n    code: string;\n    codeVerifier: string;\n    ssoRedirectUrl: string;\n    clientId: string;\n    clientSecret: string;\n    twoFactorProvidersData: Map<TwoFactorProviderType, { [key: string]: string; }>;\n    selectedTwoFactorProviderType: TwoFactorProviderType = null;\n\n    private key: SymmetricCryptoKey;\n\n    constructor(private cryptoService: CryptoService, private apiService: ApiService,\n        private userService: UserService, private tokenService: TokenService,\n        private appIdService: AppIdService, private i18nService: I18nService,\n        private platformUtilsService: PlatformUtilsService, private messagingService: MessagingService,\n        private vaultTimeoutService: VaultTimeoutService, private logService: LogService,\n        private setCryptoKeys = true) {\n    }\n\n    init() {\n        TwoFactorProviders[TwoFactorProviderType.Email].name = this.i18nService.t('emailTitle');\n        TwoFactorProviders[TwoFactorProviderType.Email].description = this.i18nService.t('emailDesc');\n\n        TwoFactorProviders[TwoFactorProviderType.Authenticator].name = this.i18nService.t('authenticatorAppTitle');\n        TwoFactorProviders[TwoFactorProviderType.Authenticator].description =\n            this.i18nService.t('authenticatorAppDesc');\n\n        TwoFactorProviders[TwoFactorProviderType.Duo].description = this.i18nService.t('duoDesc');\n\n        TwoFactorProviders[TwoFactorProviderType.OrganizationDuo].name =\n            'Duo (' + this.i18nService.t('organization') + ')';\n        TwoFactorProviders[TwoFactorProviderType.OrganizationDuo].description =\n            this.i18nService.t('duoOrganizationDesc');\n\n        TwoFactorProviders[TwoFactorProviderType.WebAuthn].name = this.i18nService.t('webAuthnTitle');\n        TwoFactorProviders[TwoFactorProviderType.WebAuthn].description = this.i18nService.t('webAuthnDesc');\n\n        TwoFactorProviders[TwoFactorProviderType.Yubikey].name = this.i18nService.t('yubiKeyTitle');\n        TwoFactorProviders[TwoFactorProviderType.Yubikey].description = this.i18nService.t('yubiKeyDesc');\n    }\n\n    async logIn(email: string, masterPassword: string): Promise<AuthResult> {\n        this.selectedTwoFactorProviderType = null;\n        const key = await this.makePreloginKey(masterPassword, email);\n        const hashedPassword = await this.cryptoService.hashPassword(masterPassword, key);\n        return await this.logInHelper(email, hashedPassword, null, null, null, null, null,\n            key, null, null, null);\n    }\n\n    async logInSso(code: string, codeVerifier: string, redirectUrl: string): Promise<AuthResult> {\n        this.selectedTwoFactorProviderType = null;\n        return await this.logInHelper(null, null, code, codeVerifier, redirectUrl, null, null,\n            null, null, null, null);\n    }\n\n    async logInApiKey(clientId: string, clientSecret: string): Promise<AuthResult> {\n        this.selectedTwoFactorProviderType = null;\n        return await this.logInHelper(null, null, null, null, null, clientId, clientSecret,\n            null, null, null, null);\n    }\n\n    async logInTwoFactor(twoFactorProvider: TwoFactorProviderType, twoFactorToken: string,\n        remember?: boolean): Promise<AuthResult> {\n        return await this.logInHelper(this.email, this.masterPasswordHash, this.code, this.codeVerifier,\n            this.ssoRedirectUrl, this.clientId, this.clientSecret, this.key, twoFactorProvider,\n            twoFactorToken, remember);\n    }\n\n    async logInComplete(email: string, masterPassword: string, twoFactorProvider: TwoFactorProviderType,\n        twoFactorToken: string, remember?: boolean): Promise<AuthResult> {\n        this.selectedTwoFactorProviderType = null;\n        const key = await this.makePreloginKey(masterPassword, email);\n        const hashedPassword = await this.cryptoService.hashPassword(masterPassword, key);\n        return await this.logInHelper(email, hashedPassword, null, null, null, null, null, key,\n            twoFactorProvider, twoFactorToken, remember);\n    }\n\n    async logInSsoComplete(code: string, codeVerifier: string, redirectUrl: string,\n        twoFactorProvider: TwoFactorProviderType, twoFactorToken: string, remember?: boolean): Promise<AuthResult> {\n        this.selectedTwoFactorProviderType = null;\n        return await this.logInHelper(null, null, code, codeVerifier, redirectUrl, null,\n            null, null, twoFactorProvider, twoFactorToken, remember);\n    }\n\n    async logInApiKeyComplete(clientId: string, clientSecret: string, twoFactorProvider: TwoFactorProviderType,\n        twoFactorToken: string, remember?: boolean): Promise<AuthResult> {\n        this.selectedTwoFactorProviderType = null;\n        return await this.logInHelper(null, null, null, null, null, clientId, clientSecret, null,\n            twoFactorProvider, twoFactorToken, remember);\n    }\n\n    logOut(callback: Function) {\n        callback();\n        this.messagingService.send('loggedOut');\n    }\n\n    getSupportedTwoFactorProviders(win: Window): any[] {\n        const providers: any[] = [];\n        if (this.twoFactorProvidersData == null) {\n            return providers;\n        }\n\n        if (this.twoFactorProvidersData.has(TwoFactorProviderType.OrganizationDuo) &&\n            this.platformUtilsService.supportsDuo()) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.OrganizationDuo]);\n        }\n\n        if (this.twoFactorProvidersData.has(TwoFactorProviderType.Authenticator)) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.Authenticator]);\n        }\n\n        if (this.twoFactorProvidersData.has(TwoFactorProviderType.Yubikey)) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.Yubikey]);\n        }\n\n        if (this.twoFactorProvidersData.has(TwoFactorProviderType.Duo) && this.platformUtilsService.supportsDuo()) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.Duo]);\n        }\n\n        if (this.twoFactorProvidersData.has(TwoFactorProviderType.WebAuthn) && this.platformUtilsService.supportsWebAuthn(win)) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.WebAuthn]);\n        }\n\n        if (this.twoFactorProvidersData.has(TwoFactorProviderType.Email)) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.Email]);\n        }\n\n        return providers;\n    }\n\n    getDefaultTwoFactorProvider(webAuthnSupported: boolean): TwoFactorProviderType {\n        if (this.twoFactorProvidersData == null) {\n            return null;\n        }\n\n        if (this.selectedTwoFactorProviderType != null &&\n            this.twoFactorProvidersData.has(this.selectedTwoFactorProviderType)) {\n            return this.selectedTwoFactorProviderType;\n        }\n\n        let providerType: TwoFactorProviderType = null;\n        let providerPriority = -1;\n        this.twoFactorProvidersData.forEach((value, type) => {\n            const provider = (TwoFactorProviders as any)[type];\n            if (provider != null && provider.priority > providerPriority) {\n                if (type === TwoFactorProviderType.WebAuthn && !webAuthnSupported) {\n                    return;\n                }\n\n                providerType = type;\n                providerPriority = provider.priority;\n            }\n        });\n\n        return providerType;\n    }\n\n    async makePreloginKey(masterPassword: string, email: string): Promise<SymmetricCryptoKey> {\n        email = email.trim().toLowerCase();\n        let kdf: KdfType = null;\n        let kdfIterations: number = null;\n        try {\n            const preloginResponse = await this.apiService.postPrelogin(new PreloginRequest(email));\n            if (preloginResponse != null) {\n                kdf = preloginResponse.kdf;\n                kdfIterations = preloginResponse.kdfIterations;\n            }\n        } catch (e) {\n            if (e == null || e.statusCode !== 404) {\n                throw e;\n            }\n        }\n        return this.cryptoService.makeKey(masterPassword, email, kdf, kdfIterations);\n    }\n\n    authingWithApiKey(): boolean {\n        return this.clientId != null && this.clientSecret != null;\n    }\n\n    authingWithSso(): boolean {\n        return this.code != null && this.codeVerifier != null && this.ssoRedirectUrl != null;\n    }\n\n    authingWithPassword(): boolean {\n        return this.email != null && this.masterPasswordHash != null;\n    }\n\n    private async logInHelper(email: string, hashedPassword: string, code: string, codeVerifier: string,\n        redirectUrl: string, clientId: string, clientSecret: string, key: SymmetricCryptoKey,\n        twoFactorProvider?: TwoFactorProviderType, twoFactorToken?: string, remember?: boolean): Promise<AuthResult> {\n        const storedTwoFactorToken = await this.tokenService.getTwoFactorToken(email);\n        const appId = await this.appIdService.getAppId();\n        const deviceRequest = new DeviceRequest(appId, this.platformUtilsService);\n\n        let emailPassword: string[] = [];\n        let codeCodeVerifier: string[] = [];\n        let clientIdClientSecret: string[] = [];\n\n        if (email != null && hashedPassword != null) {\n            emailPassword = [email, hashedPassword];\n        } else {\n            emailPassword = null;\n        }\n        if (code != null && codeVerifier != null && redirectUrl != null) {\n            codeCodeVerifier = [code, codeVerifier, redirectUrl];\n        } else {\n            codeCodeVerifier = null;\n        }\n        if (clientId != null && clientSecret != null) {\n            clientIdClientSecret = [clientId, clientSecret];\n        } else {\n            clientIdClientSecret = null;\n        }\n\n        let request: TokenRequest;\n        if (twoFactorToken != null && twoFactorProvider != null) {\n            request = new TokenRequest(emailPassword, codeCodeVerifier, clientIdClientSecret, twoFactorProvider,\n                twoFactorToken, remember, deviceRequest);\n        } else if (storedTwoFactorToken != null) {\n            request = new TokenRequest(emailPassword, codeCodeVerifier, clientIdClientSecret, TwoFactorProviderType.Remember,\n                storedTwoFactorToken, false, deviceRequest);\n        } else {\n            request = new TokenRequest(emailPassword, codeCodeVerifier, clientIdClientSecret, null,\n                null, false, deviceRequest);\n        }\n\n        const response = await this.apiService.postIdentityToken(request);\n\n        this.clearState();\n        const result = new AuthResult();\n        result.twoFactor = !(response as any).accessToken;\n\n        if (result.twoFactor) {\n            // two factor required\n            const twoFactorResponse = response as IdentityTwoFactorResponse;\n            this.email = email;\n            this.masterPasswordHash = hashedPassword;\n            this.code = code;\n            this.codeVerifier = codeVerifier;\n            this.ssoRedirectUrl = redirectUrl;\n            this.clientId = clientId;\n            this.clientSecret = clientSecret;\n            this.key = this.setCryptoKeys ? key : null;\n            this.twoFactorProvidersData = twoFactorResponse.twoFactorProviders2;\n            result.twoFactorProviders = twoFactorResponse.twoFactorProviders2;\n            return result;\n        }\n\n        const tokenResponse = response as IdentityTokenResponse;\n        result.resetMasterPassword = tokenResponse.resetMasterPassword;\n        if (tokenResponse.twoFactorToken != null) {\n            await this.tokenService.setTwoFactorToken(tokenResponse.twoFactorToken, email);\n        }\n\n        await this.tokenService.setTokens(tokenResponse.accessToken, tokenResponse.refreshToken);\n        await this.userService.setInformation(this.tokenService.getUserId(), this.tokenService.getEmail(),\n            tokenResponse.kdf, tokenResponse.kdfIterations);\n        if (this.setCryptoKeys) {\n            if (key != null) {\n                await this.cryptoService.setKey(key);\n            }\n            if (hashedPassword != null) {\n                await this.cryptoService.setKeyHash(hashedPassword);\n            }\n\n            // Skip this step during SSO new user flow. No key is returned from server.\n            if (code == null || tokenResponse.key != null) {\n                await this.cryptoService.setEncKey(tokenResponse.key);\n\n                // User doesn't have a key pair yet (old account), let's generate one for them\n                if (tokenResponse.privateKey == null) {\n                    try {\n                        const keyPair = await this.cryptoService.makeKeyPair();\n                        await this.apiService.postAccountKeys(new KeysRequest(keyPair[0], keyPair[1].encryptedString));\n                        tokenResponse.privateKey = keyPair[1].encryptedString;\n                    } catch (e) {\n                        // tslint:disable-next-line\n                        this.logService.error(e);\n                    }\n                }\n\n                await this.cryptoService.setEncPrivateKey(tokenResponse.privateKey);\n            }\n        }\n\n        if (this.vaultTimeoutService != null) {\n            this.vaultTimeoutService.biometricLocked = false;\n        }\n        this.messagingService.send('loggedIn');\n        return result;\n    }\n\n    private clearState(): void {\n        this.key = null;\n        this.email = null;\n        this.masterPasswordHash = null;\n        this.code = null;\n        this.codeVerifier = null;\n        this.ssoRedirectUrl = null;\n        this.clientId = null;\n        this.clientSecret = null;\n        this.twoFactorProvidersData = null;\n        this.selectedTwoFactorProviderType = null;\n    }\n}\n","export class SelectionReadOnlyRequest {\n    id: string;\n    readOnly: boolean;\n    hidePasswords: boolean;\n\n    constructor(id: string, readOnly: boolean, hidePasswords: boolean) {\n        this.id = id;\n        this.readOnly = readOnly;\n        this.hidePasswords = hidePasswords;\n    }\n}\n","export enum DeviceType {\n    Android = 0,\n    iOS = 1,\n    ChromeExtension = 2,\n    FirefoxExtension = 3,\n    OperaExtension = 4,\n    EdgeExtension = 5,\n    WindowsDesktop = 6,\n    MacOsDesktop = 7,\n    LinuxDesktop = 8,\n    ChromeBrowser = 9,\n    FirefoxBrowser = 10,\n    OperaBrowser = 11,\n    EdgeBrowser = 12,\n    IEBrowser = 13,\n    UnknownBrowser = 14,\n    AndroidAmazon = 15,\n    UWP = 16,\n    SafariBrowser = 17,\n    VivaldiBrowser = 18,\n    VivaldiExtension = 19,\n    SafariExtension = 20,\n}\n","export abstract class SettingsService {\n    clearCache: () => void;\n    getEquivalentDomains: () => Promise<any>;\n    setEquivalentDomains: (equivalentDomains: string[][]) => Promise<any>;\n    clear: (userId: string) => Promise<void>;\n}\n","export enum PlanType {\n    Free = 0,\n    FamiliesAnnually2019 = 1,\n    TeamsMonthly2019 = 2,\n    TeamsAnnually2019 = 3,\n    EnterpriseMonthly2019 = 4,\n    EnterpriseAnnually2019 = 5,\n    Custom = 6,\n    FamiliesAnnually = 7,\n    TeamsMonthly = 8,\n    TeamsAnnually = 9,\n    EnterpriseMonthly = 10,\n    EnterpriseAnnually = 11,\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n    ViewChild,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { PaymentMethodType } from 'jslib/enums/paymentMethodType';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { PaymentComponent } from './payment.component';\nimport { TaxInfoComponent } from './tax-info.component';\n\nimport { OrganizationUserStatusType } from 'jslib/enums/organizationUserStatusType';\nimport { OrganizationUserType } from 'jslib/enums/organizationUserType';\nimport { PlanType } from 'jslib/enums/planType';\nimport { PolicyType } from 'jslib/enums/policyType';\nimport { ProductType } from 'jslib/enums/productType';\n\nimport { OrganizationCreateRequest } from 'jslib/models/request/organizationCreateRequest';\nimport { OrganizationUpgradeRequest } from 'jslib/models/request/organizationUpgradeRequest';\nimport { PlanResponse } from 'jslib/models/response/planResponse';\n\n@Component({\n    selector: 'app-organization-plans',\n    templateUrl: 'organization-plans.component.html',\n})\nexport class OrganizationPlansComponent implements OnInit {\n    @ViewChild(PaymentComponent) paymentComponent: PaymentComponent;\n    @ViewChild(TaxInfoComponent) taxComponent: TaxInfoComponent;\n\n    @Input() organizationId: string;\n    @Input() showFree = true;\n    @Input() showCancel = false;\n    @Input() product: ProductType = ProductType.Free;\n    @Input() plan: PlanType = PlanType.Free;\n    @Output() onSuccess = new EventEmitter();\n    @Output() onCanceled = new EventEmitter();\n\n    loading: boolean = true;\n    selfHosted: boolean = false;\n    ownedBusiness: boolean = false;\n    premiumAccessAddon: boolean = false;\n    additionalStorage: number = 0;\n    additionalSeats: number = 0;\n    name: string;\n    billingEmail: string;\n    businessName: string;\n    productTypes = ProductType;\n    formPromise: Promise<any>;\n    singleOrgPolicyBlock: boolean = false;\n    freeTrial: boolean = false;\n\n    plans: PlanResponse[];\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, platformUtilsService: PlatformUtilsService,\n        private cryptoService: CryptoService, private router: Router, private syncService: SyncService,\n        private policyService: PolicyService, private userService: UserService) {\n        this.selfHosted = platformUtilsService.isSelfHost();\n    }\n\n    async ngOnInit() {\n        if (!this.selfHosted) {\n            const plans = await this.apiService.getPlans();\n            this.plans = plans.data;\n            if (this.product === ProductType.Enterprise || this.product === ProductType.Teams) {\n                this.ownedBusiness = true;\n            }\n        }\n        this.loading = false;\n    }\n\n    get createOrganization() {\n        return this.organizationId == null;\n    }\n\n    get selectedPlan() {\n        return this.plans.find(plan => plan.type === this.plan);\n    }\n\n    get selectedPlanInterval() {\n        return this.selectedPlan.isAnnual\n            ? 'year'\n            : 'month';\n    }\n\n    get selectableProducts() {\n        let validPlans = this.plans.filter(plan => plan.type !== PlanType.Custom);\n\n        if (this.ownedBusiness) {\n            validPlans = validPlans.filter(plan => plan.canBeUsedByBusiness);\n        }\n\n        if (!this.showFree) {\n            validPlans = validPlans.filter(plan => plan.product !== ProductType.Free);\n        }\n\n        validPlans = validPlans\n            .filter(plan => !plan.legacyYear\n                && !plan.disabled\n                && (plan.isAnnual || plan.product === this.productTypes.Free));\n\n        return validPlans;\n    }\n\n    get selectablePlans() {\n        return this.plans.filter(plan => !plan.legacyYear && !plan.disabled && plan.product === this.product);\n    }\n\n    additionalStoragePriceMonthly(selectedPlan: PlanResponse) {\n        if (!selectedPlan.isAnnual) {\n            return selectedPlan.additionalStoragePricePerGb;\n        }\n        return selectedPlan.additionalStoragePricePerGb / 12;\n    }\n\n    seatPriceMonthly(selectedPlan: PlanResponse) {\n        if (!selectedPlan.isAnnual) {\n            return selectedPlan.seatPrice;\n        }\n        return selectedPlan.seatPrice / 12;\n    }\n\n    additionalStorageTotal(plan: PlanResponse): number {\n        if (!plan.hasAdditionalStorageOption) {\n            return 0;\n        }\n\n        return plan.additionalStoragePricePerGb * Math.abs(this.additionalStorage || 0);\n    }\n\n    seatTotal(plan: PlanResponse): number {\n        if (!plan.hasAdditionalSeatsOption) {\n            return 0;\n        }\n\n        return plan.seatPrice * Math.abs(this.additionalSeats || 0);\n    }\n\n    get subtotal() {\n        let subTotal = this.selectedPlan.basePrice;\n        if (this.selectedPlan.hasAdditionalSeatsOption && this.additionalSeats) {\n            subTotal += this.seatTotal(this.selectedPlan);\n        }\n        if (this.selectedPlan.hasAdditionalStorageOption && this.additionalStorage) {\n            subTotal += this.additionalStorageTotal(this.selectedPlan);\n        }\n        if (this.selectedPlan.hasPremiumAccessOption && this.premiumAccessAddon) {\n            subTotal += this.selectedPlan.premiumAccessOptionPrice;\n        }\n        return subTotal;\n    }\n\n    get taxCharges() {\n        return this.taxComponent != null && this.taxComponent.taxRate != null ?\n            (this.taxComponent.taxRate / 100) * this.subtotal :\n            0;\n    }\n\n    get total() {\n        return (this.subtotal + this.taxCharges) || 0;\n    }\n\n    changedProduct() {\n        this.plan = this.selectablePlans[0].type;\n        if (!this.selectedPlan.hasPremiumAccessOption) {\n            this.premiumAccessAddon = false;\n        }\n        if (!this.selectedPlan.hasAdditionalStorageOption) {\n            this.additionalStorage = 0;\n        }\n        if (!this.selectedPlan.hasAdditionalSeatsOption) {\n            this.additionalSeats = 0;\n        } else if (!this.additionalSeats && !this.selectedPlan.baseSeats &&\n            this.selectedPlan.hasAdditionalSeatsOption) {\n            this.additionalSeats = 1;\n        }\n        this.freeTrial = this.selectedPlan.trialPeriodDays != null;\n    }\n\n    changedOwnedBusiness() {\n        if (!this.ownedBusiness || this.selectedPlan.canBeUsedByBusiness) {\n            return;\n        }\n        this.product = ProductType.Teams;\n        this.plan = PlanType.TeamsAnnually;\n    }\n\n    changedCountry() {\n        this.paymentComponent.hideBank = this.taxComponent.taxInfo.country !== 'US';\n        // Bank Account payments are only available for US customers\n        if (this.paymentComponent.hideBank &&\n            this.paymentComponent.method === PaymentMethodType.BankAccount) {\n            this.paymentComponent.method = PaymentMethodType.Card;\n            this.paymentComponent.changeMethod();\n        }\n    }\n\n    cancel() {\n        this.onCanceled.emit();\n    }\n\n    async submit() {\n        if (this.singleOrgPolicyBlock) {\n            return;\n        } else {\n            const policies = await this.policyService.getAll(PolicyType.SingleOrg);\n            const orgs = await this.userService.getAllOrganizations();\n\n            const orgsWithSingleOrgPolicy = policies\n                .filter(p => p.enabled && p.type === PolicyType.SingleOrg)\n                .map(p => p.organizationId);\n\n            this.singleOrgPolicyBlock = orgs.some(org =>\n                org.type !== OrganizationUserType.Owner &&\n                org.type !== OrganizationUserType.Admin &&\n                org.status !== OrganizationUserStatusType.Invited &&\n                orgsWithSingleOrgPolicy.includes(org.id));\n\n            if (this.singleOrgPolicyBlock) {\n                return;\n            }\n        }\n\n        let files: FileList = null;\n        if (this.createOrganization && this.selfHosted) {\n            const fileEl = document.getElementById('file') as HTMLInputElement;\n            files = fileEl.files;\n            if (files == null || files.length === 0) {\n                this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                    this.i18nService.t('selectFile'));\n                return;\n            }\n        }\n\n        try {\n            const doSubmit = async () => {\n                let orgId: string = null;\n                if (this.createOrganization) {\n                    let tokenResult: [string, PaymentMethodType] = null;\n                    if (!this.selfHosted && this.plan !== PlanType.Free) {\n                        tokenResult = await this.paymentComponent.createPaymentToken();\n                    }\n                    const shareKey = await this.cryptoService.makeShareKey();\n                    const key = shareKey[0].encryptedString;\n                    const collection = await this.cryptoService.encrypt(\n                        this.i18nService.t('defaultCollection'), shareKey[1]);\n                    const collectionCt = collection.encryptedString;\n\n                    if (this.selfHosted) {\n                        const fd = new FormData();\n                        fd.append('license', files[0]);\n                        fd.append('key', key);\n                        fd.append('collectionName', collectionCt);\n                        const response = await this.apiService.postOrganizationLicense(fd);\n                        orgId = response.id;\n                    } else {\n                        const request = new OrganizationCreateRequest();\n                        request.key = key;\n                        request.collectionName = collectionCt;\n                        request.name = this.name;\n                        request.billingEmail = this.billingEmail;\n\n                        if (this.selectedPlan.type === PlanType.Free) {\n                            request.planType = PlanType.Free;\n                        } else {\n                            request.paymentToken = tokenResult[0];\n                            request.paymentMethodType = tokenResult[1];\n                            request.businessName = this.ownedBusiness ? this.businessName : null;\n                            request.additionalSeats = this.additionalSeats;\n                            request.additionalStorageGb = this.additionalStorage;\n                            request.premiumAccessAddon = this.selectedPlan.hasPremiumAccessOption &&\n                                this.premiumAccessAddon;\n                            request.planType = this.selectedPlan.type;\n                            request.billingAddressPostalCode = this.taxComponent.taxInfo.postalCode;\n                            request.billingAddressCountry = this.taxComponent.taxInfo.country;\n                            if (this.taxComponent.taxInfo.includeTaxId) {\n                                request.taxIdNumber = this.taxComponent.taxInfo.taxId;\n                                request.billingAddressLine1 = this.taxComponent.taxInfo.line1;\n                                request.billingAddressLine2 = this.taxComponent.taxInfo.line2;\n                                request.billingAddressCity = this.taxComponent.taxInfo.city;\n                                request.billingAddressState = this.taxComponent.taxInfo.state;\n                            }\n                        }\n                        const response = await this.apiService.postOrganization(request);\n                        orgId = response.id;\n                    }\n                } else {\n                    const request = new OrganizationUpgradeRequest();\n                    request.businessName = this.ownedBusiness ? this.businessName : null;\n                    request.additionalSeats = this.additionalSeats;\n                    request.additionalStorageGb = this.additionalStorage;\n                    request.premiumAccessAddon = this.selectedPlan.hasPremiumAccessOption &&\n                        this.premiumAccessAddon;\n                    request.planType = this.selectedPlan.type;\n                    request.billingAddressCountry = this.taxComponent.taxInfo.country;\n                    request.billingAddressPostalCode = this.taxComponent.taxInfo.postalCode;\n\n                    const result = await this.apiService.postOrganizationUpgrade(this.organizationId, request);\n                    if (!result.success && result.paymentIntentClientSecret != null) {\n                        await this.paymentComponent.handleStripeCardPayment(result.paymentIntentClientSecret, null);\n                    }\n                    orgId = this.organizationId;\n                }\n\n                if (orgId != null) {\n                    await this.apiService.refreshIdentityToken();\n                    await this.syncService.fullSync(true);\n                    if (this.createOrganization) {\n                        this.toasterService.popAsync('success',\n                            this.i18nService.t('organizationCreated'), this.i18nService.t('organizationReadyToGo'));\n                    } else {\n                        this.toasterService.popAsync('success', null, this.i18nService.t('organizationUpgraded'));\n                    }\n                    this.router.navigate(['/organizations/' + orgId]);\n                }\n            };\n\n            this.formPromise = doSubmit();\n            await this.formPromise;\n            this.onSuccess.emit();\n        } catch { }\n    }\n\n}\n","<ng-container *ngIf=\"loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</ng-container>\n<ng-container *ngIf=\"createOrganization && selfHosted\">\n    <p>{{'uploadLicenseFileOrg' | i18n}}</p>\n    <form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n        <div class=\"form-group\">\n            <label for=\"file\">{{'licenseFile' | i18n}}</label>\n            <input type=\"file\" id=\"file\" class=\"form-control-file\" name=\"file\" required>\n            <small\n                class=\"form-text text-muted\">{{'licenseFileDesc' | i18n : 'bitwarden_organization_license.json'}}</small>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'submit' | i18n}}</span>\n        </button>\n    </form>\n</ng-container>\n<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate\n    *ngIf=\"!loading && !selfHosted && this.plans\">\n    <h2 class=\"mt-5\">{{'generalInformation' | i18n}}</h2>\n    <div class=\"row\" *ngIf=\"createOrganization\">\n        <div class=\"form-group col-6\">\n            <label for=\"name\">{{'organizationName' | i18n}}</label>\n            <input id=\"name\" class=\"form-control\" type=\"text\" name=\"Name\" [(ngModel)]=\"name\" required>\n        </div>\n        <div class=\"form-group col-6\">\n            <label for=\"billingEmail\">{{'billingEmail' | i18n}}</label>\n            <input id=\"billingEmail\" class=\"form-control\" type=\"text\" name=\"BillingEmail\" [(ngModel)]=\"billingEmail\"\n                required>\n        </div>\n    </div>\n    <div class=\"form-group form-check\">\n        <input id=\"ownedBusiness\" class=\"form-check-input\" type=\"checkbox\" name=\"OwnedBusiness\"\n            [(ngModel)]=\"ownedBusiness\" (change)=\"changedOwnedBusiness()\">\n        <label for=\"ownedBusiness\" class=\"form-check-label\">{{'accountOwnedBusiness' | i18n}}</label>\n    </div>\n    <div class=\"row\" *ngIf=\"ownedBusiness\">\n        <div class=\"form-group col-6\">\n            <label for=\"businessName\">{{'businessName' | i18n}}</label>\n            <input id=\"businessName\" class=\"form-control\" type=\"text\" name=\"BusinessName\" [(ngModel)]=\"businessName\">\n        </div>\n    </div>\n    <h2 class=\"mt-5\">{{'chooseYourPlan' | i18n}}</h2>\n    <div *ngFor=\"let selectableProduct of selectableProducts\" class=\"form-check form-check-block\">\n        <input class=\"form-check-input\" type=\"radio\" name=\"product\" id=\"product{{selectableProduct.product}}\"\n            [value]=\"selectableProduct.product\" [(ngModel)]=\"product\" (change)=\"changedProduct()\">\n        <label class=\"form-check-label\" for=\"product{{selectableProduct.product}}\">\n            {{ selectableProduct.nameLocalizationKey | i18n}}\n            <small class=\"mb-1\">{{ selectableProduct.descriptionLocalizationKey | i18n : '1'}}</small>\n            <ng-container *ngIf=\"selectableProduct.product === productTypes.Enterprise; else fullFeatureList\">\n                <small> {{'includeAllTeamsFeatures' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.hasSelfHost\"> {{'onPremHostingOptional' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.hasSso\"> {{'includeSsoAuthentication' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.hasPolicies\"> {{'includeEnterprisePolicies' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.trialPeriodDays && createOrganization\">\n                    {{'xDayFreeTrial' | i18n : selectableProduct.trialPeriodDays }}\n                </small>\n            </ng-container>\n            <ng-template #fullFeatureList>\n                <small *ngIf=\"selectableProduct.product == productTypes.Free\">\n                    {{'limitedUsers' | i18n : selectableProduct.maxUsers }}</small>\n                <small *ngIf=\"selectableProduct.product != productTypes.Free && selectableProduct.maxUsers\">\n                    {{'addShareLimitedUsers' | i18n : selectableProduct.maxUsers}}</small>\n                <small *ngIf=\"!selectableProduct.maxUsers\">\n                    {{'addShareUnlimitedUsers' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.maxCollections\">\n                    {{'limitedCollections' | i18n : selectableProduct.maxCollections }}</small>\n                <small *ngIf=\"selectableProduct.maxAdditionalSeats\">\n                    {{'addShareLimitedUsers' | i18n : selectableProduct.maxAdditionalSeats }}</small>\n                <small *ngIf=\"!selectableProduct.maxCollections\"> {{'createUnlimitedCollections' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.baseStorageGb\">\n                    {{'gbEncryptedFileStorage' | i18n : selectableProduct.baseStorageGb + 'GB'}}</small>\n                <small *ngIf=\"selectableProduct.hasGroups\"> {{'controlAccessWithGroups' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.hasApi\"> {{'trackAuditLogs' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.hasDirectory\"> {{'syncUsersFromDirectory' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.hasSelfHost\"> {{'onPremHostingOptional' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.usersGetPremium\"> {{'usersGetPremium' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.product != productTypes.Free\">\n                    {{'priorityCustomerSupport' | i18n}}</small>\n                <small *ngIf=\"selectableProduct.trialPeriodDays && createOrganization\">\n                    {{'xDayFreeTrial' | i18n : selectableProduct.trialPeriodDays }}\n                </small>\n            </ng-template>\n            <span *ngIf=\"selectableProduct.product != productTypes.Free\">\n                <ng-container *ngIf=\"selectableProduct.basePrice\">\n                    {{selectableProduct.basePrice / 12 | currency:'$'}} /{{'month' | i18n}},\n                    {{'includesXUsers' | i18n : selectableProduct.baseSeats}}\n                    <ng-container *ngIf=\"selectableProduct.hasAdditionalSeatsOption\">\n                        {{('additionalUsers' | i18n).toLowerCase()}}\n                        {{selectableProduct.seatPrice  / 12 | currency:'$'}} /{{'month' | i18n}}\n                    </ng-container>\n                </ng-container>\n            </span>\n            <span *ngIf=\"!selectableProduct.basePrice && selectableProduct.hasAdditionalSeatsOption\">\n                {{'costPerUser' | i18n : (selectableProduct.seatPrice / 12 | currency:'$')}} /{{'month' | i18n}}\n            </span>\n            <span *ngIf=\"selectableProduct.product == productTypes.Free\">{{'freeForever' | i18n}}</span>\n        </label>\n    </div>\n    <div *ngIf=\"product !== productTypes.Free\">\n        <ng-container *ngIf=\"selectedPlan.hasAdditionalSeatsOption && !selectedPlan.baseSeats\">\n            <h2 class=\"mt-5\">{{'users' | i18n}}</h2>\n            <div class=\"row\">\n                <div class=\"col-6\">\n                    <label for=\"additionalSeats\">{{'userSeats' | i18n}}</label>\n                    <input id=\"additionalSeats\" class=\"form-control\" type=\"number\" name=\"AdditionalSeats\"\n                        [(ngModel)]=\"additionalSeats\" min=\"1\" max=\"100000\" placeholder=\"{{'userSeatsDesc' | i18n}}\"\n                        required>\n                    <small class=\"text-muted form-text\">{{'userSeatsHowManyDesc' | i18n}}</small>\n                </div>\n            </div>\n        </ng-container>\n        <h2 class=\"mt-5\">{{'addons' | i18n}}</h2>\n        <div class=\"row\" *ngIf=\"selectedPlan.hasAdditionalSeatsOption && selectedPlan.baseSeats\">\n            <div class=\"form-group col-6\">\n                <label for=\"additionalSeats\">{{'additionalUserSeats' | i18n}}</label>\n                <input id=\"additionalSeats\" class=\"form-control\" type=\"number\" name=\"AdditionalSeats\"\n                    [(ngModel)]=\"additionalSeats\" min=\"0\" max=\"100000\" placeholder=\"{{'userSeatsDesc' | i18n}}\">\n                <small\n                    class=\"text-muted form-text\">{{'userSeatsAdditionalDesc' | i18n : selectedPlan.baseSeats : (seatPriceMonthly(selectedPlan) | currency:'$')}}</small>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"form-group col-6\">\n                <label for=\"additionalStorage\">{{'additionalStorageGb' | i18n}}</label>\n                <input id=\"additionalStorage\" class=\"form-control\" type=\"number\" name=\"AdditionalStorageGb\"\n                    [(ngModel)]=\"additionalStorage\" min=\"0\" max=\"99\" step=\"1\"\n                    placeholder=\"{{'additionalStorageGbDesc' | i18n}}\">\n                <small\n                    class=\"text-muted form-text\">{{'additionalStorageIntervalDesc' | i18n : '1 GB' : (additionalStoragePriceMonthly(selectedPlan) | currency:'$') : ('month' | i18n)}}</small>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"form-group col-6\" *ngIf=\"selectedPlan.hasPremiumAccessOption\">\n                <div class=\"form-check\">\n                    <input id=\"premiumAccess\" class=\"form-check-input\" type=\"checkbox\" name=\"PremiumAccessAddon\"\n                        [(ngModel)]=\"premiumAccessAddon\">\n                    <label for=\"premiumAccess\" class=\"form-check-label bold\">{{'premiumAccess' | i18n}}</label>\n                </div>\n                <small\n                    class=\"text-muted form-text\">{{'premiumAccessDesc' | i18n : (3.33 | currency:'$') : ('month' | i18n)}}</small>\n            </div>\n        </div>\n        <h2 class=\"spaced-header\">{{'summary' | i18n}}</h2>\n        <div class=\"form-check form-check-block\" *ngFor=\"let selectablePlan of selectablePlans\">\n            <input class=\"form-check-input\" type=\"radio\" name=\"BillingInterval\" id=\"interval{{selectablePlan.type}}\"\n                [value]=\"selectablePlan.type\" [(ngModel)]=\"plan\">\n            <label class=\"form-check-label\" for=\"interval{{selectablePlan.type}}\">\n                <ng-container *ngIf=\"selectablePlan.isAnnual\">\n                    {{'annually' | i18n}}\n                    <small *ngIf=\"selectablePlan.basePrice\">\n                        {{'basePrice' | i18n}}: {{ selectablePlan.basePrice / 12 | currency:'$'}} &times; 12\n                        {{'monthAbbr' | i18n}}\n                        =\n                        {{selectablePlan.basePrice | currency:'$'}}\n                        /{{'year' | i18n}}\n                    </small>\n                    <small *ngIf=\"selectablePlan.hasAdditionalSeatsOption\">\n                        <span *ngIf=\"selectablePlan.baseSeats\">{{'additionalUsers' | i18n}}:</span>\n                        <span *ngIf=\"!selectablePlan.baseSeats\">{{'users' | i18n}}:</span>\n                        {{additionalSeats || 0}} &times; {{selectablePlan.seatPrice / 12 | currency:'$'}} &times; 12\n                        {{'monthAbbr' | i18n}} = {{seatTotal(selectablePlan)\n                    | currency:'$'}} /{{'year' | i18n}}\n                    </small>\n                    <small *ngIf=\"selectablePlan.hasAdditionalStorageOption\">\n                        {{'additionalStorageGb' | i18n}}: {{additionalStorage || 0}} &times;\n                        {{selectablePlan.additionalStoragePricePerGb / 12 | currency:'$'}} &times; 12 {{'monthAbbr'\n                        | i18n}} = {{additionalStorageTotal(selectablePlan) | currency:'$'}}\n                        /{{'year' | i18n}}\n                    </small>\n                    <small *ngIf=\"selectablePlan.hasPremiumAccessOption && premiumAccessAddon\">\n                        {{'premiumAccess' | i18n}}:\n                        {{selectablePlan.premiumAccessOptionCost / 12 | currency:'$'}} &times; 12 {{'monthAbbr' | i18n}}\n                        =\n                        {{40 | currency:'$'}}\n                        /{{'year' | i18n}}\n                    </small>\n                </ng-container>\n                <ng-container *ngIf=\"!selectablePlan.isAnnual\">\n                    {{'monthly' | i18n}}\n                    <small *ngIf=\"selectablePlan.basePrice\">\n                        {{'basePrice' | i18n}}: {{selectablePlan.basePrice | currency:'$'}} {{'monthAbbr' | i18n}}\n                        =\n                        {{selectablePlan.basePrice | currency:'$'}}\n                        /{{'month' | i18n}}\n                    </small>\n                    <small *ngIf=\"selectablePlan.hasAdditionalSeatsOption\">\n                        <span *ngIf=\"selectablePlan.baseSeats\">{{'additionalUsers' | i18n}}:</span>\n                        <span *ngIf=\"!selectablePlan.baseSeats\">{{'users' | i18n}}:</span>\n                        {{additionalSeats || 0}} &times; {{selectablePlan.seatPrice | currency:'$'}}\n                        {{'monthAbbr' | i18n}} = {{seatTotal(selectablePlan)\n                    | currency:'$'}} /{{'month' | i18n}}\n                    </small>\n                    <small *ngIf=\"selectablePlan.hasAdditionalStorageOption\">\n                        {{'additionalStorageGb' | i18n}}: {{additionalStorage || 0}} &times;\n                        {{selectablePlan.additionalStoragePricePerGb | currency:'$'}} {{'monthAbbr'\n                        | i18n}} = {{additionalStorageTotal(selectablePlan) | currency:'$'}}\n                        /{{'month' | i18n}}\n                    </small>\n                    <small *ngIf=\"selectablePlan.hasPremiumAccessOption && premiumAccessAddon\">\n                        {{'premiumAccess' | i18n}}:\n                        {{selectablePlan.premiumAccessOptionCost | currency:'$'}} {{'monthAbbr' | i18n}} =\n                        {{40 | currency:'$'}}\n                        /{{'month' | i18n}}\n                    </small>\n                </ng-container>\n            </label>\n        </div>\n        <hr class=\"my-3\">\n        <h2 class=\"spaced-header mb-4\">{{ (createOrganization ? 'paymentInformation' : 'billingInformation') | i18n}}</h2>\n        <app-payment *ngIf=\"createOrganization\" [hideCredit]=\"true\"></app-payment>\n        <app-tax-info (onCountryChanged)=\"changedCountry()\"></app-tax-info>\n        <div id=\"price\" class=\"my-4\">\n            <div class=\"text-muted text-sm\">\n                {{ 'planPrice' | i18n }}: {{ subtotal | currency: 'USD $' }}\n                <br />\n                <ng-container>\n                    {{ 'estimatedTax' | i18n }}: {{ taxCharges | currency: 'USD $' }}\n                </ng-container>\n            </div>\n            <hr class=\"my-1 col-3 ml-0\">\n            <p class=\"text-lg\"><strong>{{'total' | i18n}}:</strong>\n                {{total | currency:'USD $'}}/{{selectedPlanInterval | i18n}}</p>\n        </div>\n        <small class=\"text-muted font-italic\" *ngIf=\"freeTrial && createOrganization; else paymentChargedImmediately\">\n            {{'paymentChargedWithTrial' | i18n : (selectedPlanInterval | i18n) }}\n        </small>\n        <ng-template  #paymentChargedImmediately>\n            <small class=\"text-muted font-italic mt-2 d-block\">\n                {{'paymentCharged' | i18n : (selectedPlanInterval | i18n) }}\n            </small>\n        </ng-template>\n        <ng-container *ngIf=\"!createOrganization\">\n            <app-payment [showMethods]=\"false\"></app-payment>\n        </ng-container>\n    </div>\n    <div *ngIf=\"singleOrgPolicyBlock\" class=\"mt-4\">\n        <app-callout [type]=\"'error'\">{{'singleOrgBlockCreateMessage' | i18n}}</app-callout>\n    </div>\n    <div class=\"mt-4\">\n        <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'submit' | i18n}}</span>\n        </button>\n        <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\" *ngIf=\"showCancel\">\n            {{'cancel' | i18n}}\n        </button>\n    </div>\n</form>\n","import { EncryptionType } from '../../enums/encryptionType';\n\nimport { Utils } from '../../misc/utils';\n\nexport class SymmetricCryptoKey {\n    key: ArrayBuffer;\n    encKey?: ArrayBuffer;\n    macKey?: ArrayBuffer;\n    encType: EncryptionType;\n\n    keyB64: string;\n    encKeyB64: string;\n    macKeyB64: string;\n\n    meta: any;\n\n    constructor(key: ArrayBuffer, encType?: EncryptionType) {\n        if (key == null) {\n            throw new Error('Must provide key');\n        }\n\n        if (encType == null) {\n            if (key.byteLength === 32) {\n                encType = EncryptionType.AesCbc256_B64;\n            } else if (key.byteLength === 64) {\n                encType = EncryptionType.AesCbc256_HmacSha256_B64;\n            } else {\n                throw new Error('Unable to determine encType.');\n            }\n        }\n\n        this.key = key;\n        this.encType = encType;\n\n        if (encType === EncryptionType.AesCbc256_B64 && key.byteLength === 32) {\n            this.encKey = key;\n            this.macKey = null;\n        } else if (encType === EncryptionType.AesCbc128_HmacSha256_B64 && key.byteLength === 32) {\n            this.encKey = key.slice(0, 16);\n            this.macKey = key.slice(16, 32);\n        } else if (encType === EncryptionType.AesCbc256_HmacSha256_B64 && key.byteLength === 64) {\n            this.encKey = key.slice(0, 32);\n            this.macKey = key.slice(32, 64);\n        } else {\n            throw new Error('Unsupported encType/key length.');\n        }\n\n        if (this.key != null) {\n            this.keyB64 = Utils.fromBufferToB64(this.key);\n        }\n        if (this.encKey != null) {\n            this.encKeyB64 = Utils.fromBufferToB64(this.encKey);\n        }\n        if (this.macKey != null) {\n            this.macKeyB64 = Utils.fromBufferToB64(this.macKey);\n        }\n    }\n}\n","import { CardData } from '../data/cardData';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\n\nimport { CardView } from '../view/cardView';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport class Card extends Domain {\n    cardholderName: EncString;\n    brand: EncString;\n    number: EncString;\n    expMonth: EncString;\n    expYear: EncString;\n    code: EncString;\n\n    constructor(obj?: CardData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.buildDomainModel(this, obj, {\n            cardholderName: null,\n            brand: null,\n            number: null,\n            expMonth: null,\n            expYear: null,\n            code: null,\n        }, alreadyEncrypted, []);\n    }\n\n    decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<CardView> {\n        return this.decryptObj(new CardView(this), {\n            cardholderName: null,\n            brand: null,\n            number: null,\n            expMonth: null,\n            expYear: null,\n            code: null,\n        }, orgId, encKey);\n    }\n\n    toCardData(): CardData {\n        const c = new CardData();\n        this.buildDataModel(this, c, {\n            cardholderName: null,\n            brand: null,\n            number: null,\n            expMonth: null,\n            expYear: null,\n            code: null,\n        });\n        return c;\n    }\n}\n","import { FieldType } from '../../enums/fieldType';\n\nimport { FieldData } from '../data/fieldData';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\n\nimport { FieldView } from '../view/fieldView';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport class Field extends Domain {\n    name: EncString;\n    value: EncString;\n    type: FieldType;\n\n    constructor(obj?: FieldData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.type = obj.type;\n        this.buildDomainModel(this, obj, {\n            name: null,\n            value: null,\n        }, alreadyEncrypted, []);\n    }\n\n    decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<FieldView> {\n        return this.decryptObj(new FieldView(this), {\n            name: null,\n            value: null,\n        }, orgId, encKey);\n    }\n\n    toFieldData(): FieldData {\n        const f = new FieldData();\n        this.buildDataModel(this, f, {\n            name: null,\n            value: null,\n            type: null,\n        }, ['type']);\n        return f;\n    }\n}\n","import { IdentityData } from '../data/identityData';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nimport { IdentityView } from '../view/identityView';\n\nexport class Identity extends Domain {\n    title: EncString;\n    firstName: EncString;\n    middleName: EncString;\n    lastName: EncString;\n    address1: EncString;\n    address2: EncString;\n    address3: EncString;\n    city: EncString;\n    state: EncString;\n    postalCode: EncString;\n    country: EncString;\n    company: EncString;\n    email: EncString;\n    phone: EncString;\n    ssn: EncString;\n    username: EncString;\n    passportNumber: EncString;\n    licenseNumber: EncString;\n\n    constructor(obj?: IdentityData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.buildDomainModel(this, obj, {\n            title: null,\n            firstName: null,\n            middleName: null,\n            lastName: null,\n            address1: null,\n            address2: null,\n            address3: null,\n            city: null,\n            state: null,\n            postalCode: null,\n            country: null,\n            company: null,\n            email: null,\n            phone: null,\n            ssn: null,\n            username: null,\n            passportNumber: null,\n            licenseNumber: null,\n        }, alreadyEncrypted, []);\n    }\n\n    decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<IdentityView> {\n        return this.decryptObj(new IdentityView(this), {\n            title: null,\n            firstName: null,\n            middleName: null,\n            lastName: null,\n            address1: null,\n            address2: null,\n            address3: null,\n            city: null,\n            state: null,\n            postalCode: null,\n            country: null,\n            company: null,\n            email: null,\n            phone: null,\n            ssn: null,\n            username: null,\n            passportNumber: null,\n            licenseNumber: null,\n        }, orgId, encKey);\n    }\n\n    toIdentityData(): IdentityData {\n        const i = new IdentityData();\n        this.buildDataModel(this, i, {\n            title: null,\n            firstName: null,\n            middleName: null,\n            lastName: null,\n            address1: null,\n            address2: null,\n            address3: null,\n            city: null,\n            state: null,\n            postalCode: null,\n            country: null,\n            company: null,\n            email: null,\n            phone: null,\n            ssn: null,\n            username: null,\n            passportNumber: null,\n            licenseNumber: null,\n        });\n        return i;\n    }\n}\n","import { LoginUri } from './loginUri';\n\nimport { LoginData } from '../data/loginData';\n\nimport { LoginView } from '../view/loginView';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport class Login extends Domain {\n    uris: LoginUri[];\n    username: EncString;\n    password: EncString;\n    passwordRevisionDate?: Date;\n    totp: EncString;\n\n    constructor(obj?: LoginData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.passwordRevisionDate = obj.passwordRevisionDate != null ? new Date(obj.passwordRevisionDate) : null;\n        this.buildDomainModel(this, obj, {\n            username: null,\n            password: null,\n            totp: null,\n        }, alreadyEncrypted, []);\n\n        if (obj.uris) {\n            this.uris = [];\n            obj.uris.forEach(u => {\n                this.uris.push(new LoginUri(u, alreadyEncrypted));\n            });\n        }\n    }\n\n    async decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<LoginView> {\n        const view = await this.decryptObj(new LoginView(this), {\n            username: null,\n            password: null,\n            totp: null,\n        }, orgId, encKey);\n\n        if (this.uris != null) {\n            view.uris = [];\n            for (let i = 0; i < this.uris.length; i++) {\n                const uri = await this.uris[i].decrypt(orgId, encKey);\n                view.uris.push(uri);\n            }\n        }\n\n        return view;\n    }\n\n    toLoginData(): LoginData {\n        const l = new LoginData();\n        l.passwordRevisionDate = this.passwordRevisionDate != null ? this.passwordRevisionDate.toISOString() : null;\n        this.buildDataModel(this, l, {\n            username: null,\n            password: null,\n            totp: null,\n        });\n\n        if (this.uris != null && this.uris.length > 0) {\n            l.uris = [];\n            this.uris.forEach(u => {\n                l.uris.push(u.toLoginUriData());\n            });\n        }\n\n        return l;\n    }\n}\n","import { UriMatchType } from '../../enums/uriMatchType';\n\nimport { LoginUriData } from '../data/loginUriData';\n\nimport { LoginUriView } from '../view/loginUriView';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport class LoginUri extends Domain {\n    uri: EncString;\n    match: UriMatchType;\n\n    constructor(obj?: LoginUriData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.match = obj.match;\n        this.buildDomainModel(this, obj, {\n            uri: null,\n        }, alreadyEncrypted, []);\n    }\n\n    decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<LoginUriView> {\n        return this.decryptObj(new LoginUriView(this), {\n            uri: null,\n        }, orgId, encKey);\n    }\n\n    toLoginUriData(): LoginUriData {\n        const u = new LoginUriData();\n        this.buildDataModel(this, u, {\n            uri: null,\n        }, ['match']);\n        return u;\n    }\n}\n","import { SecureNoteType } from '../../enums/secureNoteType';\n\nimport { SecureNoteData } from '../data/secureNoteData';\n\nimport Domain from './domainBase';\n\nimport { SecureNoteView } from '../view/secureNoteView';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport class SecureNote extends Domain {\n    type: SecureNoteType;\n\n    constructor(obj?: SecureNoteData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.type = obj.type;\n    }\n\n    decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<SecureNoteView> {\n        return Promise.resolve(new SecureNoteView(this));\n    }\n\n    toSecureNoteData(): SecureNoteData {\n        const n = new SecureNoteData();\n        n.type = this.type;\n        return n;\n    }\n}\n","import {\n    Directive,\n    ElementRef,\n    forwardRef,\n    HostListener,\n    Input,\n    Renderer2,\n} from '@angular/core';\nimport {\n    ControlValueAccessor,\n    NgControl,\n    NG_VALUE_ACCESSOR,\n} from '@angular/forms';\n\n// ref: https://juristr.com/blog/2018/02/ng-true-value-directive/\n@Directive({\n    selector: 'input[type=checkbox][appTrueFalseValue]',\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => TrueFalseValueDirective),\n            multi: true,\n        },\n    ],\n})\nexport class TrueFalseValueDirective implements ControlValueAccessor {\n    @Input() trueValue = true;\n    @Input() falseValue = false;\n\n    constructor(private elementRef: ElementRef, private renderer: Renderer2) { }\n\n    @HostListener('change', ['$event'])\n    onHostChange(ev: any) {\n        this.propagateChange(ev.target.checked ? this.trueValue : this.falseValue);\n    }\n\n    writeValue(obj: any): void {\n        if (obj === this.trueValue) {\n            this.renderer.setProperty(this.elementRef.nativeElement, 'checked', true);\n        } else {\n            this.renderer.setProperty(this.elementRef.nativeElement, 'checked', false);\n        }\n    }\n\n    registerOnChange(fn: any): void {\n        this.propagateChange = fn;\n    }\n\n    registerOnTouched(fn: any): void { /* nothing */ }\n\n    setDisabledState?(isDisabled: boolean): void { /* nothing */ }\n\n    private propagateChange = (_: any) => { /* nothing */ };\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class SelectionReadOnlyResponse extends BaseResponse {\n    id: string;\n    readOnly: boolean;\n    hidePasswords: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.readOnly = this.getResponseProperty('ReadOnly');\n        this.hidePasswords = this.getResponseProperty('HidePasswords');\n    }\n}\n","import { BaseResponse } from './baseResponse';\nimport { ProfileOrganizationResponse } from './profileOrganizationResponse';\n\nexport class ProfileResponse extends BaseResponse {\n    id: string;\n    name: string;\n    email: string;\n    emailVerified: boolean;\n    masterPasswordHint: string;\n    premium: boolean;\n    culture: string;\n    twoFactorEnabled: boolean;\n    key: string;\n    privateKey: string;\n    securityStamp: string;\n    organizations: ProfileOrganizationResponse[] = [];\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.name = this.getResponseProperty('Name');\n        this.email = this.getResponseProperty('Email');\n        this.emailVerified = this.getResponseProperty('EmailVerified');\n        this.masterPasswordHint = this.getResponseProperty('MasterPasswordHint');\n        this.premium = this.getResponseProperty('Premium');\n        this.culture = this.getResponseProperty('Culture');\n        this.twoFactorEnabled = this.getResponseProperty('TwoFactorEnabled');\n        this.key = this.getResponseProperty('Key');\n        this.privateKey = this.getResponseProperty('PrivateKey');\n        this.securityStamp = this.getResponseProperty('SecurityStamp');\n\n        const organizations = this.getResponseProperty('Organizations');\n        if (organizations != null) {\n            this.organizations = organizations.map((o: any) => new ProfileOrganizationResponse(o));\n        }\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Output,\n} from '@angular/core';\n\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { GroupingsComponent as BaseGroupingsComponent } from 'jslib/angular/components/groupings.component';\n\n@Component({\n    selector: 'app-vault-groupings',\n    templateUrl: 'groupings.component.html',\n})\nexport class GroupingsComponent extends BaseGroupingsComponent {\n    @Output() onSearchTextChanged = new EventEmitter<string>();\n\n    searchText: string = '';\n    searchPlaceholder: string = null;\n\n    constructor(collectionService: CollectionService, folderService: FolderService,\n        storageService: StorageService, userService: UserService) {\n        super(collectionService, folderService, storageService, userService);\n    }\n\n    searchTextChanged() {\n        this.onSearchTextChanged.emit(this.searchText);\n    }\n}\n","<div class=\"card vault-filters\">\n    <div class=\"card-header d-flex\">\n        {{'filters' | i18n}}\n        <a class=\"ml-auto\" href=\"https://help.bitwarden.com/article/searching-vault/\" target=\"_blank\" rel=\"noopener\"\n            appA11yTitle=\"{{'learnMore' | i18n}}\">\n            <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n        </a>\n    </div>\n    <div class=\"card-body\">\n        <input type=\"search\" placeholder=\"{{searchPlaceholder || ('searchVault' | i18n)}}\" id=\"search\"\n            class=\"form-control\" [(ngModel)]=\"searchText\" (input)=\"searchTextChanged()\" autocomplete=\"off\" appAutofocus>\n        <ul class=\"fa-ul card-ul\">\n            <li [ngClass]=\"{active: selectedAll}\">\n                <a href=\"#\" appStopClick (click)=\"selectAll()\">\n                    <i class=\"fa-li fa fa-fw fa-th\"></i>{{'allItems' | i18n}}\n                </a>\n            </li>\n            <li [ngClass]=\"{active: selectedFavorites}\" *ngIf=\"showFavorites\">\n                <a href=\"#\" appStopClick (click)=\"selectFavorites()\">\n                    <i class=\"fa-li fa fa-fw fa-star\"></i>{{'favorites' | i18n}}\n                </a>\n            </li>\n            <li [ngClass]=\"{active: selectedTrash}\" *ngIf=\"showTrash\">\n                <a href=\"#\" appStopClick (click)=\"selectTrash()\">\n                    <i class=\"fa-li fa fa-fw fa-trash-o\"></i>{{'trash' | i18n}}\n                </a>\n            </li>\n        </ul>\n        <h3>{{'types' | i18n}}</h3>\n        <ul class=\"fa-ul card-ul\">\n            <li [ngClass]=\"{active: selectedType === cipherType.Login}\">\n                <a href=\"#\" appStopClick (click)=\"selectType(cipherType.Login)\">\n                    <i class=\"fa-li fa fa-fw fa-globe\"></i>{{'typeLogin' | i18n}}\n                </a>\n            </li>\n            <li [ngClass]=\"{active: selectedType === cipherType.Card}\">\n                <a href=\"#\" appStopClick (click)=\"selectType(cipherType.Card)\">\n                    <i class=\"fa-li fa fa-fw fa-credit-card\"></i>{{'typeCard' | i18n}}\n                </a>\n            </li>\n            <li [ngClass]=\"{active: selectedType === cipherType.Identity}\">\n                <a href=\"#\" appStopClick (click)=\"selectType(cipherType.Identity)\">\n                    <i class=\"fa-li fa fa-fw fa-id-card-o\"></i>{{'typeIdentity' | i18n}}\n                </a>\n            </li>\n            <li [ngClass]=\"{active: selectedType === cipherType.SecureNote}\">\n                <a href=\"#\" appStopClick (click)=\"selectType(cipherType.SecureNote)\">\n                    <i class=\"fa-li fa fa-fw fa-sticky-note-o\"></i>{{'typeSecureNote' | i18n}}\n                </a>\n            </li>\n        </ul>\n        <p *ngIf=\"!loaded\" class=\"text-muted\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </p>\n        <ng-container *ngIf=\"loaded\">\n            <ng-container *ngIf=\"showFolders\">\n                <h3 class=\"d-flex\">\n                    {{'folders' | i18n}}\n                    <a href=\"#\" class=\"text-muted ml-auto\" appStopClick (click)=\"addFolder()\"\n                        appA11yTitle=\"{{'addFolder' | i18n}}\">\n                        <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i>\n                    </a>\n                </h3>\n                <ul class=\"fa-ul card-ul\">\n                    <ng-template #recursiveFolders let-folders>\n                        <li *ngFor=\"let f of folders\"\n                            [ngClass]=\"{active: selectedFolder && f.node.id === selectedFolderId}\">\n                            <div class=\"d-flex\">\n                                <i *ngIf=\"f.children.length\" class=\"fa-li fa\" title=\"{{'toggleCollapse' | i18n}}\"\n                                    [ngClass]=\"{'fa-caret-right': isCollapsed(f.node), 'fa-caret-down': !isCollapsed(f.node)}\"\n                                    (click)=\"collapse(f.node)\"></i>\n                                <a href=\"#\" appStopClick (click)=\"selectFolder(f.node)\">\n                                    <i *ngIf=\"f.children.length === 0\" class=\"fa-li fa fa-folder-o\" aria-hidden=\"true\"></i>{{f.node.name}}\n                                </a>\n                                <a href=\"#\" class=\"text-muted ml-auto show-active\" appStopClick\n                                    (click)=\"editFolder(f.node)\" appA11yTitle=\"{{'editFolder' | i18n}}\"\n                                    *ngIf=\"f.node.id\">\n                                    <i class=\"fa fa-pencil fa-fw\" aria-hidden=\"true\"></i>\n                                </a>\n                            </div>\n                            <ul class=\"fa-ul card-ul carets\" *ngIf=\"f.children.length && !isCollapsed(f.node)\">\n                                <ng-container *ngTemplateOutlet=\"recursiveFolders; context:{ $implicit: f.children }\">\n                                </ng-container>\n                            </ul>\n                        </li>\n                    </ng-template>\n                    <ng-container *ngTemplateOutlet=\"recursiveFolders; context:{ $implicit: nestedFolders }\">\n                    </ng-container>\n                </ul>\n            </ng-container>\n            <ng-container *ngIf=\"showCollections && collections && collections.length\">\n                <h3>{{'collections' | i18n}}</h3>\n                <ul class=\"fa-ul card-ul\">\n                    <ng-template #recursiveCollections let-collections>\n                        <li *ngFor=\"let c of collections\" [ngClass]=\"{active: c.node.id === selectedCollectionId}\">\n                            <i *ngIf=\"c.children.length\" class=\"fa-li fa\" title=\"{{'toggleCollapse' | i18n}}\"\n                                [ngClass]=\"{'fa-caret-right': isCollapsed(c.node), 'fa-caret-down': !isCollapsed(c.node)}\"\n                                (click)=\"collapse(c.node)\"></i>\n                            <a href=\"#\" appStopClick (click)=\"selectCollection(c.node)\">\n                                <i *ngIf=\"c.children.length === 0\" class=\"fa-li fa fa-cube\" aria-hidden=\"true\"></i>{{c.node.name}}\n                            </a>\n                            <ul class=\"fa-ul card-ul carets\" *ngIf=\"c.children.length && !isCollapsed(c.node)\">\n                                <ng-container\n                                    *ngTemplateOutlet=\"recursiveCollections; context:{ $implicit: c.children }\">\n                                </ng-container>\n                            </ul>\n                        </li>\n                    </ng-template>\n                    <ng-container *ngTemplateOutlet=\"recursiveCollections; context:{ $implicit: nestedCollections }\">\n                    </ng-container>\n                </ul>\n            </ng-container>\n        </ng-container>\n    </div>\n</div>\n","import { OrganizationData } from '../data/organizationData';\n\nimport { OrganizationUserStatusType } from '../../enums/organizationUserStatusType';\nimport { OrganizationUserType } from '../../enums/organizationUserType';\nimport { PermissionsApi } from '../api/permissionsApi';\n\n\nexport class Organization {\n    id: string;\n    name: string;\n    status: OrganizationUserStatusType;\n    type: OrganizationUserType;\n    enabled: boolean;\n    usePolicies: boolean;\n    useGroups: boolean;\n    useDirectory: boolean;\n    useEvents: boolean;\n    useTotp: boolean;\n    use2fa: boolean;\n    useApi: boolean;\n    useBusinessPortal: boolean;\n    useSso: boolean;\n    selfHost: boolean;\n    usersGetPremium: boolean;\n    seats: number;\n    maxCollections: number;\n    maxStorageGb?: number;\n    ssoBound: boolean;\n    identifier: string;\n    permissions: PermissionsApi;\n    resetPasswordKey: string;\n    userId: string;\n\n    constructor(obj?: OrganizationData) {\n        if (obj == null) {\n            return;\n        }\n\n        this.id = obj.id;\n        this.name = obj.name;\n        this.status = obj.status;\n        this.type = obj.type;\n        this.enabled = obj.enabled;\n        this.usePolicies = obj.usePolicies;\n        this.useGroups = obj.useGroups;\n        this.useDirectory = obj.useDirectory;\n        this.useEvents = obj.useEvents;\n        this.useTotp = obj.useTotp;\n        this.use2fa = obj.use2fa;\n        this.useApi = obj.useApi;\n        this.useBusinessPortal = obj.useBusinessPortal;\n        this.useSso = obj.useSso;\n        this.selfHost = obj.selfHost;\n        this.usersGetPremium = obj.usersGetPremium;\n        this.seats = obj.seats;\n        this.maxCollections = obj.maxCollections;\n        this.maxStorageGb = obj.maxStorageGb;\n        this.ssoBound = obj.ssoBound;\n        this.identifier = obj.identifier;\n        this.permissions = obj.permissions;\n        this.resetPasswordKey = obj.resetPasswordKey;\n        this.userId = obj.userId;\n    }\n\n    get canAccess() {\n        if (this.type === OrganizationUserType.Owner) {\n            return true;\n        }\n        return this.enabled && this.status === OrganizationUserStatusType.Confirmed;\n    }\n\n    get isManager() {\n        return this.type === OrganizationUserType.Manager || this.type === OrganizationUserType.Owner ||\n            this.type === OrganizationUserType.Admin;\n    }\n\n    get isAdmin() {\n        return this.type === OrganizationUserType.Owner || this.type === OrganizationUserType.Admin;\n    }\n\n    get isOwner() {\n        return this.type === OrganizationUserType.Owner;\n    }\n\n    get canAccessBusinessPortal() {\n        return this.isAdmin || this.permissions.accessBusinessPortal;\n    }\n\n    get canAccessEventLogs() {\n        return this.isAdmin || this.permissions.accessEventLogs;\n    }\n\n    get canAccessImportExport() {\n        return this.isAdmin || this.permissions.accessImportExport;\n    }\n\n    get canAccessReports() {\n        return this.isAdmin || this.permissions.accessReports;\n    }\n\n    get canManageAllCollections() {\n        return this.isAdmin || this.permissions.manageAllCollections;\n    }\n\n    get canManageAssignedCollections() {\n        return this.isManager || this.permissions.manageAssignedCollections;\n    }\n\n    get canManageGroups() {\n        return this.isAdmin || this.permissions.manageGroups;\n    }\n\n    get canManageSso() {\n        return this.isAdmin || this.permissions.manageSso;\n    }\n\n    get canManagePolicies() {\n        return this.isAdmin || this.permissions.managePolicies;\n    }\n\n    get canManageUsers() {\n        return this.isAdmin || this.permissions.manageUsers;\n    }\n\n    get isResetPasswordEnrolled() {\n        return this.resetPasswordKey != null;\n    }\n}\n","import { View } from './view';\n\nimport { SendFile } from '../domain/sendFile';\n\nexport class SendFileView implements View {\n    id: string = null;\n    size: string = null;\n    sizeName: string = null;\n    fileName: string = null;\n\n    constructor(f?: SendFile) {\n        if (!f) {\n            return;\n        }\n\n        this.id = f.id;\n        this.size = f.size;\n        this.sizeName = f.sizeName;\n    }\n\n    get fileSize(): number {\n        try {\n            if (this.size != null) {\n                return parseInt(this.size, null);\n            }\n        } catch { }\n        return 0;\n    }\n}\n","import { View } from './view';\n\nimport { SendText } from '../domain/sendText';\n\nexport class SendTextView implements View {\n    text: string = null;\n    hidden: boolean;\n\n    constructor(t?: SendText) {\n        if (!t) {\n            return;\n        }\n\n        this.hidden = t.hidden;\n    }\n\n    get maskedText(): string {\n        return this.text != null ? '' : null;\n    }\n}\n","import {\n    Component,\n    Input,\n    OnInit,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { Organization } from 'jslib/models/domain/organization';\n\nimport { Utils } from 'jslib/misc/utils';\n\nimport { OrganizationUserResetPasswordEnrollmentRequest } from 'jslib/models/request/organizationUserResetPasswordEnrollmentRequest';\n\n@Component({\n    selector: 'app-organizations',\n    templateUrl: 'organizations.component.html',\n})\nexport class OrganizationsComponent implements OnInit {\n    @Input() vault = false;\n\n    organizations: Organization[];\n    loaded: boolean = false;\n    actionPromise: Promise<any>;\n    // TODO Remove feature flag once ready for general release\n    resetPasswordFeatureFlag = false;\n\n    constructor(private userService: UserService, private platformUtilsService: PlatformUtilsService,\n        private i18nService: I18nService, private apiService: ApiService,\n        private toasterService: ToasterService, private syncService: SyncService,\n        private cryptoService: CryptoService) { }\n\n    async ngOnInit() {\n        if (!this.vault) {\n            await this.syncService.fullSync(true);\n            await this.load();\n        }\n    }\n\n    async load() {\n        const orgs = await this.userService.getAllOrganizations();\n        orgs.sort(Utils.getSortFunction(this.i18nService, 'name'));\n        this.organizations = orgs;\n        this.loaded = true;\n    }\n\n    async unlinkSso(org: Organization) {\n        const confirmed = await this.platformUtilsService.showDialog(\n            'Are you sure you want to unlink SSO for this organization?', org.name,\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.actionPromise = this.apiService.deleteSsoUser(org.id).then(() => {\n                return this.syncService.fullSync(true);\n            });\n            await this.actionPromise;\n            this.toasterService.popAsync('success', null, 'Unlinked SSO');\n            await this.load();\n        } catch { }\n    }\n\n    async leave(org: Organization) {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('leaveOrganizationConfirmation'), org.name,\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.actionPromise = this.apiService.postLeaveOrganization(org.id).then(() => {\n                return this.syncService.fullSync(true);\n            });\n            await this.actionPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('leftOrganization'));\n            await this.load();\n        } catch { }\n    }\n\n    async toggleResetPasswordEnrollment(org: Organization) {\n        // Feature Flag\n        if (!this.resetPasswordFeatureFlag) {\n            return;\n        }\n\n        // Set variables\n        let keyString: string = null;\n        let toastStringRef = 'withdrawPasswordResetSuccess';\n\n        // Enroll - encrpyt user's encKey.key with organization key\n        if (!org.isResetPasswordEnrolled) {\n            const encKey = await this.cryptoService.getEncKey();\n            const orgSymKey = await this.cryptoService.getOrgKey(org.id);\n            const encryptedKey = await this.cryptoService.encrypt(encKey.key, orgSymKey);\n            keyString = encryptedKey.encryptedString;\n            toastStringRef = 'enrollPasswordResetSuccess';\n        }\n\n        // Create/Execute request\n        try {\n            const request = new OrganizationUserResetPasswordEnrollmentRequest();\n            request.resetPasswordKey = keyString;\n            this.actionPromise = this.apiService.putOrganizationUserResetPasswordEnrollment(org.id, org.userId, request)\n                .then(() => {\n                    return this.syncService.fullSync(true);\n                });\n            await this.actionPromise;\n            this.platformUtilsService.showToast('success', null, this.i18nService.t(toastStringRef));\n            await this.load();\n        } catch { }\n    }\n}\n","<ng-container *ngIf=\"vault\">\n    <p *ngIf=\"!loaded\" class=\"text-muted\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span class=\"sr-only\">{{'loading' | i18n}}</span>\n    </p>\n    <ng-container *ngIf=\"loaded\">\n        <ul class=\"fa-ul card-ul carets\" *ngIf=\"organizations && organizations.length\">\n            <li *ngFor=\"let o of organizations\">\n                <a [routerLink]=\"['/organizations', o.id]\" class=\"text-body\">\n                    <i class=\"fa-li fa fa-caret-right\" aria-hidden=\"true\"></i> {{o.name}}\n                    <ng-container *ngIf=\"!o.enabled\">\n                        <i class=\"fa fa-exclamation-triangle text-danger\" title=\"{{'organizationIsDisabled' | i18n}}\"\n                            aria-hidden=\"true\"></i>\n                        <span class=\"sr-only\">{{'organizationIsDisabled' | i18n}}</span>\n                    </ng-container>\n                </a>\n            </li>\n        </ul>\n        <p *ngIf=\"!organizations || !organizations.length\">{{'noOrganizationsList' | i18n}}</p>\n    </ng-container>\n    <a href=\"#\" routerLink=\"/settings/create-organization\" class=\"btn btn-block btn-outline-primary\">\n        <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i>\n        {{'newOrganization' | i18n}}\n    </a>\n</ng-container>\n<ng-container *ngIf=\"!vault\">\n    <div class=\"page-header d-flex\">\n        <h1>\n            {{'organizations' | i18n}}\n            <small [appApiAction]=\"actionPromise\" #action>\n                <ng-container *ngIf=\"action.loading\">\n                    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n                </ng-container>\n            </small>\n        </h1>\n        <a href=\"#\" routerLink=\"/settings/create-organization\" class=\"btn btn-sm btn-outline-primary ml-auto\"\n            *ngIf=\"!loaded || (organizations && organizations.length)\">\n            <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i>\n            {{'newOrganization' | i18n}}\n        </a>\n    </div>\n    <ng-container *ngIf=\"!loaded\">\n        <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span class=\"sr-only\">{{'loading' | i18n}}</span>\n    </ng-container>\n    <ng-container *ngIf=\"loaded\">\n        <ng-container *ngIf=\"!organizations || !organizations.length\">\n            <p>{{'noOrganizationsList' | i18n}}</p>\n            <a href=\"#\" routerLink=\"/settings/create-organization\" class=\"btn btn-outline-primary\">\n                <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i>\n                {{'newOrganization' | i18n}}\n            </a>\n        </ng-container>\n        <table class=\"table table-hover table-list\" *ngIf=\"organizations && organizations.length\">\n            <tbody>\n                <tr *ngFor=\"let o of organizations\">\n                    <td width=\"30\">\n                        <app-avatar [data]=\"o.name\" size=\"25\" [circle]=\"true\" [fontSize]=\"14\"></app-avatar>\n                    </td>\n                    <td>\n                        <a href=\"#\" [routerLink]=\"['/organizations', o.id]\">{{o.name}}</a>\n                        <ng-container *ngIf=\"!o.enabled\">\n                            <i class=\"fa fa-exclamation-triangle text-danger\"\n                                title=\"{{'organizationIsDisabled' | i18n}}\" aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'organizationIsDisabled' | i18n}}</span>\n                        </ng-container>\n                        <ng-container *ngIf=\"o.isResetPasswordEnrolled\">\n                            <i class=\"fa fa-key\" appStopProp title=\"{{'enrolledPasswordReset' | i18n}}\"\n                                aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'enrolledPasswordReset' | i18n}}</span>\n                        </ng-container>\n                    </td>\n                    <td class=\"table-list-options\">\n                        <div class=\"dropdown\" appListDropdown>\n                            <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\"\n                                data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\n                                appA11yTitle=\"{{'options' | i18n}}\">\n                                <i class=\"fa fa-cog fa-lg\" aria-hidden=\"true\"></i>\n                            </button>\n                            <div class=\"dropdown-menu dropdown-menu-right\">\n                                <a *ngIf=\"!o.isResetPasswordEnrolled && resetPasswordFeatureFlag\" class=\"dropdown-item\"\n                                    href=\"#\" appStopClick (click)=\"toggleResetPasswordEnrollment(o)\">\n                                    <i class=\"fa fa-fw fa-key\" aria-hidden=\"true\"></i>\n                                    {{'enrollPasswordReset' | i18n}}\n                                </a>\n                                <a *ngIf=\"o.isResetPasswordEnrolled\" class=\"dropdown-item\" href=\"#\" appStopClick\n                                    (click)=\"toggleResetPasswordEnrollment(o)\">\n                                    <i class=\"fa fa-fw fa-undo\" aria-hidden=\"true\"></i>\n                                    {{'withdrawPasswordReset' | i18n}}\n                                </a>\n                                <ng-container *ngIf=\"o.useSso && o.identifier\">\n                                    <a *ngIf=\"o.ssoBound; else linkSso\" class=\"dropdown-item\" href=\"#\" appStopClick\n                                        (click)=\"unlinkSso(o)\">\n                                        <i class=\"fa fa-fw fa-chain-broken\" aria-hidden=\"true\"></i>\n                                        {{'unlinkSso' | i18n}}\n                                    </a>\n                                    <ng-template #linkSso>\n                                        <app-link-sso [organization]=\"o\">\n                                        </app-link-sso>\n                                    </ng-template>\n                                </ng-container>\n                                <a class=\"dropdown-item text-danger\" href=\"#\" appStopClick (click)=\"leave(o)\">\n                                    <i class=\"fa fa-fw fa-sign-out\" aria-hidden=\"true\"></i>\n                                    {{'leave' | i18n}}\n                                </a>\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </ng-container>\n</ng-container>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { TokenService } from 'jslib/abstractions/token.service';\n\n@Component({\n    selector: 'app-navbar',\n    templateUrl: 'navbar.component.html',\n})\nexport class NavbarComponent implements OnInit {\n    selfHosted = false;\n    name: string;\n    email: string;\n\n    constructor(private messagingService: MessagingService, private platformUtilsService: PlatformUtilsService,\n        private tokenService: TokenService) {\n        this.selfHosted = this.platformUtilsService.isSelfHost();\n    }\n\n    async ngOnInit() {\n        this.name = await this.tokenService.getName();\n        this.email = await this.tokenService.getEmail();\n        if (this.name == null || this.name.trim() === '') {\n            this.name = this.email;\n        }\n    }\n\n    lock() {\n        this.messagingService.send('lockVault');\n    }\n\n    logOut() {\n        this.messagingService.send('logout');\n    }\n}\n","<nav class=\"navbar navbar-expand navbar-dark bg-primary\" [ngClass]=\"{'bg-secondary-alt': selfHosted}\">\n    <div class=\"container\">\n        <a class=\"navbar-brand\" routerLink=\"/\" appA11yTitle=\"{{'pageTitle' | i18n : 'Bitwarden'}}\">\n            <i class=\"fa fa-shield\" aria-hidden=\"true\"></i>\n        </a>\n        <div class=\"collapse navbar-collapse\">\n            <ul class=\"navbar-nav\">\n                <li class=\"nav-item\" routerLinkActive=\"active\">\n                    <a class=\"nav-link\" routerLink=\"/vault\">{{'myVault' | i18n}}</a>\n                </li>\n                <li class=\"nav-item\" routerLinkActive=\"active\">\n                    <a class=\"nav-link\" routerLink=\"/sends\">{{'send' | i18n}}</a>\n                </li>\n                <li class=\"nav-item\" routerLinkActive=\"active\">\n                    <a class=\"nav-link\" routerLink=\"/tools\">{{'tools' | i18n}}</a>\n                </li>\n                <li class=\"nav-item\" routerLinkActive=\"active\">\n                    <a class=\"nav-link\" routerLink=\"/settings\">{{'settings' | i18n}}</a>\n                </li>\n            </ul>\n        </div>\n        <ul class=\"navbar-nav flex-row ml-md-auto d-none d-md-flex\">\n            <li class=\"nav-item dropdown\">\n                <a class=\"nav-item nav-link dropdown-toggle\" href=\"#\" id=\"nav-profile\" data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <i class=\"fa fa-user-circle fa-lg\" aria-hidden=\"true\"></i>\n                </a>\n                <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"nav-profile\">\n                    <div class=\"dropdown-item-text d-flex align-items-center\" *ngIf=\"name\" appStopProp>\n                        <app-avatar [data]=\"name\" [email]=\"email\" size=\"25\" fontSize=\"14\" [circle]=\"true\"></app-avatar>\n                        <div class=\"ml-2 overflow-hidden\">\n                            <span>{{'loggedInAs' | i18n}}</span>\n                            <small class=\"text-muted\">{{name}}</small>\n                        </div>\n                    </div>\n                    <div class=\"dropdown-divider\"></div>\n                    <a class=\"dropdown-item\" href=\"#\" routerLink=\"/settings/account\">\n                        <i class=\"fa fa-fw fa-user\" aria-hidden=\"true\"></i>\n                        {{'myAccount' | i18n}}\n                    </a>\n                    <a class=\"dropdown-item\" href=\"https://help.bitwarden.com\" target=\"_blank\" rel=\"noopener\">\n                        <i class=\"fa fa-fw fa-question-circle\" aria-hidden=\"true\"></i>\n                        {{'getHelp' | i18n}}\n                    </a>\n                    <a class=\"dropdown-item\" href=\"https://bitwarden.com/download/\" target=\"_blank\" rel=\"noopener\">\n                        <i class=\"fa fa-fw fa-download\" aria-hidden=\"true\"></i>\n                        {{'getApps' | i18n}}\n                    </a>\n                    <div class=\"dropdown-divider\"></div>\n                    <button type=\"button\" class=\"dropdown-item\" (click)=\"lock()\">\n                        <i class=\"fa fa-fw fa-lock\" aria-hidden=\"true\"></i>\n                        {{'lockNow' | i18n}}\n                    </button>\n                    <button type=\"button\" class=\"dropdown-item\" (click)=\"logOut()\">\n                        <i class=\"fa fa-fw fa-sign-out\" aria-hidden=\"true\"></i>\n                        {{'logOut' | i18n}}\n                    </button>\n                </div>\n            </li>\n        </ul>\n    </div>\n</nav>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\n@Component({\n    selector: 'app-footer',\n    templateUrl: 'footer.component.html',\n})\nexport class FooterComponent implements OnInit {\n    version: string;\n    year: string = '2015';\n\n    constructor(private platformUtilsService: PlatformUtilsService) { }\n\n    async ngOnInit() {\n        this.year = new Date().getFullYear().toString();\n        this.version = await this.platformUtilsService.getApplicationVersion();\n    }\n}\n","<div class=\"container footer text-muted\">\n    <div class=\"row\">\n        <div class=\"col\">\n            &copy; {{year}}, Bitwarden Inc.\n        </div>\n        <div class=\"col text-center\"></div>\n        <div class=\"col text-right\">\n            {{'versionNumber' | i18n : version}}\n        </div>\n    </div>\n</div>\n","export class KeysRequest {\n    publicKey: string;\n    encryptedPrivateKey: string;\n\n    constructor(publicKey: string, encryptedPrivateKey: string) {\n        this.publicKey = publicKey;\n        this.encryptedPrivateKey = encryptedPrivateKey;\n    }\n}\n","import { PolicyData } from '../data/policyData';\n\nimport Domain from './domainBase';\n\nimport { PolicyType } from '../../enums/policyType';\n\nexport class Policy extends Domain {\n    id: string;\n    organizationId: string;\n    type: PolicyType;\n    data: any;\n    enabled: boolean;\n\n    constructor(obj?: PolicyData) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.id = obj.id;\n        this.organizationId = obj.organizationId;\n        this.type = obj.type;\n        this.data = obj.data;\n        this.enabled = obj.enabled;\n    }\n}\n","import { PolicyResponse } from '../response/policyResponse';\n\nimport { PolicyType } from '../../enums/policyType';\n\nexport class PolicyData {\n    id: string;\n    organizationId: string;\n    type: PolicyType;\n    data: any;\n    enabled: boolean;\n\n    constructor(response: PolicyResponse) {\n        this.id = response.id;\n        this.organizationId = response.organizationId;\n        this.type = response.type;\n        this.data = response.data;\n        this.enabled = response.enabled;\n    }\n}\n","import { OnInit } from '@angular/core';\n\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { MessagingService } from '../../abstractions/messaging.service';\nimport { PasswordGenerationService } from '../../abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { PolicyService } from '../../abstractions/policy.service';\nimport { UserService } from '../../abstractions/user.service';\n\nimport { EncString } from '../../models/domain/encString';\nimport { MasterPasswordPolicyOptions } from '../../models/domain/masterPasswordPolicyOptions';\nimport { SymmetricCryptoKey } from '../../models/domain/symmetricCryptoKey';\n\nimport { KdfType } from '../../enums/kdfType';\n\nexport class ChangePasswordComponent implements OnInit {\n    masterPassword: string;\n    masterPasswordRetype: string;\n    formPromise: Promise<any>;\n    masterPasswordScore: number;\n    enforcedPolicyOptions: MasterPasswordPolicyOptions;\n\n    protected email: string;\n    protected kdf: KdfType;\n    protected kdfIterations: number;\n\n    private masterPasswordStrengthTimeout: any;\n\n    constructor(protected i18nService: I18nService, protected cryptoService: CryptoService,\n        protected messagingService: MessagingService, protected userService: UserService,\n        protected passwordGenerationService: PasswordGenerationService,\n        protected platformUtilsService: PlatformUtilsService, protected policyService: PolicyService) { }\n\n    async ngOnInit() {\n        this.email = await this.userService.getEmail();\n        this.enforcedPolicyOptions = await this.policyService.getMasterPasswordPolicyOptions();\n    }\n\n    getPasswordScoreAlertDisplay() {\n        if (this.enforcedPolicyOptions == null) {\n            return '';\n        }\n\n        let str: string;\n        switch (this.enforcedPolicyOptions.minComplexity) {\n            case 4:\n                str = this.i18nService.t('strong');\n                break;\n            case 3:\n                str = this.i18nService.t('good');\n                break;\n            default:\n                str = this.i18nService.t('weak');\n                break;\n        }\n        return str + ' (' + this.enforcedPolicyOptions.minComplexity + ')';\n    }\n\n    async submit() {\n        if (!await this.strongPassword()) {\n            return;\n        }\n\n        if (!await this.setupSubmitActions()) {\n            return;\n        }\n\n        const email = await this.userService.getEmail();\n        if (this.kdf == null) {\n            this.kdf = await this.userService.getKdf();\n        }\n        if (this.kdfIterations == null) {\n            this.kdfIterations = await this.userService.getKdfIterations();\n        }\n        const key = await this.cryptoService.makeKey(this.masterPassword, email.trim().toLowerCase(),\n            this.kdf, this.kdfIterations);\n        const masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, key);\n\n        let encKey: [SymmetricCryptoKey, EncString] = null;\n        const existingEncKey = await this.cryptoService.getEncKey();\n        if (existingEncKey == null) {\n            encKey = await this.cryptoService.makeEncKey(key);\n        } else {\n            encKey = await this.cryptoService.remakeEncKey(key);\n        }\n\n        await this.performSubmitActions(masterPasswordHash, key, encKey);\n    }\n\n    async setupSubmitActions(): Promise<boolean> {\n        // Override in sub-class\n        // Can be used for additional validation and/or other processes the should occur before changing passwords\n        return true;\n    }\n\n    async performSubmitActions(masterPasswordHash: string, key: SymmetricCryptoKey,\n        encKey: [SymmetricCryptoKey, EncString]) {\n        // Override in sub-class\n    }\n\n    async strongPassword(): Promise<boolean> {\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return false;\n        }\n        if (this.masterPassword.length < 8) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassLength'));\n            return false;\n        }\n        if (this.masterPassword !== this.masterPasswordRetype) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassDoesntMatch'));\n            return false;\n        }\n\n        const strengthResult = this.passwordGenerationService.passwordStrength(this.masterPassword,\n            this.getPasswordStrengthUserInput());\n\n        if (this.enforcedPolicyOptions != null &&\n            !this.policyService.evaluateMasterPassword(\n                strengthResult.score,\n                this.masterPassword,\n                this.enforcedPolicyOptions)) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPasswordPolicyRequirementsNotMet'));\n            return false;\n        }\n\n        if (strengthResult != null && strengthResult.score < 3) {\n            const result = await this.platformUtilsService.showDialog(this.i18nService.t('weakMasterPasswordDesc'),\n                this.i18nService.t('weakMasterPassword'), this.i18nService.t('yes'), this.i18nService.t('no'),\n                'warning');\n            if (!result) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    updatePasswordStrength() {\n        if (this.masterPasswordStrengthTimeout != null) {\n            clearTimeout(this.masterPasswordStrengthTimeout);\n        }\n        this.masterPasswordStrengthTimeout = setTimeout(() => {\n            const strengthResult = this.passwordGenerationService.passwordStrength(this.masterPassword,\n                this.getPasswordStrengthUserInput());\n            this.masterPasswordScore = strengthResult == null ? null : strengthResult.score;\n        }, 300);\n    }\n\n    async logOut() {\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('logOutConfirmation'),\n            this.i18nService.t('logOut'), this.i18nService.t('logOut'), this.i18nService.t('cancel'));\n        if (confirmed) {\n            this.messagingService.send('logout');\n        }\n    }\n\n    private getPasswordStrengthUserInput() {\n        let userInput: string[] = [];\n        const atPosition = this.email.indexOf('@');\n        if (atPosition > -1) {\n            userInput = userInput.concat(this.email.substr(0, atPosition).trim().toLowerCase().split(/[^A-Za-z0-9]/));\n        }\n        return userInput;\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { OrganizationUserStatusType } from 'jslib/enums/organizationUserStatusType';\nimport { OrganizationUserType } from 'jslib/enums/organizationUserType';\nimport { SelectionReadOnlyRequest } from 'jslib/models/request/selectionReadOnlyRequest';\nimport { OrganizationUserUserDetailsResponse } from 'jslib/models/response/organizationUserResponse';\n\nimport { Utils } from 'jslib/misc/utils';\n\n@Component({\n    selector: 'app-entity-users',\n    templateUrl: 'entity-users.component.html',\n})\nexport class EntityUsersComponent implements OnInit {\n    @Input() entity: 'group' | 'collection';\n    @Input() entityId: string;\n    @Input() entityName: string;\n    @Input() organizationId: string;\n    @Output() onEditedUsers = new EventEmitter();\n\n    organizationUserType = OrganizationUserType;\n    organizationUserStatusType = OrganizationUserStatusType;\n\n    showSelected = false;\n    loading = true;\n    formPromise: Promise<any>;\n    selectedCount = 0;\n    searchText: string;\n\n    private allUsers: OrganizationUserUserDetailsResponse[] = [];\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService) { }\n\n    async ngOnInit() {\n        await this.loadUsers();\n        this.loading = false;\n    }\n\n    get users() {\n        if (this.showSelected) {\n            return this.allUsers.filter(u => (u as any).checked);\n        } else {\n            return this.allUsers;\n        }\n    }\n\n    async loadUsers() {\n        const users = await this.apiService.getOrganizationUsers(this.organizationId);\n        this.allUsers = users.data.map(r => r).sort(Utils.getSortFunction(this.i18nService, 'email'));\n        if (this.entity === 'group') {\n            const response = await this.apiService.getGroupUsers(this.organizationId, this.entityId);\n            if (response != null && users.data.length > 0) {\n                response.forEach(s => {\n                    const user = users.data.filter(u => u.id === s);\n                    if (user != null && user.length > 0) {\n                        (user[0] as any).checked = true;\n                    }\n                });\n            }\n        } else if (this.entity === 'collection') {\n            const response = await this.apiService.getCollectionUsers(this.organizationId, this.entityId);\n            if (response != null && users.data.length > 0) {\n                response.forEach(s => {\n                    const user = users.data.filter(u => !u.accessAll && u.id === s.id);\n                    if (user != null && user.length > 0) {\n                        (user[0] as any).checked = true;\n                        (user[0] as any).readOnly = s.readOnly;\n                        (user[0] as any).hidePasswords = s.hidePasswords;\n                    }\n                });\n            }\n        }\n\n        this.allUsers.forEach(u => {\n            if (this.entity === 'collection' && u.accessAll) {\n                (u as any).checked = true;\n            }\n            if ((u as any).checked) {\n                this.selectedCount++;\n            }\n        });\n    }\n\n    check(u: OrganizationUserUserDetailsResponse) {\n        if (this.entity === 'collection' && u.accessAll) {\n            return;\n        }\n        (u as any).checked = !(u as any).checked;\n        this.selectedChanged(u);\n    }\n\n    selectedChanged(u: OrganizationUserUserDetailsResponse) {\n        if ((u as any).checked) {\n            this.selectedCount++;\n        } else {\n            if (this.entity === 'collection') {\n                (u as any).readOnly = false;\n                (u as any).hidePasswords = false;\n            }\n            this.selectedCount--;\n        }\n    }\n\n    filterSelected(showSelected: boolean) {\n        this.showSelected = showSelected;\n    }\n\n    async submit() {\n        try {\n            if (this.entity === 'group') {\n                const selections = this.users.filter(u => (u as any).checked).map(u => u.id);\n                this.formPromise = this.apiService.putGroupUsers(this.organizationId, this.entityId, selections);\n            } else {\n                const selections = this.users.filter(u => (u as any).checked && !u.accessAll)\n                    .map(u => new SelectionReadOnlyRequest(u.id, !!(u as any).readOnly, !!(u as any).hidePasswords));\n                this.formPromise = this.apiService.putCollectionUsers(this.organizationId, this.entityId, selections);\n            }\n            await this.formPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('updatedUsers'));\n            this.onEditedUsers.emit();\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"userAccessTitle\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"userAccessTitle\">\n                    {{'userAccess' | i18n}}\n                    <small>{{entityName}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"loading || !users\">\n                <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                <span class=\"sr-only\">{{'loading' | i18n}}</span>\n            </div>\n            <div class=\"modal-body\"\n                *ngIf=\"!loading && users && (users | search:searchText:'name':'email':'id') as searchedUsers\">\n                <div class=\"d-flex\">\n                    <div class=\"mr-3\">\n                        <label class=\"sr-only\" for=\"search\">{{'search' | i18n}}</label>\n                        <input type=\"search\" class=\"form-control form-control-sm\" id=\"search\"\n                            placeholder=\"{{'search' | i18n}}\" name=\"SearchText\" [(ngModel)]=\"searchText\">\n                    </div>\n                    <div class=\"btn-group btn-group-sm\" role=\"group\">\n                        <button type=\"button\" class=\"btn btn-outline-secondary\" [ngClass]=\"{active: !showSelected}\"\n                            (click)=\"filterSelected(false)\">\n                            {{'all' | i18n}}\n                        </button>\n                        <button type=\"button\" class=\"btn btn-outline-secondary\" [ngClass]=\"{active: showSelected}\"\n                            (click)=\"filterSelected(true)\">\n                            {{'selected' | i18n}}\n                            <span class=\"badge badge-pill badge-info\" *ngIf=\"selectedCount\">{{selectedCount}}</span>\n                        </button>\n                    </div>\n                </div>\n                <ng-container *ngIf=\"!searchedUsers.length\">\n                    <hr>\n                    {{'noUsersInList' | i18n}}\n                </ng-container>\n                <ng-container *ngIf=\"searchedUsers.length\">\n                    <table class=\"table table-hover table-list mb-0\">\n                        <thead>\n                            <tr>\n                                <th>&nbsp;</th>\n                                <th>&nbsp;</th>\n                                <th>{{'name' | i18n}}</th>\n                                <th *ngIf=\"entity === 'collection'\">&nbsp;</th>\n                                <th>{{'userType' | i18n}}</th>\n                                <th width=\"100\" class=\"text-center\" *ngIf=\"entity === 'collection'\">{{'hidePasswords' |\n                                    i18n}}</th>\n                                <th width=\"100\" class=\"text-center\" *ngIf=\"entity === 'collection'\">{{'readOnly' |\n                                    i18n}}</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr *ngFor=\"let u of searchedUsers\">\n                                <td class=\"table-list-checkbox\" (click)=\"check(u)\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"u.checked\" name=\"{{u.id.substr(0,8)}}_Checked\"\n                                        [disabled]=\"entity === 'collection' && u.accessAll\"\n                                        (change)=\"selectedChanged(u)\" appStopProp>\n                                </td>\n                                <td width=\"30\" (click)=\"check(u)\">\n                                    <app-avatar [data]=\"u.name || u.email\" [email]=\"u.email\" size=\"25\" [circle]=\"true\"\n                                        [fontSize]=\"14\"></app-avatar>\n                                </td>\n                                <td>\n                                    {{u.email}}\n                                    <span class=\"badge badge-secondary\"\n                                        *ngIf=\"u.status === organizationUserStatusType.Invited\">{{'invited'\n                                        | i18n}}</span>\n                                    <span class=\"badge badge-warning\"\n                                        *ngIf=\"u.status === organizationUserStatusType.Accepted\">{{'accepted'\n                                        | i18n}}</span>\n                                    <small class=\"text-muted d-block\" *ngIf=\"u.name\">{{u.name}}</small>\n                                </td>\n                                <td *ngIf=\"entity === 'collection'\">\n                                    <ng-container *ngIf=\"u.accessAll\">\n                                        <i class=\"fa fa-th\" title=\"{{'userAccessAllItems' | i18n}}\"\n                                            aria-hidden=\"true\"></i>\n                                        <span class=\"sr-only\">{{'userAccessAllItems' | i18n}}</span>\n                                    </ng-container>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"u.type === organizationUserType.Owner\">{{'owner' | i18n}}</span>\n                                    <span *ngIf=\"u.type === organizationUserType.Admin\">{{'admin' | i18n}}</span>\n                                    <span *ngIf=\"u.type === organizationUserType.Manager\">{{'manager' | i18n}}</span>\n                                    <span *ngIf=\"u.type === organizationUserType.User\">{{'user' | i18n}}</span>\n                                    <span *ngIf=\"u.type === organizationUserType.Custom\">{{'custom' | i18n}}</span>\n                                </td>\n                                <td class=\"text-center\" *ngIf=\"entity === 'collection'\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"u.hidePasswords\"\n                                        name=\"{{u.id.substr(0,8)}}_HidePasswords\"\n                                        [disabled]=\"u.accessAll || !u.checked\">\n                                </td>\n                                <td class=\"text-center\" *ngIf=\"entity === 'collection'\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"u.readOnly\" name=\"{{u.id.substr(0,8)}}_ReadOnly\"\n                                        [disabled]=\"u.accessAll || !u.checked\">\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </ng-container>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    Input,\n    OnInit,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { EventService } from '../../services/event.service';\n\nimport { EventResponse } from 'jslib/models/response/eventResponse';\nimport { ListResponse } from 'jslib/models/response/listResponse';\n\n@Component({\n    selector: 'app-entity-events',\n    templateUrl: 'entity-events.component.html',\n})\nexport class EntityEventsComponent implements OnInit {\n    @Input() name: string;\n    @Input() entity: 'user' | 'cipher';\n    @Input() entityId: string;\n    @Input() organizationId: string;\n    @Input() showUser = false;\n\n    loading = true;\n    loaded = false;\n    events: any[];\n    start: string;\n    end: string;\n    continuationToken: string;\n    refreshPromise: Promise<any>;\n    morePromise: Promise<any>;\n\n    private orgUsersUserIdMap = new Map<string, any>();\n    private orgUsersIdMap = new Map<string, any>();\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private eventService: EventService, private toasterService: ToasterService) { }\n\n    async ngOnInit() {\n        const defaultDates = this.eventService.getDefaultDateFilters();\n        this.start = defaultDates[0];\n        this.end = defaultDates[1];\n        await this.load();\n    }\n\n    async load() {\n        if (this.showUser) {\n            const response = await this.apiService.getOrganizationUsers(this.organizationId);\n            response.data.forEach(u => {\n                const name = u.name == null || u.name.trim() === '' ? u.email : u.name;\n                this.orgUsersIdMap.set(u.id, { name: name, email: u.email });\n                this.orgUsersUserIdMap.set(u.userId, { name: name, email: u.email });\n            });\n        }\n        await this.loadEvents(true);\n        this.loaded = true;\n    }\n\n    async loadEvents(clearExisting: boolean) {\n        if (this.refreshPromise != null || this.morePromise != null) {\n            return;\n        }\n\n        let dates: string[] = null;\n        try {\n            dates = this.eventService.formatDateFilters(this.start, this.end);\n        } catch (e) {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidDateRange'));\n            return;\n        }\n\n        this.loading = true;\n        let response: ListResponse<EventResponse>;\n        try {\n            let promise: Promise<any>;\n            if (this.entity === 'user') {\n                promise = this.apiService.getEventsOrganizationUser(this.organizationId, this.entityId,\n                    dates[0], dates[1], clearExisting ? null : this.continuationToken);\n            } else {\n                promise = this.apiService.getEventsCipher(this.entityId,\n                    dates[0], dates[1], clearExisting ? null : this.continuationToken);\n            }\n            if (clearExisting) {\n                this.refreshPromise = promise;\n            } else {\n                this.morePromise = promise;\n            }\n            response = await promise;\n        } catch { }\n\n        this.continuationToken = response.continuationToken;\n        const events = response.data.map(r => {\n            const userId = r.actingUserId == null ? r.userId : r.actingUserId;\n            const eventInfo = this.eventService.getEventInfo(r);\n            const user = this.showUser && userId != null && this.orgUsersUserIdMap.has(userId) ?\n                this.orgUsersUserIdMap.get(userId) : null;\n            return {\n                message: eventInfo.message,\n                appIcon: eventInfo.appIcon,\n                appName: eventInfo.appName,\n                userId: userId,\n                userName: user != null ? user.name : this.showUser ? this.i18nService.t('unknown') : null,\n                userEmail: user != null ? user.email : this.showUser ? '' : null,\n                date: r.date,\n                ip: r.ipAddress,\n                type: r.type,\n            };\n        });\n\n        if (!clearExisting && this.events != null && this.events.length > 0) {\n            this.events = this.events.concat(events);\n        } else {\n            this.events = events;\n        }\n\n        this.loading = false;\n        this.morePromise = null;\n        this.refreshPromise = null;\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"eventLogsTitle\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"eventLogsTitle\">\n                    {{'eventLogs' | i18n}}\n                    <small class=\"text-muted\" *ngIf=\"name\">{{name}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"!loaded\">\n                <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                <span class=\"sr-only\">{{'loading' | i18n}}</span>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"loaded\">\n                <div class=\"d-flex\">\n                    <div class=\"form-inline\">\n                        <label class=\"sr-only\" for=\"start\">{{'startDate' | i18n}}</label>\n                        <input type=\"datetime-local\" class=\"form-control form-control-sm\" id=\"start\"\n                            placeholder=\"{{'startDate' | i18n}}\" [(ngModel)]=\"start\" placeholder=\"YYYY-MM-DDTHH:MM\">\n                        <span class=\"mx-2\">-</span>\n                        <label class=\"sr-only\" for=\"end\">{{'endDate' | i18n}}</label>\n                        <input type=\"datetime-local\" class=\"form-control form-control-sm\" id=\"end\"\n                            placeholder=\"{{'endDate' | i18n}}\" [(ngModel)]=\"end\" placeholder=\"YYYY-MM-DDTHH:MM\">\n                    </div>\n                    <button #refreshBtn [appApiAction]=\"refreshPromise\" type=\"button\"\n                        class=\"btn btn-sm btn-outline-primary ml-3\" (click)=\"loadEvents(true)\"\n                        [disabled]=\"loaded && refreshBtn.loading\">\n                        <i class=\"fa fa-refresh fa-fw\" [ngClass]=\"{'fa-spin': loaded && refreshBtn.loading}\"\n                            aria-hidden=\"true\"></i>\n                        {{'refresh' | i18n}}\n                    </button>\n                </div>\n                <hr>\n                <div *ngIf=\"!events || !events.length\">\n                    {{'noEventsInList' | i18n}}\n                </div>\n                <table class=\"table table-hover mb-0\" *ngIf=\"events && events.length\">\n                    <thead>\n                        <tr>\n                            <th class=\"border-top-0\" width=\"210\">{{'timestamp' | i18n}}</th>\n                            <th class=\"border-top-0\" width=\"40\">\n                                <span class=\"sr-only\">{{'device' | i18n}}</span>\n                            </th>\n                            <th class=\"border-top-0\" width=\"150\" *ngIf=\"showUser\">{{'user' | i18n}}</th>\n                            <th class=\"border-top-0\">{{'event' | i18n}}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let e of events\">\n                            <td>{{e.date | date:'medium'}}</td>\n                            <td>\n                                <i class=\"text-muted fa fa-lg {{e.appIcon}}\" title=\"{{e.appName}}, {{e.ip}}\"\n                                    aria-hidden=\"true\"></i>\n                                <span class=\"sr-only\">{{e.appName}}, {{e.ip}}</span>\n                            </td>\n                            <td *ngIf=\"showUser\">\n                                <span appA11yTitle=\"{{e.userEmail}}\">{{e.userName}}</span>\n                            </td>\n                            <td [innerHTML]=\"e.message\"></td>\n                        </tr>\n                    </tbody>\n                </table>\n                <button #moreBtn [appApiAction]=\"morePromise\" type=\"button\" class=\"btn btn-block btn-link btn-submit\"\n                    (click)=\"loadEvents(false)\" [disabled]=\"loaded && moreBtn.loading\" *ngIf=\"continuationToken\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'loadMore' | i18n}}</span>\n                </button>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close' | i18n}}</button>\n            </div>\n        </div>\n    </div>\n</div>\n","import { BaseResponse } from '../response/baseResponse';\n\nexport class PermissionsApi extends BaseResponse {\n    accessBusinessPortal: boolean;\n    accessEventLogs: boolean;\n    accessImportExport: boolean;\n    accessReports: boolean;\n    manageAllCollections: boolean;\n    manageAssignedCollections: boolean;\n    manageCiphers: boolean;\n    manageGroups: boolean;\n    manageSso: boolean;\n    managePolicies: boolean;\n    manageUsers: boolean;\n    manageResetPassword: boolean;\n\n    constructor(data: any = null) {\n        super(data);\n        if (data == null) {\n            return this;\n        }\n        this.accessBusinessPortal = this.getResponseProperty('AccessBusinessPortal');\n        this.accessEventLogs = this.getResponseProperty('AccessEventLogs');\n        this.accessImportExport = this.getResponseProperty('AccessImportExport');\n        this.accessReports = this.getResponseProperty('AccessReports');\n        this.manageAllCollections = this.getResponseProperty('ManageAllCollections');\n        this.manageAssignedCollections = this.getResponseProperty('ManageAssignedCollections');\n        this.manageCiphers = this.getResponseProperty('ManageCiphers');\n        this.manageGroups = this.getResponseProperty('ManageGroups');\n        this.manageSso = this.getResponseProperty('ManageSso');\n        this.managePolicies = this.getResponseProperty('ManagePolicies');\n        this.manageUsers = this.getResponseProperty('ManageUsers');\n        this.manageResetPassword = this.getResponseProperty('ManageResetPassword');\n    }\n}\n","import { Component } from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { PasswordVerificationRequest } from 'jslib/models/request/passwordVerificationRequest';\n\nimport { ApiKeyResponse } from 'jslib/models/response/apiKeyResponse';\n\n@Component({\n    selector: 'app-api-key',\n    templateUrl: 'api-key.component.html',\n})\nexport class ApiKeyComponent {\n    keyType: string;\n    isRotation: boolean;\n    postKey: (entityId: string, request: PasswordVerificationRequest) => Promise<ApiKeyResponse>;\n    entityId: string;\n    scope: string;\n    grantType: string;\n    apiKeyTitle: string;\n    apiKeyWarning: string;\n    apiKeyDescription: string;\n\n    masterPassword: string;\n    formPromise: Promise<ApiKeyResponse>;\n    clientId: string;\n    clientSecret: string;\n\n    constructor(private i18nService: I18nService, private toasterService: ToasterService,\n        private cryptoService: CryptoService) { }\n\n    async submit() {\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        const request = new PasswordVerificationRequest();\n        request.masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n        try {\n            this.formPromise = this.postKey(this.entityId, request);\n            const response = await this.formPromise;\n            this.clientSecret = response.apiKey;\n            this.clientId = `${this.keyType}.${this.entityId}`;\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"apiKeyTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"apiKeyTitle\">{{apiKeyTitle | i18n}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>{{apiKeyDescription | i18n}}</p>\n                <ng-container *ngIf=\"!clientSecret\">\n                    <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                    <input id=\"masterPassword\" type=\"password\" name=\"MasterPasswordHash\" class=\"form-control\"\n                        [(ngModel)]=\"masterPassword\" required appAutofocus appInputVerbatim>\n                </ng-container>\n                <app-callout type=\"warning\" *ngIf=\"clientSecret\">{{apiKeyWarning | i18n}}</app-callout>\n                <app-callout type=\"info\" title=\"{{'oauth2ClientCredentials' | i18n}}\" icon=\"fa-key\"\n                    *ngIf=\"clientSecret\">\n                    <p class=\"mb-1\">\n                        <strong>client_id:</strong><br>\n                        <code>{{clientId}}</code>\n                    </p>\n                    <p class=\"mb-1\">\n                        <strong>client_secret:</strong><br>\n                        <code>{{clientSecret}}</code>\n                    </p>\n                    <p class=\"mb-1\">\n                        <strong>scope:</strong><br>\n                        <code>{{scope}}</code>\n                    </p>\n                    <p class=\"mb-0\">\n                        <strong>grant_type:</strong><br>\n                        <code>{{grantType}}</code>\n                    </p>\n                </app-callout>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\"\n                    *ngIf=\"!clientSecret\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{(isRotation ? 'rotateApiKey' : 'viewApiKey') | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    Input,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { PasswordVerificationRequest } from 'jslib/models/request/passwordVerificationRequest';\n\n@Component({\n    selector: 'app-purge-vault',\n    templateUrl: 'purge-vault.component.html',\n})\nexport class PurgeVaultComponent {\n    @Input() organizationId?: string = null;\n\n    masterPassword: string;\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private cryptoService: CryptoService,\n        private router: Router) { }\n\n    async submit() {\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        const request = new PasswordVerificationRequest();\n        request.masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n        try {\n            this.formPromise = this.apiService.postPurgeCiphers(request, this.organizationId);\n            await this.formPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('vaultPurged'));\n            if (this.organizationId != null) {\n                this.router.navigate(['organizations', this.organizationId, 'vault']);\n            } else {\n                this.router.navigate(['vault']);\n            }\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"purgeVaultTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"purgeVaultTitle\">{{'purgeVault' | i18n}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>{{(organizationId ? 'purgeOrgVaultDesc' : 'purgeVaultDesc') | i18n}}</p>\n                <app-callout type=\"warning\">{{'purgeVaultWarning' | i18n}}</app-callout>\n                <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                <input id=\"masterPassword\" type=\"password\" name=\"MasterPasswordHash\" class=\"form-control\"\n                    [(ngModel)]=\"masterPassword\" required appAutofocus appInputVerbatim>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-danger btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'purgeVault' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { BillingResponse } from 'jslib/models/response/billingResponse';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { PaymentMethodType } from 'jslib/enums/paymentMethodType';\nimport { TransactionType } from 'jslib/enums/transactionType';\nimport { VerifyBankRequest } from 'jslib/models/request/verifyBankRequest';\n\n@Component({\n    selector: 'app-user-billing',\n    templateUrl: 'user-billing.component.html',\n})\nexport class UserBillingComponent implements OnInit {\n    loading = false;\n    firstLoaded = false;\n    showAdjustPayment = false;\n    showAddCredit = false;\n    billing: BillingResponse;\n    paymentMethodType = PaymentMethodType;\n    transactionType = TransactionType;\n    organizationId: string;\n    verifyAmount1: number;\n    verifyAmount2: number;\n\n    verifyBankPromise: Promise<any>;\n\n    constructor(protected apiService: ApiService, protected i18nService: I18nService,\n        protected toasterService: ToasterService, protected platformUtilsService: PlatformUtilsService) { }\n\n    async ngOnInit() {\n        await this.load();\n        this.firstLoaded = true;\n    }\n\n    async load() {\n        if (this.loading) {\n            return;\n        }\n        this.loading = true;\n        if (this.organizationId != null) {\n            this.billing = await this.apiService.getOrganizationBilling(this.organizationId);\n        } else {\n            this.billing = await this.apiService.getUserBilling();\n        }\n        this.loading = false;\n    }\n\n    async verifyBank() {\n        if (this.loading) {\n            return;\n        }\n\n        try {\n            const request = new VerifyBankRequest();\n            request.amount1 = this.verifyAmount1;\n            request.amount2 = this.verifyAmount2;\n            this.verifyBankPromise = this.apiService.postOrganizationVerifyBank(this.organizationId, request);\n            await this.verifyBankPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('verifiedBankAccount'));\n            this.load();\n        } catch { }\n    }\n\n    addCredit() {\n        if (this.paymentSourceInApp) {\n            this.platformUtilsService.showDialog(this.i18nService.t('cannotPerformInAppPurchase'),\n                this.i18nService.t('addCredit'), null, null, 'warning');\n            return;\n        }\n        this.showAddCredit = true;\n    }\n\n    closeAddCredit(load: boolean) {\n        this.showAddCredit = false;\n        if (load) {\n            this.load();\n        }\n    }\n\n    changePayment() {\n        if (this.paymentSourceInApp) {\n            this.platformUtilsService.showDialog(this.i18nService.t('cannotPerformInAppPurchase'),\n                this.i18nService.t('changePaymentMethod'), null, null, 'warning');\n            return;\n        }\n        this.showAdjustPayment = true;\n    }\n\n    closePayment(load: boolean) {\n        this.showAdjustPayment = false;\n        if (load) {\n            this.load();\n        }\n    }\n\n    get isCreditBalance() {\n        return this.billing == null || this.billing.balance <= 0;\n    }\n\n    get creditOrBalance() {\n        return Math.abs(this.billing != null ? this.billing.balance : 0);\n    }\n\n    get paymentSource() {\n        return this.billing != null ? this.billing.paymentSource : null;\n    }\n\n    get paymentSourceInApp() {\n        return this.paymentSource != null &&\n            (this.paymentSource.type === PaymentMethodType.AppleInApp ||\n                this.paymentSource.type === PaymentMethodType.GoogleInApp);\n    }\n\n    get invoices() {\n        return this.billing != null ? this.billing.invoices : null;\n    }\n\n    get transactions() {\n        return this.billing != null ? this.billing.transactions : null;\n    }\n}\n","<div class=\"page-header d-flex\">\n    <h1>\n        {{'billing' | i18n}}\n    </h1>\n    <button (click)=\"load()\" class=\"btn btn-sm btn-outline-primary ml-auto\" *ngIf=\"firstLoaded\" [disabled]=\"loading\">\n        <i class=\"fa fa-refresh fa-fw\" [ngClass]=\"{'fa-spin': loading}\" aria-hidden=\"true\"></i>\n        {{'refresh' | i18n}}\n    </button>\n</div>\n<ng-container *ngIf=\"!firstLoaded && loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</ng-container>\n<ng-container *ngIf=\"billing\">\n    <h2>{{(isCreditBalance ? 'accountCredit' : 'accountBalance') | i18n}}</h2>\n    <p class=\"text-lg\"><strong>{{creditOrBalance | currency:'$'}}</strong></p>\n    <p>{{'creditAppliedDesc' | i18n}}</p>\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"addCredit()\" *ngIf=\"!showAddCredit\">\n        {{'addCredit' | i18n}}\n    </button>\n    <app-add-credit [organizationId]=\"organizationId\" (onAdded)=\"closeAddCredit(true)\"\n        (onCanceled)=\"closeAddCredit(false)\" *ngIf=\"showAddCredit\">\n    </app-add-credit>\n    <h2 class=\"spaced-header\">{{'paymentMethod' | i18n}}</h2>\n    <p *ngIf=\"!paymentSource\">{{'noPaymentMethod' | i18n}}</p>\n    <ng-container *ngIf=\"paymentSource\">\n        <app-callout type=\"warning\" title=\"{{'verifyBankAccount' | i18n}}\"\n            *ngIf=\"paymentSource.type === paymentMethodType.BankAccount && paymentSource.needsVerification\">\n            <p>{{'verifyBankAccountDesc' | i18n}} {{'verifyBankAccountFailureWarning' | i18n}}</p>\n            <form #verifyForm class=\"form-inline\" (ngSubmit)=\"verifyBank()\" [appApiAction]=\"verifyBankPromise\"\n                ngNativeValidate>\n                <label class=\"sr-only\" for=\"verifyAmount1\">{{'amount' | i18n : '1'}}</label>\n                <div class=\"input-group mr-2\">\n                    <div class=\"input-group-prepend\">\n                        <div class=\"input-group-text\">$0.</div>\n                    </div>\n                    <input type=\"number\" class=\"form-control\" id=\"verifyAmount1\" placeholder=\"xx\" name=\"Amount1\"\n                        [(ngModel)]=\"verifyAmount1\" min=\"1\" max=\"99\" step=\"1\" required>\n                </div>\n                <label class=\"sr-only\" for=\"verifyAmount2\">{{'amount' | i18n : '2'}}</label>\n                <div class=\"input-group mr-2\">\n                    <div class=\"input-group-prepend\">\n                        <div class=\"input-group-text\">$0.</div>\n                    </div>\n                    <input type=\"number\" class=\"form-control\" id=\"verifyAmount2\" placeholder=\"xx\" name=\"Amount2\"\n                        [(ngModel)]=\"verifyAmount2\" min=\"1\" max=\"99\" step=\"1\" required>\n                </div>\n                <button type=\"submit\" class=\"btn btn-outline-primary btn-submit\" [disabled]=\"verifyForm.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'verifyBankAccount' | i18n}}</span>\n                </button>\n            </form>\n        </app-callout>\n        <p>\n            <i class=\"fa fa-fw\" [ngClass]=\"{'fa-credit-card': paymentSource.type === paymentMethodType.Card,\n                    'fa-university': paymentSource.type === paymentMethodType.BankAccount,\n                    'fa-money': paymentSource.type === paymentMethodType.Check,\n                    'fa-paypal text-primary': paymentSource.type === paymentMethodType.PayPal,\n                    'fa-apple text-muted': paymentSource.type === paymentMethodType.AppleInApp,\n                    'fa-google text-muted': paymentSource.type === paymentMethodType.GoogleInApp}\"></i>\n            <span *ngIf=\"paymentSourceInApp\">{{'inAppPurchase' | i18n}}</span>\n            {{paymentSource.description}}\n        </p>\n    </ng-container>\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"changePayment()\" *ngIf=\"!showAdjustPayment\">\n        {{(paymentSource ? 'changePaymentMethod' : 'addPaymentMethod') | i18n}}\n    </button>\n    <app-adjust-payment [currentType]=\"paymentSource != null ? paymentSource.type : null\"\n        [organizationId]=\"organizationId\" (onAdjusted)=\"closePayment(true)\" (onCanceled)=\"closePayment(false)\"\n        *ngIf=\"showAdjustPayment\">\n    </app-adjust-payment>\n    <h2 class=\"spaced-header\">{{'invoices' | i18n}}</h2>\n    <p *ngIf=\"!invoices || !invoices.length\">{{'noInvoices' | i18n}}</p>\n    <table class=\"table mb-2\" *ngIf=\"invoices && invoices.length\">\n        <tbody>\n            <tr *ngFor=\"let i of invoices\">\n                <td>{{i.date | date:'mediumDate'}}</td>\n                <td>\n                    <a href=\"{{i.pdfUrl}}\" target=\"_blank\" rel=\"noopener\" class=\"mr-2\"\n                        appA11yTitle=\"{{'downloadInvoice' | i18n}}\">\n                        <i class=\"fa fa-file-pdf-o\" aria-hidden=\"true\"></i></a>\n                    <a href=\"{{i.url}}\" target=\"_blank\" rel=\"noopener\" title=\"{{'viewInvoice' | i18n}}\">\n                        {{'invoiceNumber' | i18n : i.number}}</a>\n                </td>\n                <td>{{i.amount | currency:'$'}}</td>\n                <td>\n                    <span *ngIf=\"i.paid\">\n                        <i class=\"fa fa-check text-success\" aria-hidden=\"true\"></i>\n                        {{'paid' | i18n}}\n                    </span>\n                    <span *ngIf=\"!i.paid\">\n                        <i class=\"fa fa-exclamation-circle text-muted\" aria-hidden=\"true\"></i>\n                        {{'unpaid' | i18n}}\n                    </span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    <h2 class=\"spaced-header\">{{'transactions' | i18n}}</h2>\n    <p *ngIf=\"!transactions || !transactions.length\">{{'noTransactions' | i18n}}</p>\n    <table class=\"table mb-2\" *ngIf=\"transactions && transactions.length\">\n        <tbody>\n            <tr *ngFor=\"let t of transactions\">\n                <td>{{t.createdDate | date:'mediumDate'}}</td>\n                <td>\n                    <span *ngIf=\"t.type === transactionType.Charge || t.type === transactionType.Credit\">\n                        {{'chargeNoun' | i18n}}\n                    </span>\n                    <span *ngIf=\"t.type === transactionType.Refund\">{{'refundNoun' | i18n}}</span>\n                </td>\n                <td>\n                    <i class=\"fa fa-fw\" *ngIf=\"t.paymentMethodType\" aria-hidden=\"true\" [ngClass]=\"{\n                            'fa-credit-card': t.paymentMethodType === paymentMethodType.Card,\n                            'fa-university': t.paymentMethodType === paymentMethodType.BankAccount ||\n                                t.paymentMethodType === paymentMethodType.WireTransfer,\n                            'fa-bitcoin text-warning': t.paymentMethodType === paymentMethodType.BitPay,\n                            'fa-paypal text-primary': t.paymentMethodType === paymentMethodType.PayPal\n                        }\"></i>\n                    {{t.details}}\n                </td>\n                <td [ngClass]=\"{'text-strike': t.refunded}\" title=\"{{(t.refunded ? 'refunded' : '') | i18n}}\">\n                    {{t.amount | currency:'$'}}</td>\n            </tr>\n        </tbody>\n    </table>\n    <small class=\"text-muted\">* {{'chargesStatement' | i18n : 'BITWARDEN'}}</small>\n</ng-container>\n","import {\n    Component,\n    ElementRef,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n    ViewChild,\n} from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { PaymentMethodType } from 'jslib/enums/paymentMethodType';\n\nimport { BitPayInvoiceRequest } from 'jslib/models/request/bitPayInvoiceRequest';\n\nimport { WebConstants } from '../../services/webConstants';\n\n@Component({\n    selector: 'app-add-credit',\n    templateUrl: 'add-credit.component.html',\n})\nexport class AddCreditComponent implements OnInit {\n    @Input() creditAmount: string;\n    @Input() showOptions = true;\n    @Input() method = PaymentMethodType.PayPal;\n    @Input() organizationId: string;\n    @Output() onAdded = new EventEmitter();\n    @Output() onCanceled = new EventEmitter();\n\n    @ViewChild('ppButtonForm', { read: ElementRef, static: true }) ppButtonFormRef: ElementRef;\n\n    paymentMethodType = PaymentMethodType;\n    ppButtonFormAction = WebConstants.paypal.buttonActionProduction;\n    ppButtonBusinessId = WebConstants.paypal.businessIdProduction;\n    ppButtonCustomField: string;\n    ppLoading = false;\n    subject: string;\n    returnUrl: string;\n    formPromise: Promise<any>;\n\n    private userId: string;\n    private name: string;\n    private email: string;\n\n    constructor(private userService: UserService, private apiService: ApiService,\n        private platformUtilsService: PlatformUtilsService) {\n        if (platformUtilsService.isDev()) {\n            this.ppButtonFormAction = WebConstants.paypal.buttonActionSandbox;\n            this.ppButtonBusinessId = WebConstants.paypal.businessIdSandbox;\n        }\n    }\n\n    async ngOnInit() {\n        if (this.organizationId != null) {\n            if (this.creditAmount == null) {\n                this.creditAmount = '20.00';\n            }\n            this.ppButtonCustomField = 'organization_id:' + this.organizationId;\n            const org = await this.userService.getOrganization(this.organizationId);\n            if (org != null) {\n                this.subject = org.name;\n                this.name = org.name;\n            }\n        } else {\n            if (this.creditAmount == null) {\n                this.creditAmount = '10.00';\n            }\n            this.userId = await this.userService.getUserId();\n            this.subject = await this.userService.getEmail();\n            this.email = this.subject;\n            this.ppButtonCustomField = 'user_id:' + this.userId;\n        }\n        this.ppButtonCustomField += ',account_credit:1';\n        this.returnUrl = window.location.href;\n    }\n\n    async submit() {\n        if (this.creditAmount == null || this.creditAmount === '') {\n            return;\n        }\n\n        if (this.method === PaymentMethodType.PayPal) {\n            this.ppButtonFormRef.nativeElement.submit();\n            this.ppLoading = true;\n            return;\n        }\n        if (this.method === PaymentMethodType.BitPay) {\n            try {\n                const req = new BitPayInvoiceRequest();\n                req.email = this.email;\n                req.name = this.name;\n                req.credit = true;\n                req.amount = this.creditAmountNumber;\n                req.organizationId = this.organizationId;\n                req.userId = this.userId;\n                req.returnUrl = this.returnUrl;\n                this.formPromise = this.apiService.postBitPayInvoice(req);\n                const bitPayUrl: string = await this.formPromise;\n                this.platformUtilsService.launchUri(bitPayUrl);\n            } catch { }\n            return;\n        }\n        try {\n            this.onAdded.emit();\n        } catch { }\n    }\n\n    cancel() {\n        this.onCanceled.emit();\n    }\n\n    formatAmount() {\n        try {\n            if (this.creditAmount != null && this.creditAmount !== '') {\n                const floatAmount = Math.abs(parseFloat(this.creditAmount));\n                if (floatAmount > 0) {\n                    this.creditAmount = parseFloat((Math.round(floatAmount * 100) / 100).toString())\n                        .toFixed(2).toString();\n                    return;\n                }\n            }\n        } catch { }\n        this.creditAmount = '';\n    }\n\n    get creditAmountNumber(): number {\n        if (this.creditAmount != null && this.creditAmount !== '') {\n            try {\n                return parseFloat(this.creditAmount);\n            } catch { }\n        }\n        return null;\n    }\n}\n","<form #form class=\"card\" (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"card-body\">\n        <button type=\"button\" class=\"close\" appA11yTitle=\"{{'cancel' | i18n}}\" (click)=\"cancel()\"><span\n                aria-hidden=\"true\">&times;</span></button>\n        <h3 class=\"card-body-header\">{{'addCredit' | i18n}}</h3>\n        <div class=\"mb-4 text-lg\" *ngIf=\"showOptions\">\n            <div class=\"form-check form-check-inline\">\n                <input class=\"form-check-input\" type=\"radio\" name=\"Method\" id=\"credit-method-paypal\"\n                    [value]=\"paymentMethodType.PayPal\" [(ngModel)]=\"method\">\n                <label class=\"form-check-label\" for=\"credit-method-paypal\">\n                    <i class=\"fa fa-fw fa-paypal\" aria-hidden=\"true\"></i> PayPal</label>\n            </div>\n            <div class=\"form-check form-check-inline\">\n                <input class=\"form-check-input\" type=\"radio\" name=\"Method\" id=\"credit-method-bitcoin\"\n                    [value]=\"paymentMethodType.BitPay\" [(ngModel)]=\"method\">\n                <label class=\"form-check-label\" for=\"credit-method-bitcoin\">\n                    <i class=\"fa fa-fw fa-bitcoin\" aria-hidden=\"true\"></i> Bitcoin</label>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <div class=\"row\">\n                <div class=\"col-4\">\n                    <label for=\"creditAmount\">{{'amount' | i18n}}</label>\n                    <div class=\"input-group\">\n                        <div class=\"input-group-prepend\"><span class=\"input-group-text\">$USD</span></div>\n                        <input id=\"creditAmount\" class=\"form-control\" type=\"text\" name=\"CreditAmount\"\n                            [(ngModel)]=\"creditAmount\" (blur)=\"formatAmount()\" required>\n                    </div>\n                </div>\n            </div>\n            <small class=\"form-text text-muted\">{{'creditDelayed' | i18n}}</small>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading || ppLoading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'submit' | i18n}}</span>\n        </button>\n        <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\">\n            {{'cancel' | i18n}}\n        </button>\n    </div>\n</form>\n<form #ppButtonForm action=\"{{ppButtonFormAction}}\" method=\"post\" target=\"_top\">\n    <input type=\"hidden\" name=\"cmd\" value=\"_xclick\">\n    <input type=\"hidden\" name=\"business\" value=\"{{ppButtonBusinessId}}\">\n    <input type=\"hidden\" name=\"button_subtype\" value=\"services\">\n    <input type=\"hidden\" name=\"no_note\" value=\"1\">\n    <input type=\"hidden\" name=\"no_shipping\" value=\"1\">\n    <input type=\"hidden\" name=\"rm\" value=\"1\">\n    <input type=\"hidden\" name=\"return\" value=\"{{returnUrl}}\">\n    <input type=\"hidden\" name=\"cancel_return\" value=\"{{returnUrl}}\">\n    <input type=\"hidden\" name=\"currency_code\" value=\"USD\">\n    <input type=\"hidden\" name=\"image_url\" value=\"https://bitwarden.com/images/paypal-banner.png\">\n    <input type=\"hidden\" name=\"bn\" value=\"PP-BuyNowBF:btn_buynow_LG.gif:NonHosted\">\n    <input type=\"hidden\" name=\"amount\" value=\"{{creditAmount}}\">\n    <input type=\"hidden\" name=\"custom\" value=\"{{ppButtonCustomField}}\">\n    <input type=\"hidden\" name=\"item_name\" value=\"Bitwarden Account Credit\">\n    <input type=\"hidden\" name=\"item_number\" value=\"{{subject}}\">\n</form>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    ViewChild,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { PaymentRequest } from 'jslib/models/request/paymentRequest';\n\nimport { PaymentMethodType } from 'jslib/enums/paymentMethodType';\n\nimport { PaymentComponent } from './payment.component';\nimport { TaxInfoComponent } from './tax-info.component';\n\n@Component({\n    selector: 'app-adjust-payment',\n    templateUrl: 'adjust-payment.component.html',\n})\nexport class AdjustPaymentComponent {\n    @ViewChild(PaymentComponent, { static: true }) paymentComponent: PaymentComponent;\n    @ViewChild(TaxInfoComponent, { static: true }) taxInfoComponent: TaxInfoComponent;\n\n    @Input() currentType?: PaymentMethodType;\n    @Input() organizationId: string;\n    @Output() onAdjusted = new EventEmitter();\n    @Output() onCanceled = new EventEmitter();\n\n    paymentMethodType = PaymentMethodType;\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService) { }\n\n    async submit() {\n        try {\n            const request = new PaymentRequest();\n            this.formPromise = this.paymentComponent.createPaymentToken().then(result => {\n                request.paymentToken = result[0];\n                request.paymentMethodType = result[1];\n                request.postalCode = this.taxInfoComponent.taxInfo.postalCode;\n                request.country = this.taxInfoComponent.taxInfo.country;\n                if (this.organizationId == null) {\n                    return this.apiService.postAccountPayment(request);\n                } else {\n                    request.taxId = this.taxInfoComponent.taxInfo.taxId;\n                    request.state = this.taxInfoComponent.taxInfo.state;\n                    request.line1 = this.taxInfoComponent.taxInfo.line1;\n                    request.line2 = this.taxInfoComponent.taxInfo.line2;\n                    request.city = this.taxInfoComponent.taxInfo.city;\n                    request.state = this.taxInfoComponent.taxInfo.state;\n                    return this.apiService.postOrganizationPayment(this.organizationId, request);\n                }\n            });\n            await this.formPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('updatedPaymentMethod'));\n            this.onAdjusted.emit();\n        } catch { }\n    }\n\n    cancel() {\n        this.onCanceled.emit();\n    }\n\n    changeCountry() {\n        if (this.taxInfoComponent.taxInfo.country === 'US') {\n            this.paymentComponent.hideBank = !this.organizationId;\n        } else {\n            this.paymentComponent.hideBank = true;\n            if (this.paymentComponent.method === PaymentMethodType.BankAccount) {\n                this.paymentComponent.method = PaymentMethodType.Card;\n                this.paymentComponent.changeMethod();\n            }\n        }\n    }\n}\n","<form #form class=\"card\" (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"card-body\">\n        <button type=\"button\" class=\"close\" appA11yTitle=\"{{'cancel' | i18n}}\" (click)=\"cancel()\"><span\n                aria-hidden=\"true\">&times;</span></button>\n        <h3 class=\"card-body-header\">{{(currentType != null ? 'changePaymentMethod' : 'addPaymentMethod') | i18n}}</h3>\n        <app-payment [hideBank]=\"!organizationId\" [hideCredit]=\"true\"></app-payment>\n        <app-tax-info (onCountryChanged)=\"changeCountry()\"></app-tax-info>\n        <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'submit' | i18n}}</span>\n        </button>\n        <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\">\n            {{'cancel' | i18n}}\n        </button>\n    </div>\n</form>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\n@Component({\n    selector: 'app-update-license',\n    templateUrl: 'update-license.component.html',\n})\nexport class UpdateLicenseComponent {\n    @Input() organizationId: string;\n    @Output() onUpdated = new EventEmitter();\n    @Output() onCanceled = new EventEmitter();\n\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService) { }\n\n    async submit() {\n        const fileEl = document.getElementById('file') as HTMLInputElement;\n        const files = fileEl.files;\n        if (files == null || files.length === 0) {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('selectFile'));\n            return;\n        }\n\n        try {\n            const fd = new FormData();\n            fd.append('license', files[0]);\n\n            let updatePromise: Promise<any> = null;\n            if (this.organizationId == null) {\n                updatePromise = this.apiService.postAccountLicense(fd);\n            } else {\n                updatePromise = this.apiService.postOrganizationLicenseUpdate(this.organizationId, fd);\n            }\n\n            this.formPromise = updatePromise.then(() => {\n                return this.apiService.refreshIdentityToken();\n            });\n\n            await this.formPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('updatedLicense'));\n            this.onUpdated.emit();\n        } catch { }\n    }\n\n    cancel() {\n        this.onCanceled.emit();\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"form-group\">\n        <label for=\"file\" class=\"sr-only\">{{'licenseFile' | i18n}}</label>\n        <input type=\"file\" id=\"file\" class=\"form-control-file\" name=\"file\" required>\n        <small\n            class=\"form-text text-muted\">{{'licenseFileDesc' | i18n : (!organizationId ? 'bitwarden_premium_license.json' : 'bitwarden_organization_license.json')}}</small>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'submit' | i18n}}</span>\n    </button>\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\">\n        {{'cancel' | i18n}}\n    </button>\n</form>\n","export enum ProductType {\n    Free = 0,\n    Families = 1,\n    Teams = 2,\n    Enterprise = 3,\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    ViewChild,\n} from '@angular/core';\n\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { StorageRequest } from 'jslib/models/request/storageRequest';\n\nimport { PaymentResponse } from 'jslib/models/response/paymentResponse';\n\nimport { PaymentComponent } from './payment.component';\n\n@Component({\n    selector: 'app-adjust-storage',\n    templateUrl: 'adjust-storage.component.html',\n})\nexport class AdjustStorageComponent {\n    @Input() storageGbPrice = 0;\n    @Input() add = true;\n    @Input() organizationId: string;\n    @Input() interval = 'year';\n    @Output() onAdjusted = new EventEmitter<number>();\n    @Output() onCanceled = new EventEmitter();\n\n    @ViewChild(PaymentComponent, { static: true }) paymentComponent: PaymentComponent;\n\n    storageAdjustment = 0;\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private router: Router,\n        private activatedRoute: ActivatedRoute) { }\n\n    async submit() {\n        try {\n            const request = new StorageRequest();\n            request.storageGbAdjustment = this.storageAdjustment;\n            if (!this.add) {\n                request.storageGbAdjustment *= -1;\n            }\n\n            let paymentFailed = false;\n            const action = async () => {\n                let response: Promise<PaymentResponse>;\n                if (this.organizationId == null) {\n                    response = this.formPromise = this.apiService.postAccountStorage(request);\n                } else {\n                    response = this.formPromise = this.apiService.postOrganizationStorage(this.organizationId, request);\n                }\n                const result = await response;\n                if (result != null && result.paymentIntentClientSecret != null) {\n                    try {\n                        await this.paymentComponent.handleStripeCardPayment(result.paymentIntentClientSecret, null);\n                    } catch {\n                        paymentFailed = true;\n                    }\n                }\n            };\n            this.formPromise = action();\n            await this.formPromise;\n            this.onAdjusted.emit(this.storageAdjustment);\n            if (paymentFailed) {\n                this.toasterService.popAsync({\n                    body: this.i18nService.t('couldNotChargeCardPayInvoice'),\n                    type: 'warning',\n                    timeout: 10000,\n                });\n                this.router.navigate(['../billing'], { relativeTo: this.activatedRoute });\n            } else {\n                this.toasterService.popAsync('success', null,\n                    this.i18nService.t('adjustedStorage', request.storageGbAdjustment.toString()));\n            }\n        } catch { }\n    }\n\n    cancel() {\n        this.onCanceled.emit();\n    }\n\n    get adjustedStorageTotal(): number {\n        return this.storageGbPrice * this.storageAdjustment;\n    }\n}\n","<form #form class=\"card\" (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"card-body\">\n        <button type=\"button\" class=\"close\" appA11yTitle=\"{{'cancel' | i18n}}\" (click)=\"cancel()\"><span\n                aria-hidden=\"true\">&times;</span></button>\n        <h3 class=\"card-body-header\">{{(add ? 'addStorage' : 'removeStorage') | i18n}}</h3>\n        <div class=\"row\">\n            <div class=\"form-group col-6\">\n                <label for=\"storageAdjustment\">{{(add ? 'gbStorageAdd' : 'gbStorageRemove') | i18n}}</label>\n                <input id=\"storageAdjustment\" class=\"form-control\" type=\"number\" name=\"StroageGbAdjustment\"\n                    [(ngModel)]=\"storageAdjustment\" min=\"0\" max=\"99\" step=\"1\" required>\n            </div>\n        </div>\n        <div *ngIf=\"add\" class=\"mb-3\">\n            <strong>{{'total' | i18n}}:</strong> {{storageAdjustment || 0}} GB &times; {{storageGbPrice | currency:'$'}}\n            = {{adjustedStorageTotal\n            | currency:'$'}} /{{interval | i18n}}\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'submit' | i18n}}</span>\n        </button>\n        <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\">\n            {{'cancel' | i18n}}\n        </button>\n        <small class=\"d-block text-muted mt-3\">\n            {{(add ? 'storageAddNote' : 'storageRemoveNote') | i18n}}\n        </small>\n    </div>\n</form>\n<app-payment [showMethods]=\"false\"></app-payment>\n","import { Component } from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\nimport { UpdateTwoFactorDuoRequest } from 'jslib/models/request/updateTwoFactorDuoRequest';\nimport { TwoFactorDuoResponse } from 'jslib/models/response/twoFactorDuoResponse';\n\nimport { TwoFactorBaseComponent } from './two-factor-base.component';\n\n@Component({\n    selector: 'app-two-factor-duo',\n    templateUrl: 'two-factor-duo.component.html',\n})\nexport class TwoFactorDuoComponent extends TwoFactorBaseComponent {\n    type = TwoFactorProviderType.Duo;\n    ikey: string;\n    skey: string;\n    host: string;\n    formPromise: Promise<any>;\n\n    constructor(apiService: ApiService, i18nService: I18nService,\n        toasterService: ToasterService, platformUtilsService: PlatformUtilsService) {\n        super(apiService, i18nService, toasterService, platformUtilsService);\n    }\n\n    auth(authResponse: any) {\n        super.auth(authResponse);\n        this.processResponse(authResponse.response);\n    }\n\n    submit() {\n        if (this.enabled) {\n            return super.disable(this.formPromise);\n        } else {\n            return this.enable();\n        }\n    }\n\n    protected enable() {\n        const request = new UpdateTwoFactorDuoRequest();\n        request.masterPasswordHash = this.masterPasswordHash;\n        request.integrationKey = this.ikey;\n        request.secretKey = this.skey;\n        request.host = this.host;\n\n        return super.enable(async () => {\n            if (this.organizationId != null) {\n                this.formPromise = this.apiService.putTwoFactorOrganizationDuo(this.organizationId, request);\n            } else {\n                this.formPromise = this.apiService.putTwoFactorDuo(request);\n            }\n            const response = await this.formPromise;\n            await this.processResponse(response);\n        });\n    }\n\n    private processResponse(response: TwoFactorDuoResponse) {\n        this.ikey = response.integrationKey;\n        this.skey = response.secretKey;\n        this.host = response.host;\n        this.enabled = response.enabled;\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"2faDuoTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" title=\"2faDuoTitle\">\n                    {{'twoStepLogin' | i18n}}\n                    <small>Duo</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <app-two-factor-verify [organizationId]=\"organizationId\" [type]=\"type\" (onAuthed)=\"auth($event)\"\n                *ngIf=\"!authed\">\n            </app-two-factor-verify>\n            <form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate *ngIf=\"authed\"\n                autocomplete=\"off\">\n                <div class=\"modal-body\">\n                    <ng-container *ngIf=\"enabled\">\n                        <app-callout type=\"success\" title=\"{{'enabled' | i18n}}\" icon=\"fa-check-circle\">\n                            {{'twoStepLoginProviderEnabled' | i18n}}\n                        </app-callout>\n                        <img src=\"images/2.png\" class=\"float-right ml-3\" alt=\"\">\n                        <strong>{{'twoFactorDuoIntegrationKey' | i18n}}:</strong> {{ikey}}\n                        <br>\n                        <strong>{{'twoFactorDuoSecretKey' | i18n}}:</strong> {{skey}}\n                        <br>\n                        <strong>{{'twoFactorDuoApiHostname' | i18n}}:</strong> {{host}}\n                    </ng-container>\n                    <ng-container *ngIf=\"!enabled\">\n                        <img src=\"images/2.png\" class=\"float-right ml-3\" alt=\"\">\n                        <p>{{'twoFactorDuoDesc' | i18n}}</p>\n                        <div class=\"form-group\">\n                            <label for=\"ikey\">{{'twoFactorDuoIntegrationKey' | i18n}}</label>\n                            <input id=\"ikey\" type=\"text\" name=\"IntegrationKey\" class=\"form-control\" [(ngModel)]=\"ikey\"\n                                required appInputVerbatim>\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"skey\">{{'twoFactorDuoSecretKey' | i18n}}</label>\n                            <input id=\"skey\" type=\"password\" name=\"SecretKey\" class=\"form-control\" [(ngModel)]=\"skey\"\n                                required appInputVerbatim autocomplete=\"new-password\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"host\">{{'twoFactorDuoApiHostname' | i18n}}</label>\n                            <input id=\"host\" type=\"text\" name=\"Host\" class=\"form-control\" [(ngModel)]=\"host\"\n                                placeholder=\"{{'ex' | i18n}} api-xxxxxxxx.duosecurity.com\" required appInputVerbatim>\n                        </div>\n                    </ng-container>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        <span *ngIf=\"!enabled\">{{'enable' | i18n}}</span>\n                        <span *ngIf=\"enabled\">{{'disable' | i18n}}</span>\n                    </button>\n                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                        data-dismiss=\"modal\">{{'close' | i18n}}</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n    Type,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { TwoFactorProviders } from 'jslib/services/auth.service';\n\nimport { PolicyType } from 'jslib/enums/policyType';\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\n\nimport { ModalComponent } from '../modal.component';\n\nimport { TwoFactorAuthenticatorComponent } from './two-factor-authenticator.component';\nimport { TwoFactorDuoComponent } from './two-factor-duo.component';\nimport { TwoFactorEmailComponent } from './two-factor-email.component';\nimport { TwoFactorRecoveryComponent } from './two-factor-recovery.component';\nimport { TwoFactorWebAuthnComponent } from './two-factor-webauthn.component';\nimport { TwoFactorYubiKeyComponent } from './two-factor-yubikey.component';\n\n@Component({\n    selector: 'app-two-factor-setup',\n    templateUrl: 'two-factor-setup.component.html',\n})\nexport class TwoFactorSetupComponent implements OnInit {\n    @ViewChild('recoveryTemplate', { read: ViewContainerRef, static: true }) recoveryModalRef: ViewContainerRef;\n    @ViewChild('authenticatorTemplate', { read: ViewContainerRef, static: true }) authenticatorModalRef: ViewContainerRef;\n    @ViewChild('yubikeyTemplate', { read: ViewContainerRef, static: true }) yubikeyModalRef: ViewContainerRef;\n    @ViewChild('duoTemplate', { read: ViewContainerRef, static: true }) duoModalRef: ViewContainerRef;\n    @ViewChild('emailTemplate', { read: ViewContainerRef, static: true }) emailModalRef: ViewContainerRef;\n    @ViewChild('webAuthnTemplate', { read: ViewContainerRef, static: true }) webAuthnModalRef: ViewContainerRef;\n\n    organizationId: string;\n    providers: any[] = [];\n    canAccessPremium: boolean;\n    showPolicyWarning = false;\n    loading = true;\n\n    private modal: ModalComponent = null;\n\n    constructor(protected apiService: ApiService, protected userService: UserService,\n        protected componentFactoryResolver: ComponentFactoryResolver, protected messagingService: MessagingService,\n        protected policyService: PolicyService) { }\n\n    async ngOnInit() {\n        this.canAccessPremium = await this.userService.canAccessPremium();\n\n        for (const key in TwoFactorProviders) {\n            if (!TwoFactorProviders.hasOwnProperty(key)) {\n                continue;\n            }\n\n            const p = (TwoFactorProviders as any)[key];\n            if (this.filterProvider(p.type)) {\n                continue;\n            }\n\n            this.providers.push({\n                type: p.type,\n                name: p.name,\n                description: p.description,\n                enabled: false,\n                premium: p.premium,\n                sort: p.sort,\n            });\n        }\n\n        this.providers.sort((a: any, b: any) => a.sort - b.sort);\n        await this.load();\n    }\n\n    async load() {\n        this.loading = true;\n        const providerList = await this.getTwoFactorProviders();\n        providerList.data.forEach(p => {\n            this.providers.forEach(p2 => {\n                if (p.type === p2.type) {\n                    p2.enabled = p.enabled;\n                }\n            });\n        });\n        this.evaluatePolicies();\n        this.loading = false;\n    }\n\n    manage(type: TwoFactorProviderType) {\n        switch (type) {\n            case TwoFactorProviderType.Authenticator:\n                const authComp = this.openModal(this.authenticatorModalRef, TwoFactorAuthenticatorComponent);\n                authComp.onUpdated.subscribe((enabled: boolean) => {\n                    this.updateStatus(enabled, TwoFactorProviderType.Authenticator);\n                });\n                break;\n            case TwoFactorProviderType.Yubikey:\n                const yubiComp = this.openModal(this.yubikeyModalRef, TwoFactorYubiKeyComponent);\n                yubiComp.onUpdated.subscribe((enabled: boolean) => {\n                    this.updateStatus(enabled, TwoFactorProviderType.Yubikey);\n                });\n                break;\n            case TwoFactorProviderType.Duo:\n                const duoComp = this.openModal(this.duoModalRef, TwoFactorDuoComponent);\n                duoComp.onUpdated.subscribe((enabled: boolean) => {\n                    this.updateStatus(enabled, TwoFactorProviderType.Duo);\n                });\n                break;\n            case TwoFactorProviderType.Email:\n                const emailComp = this.openModal(this.emailModalRef, TwoFactorEmailComponent);\n                emailComp.onUpdated.subscribe((enabled: boolean) => {\n                    this.updateStatus(enabled, TwoFactorProviderType.Email);\n                });\n                break;\n            case TwoFactorProviderType.WebAuthn:\n                const webAuthnComp = this.openModal(this.webAuthnModalRef, TwoFactorWebAuthnComponent);\n                webAuthnComp.onUpdated.subscribe((enabled: boolean) => {\n                    this.updateStatus(enabled, TwoFactorProviderType.WebAuthn);\n                });\n                break;\n            default:\n                break;\n        }\n    }\n\n    recoveryCode() {\n        this.openModal(this.recoveryModalRef, TwoFactorRecoveryComponent);\n    }\n\n    async premiumRequired() {\n        if (!this.canAccessPremium) {\n            this.messagingService.send('premiumRequired');\n            return;\n        }\n    }\n\n    protected getTwoFactorProviders() {\n        return this.apiService.getTwoFactorProviders();\n    }\n\n    protected filterProvider(type: TwoFactorProviderType) {\n        return type === TwoFactorProviderType.OrganizationDuo;\n    }\n\n    protected openModal<T>(ref: ViewContainerRef, type: Type<T>): T {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = ref.createComponent(factory).instance;\n        const childComponent = this.modal.show<T>(type, ref);\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n        return childComponent;\n    }\n\n    protected updateStatus(enabled: boolean, type: TwoFactorProviderType) {\n        if (!enabled && this.modal != null) {\n            this.modal.close();\n        }\n        this.providers.forEach(p => {\n            if (p.type === type) {\n                p.enabled = enabled;\n            }\n        });\n        this.evaluatePolicies();\n    }\n\n    private async evaluatePolicies() {\n        if (this.organizationId == null && this.providers.filter(p => p.enabled).length === 1) {\n            const policies = await this.policyService.getAll(PolicyType.TwoFactorAuthentication);\n            this.showPolicyWarning = policies != null && policies.some(p => p.enabled);\n        } else {\n            this.showPolicyWarning = false;\n        }\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'twoStepLogin' | i18n}}</h1>\n</div>\n<p *ngIf=\"!organizationId\">{{'twoStepLoginDesc' | i18n}}</p>\n<p *ngIf=\"organizationId\">{{'twoStepLoginOrganizationDesc' | i18n}}</p>\n<app-callout type=\"warning\" *ngIf=\"!organizationId\">\n    <p>{{'twoStepLoginRecoveryWarning' | i18n}}</p>\n    <button type=\"button\" class=\"btn btn-outline-secondary\"\n        (click)=\"recoveryCode()\">{{'viewRecoveryCode' | i18n}}</button>\n</app-callout>\n<h2 [ngClass]=\"{'mt-5':!organizationId}\">\n    {{'providers' | i18n}}\n    <small *ngIf=\"loading\">\n        <i class=\"fa fa-spinner fa-spin fa-fw text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span class=\"sr-only\">{{'loading' | i18n}}</span>\n    </small>\n</h2>\n<app-callout type=\"warning\" *ngIf=\"showPolicyWarning\">\n    {{'twoStepLoginPolicyUserWarning' | i18n}}\n</app-callout>\n<ul class=\"list-group list-group-2fa\">\n    <li *ngFor=\"let p of providers\" class=\"list-group-item d-flex align-items-center\">\n        <div class=\"logo-2fa d-flex justify-content-center\">\n            <img [src]=\"'images/two-factor/' + p.type + '.png'\" alt=\"\">\n        </div>\n        <div class=\"mx-4\">\n            <h3 class=\"mb-0\">\n                {{p.name}}\n                <ng-container *ngIf=\"p.enabled\">\n                    <i class=\"fa fa-check text-success fa-fw\" title=\"{{'enabled' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span class=\"sr-only\">{{'enabled' | i18n}}</span>\n                </ng-container>\n                <a href=\"#\" appStopClick class=\"badge badge-primary\" *ngIf=\"!canAccessPremium && p.premium\"\n                    (click)=\"premiumRequired()\">\n                    {{'premium' | i18n}}\n                </a>\n            </h3>\n            {{p.description}}\n        </div>\n        <div class=\"ml-auto\">\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" [disabled]=\"!canAccessPremium && p.premium\"\n                (click)=\"manage(p.type)\">\n                {{'manage' | i18n}}\n            </button>\n        </div>\n    </li>\n</ul>\n\n<ng-template #authenticatorTemplate></ng-template>\n<ng-template #recoveryTemplate></ng-template>\n<ng-template #duoTemplate></ng-template>\n<ng-template #emailTemplate></ng-template>\n<ng-template #yubikeyTemplate></ng-template>\n<ng-template #webAuthnTemplate></ng-template>\n","import { Component } from '@angular/core';\n\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { EventService } from 'jslib/abstractions/event.service';\nimport { ExportService } from 'jslib/abstractions/export.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { ExportComponent as BaseExportComponent } from 'jslib/angular/components/export.component';\n\n@Component({\n    selector: 'app-export',\n    templateUrl: 'export.component.html',\n})\nexport class ExportComponent extends BaseExportComponent {\n    organizationId: string;\n\n    constructor(cryptoService: CryptoService, i18nService: I18nService,\n        platformUtilsService: PlatformUtilsService, exportService: ExportService,\n        eventService: EventService) {\n        super(cryptoService, i18nService, platformUtilsService, exportService, eventService, window);\n    }\n\n    protected saved() {\n        super.saved();\n        this.masterPassword = null;\n        this.platformUtilsService.showToast('success', null, this.i18nService.t('exportSuccess'));\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" ngNativeValidate [appApiAction]=\"formPromise\">\n    <div class=\"page-header\">\n        <h1>{{'exportVault' | i18n}}</h1>\n    </div>\n    <p>{{'exportMasterPassword' | i18n}}</p>\n    <div class=\"row\">\n        <div class=\"form-group col-6\">\n            <label for=\"format\">{{'fileFormat' | i18n}}</label>\n            <select class=\"form-control\" id=\"format\" name=\"Format\" [(ngModel)]=\"format\">\n                <option value=\"json\">.json</option>\n                <option value=\"csv\">.csv</option>\n                <option value=\"encrypted_json\">.json (Encrypted)</option>\n            </select>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"form-group col-6\">\n            <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n            <input id=\"masterPassword\" type=\"password\" name=\"MasterPassword\" class=\"form-control\"\n                [(ngModel)]=\"masterPassword\" required appInputVerbatim>\n        </div>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'exportVault' | i18n}}</span>\n    </button>\n</form>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n} from '@angular/core';\n\nimport { AuditService } from 'jslib/abstractions/audit.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { CipherReportComponent } from './cipher-report.component';\n\n@Component({\n    selector: 'app-exposed-passwords-report',\n    templateUrl: 'exposed-passwords-report.component.html',\n})\nexport class ExposedPasswordsReportComponent extends CipherReportComponent implements OnInit {\n    exposedPasswordMap = new Map<string, number>();\n\n    constructor(protected cipherService: CipherService, protected auditService: AuditService,\n        componentFactoryResolver: ComponentFactoryResolver, messagingService: MessagingService,\n        userService: UserService) {\n        super(componentFactoryResolver, userService, messagingService, true);\n    }\n\n    ngOnInit() {\n        this.checkAccess();\n    }\n\n    async load() {\n        if (await this.checkAccess()) {\n            super.load();\n        }\n    }\n\n    async setCiphers() {\n        const allCiphers = await this.getAllCiphers();\n        const exposedPasswordCiphers: CipherView[] = [];\n        const promises: Promise<void>[] = [];\n        allCiphers.forEach(c => {\n            if (c.type !== CipherType.Login || c.login.password == null || c.login.password === '' || c.isDeleted) {\n                return;\n            }\n            const promise = this.auditService.passwordLeaked(c.login.password).then(exposedCount => {\n                if (exposedCount > 0) {\n                    exposedPasswordCiphers.push(c);\n                    this.exposedPasswordMap.set(c.id, exposedCount);\n                }\n            });\n            promises.push(promise);\n        });\n        await Promise.all(promises);\n        this.ciphers = exposedPasswordCiphers;\n    }\n\n    protected getAllCiphers(): Promise<CipherView[]> {\n        return this.cipherService.getAllDecrypted();\n    }\n\n    protected canManageCipher(c: CipherView): boolean {\n        // this will only ever be false from the org view;\n        return true;\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'exposedPasswordsReport' | i18n}}</h1>\n</div>\n<p>{{'exposedPasswordsReportDesc' | i18n}}</p>\n<button type=\"button\" class=\"btn btn-primary btn-submit\" [disabled]=\"loading\" (click)=\"load()\">\n    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span>{{'checkExposedPasswords' | i18n}}</span>\n</button>\n<div class=\"mt-4\" *ngIf=\"hasLoaded\">\n    <app-callout type=\"success\" title=\"{{'goodNews' | i18n}}\" *ngIf=\"!ciphers.length\">\n        {{'noExposedPasswords' | i18n}}\n    </app-callout>\n    <ng-container *ngIf=\"ciphers.length\">\n        <app-callout type=\"danger\" title=\"{{'exposedPasswordsFound' | i18n}}\">\n            {{'exposedPasswordsFoundDesc' | i18n : (ciphers.length | number)}}\n        </app-callout>\n        <table class=\"table table-hover table-list table-ciphers\">\n            <tbody>\n                <tr *ngFor=\"let c of ciphers\">\n                    <td class=\"table-list-icon\">\n                        <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n                    </td>\n                    <td class=\"reduced-lh wrap\">\n                        <ng-container *ngIf=\"!organization || canManageCipher(c) ; else cantManage\">\n                            <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{'editItem' | i18n}}\">{{c.name}}</a>\n                        </ng-container>\n                        <ng-template #cantManage>\n                            <span>{{c.name}}</span>\n                        </ng-template>\n                        <ng-container *ngIf=\"!organization && c.organizationId\">\n                            <i class=\"fa fa-share-alt\" appStopProp title=\"{{'shared' | i18n}}\" aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'shared' | i18n}}</span>\n                        </ng-container>\n                        <ng-container *ngIf=\"c.hasAttachments\">\n                            <i class=\"fa fa-paperclip\" appStopProp title=\"{{'attachments' | i18n}}\"\n                                aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'attachments' | i18n}}</span>\n                        </ng-container>\n                        <br>\n                        <small>{{c.subTitle}}</small>\n                    </td>\n                    <td class=\"text-right\">\n                        <span class=\"badge badge-warning\">\n                            {{'exposedXTimes' | i18n : (exposedPasswordMap.get(c.id) | number)}}\n                        </span>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n","import { Component } from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { AuditService } from 'jslib/abstractions/audit.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { EventService } from 'jslib/abstractions/event.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { TotpService } from 'jslib/abstractions/totp.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CipherData } from 'jslib/models/data/cipherData';\nimport { Cipher } from 'jslib/models/domain/cipher';\nimport { Organization } from 'jslib/models/domain/organization';\nimport { CipherCreateRequest } from 'jslib/models/request/cipherCreateRequest';\nimport { CipherRequest } from 'jslib/models/request/cipherRequest';\n\nimport { AddEditComponent as BaseAddEditComponent } from '../../vault/add-edit.component';\n\n@Component({\n    selector: 'app-org-vault-add-edit',\n    templateUrl: '../../vault/add-edit.component.html',\n})\nexport class AddEditComponent extends BaseAddEditComponent {\n    organization: Organization;\n    originalCipher: Cipher = null;\n\n    constructor(cipherService: CipherService, folderService: FolderService,\n        i18nService: I18nService, platformUtilsService: PlatformUtilsService,\n        auditService: AuditService, stateService: StateService,\n        userService: UserService, collectionService: CollectionService,\n        totpService: TotpService, passwordGenerationService: PasswordGenerationService,\n        private apiService: ApiService, messagingService: MessagingService,\n        eventService: EventService, policyService: PolicyService) {\n        super(cipherService, folderService, i18nService, platformUtilsService, auditService, stateService,\n            userService, collectionService, totpService, passwordGenerationService, messagingService,\n            eventService, policyService);\n    }\n\n    protected allowOwnershipAssignment() {\n        if (this.ownershipOptions != null && (this.ownershipOptions.length > 1 || !this.allowPersonal)) {\n            if (this.organization != null) {\n                return this.cloneMode && this.organization.canManageAllCollections;\n            } else {\n                return !this.editMode || this.cloneMode;\n            }\n        }\n        return false;\n    }\n\n    protected loadCollections() {\n        if (!this.organization.canManageAllCollections) {\n            return super.loadCollections();\n        }\n        return Promise.resolve(this.collections);\n    }\n\n    protected async loadCipher() {\n        if (!this.organization.canManageAllCollections) {\n            return await super.loadCipher();\n        }\n        const response = await this.apiService.getCipherAdmin(this.cipherId);\n        const data = new CipherData(response);\n        this.originalCipher = new Cipher(data);\n        return new Cipher(data);\n    }\n\n    protected encryptCipher() {\n        if (!this.organization.canManageAllCollections) {\n            return super.encryptCipher();\n        }\n        return this.cipherService.encrypt(this.cipher, null, this.originalCipher);\n    }\n\n    protected async saveCipher(cipher: Cipher) {\n        if (!this.organization.canManageAllCollections || cipher.organizationId == null) {\n            return super.saveCipher(cipher);\n        }\n        if (this.editMode && !this.cloneMode) {\n            const request = new CipherRequest(cipher);\n            return this.apiService.putCipherAdmin(this.cipherId, request);\n        } else {\n            const request = new CipherCreateRequest(cipher);\n            return this.apiService.postCipherAdmin(request);\n        }\n    }\n\n    protected async deleteCipher() {\n        if (!this.organization.canManageAllCollections) {\n            return super.deleteCipher();\n        }\n        return this.cipher.isDeleted ? this.apiService.deleteCipherAdmin(this.cipherId)\n            : this.apiService.putDeleteCipherAdmin(this.cipherId);\n    }\n}\n","import { AttachmentResponse } from '../response/attachmentResponse';\n\nexport class AttachmentData {\n    id: string;\n    url: string;\n    fileName: string;\n    key: string;\n    size: string;\n    sizeName: string;\n\n    constructor(response?: AttachmentResponse) {\n        if (response == null) {\n            return;\n        }\n        this.id = response.id;\n        this.url = response.url;\n        this.fileName = response.fileName;\n        this.key = response.key;\n        this.size = response.size;\n        this.sizeName = response.sizeName;\n    }\n}\n","import { CardApi } from '../api/cardApi';\n\nexport class CardData {\n    cardholderName: string;\n    brand: string;\n    number: string;\n    expMonth: string;\n    expYear: string;\n    code: string;\n\n    constructor(data?: CardApi) {\n        if (data == null) {\n            return;\n        }\n\n        this.cardholderName = data.cardholderName;\n        this.brand = data.brand;\n        this.number = data.number;\n        this.expMonth = data.expMonth;\n        this.expYear = data.expYear;\n        this.code = data.code;\n    }\n}\n","import { FieldType } from '../../enums/fieldType';\n\nimport { FieldApi } from '../api/fieldApi';\n\nexport class FieldData {\n    type: FieldType;\n    name: string;\n    value: string;\n\n    constructor(response?: FieldApi) {\n        if (response == null) {\n            return;\n        }\n        this.type = response.type;\n        this.name = response.name;\n        this.value = response.value;\n    }\n}\n","import { IdentityApi } from '../api/identityApi';\n\nexport class IdentityData {\n    title: string;\n    firstName: string;\n    middleName: string;\n    lastName: string;\n    address1: string;\n    address2: string;\n    address3: string;\n    city: string;\n    state: string;\n    postalCode: string;\n    country: string;\n    company: string;\n    email: string;\n    phone: string;\n    ssn: string;\n    username: string;\n    passportNumber: string;\n    licenseNumber: string;\n\n    constructor(data?: IdentityApi) {\n        if (data == null) {\n            return;\n        }\n\n        this.title = data.title;\n        this.firstName = data.firstName;\n        this.middleName = data.middleName;\n        this.lastName = data.lastName;\n        this.address1 = data.address1;\n        this.address2 = data.address2;\n        this.address3 = data.address3;\n        this.city = data.city;\n        this.state = data.state;\n        this.postalCode = data.postalCode;\n        this.country = data.country;\n        this.company = data.company;\n        this.email = data.email;\n        this.phone = data.phone;\n        this.ssn = data.ssn;\n        this.username = data.username;\n        this.passportNumber = data.passportNumber;\n        this.licenseNumber = data.licenseNumber;\n    }\n}\n","import { LoginApi } from '../api/loginApi';\n\nimport { LoginUriData } from './loginUriData';\n\nexport class LoginData {\n    uris: LoginUriData[];\n    username: string;\n    password: string;\n    passwordRevisionDate: string;\n    totp: string;\n\n    constructor(data?: LoginApi) {\n        if (data == null) {\n            return;\n        }\n\n        this.username = data.username;\n        this.password = data.password;\n        this.passwordRevisionDate = data.passwordRevisionDate;\n        this.totp = data.totp;\n\n        if (data.uris) {\n            this.uris = data.uris.map(u => new LoginUriData(u));\n        }\n    }\n}\n","import { UriMatchType } from '../../enums/uriMatchType';\n\nimport { LoginUriApi } from '../api/loginUriApi';\n\nexport class LoginUriData {\n    uri: string;\n    match: UriMatchType = null;\n\n    constructor(data?: LoginUriApi) {\n        if (data == null) {\n            return;\n        }\n        this.uri = data.uri;\n        this.match = data.match;\n    }\n}\n","import { SecureNoteType } from '../../enums/secureNoteType';\n\nimport { SecureNoteApi } from '../api/secureNoteApi';\n\nexport class SecureNoteData {\n    type: SecureNoteType;\n\n    constructor(data?: SecureNoteApi) {\n        if (data == null) {\n            return;\n        }\n\n        this.type = data.type;\n    }\n}\n","import { AttachmentData } from '../data/attachmentData';\n\nimport { AttachmentView } from '../view/attachmentView';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nimport { CryptoService } from '../../abstractions/crypto.service';\n\nimport { Utils } from '../../misc/utils';\n\nexport class Attachment extends Domain {\n    id: string;\n    url: string;\n    size: string;\n    sizeName: string;\n    key: EncString;\n    fileName: EncString;\n\n    constructor(obj?: AttachmentData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.size = obj.size;\n        this.buildDomainModel(this, obj, {\n            id: null,\n            url: null,\n            sizeName: null,\n            fileName: null,\n            key: null,\n        }, alreadyEncrypted, ['id', 'url', 'sizeName']);\n    }\n\n    async decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<AttachmentView> {\n        const view = await this.decryptObj(new AttachmentView(this), {\n            fileName: null,\n        }, orgId, encKey);\n\n        if (this.key != null) {\n            let cryptoService: CryptoService;\n            const containerService = (Utils.global as any).bitwardenContainerService;\n            if (containerService) {\n                cryptoService = containerService.getCryptoService();\n            } else {\n                throw new Error('global bitwardenContainerService not initialized.');\n            }\n\n            try {\n                const orgKey = await cryptoService.getOrgKey(orgId);\n                const decValue = await cryptoService.decryptToBytes(this.key, orgKey ?? encKey);\n                view.key = new SymmetricCryptoKey(decValue);\n            } catch (e) {\n                // TODO: error?\n            }\n        }\n\n        return view;\n    }\n\n    toAttachmentData(): AttachmentData {\n        const a = new AttachmentData();\n        a.size = this.size;\n        this.buildDataModel(this, a, {\n            id: null,\n            url: null,\n            sizeName: null,\n            fileName: null,\n            key: null,\n        }, ['id', 'url', 'sizeName']);\n        return a;\n    }\n}\n","import { View } from './view';\n\nimport { Password } from '../domain/password';\n\nexport class PasswordHistoryView implements View {\n    password: string = null;\n    lastUsedDate: Date = null;\n\n    constructor(ph?: Password) {\n        if (!ph) {\n            return;\n        }\n\n        this.lastUsedDate = ph.lastUsedDate;\n    }\n}\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { ImportOption, ImportService } from 'jslib/abstractions/import.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport Swal, { SweetAlertIcon } from 'sweetalert2/dist/sweetalert2.js';\n\n@Component({\n    selector: 'app-import',\n    templateUrl: 'import.component.html',\n})\nexport class ImportComponent implements OnInit {\n    featuredImportOptions: ImportOption[];\n    importOptions: ImportOption[];\n    format: string = null;\n    fileContents: string;\n    formPromise: Promise<Error>;\n    loading: boolean = false;\n\n    protected organizationId: string = null;\n    protected successNavigate: any[] = ['vault'];\n\n    constructor(protected i18nService: I18nService, protected toasterService: ToasterService,\n        protected importService: ImportService, protected router: Router,\n        protected platformUtilsService: PlatformUtilsService) { }\n\n    ngOnInit() {\n        this.setImportOptions();\n        this.importOptions.sort((a, b) => {\n            if (a.name == null && b.name != null) {\n                return -1;\n            }\n            if (a.name != null && b.name == null) {\n                return 1;\n            }\n            if (a.name == null && b.name == null) {\n                return 0;\n            }\n\n            return this.i18nService.collator ? this.i18nService.collator.compare(a.name, b.name) :\n                a.name.localeCompare(b.name);\n        });\n    }\n\n    async submit() {\n        this.loading = true;\n\n        const importer = this.importService.getImporter(this.format, this.organizationId);\n        if (importer === null) {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('selectFormat'));\n            this.loading = false;\n            return;\n        }\n\n        const fileEl = document.getElementById('file') as HTMLInputElement;\n        const files = fileEl.files;\n        if ((files == null || files.length === 0) && (this.fileContents == null || this.fileContents === '')) {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('selectFile'));\n            this.loading = false;\n            return;\n        }\n\n        let fileContents = this.fileContents;\n        if (files != null && files.length > 0) {\n            try {\n                const content = await this.getFileContents(files[0]);\n                if (content != null) {\n                    fileContents = content;\n                }\n            } catch { }\n        }\n\n        if (fileContents == null || fileContents === '') {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('selectFile'));\n            this.loading = false;\n            return;\n        }\n\n        try {\n            this.formPromise = this.importService.import(importer, fileContents, this.organizationId);\n            const error = await this.formPromise;\n            if (error != null) {\n                this.error(error);\n                this.loading = false;\n                return;\n            }\n            this.toasterService.popAsync('success', null, this.i18nService.t('importSuccess'));\n            this.router.navigate(this.successNavigate);\n        } catch { }\n\n        this.loading = false;\n    }\n\n    getFormatInstructionTitle() {\n        if (this.format == null) {\n            return null;\n        }\n\n        const results = this.featuredImportOptions.concat(this.importOptions).filter(o => o.id === this.format);\n        if (results.length > 0) {\n            return this.i18nService.t('instructionsFor', results[0].name);\n        }\n        return null;\n    }\n\n    protected setImportOptions() {\n        this.featuredImportOptions = [{\n            id: null,\n            name: '-- ' + this.i18nService.t('select') + ' --',\n        }, ...this.importService.featuredImportOptions];\n        this.importOptions = this.importService.regularImportOptions;\n    }\n\n    private async error(error: Error) {\n        await Swal.fire({\n            heightAuto: false,\n            buttonsStyling: false,\n            icon: 'error' as SweetAlertIcon,\n            iconHtml: `<i class=\"swal-custom-icon fa fa-bolt text-danger\"></i>`,\n            input: 'textarea',\n            inputValue: error.message,\n            inputAttributes: {\n                'readonly': 'true',\n            },\n            title: this.i18nService.t('importError'),\n            text: this.i18nService.t('importErrorDesc'),\n            showConfirmButton: true,\n            confirmButtonText: this.i18nService.t('ok'),\n            onOpen: popupEl => {\n                popupEl.querySelector('.swal2-textarea').scrollTo(0, 0);\n             },\n        });\n    }\n\n    private getFileContents(file: File): Promise<string> {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.readAsText(file, 'utf-8');\n            reader.onload = evt => {\n                if (this.format === 'lastpasscsv' && file.type === 'text/html') {\n                    const parser = new DOMParser();\n                    const doc = parser.parseFromString((evt.target as any).result, 'text/html');\n                    const pre = doc.querySelector('pre');\n                    if (pre != null) {\n                        resolve(pre.textContent);\n                        return;\n                    }\n                    reject();\n                    return;\n                }\n\n                resolve((evt.target as any).result);\n            };\n            reader.onerror = () => {\n                reject();\n            };\n        });\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'importData' | i18n}}</h1>\n</div>\n<form #form (ngSubmit)=\"submit()\" ngNativeValidate>\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <label for=\"type\">1. {{'selectFormat' | i18n}}</label>\n                <select id=\"type\" name=\"Format\" [(ngModel)]=\"format\" class=\"form-control\" required>\n                    <option *ngFor=\"let o of featuredImportOptions\" [ngValue]=\"o.id\">{{o.name}}</option>\n                    <ng-container *ngIf=\"importOptions && importOptions.length\">\n                        <option value=\"-\" disabled></option>\n                        <option *ngFor=\"let o of importOptions\" [ngValue]=\"o.id\">{{o.name}}</option>\n                    </ng-container>\n                </select>\n            </div>\n        </div>\n    </div>\n    <app-callout type=\"info\" title=\"{{getFormatInstructionTitle()}}\" *ngIf=\"format\">\n        <ng-container *ngIf=\"format === 'bitwardencsv' || format === 'bitwardenjson'\">\n            See detailed instructions on our help site at\n            <a target=\"_blank\" rel=\"noopener\" href=\"https://help.bitwarden.com/article/export-your-data/\">\n                https://help.bitwarden.com/article/export-your-data/</a>\n        </ng-container>\n        <ng-container *ngIf=\"format === 'lastpasscsv'\">\n            See detailed instructions on our help site at\n            <a target=\"_blank\" rel=\"noopener\" href=\"https://help.bitwarden.com/article/import-from-lastpass/\">\n                https://help.bitwarden.com/article/import-from-lastpass/</a>\n        </ng-container>\n        <ng-container *ngIf=\"format === 'keepassxcsv'\">\n            Using the KeePassX desktop application, navigate to \"Database\" &rarr; \"Export to CSV file\" and save the CSV\n            file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'aviracsv'\">\n            In the Avira web vault, go to \"Settings\" &rarr; \"My Data\" &rarr; \"Export data\" and save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'blurcsv'\">\n            In the Blur web vault, click your username at the top and go to \"Settings\" &rarr; \"Export Data\", then click\n            \"Export CSV\"\n            for your \"Accounts\".\n        </ng-container>\n        <ng-container *ngIf=\"format === 'safeincloudxml'\">\n            Using the SaveInCloud desktop application, navigate to \"File\" &rarr; \"Export\" &rarr; \"As XML\" and save the\n            XML file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'padlockcsv'\">\n            Using the Padlock desktop application, click the hamburger icon in the top left corner and navigate to\n            \"Settings\" &rarr;\n            \"Export\" button and save the file \"As CSV\".\n        </ng-container>\n        <ng-container *ngIf=\"format === 'keepass2xml'\">\n            Using the KeePass 2 desktop application, navigate to \"File\" &rarr; \"Export\" and select the \"KeePass XML\n            (2.x)\" option.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'upmcsv'\">\n            Using the Universal Password Manager desktop application, navigate to \"Database\" &rarr; \"Export\" and save\n            the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'saferpasscsv'\">\n            Using the SaferPass browser extension, click the hamburger icon in the top left corner and navigate to\n            \"Settings\". Click the \"Export accounts\" button to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'meldiumcsv'\">\n            Using the Meldium web vault, navigate to \"Settings\". Locate the \"Export data\" function and click \"Show me my\n            data\" to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'keepercsv'\">\n            Log into the Keeper web vault (keepersecurity.com/vault). Navigate to \"Backup\" (top right) and find the\n            \"Export to .csv File\" option. Click \"Export Now\" to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'chromecsv' || format === 'operacsv' || format === 'vivaldicsv'\">\n            <span *ngIf=\"format !== 'chromecsv'\">\n                The process is exactly the same as importing from Google Chrome.\n            </span>\n            See detailed instructions on our help site at\n            <a target=\"_blank\" rel=\"noopener\" href=\"https://help.bitwarden.com/article/import-from-chrome/\">\n                https://help.bitwarden.com/article/import-from-chrome/</a>\n        </ng-container>\n        <ng-container *ngIf=\"format === 'firefoxcsv'\">\n             See detailed instructions on our help site at\n            <a target=\"_blank\" rel=\"noopener\" href=\"https://bitwarden.com/help/article/import-from-firefox/\">\n                https://bitwarden.com/help/article/import-from-firefox/</a>.\n        </ng-container>\n        <ng-container *ngIf=\"format === '1password1pif' || format === '1passwordwincsv' || format === '1passwordmaccsv'\">\n            See detailed instructions on our help site at\n            <a target=\"_blank\" rel=\"noopener\" href=\"https://help.bitwarden.com/article/import-from-1password/\">\n                https://help.bitwarden.com/article/import-from-1password/</a>.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'passworddragonxml'\">\n            Using the Password Dragon desktop application, navigate to \"File\" &rarr; \"Export\" &rarr; \"To XML\". In the\n            dialog that pops up select \"All Rows\" and check all fields. Click the \"Export\" button and save the XML file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'enpasscsv'\">\n            Using the Enpass desktop application, navigate to \"File\" &rarr; \"Export\" &rarr; \"As CSV\". Select \"OK\" to the\n            warning alert and save the CSV file. Note that the importer only supports files exported while Enpass is set\n            to the English language, so adjust your settings accordingly.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'enpassjson'\">\n            Using the Enpass 6 desktop application, click the menu button and navigate to \"File\" &rarr; \"Export\".\n            Select the \".json\" file format option and save the JSON file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'pwsafexml'\">\n            Using the Password Safe desktop application, navigate to \"File\" &rarr; \"Export To\" &rarr; \"XML format...\"\n            and save the XML file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'dashlanejson'\">\n            Using the Dashlane desktop application, navigate to \"File\" &rarr; \"Export\" &rarr; \"Unsecured archive\n            (readable) in JSON format\" and save the JSON file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'msecurecsv'\">\n            Using the mSecure desktop application, navigate to \"File\" &rarr; \"Export\" &rarr; \"CSV File...\" and save the\n            CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'stickypasswordxml'\">\n            Using the Sticky Password desktop application, navigate to \"Menu\" (top right) &rarr; \"Export\" &rarr; \"Export\n            all\". Select the unencrypted format XML option and save the XML file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'truekeycsv'\">\n            Using the True Key desktop application, click the gear icon (top right) and then navigate to \"App Settings\".\n            Click the \"Export\" button, enter your password and save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'clipperzhtml'\">\n            Log into the Clipperz web application (clipperz.is/app). Click the hamburger menu icon in the top right to\n            expand the navigation bar. Navigate to \"Data\" &rarr; \"Export\". Click the \"download HTML+JSON\" button to save\n            the HTML file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'roboformcsv'\">\n            Using the RoboForm Editor desktop application, navigate to \"RoboForm\" (top left) &rarr; \"Options\" &rarr;\n            \"Account &amp; Data\" and click the \"Export\" button. Select all of your data, change the \"Format\" to \"CSV\n            file\" and then click the \"Export\" button to save the CSV file. Note: RoboForm only allows you to export\n            Logins. Other items will not be exported.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'passboltcsv'\">\n            Log into the Passbolt web vault and navigate to the \"Passwords\" listing. Select all of the passwords you\n            would like to export and click the \"Export\" button at the top of the listing. Choose the \"csv (lastpass)\"\n            export format and click the \"Export\" button.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'ascendocsv'\">\n            Using the Ascendo DataVault desktop application, navigate to \"Tools\" &rarr; \"Export\". In the dialog that\n            pops up, select the \"All Items (DVX, CSV)\" option. Click the \"Ok\" button to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'passwordbossjson'\">\n            Using the Password Boss desktop application, navigate to \"File\" &rarr; \"Export data\" &rarr; \"Password Boss\n            JSON - not encrypted\" and save the JSON file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'zohovaultcsv'\">\n            Log into the Zoho web vault (vault.zoho.com). Navigate to \"Tools\" &rarr; \"Export Secrets\". Select \"All\n            Secrets\" and click the \"Zoho Vault Format CSV\" button. Highlight and copy the data from the textarea. Open a\n            text editor like Notepad and paste the data. Save the data from the text editor as\n            <code>zoho_export.csv</code>.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'splashidcsv'\">\n            Using the SplashID Safe desktop application, click on the SplashID blue lock logo in the top right corner.\n            Navigate to \"Export\" &rarr; \"Export as CSV\" and save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'passkeepcsv'\">\n            Using the PassKeep mobile app, navigate to \"Backup/Restore\". Locate the \"CSV Backup/Restore\" section and\n            click \"Backup to CSV\" to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'gnomejson'\">\n            Make sure you have python-keyring and python-gnomekeyring installed. Save the\n            <a target=\"_blank\" rel=\"noopener\" href=\"https://bit.ly/2GpOMTg\">GNOME Keyring Import/Export</a> python\n            script to your desktop as <code>pw_helper.py</code>. Open terminal and run\n            <code>chmod +rx Desktop/pw_helper.py</code> and then\n            <code>python Desktop/pw_helper.py export Desktop/my_passwords.json</code>. Then upload the resulting\n            <code>my_passwords.json</code> file here to Bitwarden.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'passwordagentcsv'\">\n            Using the Password Agent desktop application navigate to \"File\" &rarr; \"Export\", select the \"Fields to\n            export\" button and check all of the fields, change the \"Output format\" to \"CSV\", and then click the \"Start\"\n            button to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'passpackcsv'\">\n            Log into the Passpack website vault and navigate to \"Settings\" &rarr; \"Export\", then click the \"Download\"\n            button to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'passmanjson'\">\n            Open your Passman vault and click on \"Settings\" in the bottom left corner. In the \"Settings\" window switch\n            to the \"Export credentials\" tab and choose \"JSON\" as the export type. Enter your vault's passphrase and\n            click the \"Export\" button to save the JSON file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'avastcsv'\">\n            Open the Avast Passwords desktop application and navigate to \"Settings\" &rarr; \"Import/export data\". Select\n            the \"Export\" button for the \"Export to CSV file\" option to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'avastjson'\">\n            Open the Avast Passwords desktop application and navigate to \"Settings\" &rarr; \"Import/export data\". Select\n            the \"Export\" button for the \"Export to JSON file\" option to save the JSON file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'fsecurefsk'\">\n            Open the F-Secure KEY desktop application and navigate to \"Settings\" &rarr; \"Export Passwords\". Select the\n            \"Export\" button, enter your master password, and save the FSK file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'kasperskytxt'\">\n            Open the Kaspersky Password Manager desktop application and navigate to \"Settings\" &rarr; \"Import/Export\".\n            Locate the \"Export to text file\" section and select the \"Export\" button to save the TXT file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'remembearcsv'\">\n            Open the RememBear desktop application and navigate to \"Settings\" &rarr; \"Account\" &rarr; \"Export\".\n            Enter your master password and select the \"Export Anyway\" button to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'passwordwallettxt'\">\n            Open the PasswordWallet desktop application and navigate to \"File\" &rarr; \"Export\" &rarr;\n            \"Visible entries to text file\". Enter your password and select the \"Ok\" button to save the TXT file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'mykicsv'\">\n            Open the Myki desktop browser extension and navigate to \"Advanced\" &rarr; \"Export Accounts\" and then scan\n            the QR code with your mobile device. Various CSV files will then be saved to your computer's\n            downloads folder.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'securesafecsv'\">\n            Export your SecureSafe password safe to a CSV file with a comma delimiter.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'logmeoncecsv'\">\n            Open the LogMeOnce browser extension, then navigate to \"Open Menu\" &rarr; \"Export To\" and\n            select \"CSV File\" to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'blackberrycsv'\">\n            Open the BlackBerry Password Keeper application, then navigate to \"Settings\" &rarr; \"Import/Export\".\n            Select \"Export Passwords\" and follow the instructions on screen to save the unencrypted CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'buttercupcsv'\">\n            Open the Buttercup desktop application and unlock your vault. Right click on your vault's icon and\n            select \"Export\" to save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'codebookcsv'\">\n            Open the Codebook desktop application and log in. Navigate to \"File\" &rarr; \"Export all\", then click\n            \"Yes\" on the dialog and save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'encryptrcsv'\">\n            Open the newest version of the Encryptr desktop application and allow all of your data to sync.\n            Once syncing of your data is complete, the download icon in the top right corner will turn pink. Click\n            the download icon and save the CSV file.\n        </ng-container>\n        <ng-container *ngIf=\"format === 'yoticsv'\">\n            From the Yoti browser extension, click on \"Settings\", then \"Export Saved Logins\" and save the CSV file.\n        </ng-container>\n    </app-callout>\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <label for=\"file\">2. {{'selectImportFile' | i18n}}</label>\n                <input type=\"file\" id=\"file\" class=\"form-control-file\" name=\"file\">\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <label for=\"fileContents\">{{'orCopyPasteFileContents' | i18n}}</label>\n        <textarea id=\"fileContents\" class=\"form-control\" name=\"FileContents\" [(ngModel)]=\"fileContents\"></textarea>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'importData' | i18n}}</span>\n    </button>\n</form>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n} from '@angular/core';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { Utils } from 'jslib/misc/utils';\n\nimport { CipherReportComponent } from './cipher-report.component';\n\n@Component({\n    selector: 'app-inactive-two-factor-report',\n    templateUrl: 'inactive-two-factor-report.component.html',\n})\nexport class InactiveTwoFactorReportComponent extends CipherReportComponent implements OnInit {\n    services = new Map<string, string>();\n    cipherDocs = new Map<string, string>();\n\n    constructor(protected cipherService: CipherService, componentFactoryResolver: ComponentFactoryResolver,\n        messagingService: MessagingService, userService: UserService) {\n        super(componentFactoryResolver, userService, messagingService, true);\n    }\n\n    async ngOnInit() {\n        if (await this.checkAccess()) {\n            await super.load();\n        }\n    }\n\n    async setCiphers() {\n        try {\n            await this.load2fa();\n        } catch { }\n        if (this.services.size > 0) {\n            const allCiphers = await this.getAllCiphers();\n            const inactive2faCiphers: CipherView[] = [];\n            const promises: Promise<void>[] = [];\n            const docs = new Map<string, string>();\n            allCiphers.forEach(c => {\n                if (c.type !== CipherType.Login || (c.login.totp != null && c.login.totp !== '') || !c.login.hasUris ||\n                    c.isDeleted) {\n                    return;\n                }\n                for (let i = 0; i < c.login.uris.length; i++) {\n                    const u = c.login.uris[i];\n                    if (u.uri != null && u.uri !== '') {\n                        const hostname = Utils.getHostname(u.uri);\n                        if (hostname != null && this.services.has(hostname)) {\n                            if (this.services.get(hostname) != null) {\n                                docs.set(c.id, this.services.get(hostname));\n                            }\n                            inactive2faCiphers.push(c);\n                            break;\n                        }\n                    }\n                }\n            });\n            await Promise.all(promises);\n            this.ciphers = inactive2faCiphers;\n            this.cipherDocs = docs;\n        }\n    }\n\n    protected getAllCiphers(): Promise<CipherView[]> {\n        return this.cipherService.getAllDecrypted();\n    }\n\n    private async load2fa() {\n        if (this.services.size > 0) {\n            return;\n        }\n        const response = await fetch(new Request('https://2fa.directory/api/v2/totp.json'));\n        if (response.status !== 200) {\n            throw new Error();\n        }\n        const responseJson = await response.json();\n        for (const categoryName in responseJson) {\n            if (responseJson.hasOwnProperty(categoryName)) {\n                const category = responseJson[categoryName];\n                for (const serviceName in category) {\n                    if (category.hasOwnProperty(serviceName)) {\n                        const service = category[serviceName];\n                        if (service.url != null) {\n                            const hostname = Utils.getHostname(service.url);\n                            if (hostname != null) {\n                                this.services.set(hostname, service.doc);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n","<div class=\"page-header\">\n    <h1>\n        {{'inactive2faReport' | i18n}}\n        <small *ngIf=\"hasLoaded && loading\">\n            <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </small>\n    </h1>\n</div>\n<p>{{'inactive2faReportDesc' | i18n}}</p>\n<div *ngIf=\"!hasLoaded && loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</div>\n<div class=\"mt-4\" *ngIf=\"hasLoaded\">\n    <app-callout type=\"success\" title=\"{{'goodNews' | i18n}}\" *ngIf=\"!ciphers.length\">\n        {{'noInactive2fa' | i18n}}\n    </app-callout>\n    <ng-container *ngIf=\"ciphers.length\">\n        <app-callout type=\"danger\" title=\"{{'inactive2faFound' | i18n}}\">\n            {{'inactive2faFoundDesc' | i18n : (ciphers.length | number)}}\n        </app-callout>\n        <table class=\"table table-hover table-list table-ciphers\">\n            <tbody>\n                <tr *ngFor=\"let c of ciphers\">\n                    <td class=\"table-list-icon\">\n                        <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n                    </td>\n                    <td class=\"reduced-lh wrap\">\n                        <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{'editItem' | i18n}}\">{{c.name}}</a>\n                        <ng-container *ngIf=\"!organization && c.organizationId\">\n                            <i class=\"fa fa-share-alt\" appStopProp title=\"{{'shared' | i18n}}\" aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'shared' | i18n}}</span>\n                        </ng-container>\n                        <ng-container *ngIf=\"c.hasAttachments\">\n                            <i class=\"fa fa-paperclip\" appStopProp title=\"{{'attachments' | i18n}}\"\n                                aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'attachments' | i18n}}</span>\n                        </ng-container>\n                        <br>\n                        <small>{{c.subTitle}}</small>\n                    </td>\n                    <td class=\"text-right\">\n                        <a class=\"badge badge-primary\" href=\"{{cipherDocs.get(c.id)}}\" target=\"_blank\" rel=\"noopener\"\n                            *ngIf=\"cipherDocs.has(c.id)\">\n                            {{'instructions' | i18n}}</a>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n} from '@angular/core';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { CipherReportComponent } from './cipher-report.component';\n\n@Component({\n    selector: 'app-reused-passwords-report',\n    templateUrl: 'reused-passwords-report.component.html',\n})\nexport class ReusedPasswordsReportComponent extends CipherReportComponent implements OnInit {\n    passwordUseMap: Map<string, number>;\n\n    constructor(protected cipherService: CipherService, componentFactoryResolver: ComponentFactoryResolver,\n        messagingService: MessagingService, userService: UserService) {\n        super(componentFactoryResolver, userService, messagingService, true);\n    }\n\n    async ngOnInit() {\n        if (await this.checkAccess()) {\n            await super.load();\n        }\n    }\n\n    async setCiphers() {\n        const allCiphers = await this.getAllCiphers();\n        const ciphersWithPasswords: CipherView[] = [];\n        this.passwordUseMap = new Map<string, number>();\n        allCiphers.forEach(c => {\n            if (c.type !== CipherType.Login || c.login.password == null || c.login.password === '' || c.isDeleted) {\n                return;\n            }\n            ciphersWithPasswords.push(c);\n            if (this.passwordUseMap.has(c.login.password)) {\n                this.passwordUseMap.set(c.login.password, this.passwordUseMap.get(c.login.password) + 1);\n            } else {\n                this.passwordUseMap.set(c.login.password, 1);\n            }\n        });\n        const reusedPasswordCiphers = ciphersWithPasswords.filter(c =>\n            this.passwordUseMap.has(c.login.password) && this.passwordUseMap.get(c.login.password) > 1);\n        this.ciphers = reusedPasswordCiphers;\n    }\n\n    protected getAllCiphers(): Promise<CipherView[]> {\n        return this.cipherService.getAllDecrypted();\n    }\n\n    protected canManageCipher(c: CipherView): boolean {\n        // this will only ever be false from an organization view\n        return true;\n    }\n}\n","<div class=\"page-header\">\n    <h1>\n        {{'reusedPasswordsReport' | i18n}}\n        <small *ngIf=\"hasLoaded && loading\">\n            <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </small>\n    </h1>\n</div>\n<p>{{'reusedPasswordsReportDesc' | i18n}}</p>\n<div *ngIf=\"!hasLoaded && loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</div>\n<div class=\"mt-4\" *ngIf=\"hasLoaded\">\n    <app-callout type=\"success\" title=\"{{'goodNews' | i18n}}\" *ngIf=\"!ciphers.length\">\n        {{'noReusedPasswords' | i18n}}\n    </app-callout>\n    <ng-container *ngIf=\"ciphers.length\">\n        <app-callout type=\"danger\" title=\"{{'reusedPasswordsFound' | i18n}}\">\n            {{'reusedPasswordsFoundDesc' | i18n : (ciphers.length | number)}}\n        </app-callout>\n        <table class=\"table table-hover table-list table-ciphers\">\n            <tbody>\n                <tr *ngFor=\"let c of ciphers\">\n                    <td class=\"table-list-icon\">\n                        <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n                    </td>\n                    <td class=\"reduced-lh wrap\">\n                        <ng-container *ngIf=\"!organization || canManageCipher(c) ; else cantManage\">\n                            <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{'editItem' | i18n}}\">{{c.name}}</a>\n                        </ng-container>\n                        <ng-template #cantManage>\n                            <span>{{c.name}}</span>\n                        </ng-template>\n                        <ng-container *ngIf=\"!organization && c.organizationId\">\n                            <i class=\"fa fa-share-alt\" appStopProp title=\"{{'shared' | i18n}}\" aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'shared' | i18n}}</span>\n                        </ng-container>\n                        <ng-container *ngIf=\"c.hasAttachments\">\n                            <i class=\"fa fa-paperclip\" appStopProp title=\"{{'attachments' | i18n}}\"\n                                aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'attachments' | i18n}}</span>\n                        </ng-container>\n                        <br>\n                        <small>{{c.subTitle}}</small>\n                    </td>\n                    <td class=\"text-right\">\n                        <span class=\"badge badge-warning\">\n                            {{'reusedXTimes' | i18n : passwordUseMap.get(c.login.password)}}\n                        </span>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n} from '@angular/core';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { CipherReportComponent } from './cipher-report.component';\n\n@Component({\n    selector: 'app-unsecured-websites-report',\n    templateUrl: 'unsecured-websites-report.component.html',\n})\nexport class UnsecuredWebsitesReportComponent extends CipherReportComponent implements OnInit {\n    constructor(protected cipherService: CipherService, componentFactoryResolver: ComponentFactoryResolver,\n        messagingService: MessagingService, userService: UserService) {\n        super(componentFactoryResolver, userService, messagingService, true);\n    }\n\n    async ngOnInit() {\n        if (await this.checkAccess()) {\n            await super.load();\n        }\n    }\n\n    async setCiphers() {\n        const allCiphers = await this.getAllCiphers();\n        const unsecuredCiphers = allCiphers.filter(c => {\n            if (c.type !== CipherType.Login || !c.login.hasUris || c.isDeleted) {\n                return false;\n            }\n            return c.login.uris.some(u => u.uri != null && u.uri.indexOf('http://') === 0);\n        });\n        this.ciphers = unsecuredCiphers;\n    }\n\n    protected getAllCiphers(): Promise<CipherView[]> {\n        return this.cipherService.getAllDecrypted();\n    }\n}\n","<div class=\"page-header\">\n    <h1>\n        {{'unsecuredWebsitesReport' | i18n}}\n        <small *ngIf=\"hasLoaded && loading\">\n            <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </small>\n    </h1>\n</div>\n<p>{{'unsecuredWebsitesReportDesc' | i18n}}</p>\n<div *ngIf=\"!hasLoaded && loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</div>\n<div class=\"mt-4\" *ngIf=\"hasLoaded\">\n    <app-callout type=\"success\" title=\"{{'goodNews' | i18n}}\" *ngIf=\"!ciphers.length\">\n        {{'noUnsecuredWebsites' | i18n}}\n    </app-callout>\n    <ng-container *ngIf=\"ciphers.length\">\n        <app-callout type=\"danger\" title=\"{{'unsecuredWebsitesFound' | i18n}}\">\n            {{'unsecuredWebsitesFoundDesc' | i18n : (ciphers.length | number)}}\n        </app-callout>\n        <table class=\"table table-hover table-list table-ciphers\">\n            <tbody>\n                <tr *ngFor=\"let c of ciphers\">\n                    <td class=\"table-list-icon\">\n                        <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n                    </td>\n                    <td class=\"reduced-lh wrap\">\n                        <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{'editItem' | i18n}}\">{{c.name}}</a>\n                        <ng-container *ngIf=\"!organization && c.organizationId\">\n                            <i class=\"fa fa-share-alt\" appStopProp title=\"{{'shared' | i18n}}\" aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'shared' | i18n}}</span>\n                        </ng-container>\n                        <ng-container *ngIf=\"c.hasAttachments\">\n                            <i class=\"fa fa-paperclip\" appStopProp title=\"{{'attachments' | i18n}}\"\n                                aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'attachments' | i18n}}</span>\n                        </ng-container>\n                        <br>\n                        <small>{{c.subTitle}}</small>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n} from '@angular/core';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { CipherReportComponent } from './cipher-report.component';\n\n@Component({\n    selector: 'app-weak-passwords-report',\n    templateUrl: 'weak-passwords-report.component.html',\n})\nexport class WeakPasswordsReportComponent extends CipherReportComponent implements OnInit {\n\n    passwordStrengthMap = new Map<string, [string, string]>();\n\n    private passwordStrengthCache = new Map<string, number>();\n\n    constructor(protected cipherService: CipherService, protected passwordGenerationService: PasswordGenerationService,\n        componentFactoryResolver: ComponentFactoryResolver, messagingService: MessagingService,\n        userService: UserService) {\n        super(componentFactoryResolver, userService, messagingService, true);\n    }\n\n    async ngOnInit() {\n        if (await this.checkAccess()) {\n            await super.load();\n        }\n    }\n\n    async setCiphers() {\n        const allCiphers = await this.getAllCiphers();\n        const weakPasswordCiphers: CipherView[] = [];\n        const isUserNameNotEmpty = (c: CipherView): boolean => {\n            return c.login.username != null && c.login.username.trim() !== '';\n        };\n        const getCacheKey = (c: CipherView): string => {\n            return c.login.password + '_____' + (isUserNameNotEmpty(c) ? c.login.username : '');\n        };\n\n        allCiphers.forEach(c => {\n            if (c.type !== CipherType.Login || c.login.password == null || c.login.password === '' || c.isDeleted) {\n                return;\n            }\n            const hasUserName = isUserNameNotEmpty(c);\n            const cacheKey = getCacheKey(c);\n            if (!this.passwordStrengthCache.has(cacheKey)) {\n                let userInput: string[] = [];\n                if (hasUserName) {\n                    const atPosition = c.login.username.indexOf('@');\n                    if (atPosition > -1) {\n                        userInput = userInput.concat(\n                            c.login.username.substr(0, atPosition).trim().toLowerCase().split(/[^A-Za-z0-9]/))\n                            .filter(i => i.length >= 3);\n                    } else {\n                        userInput = c.login.username.trim().toLowerCase().split(/[^A-Za-z0-9]/)\n                            .filter(i => i.length >= 3);\n                    }\n                }\n                const result = this.passwordGenerationService.passwordStrength(c.login.password,\n                    userInput.length > 0 ? userInput : null);\n                this.passwordStrengthCache.set(cacheKey, result.score);\n            }\n            const score = this.passwordStrengthCache.get(cacheKey);\n            if (score != null && score <= 2) {\n                this.passwordStrengthMap.set(c.id, this.scoreKey(score));\n                weakPasswordCiphers.push(c);\n            }\n        });\n        weakPasswordCiphers.sort((a, b) => {\n            return this.passwordStrengthCache.get(getCacheKey(a)) -\n                this.passwordStrengthCache.get(getCacheKey(b));\n        });\n        this.ciphers = weakPasswordCiphers;\n    }\n\n    protected getAllCiphers(): Promise<CipherView[]> {\n        return this.cipherService.getAllDecrypted();\n    }\n\n    protected canManageCipher(c: CipherView): boolean {\n        // this will only ever be false from the org view;\n        return true;\n    }\n\n    private scoreKey(score: number): [string, string] {\n        switch (score) {\n            case 4:\n                return ['strong', 'success'];\n            case 3:\n                return ['good', 'primary'];\n            case 2:\n                return ['weak', 'warning'];\n            default:\n                return ['veryWeak', 'danger'];\n        }\n    }\n}\n","<div class=\"page-header\">\n    <h1>\n        {{'weakPasswordsReport' | i18n}}\n        <small *ngIf=\"hasLoaded && loading\">\n            <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </small>\n    </h1>\n</div>\n<p>{{'weakPasswordsReportDesc' | i18n}}</p>\n<div *ngIf=\"!hasLoaded && loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</div>\n<div class=\"mt-4\" *ngIf=\"hasLoaded\">\n    <app-callout type=\"success\" title=\"{{'goodNews' | i18n}}\" *ngIf=\"!ciphers.length\">\n        {{'noWeakPasswords' | i18n}}\n    </app-callout>\n    <ng-container *ngIf=\"ciphers.length\">\n        <app-callout type=\"danger\" title=\"{{'weakPasswordsFound' | i18n}}\">\n            {{'weakPasswordsFoundDesc' | i18n : (ciphers.length | number)}}\n        </app-callout>\n        <table class=\"table table-hover table-list table-ciphers\">\n            <tbody>\n                <tr *ngFor=\"let c of ciphers\">\n                    <td class=\"table-list-icon\">\n                        <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n                    </td>\n                    <td class=\"reduced-lh wrap\">\n                        <ng-container *ngIf=\"!organization || canManageCipher(c) ; else cantManage\">\n                            <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{'editItem' | i18n}}\">{{c.name}}</a>\n                        </ng-container>\n                        <ng-template #cantManage>\n                            <span>{{c.name}}</span>\n                        </ng-template>\n                        <ng-container *ngIf=\"!organization && c.organizationId\">\n                            <i class=\"fa fa-share-alt\" appStopProp title=\"{{'shared' | i18n}}\" aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'shared' | i18n}}</span>\n                        </ng-container>\n                        <ng-container *ngIf=\"c.hasAttachments\">\n                            <i class=\"fa fa-paperclip\" appStopProp title=\"{{'attachments' | i18n}}\"\n                                aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'attachments' | i18n}}</span>\n                        </ng-container>\n                        <br>\n                        <small>{{c.subTitle}}</small>\n                    </td>\n                    <td class=\"text-right\">\n                        <span class=\"badge badge-{{passwordStrengthMap.get(c.id)[1]}}\">\n                            {{passwordStrengthMap.get(c.id)[0] | i18n}}\n                        </span>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n","import { Component } from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { AttachmentView } from 'jslib/models/view/attachmentView';\n\nimport { AttachmentsComponent as BaseAttachmentsComponent } from 'jslib/angular/components/attachments.component';\n\n@Component({\n    selector: 'app-vault-attachments',\n    templateUrl: 'attachments.component.html',\n})\nexport class AttachmentsComponent extends BaseAttachmentsComponent {\n    viewOnly = false;\n\n    constructor(cipherService: CipherService, i18nService: I18nService,\n        cryptoService: CryptoService, userService: UserService,\n        platformUtilsService: PlatformUtilsService, apiService: ApiService) {\n        super(cipherService, i18nService, cryptoService, userService, platformUtilsService, apiService, window);\n    }\n\n    protected async reupload(attachment: AttachmentView) {\n        if (this.showFixOldAttachments(attachment)) {\n            await this.reuploadCipherAttachment(attachment, false);\n        }\n    }\n\n    protected showFixOldAttachments(attachment: AttachmentView) {\n        return attachment.key == null && this.cipher.organizationId == null;\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"attachmentsTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"attachmentsTitle\">\n                    {{'attachments' | i18n}}\n                    <small *ngIf=\"cipher\">{{cipher.name}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <table class=\"table table-hover table-list\" *ngIf=\"cipher && cipher.hasAttachments\">\n                    <tbody>\n                        <tr *ngFor=\"let a of cipher.attachments\">\n                            <td class=\"table-list-icon\">\n                                <i class=\"fa fa-fw fa-lg fa-file-o\" *ngIf=\"!a.downloading\" aria-hidden=\"true\"></i>\n                                <i class=\"fa fa-spinner fa-lg fa-fw fa-spin\" *ngIf=\"a.downloading\"\n                                    aria-hidden=\"true\"></i>\n                            </td>\n                            <td class=\"wrap\">\n                                <div class=\"d-flex\">\n                                    <a href=\"#\" appStopClick (click)=\"download(a)\">{{a.fileName}}</a>\n                                    <div *ngIf=\"showFixOldAttachments(a)\" class=\"ml-2\">\n                                        <a href=\"https://help.bitwarden.com/article/attachments/#fixing-old-attachments\"\n                                            target=\"_blank\" rel=\"noopener\">\n                                            <i class=\"fa fa-exclamation-triangle text-warning\"\n                                                title=\"{{'attachmentFixDesc' | i18n}}\" aria-hidden=\"true\"></i>\n                                            <span class=\"sr-only\">{{'attachmentFixDesc' | i18n}}</span></a>\n                                        <button type=\"button\" class=\"btn btn-outline-primary btn-sm m-0 py-0 px-2\"\n                                            (click)=\"reupload(a)\" #reuploadBtn [appApiAction]=\"reuploadPromises[a.id]\"\n                                            [disabled]=\"reuploadBtn.loading\">{{'fix' | i18n}}</button>\n                                    </div>\n                                </div>\n                                <small>{{a.sizeName}}</small>\n                            </td>\n                            <td class=\"table-list-options\" *ngIf=\"!viewOnly\">\n                                <button class=\"btn btn-outline-danger\" type=\"button\" appStopClick\n                                    appA11yTitle=\"{{'delete' | i18n}}\" (click)=\"delete(a)\" #deleteBtn\n                                    [appApiAction]=\"deletePromises[a.id]\" [disabled]=\"deleteBtn.loading\">\n                                    <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\"\n                                        aria-hidden=\"true\"></i>\n                                    <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\"\n                                        title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                                </button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div *ngIf=\"!viewOnly\">\n                    <h3>{{'newAttachment' | i18n}}</h3>\n                    <label for=\"file\" class=\"sr-only\">{{'file' | i18n}}</label>\n                    <input type=\"file\" id=\"file\" class=\"form-control-file\" name=\"file\" required>\n                    <small class=\"form-text text-muted\">{{'maxFileSize' | i18n}}</small>\n                </div>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\" *ngIf=\"!viewOnly\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close'\n                    | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import { BaseResponse } from './baseResponse';\n\nexport class AttachmentResponse extends BaseResponse {\n    id: string;\n    url: string;\n    fileName: string;\n    key: string;\n    size: string;\n    sizeName: string;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.url = this.getResponseProperty('Url');\n        this.fileName = this.getResponseProperty('FileName');\n        this.key = this.getResponseProperty('Key');\n        this.size = this.getResponseProperty('Size');\n        this.sizeName = this.getResponseProperty('SizeName');\n    }\n}\n","import { BaseResponse } from './baseResponse';\nimport { SelectionReadOnlyResponse } from './selectionReadOnlyResponse';\n\nexport class CollectionResponse extends BaseResponse {\n    id: string;\n    organizationId: string;\n    name: string;\n    externalId: string;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.organizationId = this.getResponseProperty('OrganizationId');\n        this.name = this.getResponseProperty('Name');\n        this.externalId = this.getResponseProperty('ExternalId');\n    }\n}\n\nexport class CollectionDetailsResponse extends CollectionResponse {\n    readOnly: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.readOnly = this.getResponseProperty('ReadOnly') || false;\n    }\n}\n\nexport class CollectionGroupDetailsResponse extends CollectionResponse {\n    groups: SelectionReadOnlyResponse[] = [];\n\n    constructor(response: any) {\n        super(response);\n        const groups = this.getResponseProperty('Groups');\n        if (groups != null) {\n            this.groups = groups.map((g: any) => new SelectionReadOnlyResponse(g));\n        }\n    }\n}\n","import { BaseResponse } from './baseResponse';\nimport { GlobalDomainResponse } from './globalDomainResponse';\n\nexport class DomainsResponse extends BaseResponse {\n    equivalentDomains: string[][];\n    globalEquivalentDomains: GlobalDomainResponse[] = [];\n\n    constructor(response: any) {\n        super(response);\n        this.equivalentDomains = this.getResponseProperty('EquivalentDomains');\n        const globalEquivalentDomains = this.getResponseProperty('GlobalEquivalentDomains');\n        if (globalEquivalentDomains != null) {\n            this.globalEquivalentDomains = globalEquivalentDomains.map((d: any) => new GlobalDomainResponse(d));\n        } else {\n            this.globalEquivalentDomains = [];\n        }\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class FolderResponse extends BaseResponse {\n    id: string;\n    name: string;\n    revisionDate: string;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.name = this.getResponseProperty('Name');\n        this.revisionDate = this.getResponseProperty('RevisionDate');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { SendType } from '../../enums/sendType';\n\nimport { SendFileApi } from '../api/sendFileApi';\nimport { SendTextApi } from '../api/sendTextApi';\n\nexport class SendResponse extends BaseResponse {\n    id: string;\n    accessId: string;\n    type: SendType;\n    name: string;\n    notes: string;\n    file: SendFileApi;\n    text: SendTextApi;\n    key: string;\n    maxAccessCount?: number;\n    accessCount: number;\n    revisionDate: string;\n    expirationDate: string;\n    deletionDate: string;\n    password: string;\n    disable: boolean;\n    hideEmail: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.accessId = this.getResponseProperty('AccessId');\n        this.type = this.getResponseProperty('Type');\n        this.name = this.getResponseProperty('Name');\n        this.notes = this.getResponseProperty('Notes');\n        this.key = this.getResponseProperty('Key');\n        this.maxAccessCount = this.getResponseProperty('MaxAccessCount');\n        this.accessCount = this.getResponseProperty('AccessCount');\n        this.revisionDate = this.getResponseProperty('RevisionDate');\n        this.expirationDate = this.getResponseProperty('ExpirationDate');\n        this.deletionDate = this.getResponseProperty('DeletionDate');\n        this.password = this.getResponseProperty('Password');\n        this.disable = this.getResponseProperty('Disabled') || false;\n        this.hideEmail = this.getResponseProperty('HideEmail') || false;\n\n        const text = this.getResponseProperty('Text');\n        if (text != null) {\n            this.text = new SendTextApi(text);\n        }\n\n        const file = this.getResponseProperty('File');\n        if (file != null) {\n            this.file = new SendFileApi(file);\n        }\n    }\n}\n","import { BaseResponse } from '../response/baseResponse';\n\nexport class SendFileApi extends BaseResponse {\n    id: string;\n    fileName: string;\n    key: string;\n    size: string;\n    sizeName: string;\n\n    constructor(data: any = null) {\n        super(data);\n        if (data == null) {\n            return;\n        }\n        this.id = this.getResponseProperty('Id');\n        this.fileName = this.getResponseProperty('FileName');\n        this.key = this.getResponseProperty('Key');\n        this.size = this.getResponseProperty('Size');\n        this.sizeName = this.getResponseProperty('SizeName');\n    }\n}\n","import { BaseResponse } from '../response/baseResponse';\n\nexport class SendTextApi extends BaseResponse {\n    text: string;\n    hidden: boolean;\n\n    constructor(data: any = null) {\n        super(data);\n        if (data == null) {\n            return;\n        }\n        this.text = this.getResponseProperty('Text');\n        this.hidden = this.getResponseProperty('Hidden') || false;\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { EventService } from 'jslib/abstractions/event.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SearchService } from 'jslib/abstractions/search.service';\nimport { TotpService } from 'jslib/abstractions/totp.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { Organization } from 'jslib/models/domain/organization';\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { CiphersComponent as BaseCiphersComponent } from '../../vault/ciphers.component';\n\n@Component({\n    selector: 'app-org-vault-ciphers',\n    templateUrl: '../../vault/ciphers.component.html',\n})\nexport class CiphersComponent extends BaseCiphersComponent {\n    @Output() onEventsClicked = new EventEmitter<CipherView>();\n\n    organization: Organization;\n    accessEvents = false;\n\n    protected allCiphers: CipherView[] = [];\n\n    constructor(searchService: SearchService, toasterService: ToasterService, i18nService: I18nService,\n        platformUtilsService: PlatformUtilsService, cipherService: CipherService,\n        private apiService: ApiService, eventService: EventService, totpService: TotpService, userService: UserService) {\n        super(searchService, toasterService, i18nService, platformUtilsService, cipherService,\n            eventService, totpService, userService);\n    }\n\n    async load(filter: (cipher: CipherView) => boolean = null) {\n        if (this.organization.canManageAllCollections) {\n            this.accessEvents = this.organization.useEvents;\n            this.allCiphers = await this.cipherService.getAllFromApiForOrganization(this.organization.id);\n        } else {\n            this.allCiphers = (await this.cipherService.getAllDecrypted()).filter(c => c.organizationId === this.organization.id);\n        }\n        await this.searchService.indexCiphers(this.organization.id, this.allCiphers);\n        await this.applyFilter(filter);\n        this.loaded = true;\n    }\n\n    async applyFilter(filter: (cipher: CipherView) => boolean = null) {\n        if (this.organization.canManageAllCollections) {\n            await super.applyFilter(filter);\n        } else {\n            const f = (c: CipherView) => c.organizationId === this.organization.id && (filter == null || filter(c));\n            await super.applyFilter(f);\n        }\n    }\n\n    async search(timeout: number = null) {\n        await super.search(timeout, this.allCiphers);\n    }\n    events(c: CipherView) {\n        this.onEventsClicked.emit(c);\n    }\n\n    protected deleteCipher(id: string) {\n        if (!this.organization.canManageAllCollections) {\n            return super.deleteCipher(id, this.deleted);\n        }\n        return this.deleted ? this.apiService.deleteCipherAdmin(id) : this.apiService.putDeleteCipherAdmin(id);\n    }\n\n    protected showFixOldAttachments(c: CipherView) {\n        return this.organization.canManageAllCollections && c.hasOldAttachments;\n    }\n}\n","import {\n    Component,\n    OnDestroy,\n} from '@angular/core';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { CollectionView } from 'jslib/models/view/collectionView';\n\nimport { CollectionsComponent as BaseCollectionsComponent } from 'jslib/angular/components/collections.component';\n\n@Component({\n    selector: 'app-vault-collections',\n    templateUrl: 'collections.component.html',\n})\nexport class CollectionsComponent extends BaseCollectionsComponent implements OnDestroy {\n    constructor(collectionService: CollectionService, platformUtilsService: PlatformUtilsService,\n        i18nService: I18nService, cipherService: CipherService) {\n        super(collectionService, platformUtilsService, i18nService, cipherService);\n    }\n\n    ngOnDestroy() {\n        this.selectAll(false);\n    }\n\n    check(c: CollectionView, select?: boolean) {\n        (c as any).checked = select == null ? !(c as any).checked : select;\n    }\n\n    selectAll(select: boolean) {\n        this.collections.forEach(c => this.check(c, select));\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"collectionsTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"collectionsTitle\">\n                    {{'collections' | i18n}}\n                    <small *ngIf=\"cipher\">{{cipher.name}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>{{'collectionsDesc' | i18n}}</p>\n                <div class=\"d-flex\">\n                    <h3>{{'collections' | i18n}}</h3>\n                    <div class=\"ml-auto d-flex\" *ngIf=\"collections && collections.length\">\n                        <button type=\"button\" (click)=\"selectAll(true)\" class=\"btn btn-link btn-sm py-0\">\n                            {{'selectAll' | i18n}}\n                        </button>\n                        <button type=\"button\" (click)=\"selectAll(false)\" class=\"btn btn-link btn-sm py-0\">\n                            {{'unselectAll' | i18n}}\n                        </button>\n                    </div>\n                </div>\n                <div *ngIf=\"!collections || !collections.length\">\n                    {{'noCollectionsInList' | i18n}}\n                </div>\n                <table class=\"table table-hover table-list mb-0\" *ngIf=\"collections && collections.length\">\n                    <tbody>\n                        <tr *ngFor=\"let c of collections; let i = index\" (click)=\"check(c)\">\n                            <td class=\"table-list-checkbox\">\n                                <input type=\"checkbox\" [(ngModel)]=\"c.checked\" name=\"Collection[{{i}}].Checked\"\n                                    appStopProp>\n                            </td>\n                            <td>\n                                {{c.name}}\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import { Component } from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CollectionData } from 'jslib/models/data/collectionData';\nimport { Collection } from 'jslib/models/domain/collection';\nimport { Organization } from 'jslib/models/domain/organization';\nimport { CollectionDetailsResponse } from 'jslib/models/response/collectionResponse';\nimport { CollectionView } from 'jslib/models/view/collectionView';\n\nimport { GroupingsComponent as BaseGroupingsComponent } from '../../vault/groupings.component';\n\n@Component({\n    selector: 'app-org-vault-groupings',\n    templateUrl: '../../vault/groupings.component.html',\n})\nexport class GroupingsComponent extends BaseGroupingsComponent {\n    organization: Organization;\n\n    constructor(collectionService: CollectionService, folderService: FolderService,\n        storageService: StorageService, userService: UserService,\n        private apiService: ApiService, private i18nService: I18nService) {\n        super(collectionService, folderService, storageService, userService);\n    }\n\n    async loadCollections() {\n        if (!this.organization.canManageAllCollections) {\n            await super.loadCollections(this.organization.id);\n            return;\n        }\n\n        const collections = await this.apiService.getCollections(this.organization.id);\n        if (collections != null && collections.data != null && collections.data.length) {\n            const collectionDomains = collections.data.map(r =>\n                new Collection(new CollectionData(r as CollectionDetailsResponse)));\n            this.collections = await this.collectionService.decryptMany(collectionDomains);\n        } else {\n            this.collections = [];\n        }\n\n        const unassignedCollection = new CollectionView();\n        unassignedCollection.name = this.i18nService.t('unassigned');\n        unassignedCollection.id = 'unassigned';\n        unassignedCollection.organizationId = this.organization.id;\n        unassignedCollection.readOnly = true;\n        this.collections.push(unassignedCollection);\n        this.nestedCollections = await this.collectionService.getAllNested(this.collections);\n    }\n\n    collapse(grouping: CollectionView) {\n        super.collapse(grouping, 'org_');\n    }\n\n    isCollapsed(grouping: CollectionView) {\n        return super.isCollapsed(grouping, 'org_');\n    }\n}\n","import {\n    Component,\n    ComponentFactoryResolver,\n    Input,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\nimport { ToasterService } from 'angular2-toaster';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { Organization } from 'jslib/models/domain/organization';\n\nimport { ModalComponent } from '../modal.component';\n\nimport { BulkDeleteComponent } from './bulk-delete.component';\nimport { BulkMoveComponent } from './bulk-move.component';\nimport { BulkRestoreComponent } from './bulk-restore.component';\nimport { BulkShareComponent } from './bulk-share.component';\nimport { CiphersComponent } from './ciphers.component';\n\n@Component({\n    selector: 'app-vault-bulk-actions',\n    templateUrl: 'bulk-actions.component.html',\n})\nexport class BulkActionsComponent {\n    @Input() ciphersComponent: CiphersComponent;\n    @Input() modal: ModalComponent;\n    @Input() deleted: boolean;\n    @Input() organization: Organization;\n\n    @ViewChild('bulkDeleteTemplate', { read: ViewContainerRef, static: true }) bulkDeleteModalRef: ViewContainerRef;\n    @ViewChild('bulkRestoreTemplate', { read: ViewContainerRef, static: true }) bulkRestoreModalRef: ViewContainerRef;\n    @ViewChild('bulkMoveTemplate', { read: ViewContainerRef, static: true }) bulkMoveModalRef: ViewContainerRef;\n    @ViewChild('bulkShareTemplate', { read: ViewContainerRef, static: true }) bulkShareModalRef: ViewContainerRef;\n\n    constructor(private toasterService: ToasterService,\n        private i18nService: I18nService,\n        private componentFactoryResolver: ComponentFactoryResolver) { }\n\n    bulkDelete() {\n        const selectedIds = this.ciphersComponent.getSelectedIds();\n        if (selectedIds.length === 0) {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('nothingSelected'));\n            return;\n        }\n\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.bulkDeleteModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<BulkDeleteComponent>(BulkDeleteComponent, this.bulkDeleteModalRef);\n\n        childComponent.permanent = this.deleted;\n        childComponent.cipherIds = selectedIds;\n        childComponent.organization = this.organization;\n        childComponent.onDeleted.subscribe(async () => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    bulkRestore() {\n        const selectedIds = this.ciphersComponent.getSelectedIds();\n        if (selectedIds.length === 0) {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('nothingSelected'));\n            return;\n        }\n\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.bulkRestoreModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<BulkRestoreComponent>(BulkRestoreComponent, this.bulkRestoreModalRef);\n\n        childComponent.cipherIds = selectedIds;\n        childComponent.onRestored.subscribe(async () => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    bulkShare() {\n        const selectedCiphers = this.ciphersComponent.getSelected();\n        if (selectedCiphers.length === 0) {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('nothingSelected'));\n            return;\n        }\n\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.bulkShareModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<BulkShareComponent>(BulkShareComponent, this.bulkShareModalRef);\n\n        childComponent.ciphers = selectedCiphers;\n        childComponent.onShared.subscribe(async () => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    bulkMove() {\n        const selectedIds = this.ciphersComponent.getSelectedIds();\n        if (selectedIds.length === 0) {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('nothingSelected'));\n            return;\n        }\n\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.bulkMoveModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<BulkMoveComponent>(BulkMoveComponent, this.bulkMoveModalRef);\n\n        childComponent.cipherIds = selectedIds;\n        childComponent.onMoved.subscribe(async () => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    selectAll(select: boolean) {\n        this.ciphersComponent.selectAll(select);\n    }\n}\n","<div class=\"dropdown mr-2\" appListDropdown>\n    <button class=\"btn btn-sm btn-outline-secondary dropdown-toggle\" type=\"button\" id=\"bulkActionsButton\"\n        data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" appA11yTitle=\"{{'options' | i18n}}\">\n        <i class=\"fa fa-cog\" aria-hidden=\"true\"></i>\n    </button>\n    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"bulkActionsButton\">\n        <button class=\"dropdown-item\" appStopClick (click)=\"bulkMove()\" *ngIf=\"!deleted && !organization\">\n            <i class=\"fa fa-fw fa-share\" aria-hidden=\"true\"></i>\n            {{'moveSelected' | i18n}}\n        </button>\n        <button class=\"dropdown-item\" appStopClick (click)=\"bulkShare()\" *ngIf=\"!deleted && !organization\">\n            <i class=\"fa fa-fw fa-share-alt\" aria-hidden=\"true\"></i>\n            {{'shareSelected' | i18n}}\n        </button>\n        <button class=\"dropdown-item\" (click)=\"bulkRestore()\" *ngIf=\"deleted && !organization\">\n            <i class=\"fa fa-fw fa-undo\" aria-hidden=\"true\"></i>\n            {{'restoreSelected' | i18n}}\n        </button>\n        <button class=\"dropdown-item text-danger\" (click)=\"bulkDelete()\">\n            <i class=\"fa fa-fw fa-trash-o\" aria-hidden=\"true\"></i>\n            {{(deleted ? 'permanentlyDeleteSelected' : 'deleteSelected') | i18n}}\n        </button>\n        <div class=\"dropdown-divider\"></div>\n        <button class=\"dropdown-item\" appStopClick (click)=\"selectAll(true)\">\n            <i class=\"fa fa-fw fa-check-square-o\" aria-hidden=\"true\"></i>\n            {{'selectAll' | i18n}}\n        </button>\n        <button class=\"dropdown-item\" appStopClick (click)=\"selectAll(false)\">\n            <i class=\"fa fa-fw fa-minus-square-o\" aria-hidden=\"true\"></i>\n            {{'unselectAll' | i18n}}\n        </button>\n    </div>\n</div>\n\n<ng-template #bulkDeleteTemplate></ng-template>\n<ng-template #bulkRestoreTemplate></ng-template>\n<ng-template #bulkMoveTemplate></ng-template>\n<ng-template #bulkShareTemplate></ng-template>\n","import Domain from './domainBase';\nimport { EncString } from './encString';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nimport { SendFileData } from '../data/sendFileData';\n\nimport { SendFileView } from '../view/sendFileView';\n\nexport class SendFile extends Domain {\n    id: string;\n    size: string;\n    sizeName: string;\n    fileName: EncString;\n\n    constructor(obj?: SendFileData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.size = obj.size;\n        this.buildDomainModel(this, obj, {\n            id: null,\n            sizeName: null,\n            fileName: null,\n        }, alreadyEncrypted, ['id', 'sizeName']);\n    }\n\n    async decrypt(key: SymmetricCryptoKey): Promise<SendFileView> {\n        const view = await this.decryptObj(new SendFileView(this), {\n            fileName: null,\n        }, null, key);\n        return view;\n    }\n}\n","import Domain from './domainBase';\nimport { EncString } from './encString';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nimport { SendTextData } from '../data/sendTextData';\n\nimport { SendTextView } from '../view/sendTextView';\n\nexport class SendText extends Domain {\n    text: EncString;\n    hidden: boolean;\n\n    constructor(obj?: SendTextData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.hidden = obj.hidden;\n        this.buildDomainModel(this, obj, {\n            text: null,\n        }, alreadyEncrypted, []);\n    }\n\n    decrypt(key: SymmetricCryptoKey): Promise<SendTextView> {\n        return this.decryptObj(new SendTextView(this), {\n            text: null,\n        }, null, key);\n    }\n}\n","import { CipherRequest } from './cipherRequest';\n\nimport { Cipher } from '../domain/cipher';\n\nexport class CipherWithIdRequest extends CipherRequest {\n    id: string;\n\n    constructor(cipher: Cipher) {\n        super(cipher);\n        this.id = cipher.id;\n    }\n}\n","import { Folder } from '../domain/folder';\n\nexport class FolderRequest {\n    name: string;\n\n    constructor(folder: Folder) {\n        this.name = folder.name ? folder.name.encryptedString : null;\n    }\n}\n","import {\n    Directive,\n    ElementRef,\n    HostListener,\n} from '@angular/core';\n\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\n@Directive({\n    selector: '[appSelectCopy]',\n})\nexport class SelectCopyDirective {\n    constructor(private el: ElementRef, private platformUtilsService: PlatformUtilsService) { }\n\n    @HostListener('copy') onCopy() {\n        if (window == null) {\n            return;\n        }\n        let copyText = '';\n        const selection = window.getSelection();\n        for (let i = 0; i < selection.rangeCount; i++) {\n            const range = selection.getRangeAt(i);\n            const text = range.toString();\n\n            // The selection should only contain one line of text. In some cases however, the\n            // selection contains newlines and space characters from the indentation of following\n            // sibling nodes. To avoid copying passwords containing trailing newlines and spaces\n            // that aren't part of the password, the selection has to be trimmed.\n            let stringEndPos = text.length;\n            const newLinePos = text.search(/(?:\\r\\n|\\r|\\n)/);\n            if (newLinePos > -1) {\n                const otherPart = text.substr(newLinePos).trim();\n                if (otherPart === '') {\n                    stringEndPos = newLinePos;\n                }\n            }\n            copyText += text.substring(0, stringEndPos);\n        }\n        this.platformUtilsService.copyToClipboard(copyText, { window: window });\n    }\n}\n","import {\n    Pipe,\n    PipeTransform,\n} from '@angular/core';\n\n/**\n * A pipe that sanitizes HTML and highlights numbers and special characters (in different colors each).\n */\n@Pipe({ name: 'colorPassword' })\nexport class ColorPasswordPipe implements PipeTransform {\n    transform(password: string) {\n        let colorizedPassword = '';\n        for (let i = 0; i < password.length; i++) {\n            let character = password[i];\n            let isSpecial = false;\n            // Sanitize HTML first.\n            switch (character) {\n                case '&':\n                    character = '&amp;';\n                    isSpecial = true;\n                    break;\n                case '<':\n                    character = '&lt;';\n                    isSpecial = true;\n                    break;\n                case '>':\n                    character = '&gt;';\n                    isSpecial = true;\n                    break;\n                case ' ':\n                    character = '&nbsp;';\n                    isSpecial = true;\n                    break;\n                default:\n                    break;\n            }\n            let type = 'letter';\n            if (isSpecial || character.match(/[^\\w ]/)) {\n                type = 'special';\n            } else if (character.match(/\\d/)) {\n                type = 'number';\n            }\n            colorizedPassword += '<span class=\"password-' + type + '\">' + character + '</span>';\n        }\n        return colorizedPassword;\n    }\n}\n","import { FolderResponse } from '../response/folderResponse';\n\nexport class FolderData {\n    id: string;\n    userId: string;\n    name: string;\n    revisionDate: string;\n\n    constructor(response: FolderResponse, userId: string) {\n        this.userId = userId;\n        this.name = response.name;\n        this.id = response.id;\n        this.revisionDate = response.revisionDate;\n    }\n}\n","import { FolderData } from '../data/folderData';\n\nimport { FolderView } from '../view/folderView';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\n\nexport class Folder extends Domain {\n    id: string;\n    name: EncString;\n    revisionDate: Date;\n\n    constructor(obj?: FolderData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.buildDomainModel(this, obj, {\n            id: null,\n            name: null,\n        }, alreadyEncrypted, ['id']);\n\n        this.revisionDate = obj.revisionDate != null ? new Date(obj.revisionDate) : null;\n    }\n\n    decrypt(): Promise<FolderView> {\n        return this.decryptObj(new FolderView(this), {\n            name: null,\n        }, null);\n    }\n}\n","import { EnvironmentService } from './environment.service';\n\nexport abstract class NotificationsService {\n    init: (environmentService: EnvironmentService) => Promise<void>;\n    updateConnection: (sync?: boolean) => Promise<void>;\n    reconnectFromActivity: () => Promise<void>;\n    disconnectFromInactivity: () => Promise<void>;\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 529;","import {\n    Component,\n    OnDestroy,\n    OnInit,\n} from '@angular/core';\n\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\n@Component({\n    selector: 'app-frontend-layout',\n    templateUrl: 'frontend-layout.component.html',\n})\nexport class FrontendLayoutComponent implements OnInit, OnDestroy {\n    version: string;\n    year: string = '2015';\n\n    constructor(private platformUtilsService: PlatformUtilsService) { }\n\n    async ngOnInit() {\n        this.year = new Date().getFullYear().toString();\n        this.version = await this.platformUtilsService.getApplicationVersion();\n        document.body.classList.add('layout_frontend');\n    }\n\n    ngOnDestroy() {\n        document.body.classList.remove('layout_frontend');\n    }\n}\n","<router-outlet></router-outlet>\n<div class=\"container my-5 text-muted text-center\">\n    &copy; {{year}}, Bitwarden Inc.\n    <br> {{'versionNumber' | i18n : version}}\n</div>\n","import {\n    Component,\n    NgZone,\n    OnDestroy,\n    OnInit,\n} from '@angular/core';\n\nimport { ActivatedRoute } from '@angular/router';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { EnvironmentService } from 'jslib/abstractions/environment.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { Organization } from 'jslib/models/domain/organization';\n\nconst BroadcasterSubscriptionId = 'OrganizationLayoutComponent';\n\n@Component({\n    selector: 'app-organization-layout',\n    templateUrl: 'organization-layout.component.html',\n})\nexport class OrganizationLayoutComponent implements OnInit, OnDestroy {\n    organization: Organization;\n    businessTokenPromise: Promise<any>;\n    private organizationId: string;\n    private businessUrl: string;\n\n    constructor(private route: ActivatedRoute, private userService: UserService,\n        private broadcasterService: BroadcasterService, private ngZone: NgZone,\n        private apiService: ApiService, private platformUtilsService: PlatformUtilsService,\n        private environmentService: EnvironmentService) { }\n\n    ngOnInit() {\n        this.businessUrl = 'https://portal.bitwarden.com';\n        if (this.environmentService.enterpriseUrl != null) {\n            this.businessUrl = this.environmentService.enterpriseUrl;\n        } else if (this.environmentService.baseUrl != null) {\n            this.businessUrl = this.environmentService.baseUrl + '/portal';\n        }\n\n        document.body.classList.remove('layout_frontend');\n        this.route.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            await this.load();\n        });\n        this.broadcasterService.subscribe(BroadcasterSubscriptionId, (message: any) => {\n            this.ngZone.run(async () => {\n                switch (message.command) {\n                    case 'updatedOrgLicense':\n                        await this.load();\n                        break;\n                }\n            });\n        });\n    }\n\n    ngOnDestroy() {\n        this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);\n    }\n\n    async load() {\n        this.organization = await this.userService.getOrganization(this.organizationId);\n    }\n\n    async goToBusinessPortal() {\n        if (this.businessTokenPromise != null) {\n            return;\n        }\n        try {\n            this.businessTokenPromise = this.apiService.getEnterprisePortalSignInToken();\n            const token = await this.businessTokenPromise;\n            if (token != null) {\n                const userId = await this.userService.getUserId();\n                this.platformUtilsService.launchUri(this.businessUrl + '/login?userId=' + userId +\n                    '&token=' + (window as any).encodeURIComponent(token) + '&organizationId=' + this.organization.id);\n            }\n        } catch { }\n        this.businessTokenPromise = null;\n    }\n\n    get showMenuBar() {\n        return this.showManageTab || this.showToolsTab || this.organization.isOwner;\n    }\n\n    get showManageTab(): boolean {\n        return this.organization.canManageUsers ||\n            this.organization.canManageAssignedCollections ||\n            this.organization.canManageAllCollections ||\n            this.organization.canManageGroups ||\n            this.organization.canManagePolicies ||\n            this.organization.canAccessEventLogs;\n    }\n\n    get showToolsTab(): boolean {\n        return this.organization.canAccessImportExport || this.organization.canAccessReports;\n    }\n\n    get showBusinessPortalButton(): boolean {\n        return this.organization.useBusinessPortal && this.organization.canAccessBusinessPortal;\n    }\n\n    get toolsRoute(): string {\n        return this.organization.canAccessImportExport ?\n            'tools/import' :\n            'tools/exposed-passwords-report';\n    }\n\n    get manageRoute(): string {\n        let route: string;\n        switch (true) {\n            case this.organization.canManageUsers:\n                route = 'manage/people';\n                break;\n            case this.organization.canManageAssignedCollections || this.organization.canManageAllCollections:\n                route = 'manage/collections';\n                break;\n            case this.organization.canManageGroups:\n                route = 'manage/groups';\n                break;\n            case this.organization.canManagePolicies:\n                route = 'manage/policies';\n                break;\n            case this.organization.canAccessEventLogs:\n                route = 'manage/events';\n                break;\n        }\n        return route;\n    }\n}\n","<app-navbar></app-navbar>\n<div class=\"org-nav\" *ngIf=\"organization\">\n    <div class=\"container d-flex\">\n        <div class=\"d-flex flex-column\">\n            <div class=\"my-auto d-flex align-items-center pl-1\">\n                <app-avatar [data]=\"organization.name\" size=\"45\" [circle]=\"true\"></app-avatar>\n                <div class=\"org-name ml-3\">\n                    <span>{{organization.name}}</span>\n                    <small class=\"text-muted\">{{'organization' | i18n}}</small>\n                </div>\n                <div class=\"ml-3 card border-danger text-danger bg-transparent\" *ngIf=\"!organization.enabled\">\n                    <div class=\"card-body py-2\">\n                        <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\n                        {{'organizationIsDisabled' | i18n}}\n                    </div>\n                </div>\n            </div>\n            <ul class=\"nav nav-tabs\" *ngIf=\"showMenuBar\">\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" routerLink=\"vault\" routerLinkActive=\"active\">\n                        <i class=\"fa fa-lock\" aria-hidden=\"true\"></i>\n                        {{'vault' | i18n}}\n                    </a>\n                </li>\n                <li class=\"nav-item\" *ngIf=\"showManageTab\">\n                    <a class=\"nav-link\" [routerLink]=\"manageRoute\" routerLinkActive=\"active\">\n                        <i class=\"fa fa-sliders\" aria-hidden=\"true\"></i>\n                        {{'manage' | i18n}}\n                    </a>\n                </li>\n                <li class=\"nav-item\" *ngIf=\"showToolsTab\">\n                    <a class=\"nav-link\" [routerLink]=\"toolsRoute\" routerLinkActive=\"active\">\n                        <i class=\"fa fa-wrench\" aria-hidden=\"true\"></i>\n                        {{'tools' | i18n}}\n                    </a>\n                </li>\n                <li class=\"nav-item\" *ngIf=\"organization.isOwner\">\n                    <a class=\"nav-link\" routerLink=\"settings\" routerLinkActive=\"active\">\n                        <i class=\"fa fa-cogs\" aria-hidden=\"true\"></i>\n                        {{'settings' | i18n}}\n                    </a>\n                </li>\n            </ul>\n        </div>\n        <div class=\"ml-auto d-flex align-items-center\">\n            <button class=\"btn btn-primary\" (click)=\"goToBusinessPortal()\" #businessBtn\n                [appApiAction]=\"businessTokenPromise\" *ngIf=\"showBusinessPortalButton\">\n                <i class=\"fa fa-bank fa-fw\" [hidden]=\"businessBtn.loading\" aria-hidden=\"true\"></i>\n                <i class=\"fa fa-spinner fa-spin fa-fw\" [hidden]=\"!businessBtn.loading\" title=\"{{'loading' | i18n}}\"\n                    aria-hidden=\"true\"></i>\n                {{'businessPortal' | i18n}} \n            </button>\n        </div>\n    </div>\n</div>\n<router-outlet></router-outlet>\n<app-footer></app-footer>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\n@Component({\n    selector: 'app-user-layout',\n    templateUrl: 'user-layout.component.html',\n})\nexport class UserLayoutComponent implements OnInit {\n    ngOnInit() {\n        document.body.classList.remove('layout_frontend');\n    }\n}\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet>\n<app-footer></app-footer>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport {\n    Toast,\n    ToasterService,\n} from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { UserService } from 'jslib/abstractions/user.service';\nimport { EmergencyAccessAcceptRequest } from 'jslib/models/request/emergencyAccessAcceptRequest';\n\n@Component({\n    selector: 'app-accept-emergency',\n    templateUrl: 'accept-emergency.component.html',\n})\nexport class AcceptEmergencyComponent implements OnInit {\n    loading = true;\n    authed = false;\n    name: string;\n    email: string;\n    actionPromise: Promise<any>;\n\n    constructor(private router: Router, private toasterService: ToasterService,\n        private i18nService: I18nService, private route: ActivatedRoute,\n        private apiService: ApiService, private userService: UserService,\n        private stateService: StateService) { }\n\n    ngOnInit() {\n        let fired = false;\n        this.route.queryParams.subscribe(async qParams => {\n            if (fired) {\n                return;\n            }\n            fired = true;\n            await this.stateService.remove('emergencyInvitation');\n            let error = qParams.id == null || qParams.name == null || qParams.email == null || qParams.token == null;\n            let errorMessage: string = null;\n            if (!error) {\n                this.authed = await this.userService.isAuthenticated();\n                if (this.authed) {\n                    const request = new EmergencyAccessAcceptRequest();\n                    request.token = qParams.token;\n                    try {\n                        this.actionPromise = this.apiService.postEmergencyAccessAccept(qParams.id, request);\n                        await this.actionPromise;\n                        const toast: Toast = {\n                            type: 'success',\n                            title: this.i18nService.t('inviteAccepted'),\n                            body: this.i18nService.t('emergencyInviteAcceptedDesc'),\n                            timeout: 10000,\n                        };\n                        this.toasterService.popAsync(toast);\n                        this.router.navigate(['/vault']);\n                    } catch (e) {\n                        error = true;\n                        errorMessage = e.message;\n                    }\n                } else {\n                    await this.stateService.save('emergencyInvitation', qParams);\n                    this.email = qParams.email;\n                    this.name = qParams.name;\n                    if (this.name != null) {\n                        // Fix URL encoding of space issue with Angular\n                        this.name = this.name.replace(/\\+/g, ' ');\n                    }\n                }\n            }\n\n            if (error) {\n                const toast: Toast = {\n                    type: 'error',\n                    title: null,\n                    body: errorMessage != null ? this.i18nService.t('emergencyInviteAcceptFailedShort', errorMessage) :\n                        this.i18nService.t('emergencyInviteAcceptFailed'),\n                    timeout: 10000,\n                };\n                this.toasterService.popAsync(toast);\n                this.router.navigate(['/']);\n            }\n\n            this.loading = false;\n        });\n    }\n}\n","<div class=\"mt-5 d-flex justify-content-center\" *ngIf=\"loading\">\n    <div>\n        <img src=\"images/logo-dark@2x.png\" class=\"mb-4 logo\" alt=\"Bitwarden\">\n        <p class=\"text-center\">\n            <i class=\"fa fa-spinner fa-spin fa-2x text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </p>\n    </div>\n</div>\n<div class=\"container\" *ngIf=\"!loading && !authed\">\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\">\n            <p class=\"lead text-center mb-4\">{{'emergencyAccess' | i18n}}</p>\n            <div class=\"card d-block\">\n                <div class=\"card-body\">\n                    <p class=\"text-center\">\n                        {{name}}\n                    </p>\n                    <p>{{'acceptEmergencyAccess' | i18n}}</p>\n                    <hr>\n                    <div class=\"d-flex\">\n                        <a routerLink=\"/\" [queryParams]=\"{email: email}\" class=\"btn btn-primary btn-block\">\n                            {{'logIn' | i18n}}\n                        </a>\n                        <a routerLink=\"/register\" [queryParams]=\"{email: email}\"\n                            class=\"btn btn-primary btn-block ml-2 mt-0\">\n                            {{'createAccount' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport {\n    Toast,\n    ToasterService,\n} from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { OrganizationUserAcceptRequest } from 'jslib/models/request/organizationUserAcceptRequest';\n\n@Component({\n    selector: 'app-accept-organization',\n    templateUrl: 'accept-organization.component.html',\n})\nexport class AcceptOrganizationComponent implements OnInit {\n    loading = true;\n    authed = false;\n    orgName: string;\n    email: string;\n    actionPromise: Promise<any>;\n\n    constructor(private router: Router, private toasterService: ToasterService,\n        private i18nService: I18nService, private route: ActivatedRoute,\n        private apiService: ApiService, private userService: UserService,\n        private stateService: StateService) { }\n\n    ngOnInit() {\n        let fired = false;\n        this.route.queryParams.subscribe(async qParams => {\n            if (fired) {\n                return;\n            }\n            fired = true;\n            await this.stateService.remove('orgInvitation');\n            let error = qParams.organizationId == null || qParams.organizationUserId == null || qParams.token == null;\n            let errorMessage: string = null;\n            if (!error) {\n                this.authed = await this.userService.isAuthenticated();\n                if (this.authed) {\n                    const request = new OrganizationUserAcceptRequest();\n                    request.token = qParams.token;\n                    try {\n                        this.actionPromise = this.apiService.postOrganizationUserAccept(qParams.organizationId,\n                            qParams.organizationUserId, request);\n                        await this.actionPromise;\n                        const toast: Toast = {\n                            type: 'success',\n                            title: this.i18nService.t('inviteAccepted'),\n                            body: this.i18nService.t('inviteAcceptedDesc'),\n                            timeout: 10000,\n                        };\n                        this.toasterService.popAsync(toast);\n                        this.router.navigate(['/vault']);\n                    } catch (e) {\n                        error = true;\n                        errorMessage = e.message;\n                    }\n                } else {\n                    await this.stateService.save('orgInvitation', qParams);\n                    this.email = qParams.email;\n                    this.orgName = qParams.organizationName;\n                    if (this.orgName != null) {\n                        // Fix URL encoding of space issue with Angular\n                        this.orgName = this.orgName.replace(/\\+/g, ' ');\n                    }\n                }\n            }\n\n            if (error) {\n                const toast: Toast = {\n                    type: 'error',\n                    title: null,\n                    body: errorMessage != null ? this.i18nService.t('inviteAcceptFailedShort', errorMessage) :\n                        this.i18nService.t('inviteAcceptFailed'),\n                    timeout: 10000,\n                };\n                this.toasterService.popAsync(toast);\n                this.router.navigate(['/']);\n            }\n\n            this.loading = false;\n        });\n    }\n}\n","<div class=\"mt-5 d-flex justify-content-center\" *ngIf=\"loading\">\n    <div>\n        <img src=\"images/logo-dark@2x.png\" class=\"mb-4 logo\" alt=\"Bitwarden\">\n        <p class=\"text-center\">\n            <i class=\"fa fa-spinner fa-spin fa-2x text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </p>\n    </div>\n</div>\n<div class=\"container\" *ngIf=\"!loading && !authed\">\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\">\n            <p class=\"lead text-center mb-4\">{{'joinOrganization' | i18n}}</p>\n            <div class=\"card d-block\">\n                <div class=\"card-body\">\n                    <p class=\"text-center\">\n                        {{orgName}}\n                        <strong class=\"d-block mt-2\">{{email}}</strong>\n                    </p>\n                    <p>{{'joinOrganizationDesc' | i18n}}</p>\n                    <hr>\n                    <div class=\"d-flex\">\n                        <a routerLink=\"/\" [queryParams]=\"{email: email}\" class=\"btn btn-primary btn-block\">\n                            {{'logIn' | i18n}}\n                        </a>\n                        <a routerLink=\"/register\" [queryParams]=\"{email: email}\"\n                            class=\"btn btn-primary btn-block ml-2 mt-0\">\n                            {{'createAccount' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { HintComponent as BaseHintComponent } from 'jslib/angular/components/hint.component';\n\n@Component({\n    selector: 'app-hint',\n    templateUrl: 'hint.component.html',\n})\nexport class HintComponent extends BaseHintComponent {\n    constructor(router: Router, i18nService: I18nService,\n        apiService: ApiService, platformUtilsService: PlatformUtilsService) {\n        super(router, i18nService, apiService, platformUtilsService);\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" class=\"container\" ngNativeValidate>\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\">\n            <p class=\"lead text-center mb-4\">{{'passwordHint' | i18n}}</p>\n            <div class=\"card d-block\">\n                <div class=\"card-body\">\n                    <div class=\"form-group\">\n                        <label for=\"email\">{{'emailAddress' | i18n}}</label>\n                        <input id=\"email\" class=\"form-control\" type=\"text\" name=\"Email\" [(ngModel)]=\"email\" required\n                            appAutofocus inputmode=\"email\" appInputVerbatim=\"false\">\n                        <small class=\"form-text text-muted\">{{'enterEmailToGetHint' | i18n}}</small>\n                    </div>\n                    <hr>\n                    <div class=\"d-flex\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-block btn-submit\" [disabled]=\"form.loading\">\n                            <span [hidden]=\"form.loading\">{{'submit' | i18n}}</span>\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        </button>\n                        <a routerLink=\"/\" class=\"btn btn-outline-secondary btn-block ml-2 mt-0\">\n                            {{'cancel' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { EnvironmentService } from 'jslib/abstractions/environment.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\nimport { UserService } from 'jslib/abstractions/user.service';\nimport { VaultTimeoutService } from 'jslib/abstractions/vaultTimeout.service';\n\nimport { RouterService } from '../services/router.service';\n\nimport { LockComponent as BaseLockComponent } from 'jslib/angular/components/lock.component';\n\n@Component({\n    selector: 'app-lock',\n    templateUrl: 'lock.component.html',\n})\nexport class LockComponent extends BaseLockComponent {\n    constructor(router: Router, i18nService: I18nService,\n        platformUtilsService: PlatformUtilsService, messagingService: MessagingService,\n        userService: UserService, cryptoService: CryptoService,\n        storageService: StorageService, vaultTimeoutService: VaultTimeoutService,\n        environmentService: EnvironmentService, private routerService: RouterService,\n        stateService: StateService, apiService: ApiService) {\n        super(router, i18nService, platformUtilsService, messagingService, userService, cryptoService,\n            storageService, vaultTimeoutService, environmentService, stateService, apiService);\n    }\n\n    async ngOnInit() {\n        await super.ngOnInit();\n        this.onSuccessfulSubmit = () => {\n            const previousUrl = this.routerService.getPreviousUrl();\n            if (previousUrl !== '/' && previousUrl.indexOf('lock') === -1) {\n                this.successRoute = previousUrl;\n            }\n            this.router.navigate([this.successRoute]);\n        };\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" class=\"container\" ngNativeValidate>\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\">\n            <p class=\"text-center mb-4\">\n                <i class=\"fa fa-lock fa-4x text-muted\" aria-hidden=\"true\"></i>\n            </p>\n            <p class=\"lead text-center mx-4 mb-4\">{{'yourVaultIsLocked' | i18n}}</p>\n            <div class=\"card d-block\">\n                <div class=\"card-body\">\n                    <div class=\"form-group\">\n                        <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                        <div class=\"d-flex\">\n                            <input id=\"masterPassword\" type=\"{{showPassword ? 'text' : 'password'}}\"\n                                name=\"MasterPassword\" class=\"text-monospace form-control\" [(ngModel)]=\"masterPassword\"\n                                required appAutofocus appInputVerbatim>\n                            <button type=\"button\" class=\"ml-1 btn btn-link\" appA11yTitle=\"{{'toggleVisibility' | i18n}}\"\n                                (click)=\"togglePassword()\">\n                                <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                    [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                            </button>\n                        </div>\n                        <small class=\"text-muted form-text\">\n                            {{'loggedInAsEmailOn' | i18n : email : webVaultHostname}}\n                        </small>\n                    </div>\n                    <hr>\n                    <div class=\"d-flex\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-block btn-submit\" [disabled]=\"form.loading\">\n                            <span>\n                                <i class=\"fa fa-unlock-alt\" aria-hidden=\"true\"></i> {{'unlock' | i18n}}\n                            </span>\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        </button>\n                        <button type=\"button\" class=\"btn btn-outline-secondary btn-block ml-2 mt-0\" (click)=\"logOut()\">\n                            {{'logOut' | i18n}}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n","import { Component } from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { CryptoFunctionService } from 'jslib/abstractions/cryptoFunction.service';\nimport { EnvironmentService } from 'jslib/abstractions/environment.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\n\nimport { LoginComponent as BaseLoginComponent } from 'jslib/angular/components/login.component';\n\n@Component({\n    selector: 'app-login',\n    templateUrl: 'login.component.html',\n})\nexport class LoginComponent extends BaseLoginComponent {\n    constructor(authService: AuthService, router: Router,\n        i18nService: I18nService, private route: ActivatedRoute,\n        storageService: StorageService, stateService: StateService,\n        platformUtilsService: PlatformUtilsService, environmentService: EnvironmentService,\n        passwordGenerationService: PasswordGenerationService, cryptoFunctionService: CryptoFunctionService) {\n        super(authService, router,\n            platformUtilsService, i18nService,\n            stateService, environmentService,\n            passwordGenerationService, cryptoFunctionService,\n            storageService);\n        this.onSuccessfulLoginNavigate = this.goAfterLogIn;\n    }\n\n    async ngOnInit() {\n        const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n            if (qParams.email != null && qParams.email.indexOf('@') > -1) {\n                this.email = qParams.email;\n            }\n            if (qParams.premium != null) {\n                this.stateService.save('loginRedirect', { route: '/settings/premium' });\n            } else if (qParams.org != null) {\n                this.stateService.save('loginRedirect',\n                    { route: '/settings/create-organization', qParams: { plan: qParams.org } });\n            }\n            await super.ngOnInit();\n            if (queryParamsSub != null) {\n                queryParamsSub.unsubscribe();\n            }\n        });\n    }\n\n    async goAfterLogIn() {\n        const orgInvite = await this.stateService.get<any>('orgInvitation');\n        const emergencyInvite = await this.stateService.get<any>('emergencyInvitation');\n        if (orgInvite != null) {\n            this.router.navigate(['accept-organization'], { queryParams: orgInvite });\n        } else if (emergencyInvite != null) {\n            this.router.navigate(['accept-emergency'], { queryParams: emergencyInvite });\n        } else {\n            const loginRedirect = await this.stateService.get<any>('loginRedirect');\n            if (loginRedirect != null) {\n                this.router.navigate([loginRedirect.route], { queryParams: loginRedirect.qParams });\n                await this.stateService.remove('loginRedirect');\n            } else {\n                this.router.navigate([this.successRoute]);\n            }\n        }\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" class=\"container\" ngNativeValidate>\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\">\n            <img src=\"images/logo-dark@2x.png\" class=\"logo mb-2\" alt=\"Bitwarden\">\n            <p class=\"lead text-center mx-4 mb-4\">{{'loginOrCreateNewAccount' | i18n}}</p>\n            <div class=\"card d-block\">\n                <div class=\"card-body\">\n                    <div class=\"form-group\">\n                        <label for=\"email\">{{'emailAddress' | i18n}}</label>\n                        <input id=\"email\" class=\"form-control\" type=\"text\" name=\"Email\" [(ngModel)]=\"email\" required\n                            inputmode=\"email\" appInputVerbatim=\"false\">\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                        <div class=\"d-flex\">\n                            <input id=\"masterPassword\" type=\"{{showPassword ? 'text' : 'password'}}\"\n                                name=\"MasterPassword\" class=\"text-monospace form-control\" [(ngModel)]=\"masterPassword\"\n                                required appInputVerbatim>\n                            <button type=\"button\" class=\"ml-1 btn btn-link\" appA11yTitle=\"{{'toggleVisibility' | i18n}}\"\n                                (click)=\"togglePassword()\">\n                                <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                    [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                            </button>\n                        </div>\n                        <small class=\"form-text\">\n                            <a routerLink=\"/hint\">{{'getMasterPasswordHint' | i18n}}</a>\n                        </small>\n                    </div>\n                    <div class=\"form-check\">\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"rememberEmail\" name=\"RememberEmail\"\n                            [(ngModel)]=\"rememberEmail\">\n                        <label class=\"form-check-label\" for=\"rememberEmail\">{{'rememberEmail' | i18n}}</label>\n                    </div>\n                    <hr>\n                    <div class=\"d-flex\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-block btn-submit\" [disabled]=\"form.loading\">\n                            <span>\n                                <i class=\"fa fa-sign-in\" aria-hidden=\"true\"></i> {{'logIn' | i18n}}\n                            </span>\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        </button>\n                        <a routerLink=\"/register\" [queryParams]=\"{email: email}\"\n                            class=\"btn btn-outline-secondary btn-block ml-2 mt-0\">\n                            <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i> {{'createAccount' | i18n}}\n                        </a>\n                    </div>\n                    <div class=\"d-flex\">\n                        <a routerLink=\"/sso\" class=\"btn btn-outline-secondary btn-block mt-2\">\n                            <i class=\"fa fa-bank\" aria-hidden=\"true\"></i> {{'enterpriseSingleSignOn' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { DeleteRecoverRequest } from 'jslib/models/request/deleteRecoverRequest';\n\n@Component({\n    selector: 'app-recover-delete',\n    templateUrl: 'recover-delete.component.html',\n})\nexport class RecoverDeleteComponent {\n    email: string;\n    formPromise: Promise<any>;\n\n    constructor(private router: Router, private apiService: ApiService,\n        private toasterService: ToasterService, private i18nService: I18nService) {\n    }\n\n    async submit() {\n        try {\n            const request = new DeleteRecoverRequest();\n            request.email = this.email.trim().toLowerCase();\n            this.formPromise = this.apiService.postAccountRecoverDelete(request);\n            await this.formPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('deleteRecoverEmailSent'));\n            this.router.navigate(['/']);\n        } catch { }\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" class=\"container\" ngNativeValidate>\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\">\n            <p class=\"lead text-center mb-4\">{{'deleteAccount' | i18n}}</p>\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <p>{{'deleteRecoverDesc' | i18n}}</p>\n                    <div class=\"form-group\">\n                        <label for=\"email\">{{'emailAddress' | i18n}}</label>\n                        <input id=\"email\" class=\"form-control\" type=\"text\" name=\"Email\" [(ngModel)]=\"email\" required\n                            appAutofocus inputmode=\"email\" appInputVerbatim=\"false\">\n                    </div>\n                    <hr>\n                    <div class=\"d-flex\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-block btn-submit\" [disabled]=\"form.loading\">\n                            <span>{{'submit' | i18n}}</span>\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        </button>\n                        <a routerLink=\"/\" class=\"btn btn-outline-secondary btn-block ml-2 mt-0\">\n                            {{'cancel' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { TwoFactorRecoveryRequest } from 'jslib/models/request/twoFactorRecoveryRequest';\n\n@Component({\n    selector: 'app-recover-two-factor',\n    templateUrl: 'recover-two-factor.component.html',\n})\nexport class RecoverTwoFactorComponent {\n    email: string;\n    masterPassword: string;\n    recoveryCode: string;\n    formPromise: Promise<any>;\n\n    constructor(private router: Router, private apiService: ApiService,\n        private toasterService: ToasterService, private i18nService: I18nService,\n        private cryptoService: CryptoService, private authService: AuthService) { }\n\n    async submit() {\n        try {\n            const request = new TwoFactorRecoveryRequest();\n            request.recoveryCode = this.recoveryCode.replace(/\\s/g, '').toLowerCase();\n            request.email = this.email.trim().toLowerCase();\n            const key = await this.authService.makePreloginKey(this.masterPassword, request.email);\n            request.masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, key);\n            this.formPromise = this.apiService.postTwoFactorRecover(request);\n            await this.formPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('twoStepRecoverDisabled'));\n            this.router.navigate(['/']);\n        } catch { }\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" class=\"container\" ngNativeValidate>\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\">\n            <p class=\"lead text-center mb-4\">{{'recoverAccountTwoStep' | i18n}}</p>\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <p>{{'recoverAccountTwoStepDesc' | i18n}}\n                        <a href=\"https://help.bitwarden.com/article/lost-two-step-device/\" target=\"_blank\"\n                            rel=\"noopener\">{{'learnMore' | i18n}}</a>\n                    </p>\n                    <div class=\"form-group\">\n                        <label for=\"email\">{{'emailAddress' | i18n}}</label>\n                        <input id=\"email\" class=\"form-control\" type=\"text\" name=\"Email\" [(ngModel)]=\"email\" required\n                            appAutofocus inputmode=\"email\" appInputVerbatim=\"false\">\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                        <input id=\"masterPassword\" type=\"password\" name=\"MasterPassword\" class=\"form-control\"\n                            [(ngModel)]=\"masterPassword\" required appInputVerbatim>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"recoveryCode\">{{'recoveryCodeTitle' | i18n}}</label>\n                        <input id=\"recoveryCode\" class=\"text-monospace form-control\" type=\"text\" name=\"RecoveryCode\"\n                            [(ngModel)]=\"recoveryCode\" required appInputVerbatim>\n                    </div>\n                    <hr>\n                    <div class=\"d-flex\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-block btn-submit\" [disabled]=\"form.loading\">\n                            <span>{{'submit' | i18n}}</span>\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        </button>\n                        <a routerLink=\"/\" class=\"btn btn-outline-secondary btn-block ml-2 mt-0\">\n                            {{'cancel' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n","import { Component } from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { StateService } from 'jslib/abstractions/state.service';\n\nimport { RegisterComponent as BaseRegisterComponent } from 'jslib/angular/components/register.component';\n\nimport { MasterPasswordPolicyOptions } from 'jslib/models/domain/masterPasswordPolicyOptions';\nimport { Policy } from 'jslib/models/domain/policy';\n\nimport { PolicyData } from 'jslib/models/data/policyData';\nimport { ReferenceEventRequest } from 'jslib/models/request/referenceEventRequest';\n\n@Component({\n    selector: 'app-register',\n    templateUrl: 'register.component.html',\n})\nexport class RegisterComponent extends BaseRegisterComponent {\n    showCreateOrgMessage = false;\n    layout = '';\n    enforcedPolicyOptions: MasterPasswordPolicyOptions;\n\n    private policies: Policy[];\n\n    constructor(authService: AuthService, router: Router,\n        i18nService: I18nService, cryptoService: CryptoService,\n        apiService: ApiService, private route: ActivatedRoute,\n        stateService: StateService, platformUtilsService: PlatformUtilsService,\n        passwordGenerationService: PasswordGenerationService, private policyService: PolicyService) {\n        super(authService, router, i18nService, cryptoService, apiService, stateService, platformUtilsService,\n            passwordGenerationService);\n    }\n\n    getPasswordScoreAlertDisplay() {\n        if (this.enforcedPolicyOptions == null) {\n            return '';\n        }\n\n        let str: string;\n        switch (this.enforcedPolicyOptions.minComplexity) {\n            case 4:\n                str = this.i18nService.t('strong');\n                break;\n            case 3:\n                str = this.i18nService.t('good');\n                break;\n            default:\n                str = this.i18nService.t('weak');\n                break;\n        }\n        return str + ' (' + this.enforcedPolicyOptions.minComplexity + ')';\n    }\n\n    async ngOnInit() {\n        const queryParamsSub = this.route.queryParams.subscribe(qParams => {\n            this.referenceData = new ReferenceEventRequest();\n            if (qParams.email != null && qParams.email.indexOf('@') > -1) {\n                this.email = qParams.email;\n            }\n            if (qParams.premium != null) {\n                this.stateService.save('loginRedirect', { route: '/settings/premium' });\n            } else if (qParams.org != null) {\n                this.showCreateOrgMessage = true;\n                this.referenceData.flow = qParams.org;\n                this.stateService.save('loginRedirect',\n                    { route: '/settings/create-organization', qParams: { plan: qParams.org } });\n            }\n            if (qParams.layout != null) {\n                this.layout = this.referenceData.layout = qParams.layout;\n            }\n            if (qParams.reference != null) {\n                this.referenceData.id = qParams.reference;\n            } else {\n                this.referenceData.id = ('; ' + document.cookie).split('; reference=').pop().split(';').shift();\n            }\n            if (this.referenceData.id === '') {\n                this.referenceData.id = null;\n            }\n            if (queryParamsSub != null) {\n                queryParamsSub.unsubscribe();\n            }\n        });\n        const invite = await this.stateService.get<any>('orgInvitation');\n        if (invite != null) {\n            try {\n                const policies = await this.apiService.getPoliciesByToken(invite.organizationId, invite.token,\n                    invite.email, invite.organizationUserId);\n                if (policies.data != null) {\n                    const policiesData = policies.data.map(p => new PolicyData(p));\n                    this.policies = policiesData.map(p => new Policy(p));\n                }\n            } catch { }\n        }\n\n        if (this.policies != null) {\n            this.enforcedPolicyOptions = await this.policyService.getMasterPasswordPolicyOptions(this.policies);\n        }\n    }\n\n    async submit() {\n        if (this.enforcedPolicyOptions != null &&\n            !this.policyService.evaluateMasterPassword(this.masterPasswordScore, this.masterPassword,\n                this.enforcedPolicyOptions)) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPasswordPolicyRequirementsNotMet'));\n            return;\n        }\n\n        await super.submit();\n    }\n}\n","<div class=\"layout\" [ngClass]=\"['layout', layout]\">\n    <header class=\"header\" *ngIf=\"layout === 'enterprise2'\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-7\">\n                    <img alt=\"Bitwarden\" class=\"logo mb-2\" src=\"images/logo-horizontal-white.png\">\n                </div>\n            </div>\n        </div>\n    </header>\n    <form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" class=\"container\" ngNativeValidate>\n        <div class=\"row\">\n            <div class=\"col-7\" *ngIf=\"layout\">\n                <div class=\"mt-5\">\n                    <div *ngIf=\"layout === 'enterprise2'\">\n                        <h2>Companies globally trust Bitwarden for password management.</h2>\n                        <p>Start your 7-day free trial!</p>\n                        <p class=\"highlight\">Quickly deploy your <b>organization</b></p>\n                        <p>Use Bitwarden across all platforms</p>\n                        <p>Collaborate and share securely</p>\n                        <figure>\n                            <figcaption>\n                                <cite>\n                                    <img src=\"images/wired-logo.png\" alt=\"Wired\">\n                                </cite>\n                            </figcaption>\n                            <blockquote>\n                                \"Bitwarden has become a popular choice among open-source software advocates. After using\n                                it for a few months, I can see why.\" - February 2020\n                            </blockquote>\n                        </figure>\n                    </div>\n                    <div *ngIf=\"layout === 'enterprise3'\">\n                        <p>Enterprise 3 layout</p>\n                    </div>\n                    <div *ngIf=\"layout === 'enterprise4'\">\n                        <p>Enterprise 4 layout</p>\n                    </div>\n                </div>\n            </div>\n            <div [ngClass]=\"{'col-5': layout, 'col-12': !layout}\">\n                <div class=\"row justify-content-md-center mt-5\">\n                    <div [ngClass]=\"{'col-5': !layout, 'col-12': layout}\">\n                        <p class=\"lead text-center mb-4\" *ngIf=\"!layout\">{{'createAccount' | i18n}}</p>\n                        <div class=\"card d-block\">\n                            <div class=\"card-body\">\n                                <app-callout title=\"{{'createOrganizationStep1' | i18n}}\" type=\"info\"\n                                    icon=\"fa-thumb-tack\" *ngIf=\"showCreateOrgMessage\">\n                                    {{'createOrganizationCreatePersonalAccount' | i18n}}\n                                </app-callout>\n                                <div class=\"form-group\">\n                                    <label for=\"email\">{{'emailAddress' | i18n}}</label>\n                                    <input id=\"email\" class=\"form-control\" type=\"text\" name=\"Email\" [(ngModel)]=\"email\"\n                                        required [appAutofocus]=\"email === ''\" inputmode=\"email\"\n                                        appInputVerbatim=\"false\">\n                                    <small class=\"form-text text-muted\">{{'emailAddressDesc' | i18n}}</small>\n                                </div>\n                                <div class=\"form-group\">\n                                    <label for=\"name\">{{'yourName' | i18n}}</label>\n                                    <input id=\"name\" class=\"form-control\" type=\"text\" name=\"Name\" [(ngModel)]=\"name\"\n                                        [appAutofocus]=\"email !== ''\">\n                                    <small class=\"form-text text-muted\">{{'yourNameDesc' | i18n}}</small>\n                                </div>\n                                <div class=\"form-group\">\n                                    <app-callout type=\"info\" *ngIf=\"enforcedPolicyOptions\">\n                                        {{'masterPasswordPolicyInEffect' | i18n}}\n                                        <ul class=\"mb-0\">\n                                            <li *ngIf=\"enforcedPolicyOptions?.minComplexity > 0\">\n                                                {{'policyInEffectMinComplexity' | i18n : getPasswordScoreAlertDisplay()}}\n                                            </li>\n                                            <li *ngIf=\"enforcedPolicyOptions?.minLength > 0\">\n                                                {{'policyInEffectMinLength' | i18n : enforcedPolicyOptions?.minLength.toString()}}\n                                            </li>\n                                            <li *ngIf=\"enforcedPolicyOptions?.requireUpper\">\n                                                {{'policyInEffectUppercase' | i18n}}</li>\n                                            <li *ngIf=\"enforcedPolicyOptions?.requireLower\">\n                                                {{'policyInEffectLowercase' | i18n}}</li>\n                                            <li *ngIf=\"enforcedPolicyOptions?.requireNumbers\">\n                                                {{'policyInEffectNumbers' | i18n}}</li>\n                                            <li *ngIf=\"enforcedPolicyOptions?.requireSpecial\">\n                                                {{'policyInEffectSpecial' | i18n : '!@#$%^&*'}}</li>\n                                        </ul>\n                                    </app-callout>\n                                    <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                                    <div class=\"d-flex\">\n                                        <div class=\"w-100\">\n                                            <input id=\"masterPassword\" type=\"{{showPassword ? 'text' : 'password'}}\"\n                                                name=\"MasterPassword\" class=\"text-monospace form-control mb-1\"\n                                                [(ngModel)]=\"masterPassword\" (input)=\"updatePasswordStrength()\" required\n                                                appInputVerbatim>\n                                            <app-password-strength [score]=\"masterPasswordScore\" [showText]=\"true\">\n                                            </app-password-strength>\n                                        </div>\n                                        <div>\n                                            <button type=\"button\" class=\"ml-1 btn btn-link\"\n                                                appA11yTitle=\"{{'toggleVisibility' | i18n}}\"\n                                                (click)=\"togglePassword(false)\">\n                                                <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                                    [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                                            </button>\n                                            <div class=\"progress-bar invisible\"></div>\n                                        </div>\n                                    </div>\n                                    <small class=\"form-text text-muted\">{{'masterPassDesc' | i18n}}</small>\n                                </div>\n                                <div class=\"form-group\">\n                                    <label for=\"masterPasswordRetype\">{{'reTypeMasterPass' | i18n}}</label>\n                                    <div class=\"d-flex\">\n                                        <input id=\"masterPasswordRetype\" type=\"{{showPassword ? 'text' : 'password'}}\"\n                                            name=\"MasterPasswordRetype\" class=\"text-monospace form-control\"\n                                            [(ngModel)]=\"confirmMasterPassword\" required appInputVerbatim>\n                                        <button type=\"button\" class=\"ml-1 btn btn-link\"\n                                            appA11yTitle=\"{{'toggleVisibility' | i18n}}\" (click)=\"togglePassword(true)\">\n                                            <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                                [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                                        </button>\n                                    </div>\n                                </div>\n                                <div class=\"form-group\">\n                                    <label for=\"hint\">{{'masterPassHint' | i18n}}</label>\n                                    <input id=\"hint\" class=\"form-control\" type=\"text\" name=\"Hint\" [(ngModel)]=\"hint\">\n                                    <small class=\"form-text text-muted\">{{'masterPassHintDesc' | i18n}}</small>\n                                </div>\n                                <div class=\"form-group\" *ngIf=\"showTerms\">\n                                    <div class=\"form-check\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" id=\"acceptPolicies\"\n                                            [(ngModel)]=\"acceptPolicies\" name=\"AcceptPolicies\">\n                                        <label class=\"form-check-label small text-muted\" for=\"acceptPolicies\">\n                                            {{'acceptPolicies' | i18n}}<br>\n                                            <a href=\"https://bitwarden.com/terms/\" target=\"_blank\"\n                                                rel=\"noopener\">{{'termsOfService' | i18n}}</a>,\n                                            <a href=\"https://bitwarden.com/privacy/\" target=\"_blank\"\n                                                rel=\"noopener\">{{'privacyPolicy' | i18n}}</a>\n                                        </label>\n                                    </div>\n                                </div>\n                                <hr>\n                                <div class=\"d-flex mb-2\">\n                                    <button type=\"submit\" class=\"btn btn-primary btn-block btn-submit\"\n                                        [disabled]=\"form.loading\">\n                                        <span>{{'submit' | i18n}}</span>\n                                        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\"\n                                            aria-hidden=\"true\"></i>\n                                    </button>\n                                    <a routerLink=\"/\" class=\"btn btn-outline-secondary btn-block ml-2 mt-0\">\n                                        {{'cancel' | i18n}}\n                                    </a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n","import { Component } from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport {\n    SetPasswordComponent as BaseSetPasswordComponent,\n} from 'jslib/angular/components/set-password.component';\n\n@Component({\n    selector: 'app-set-password',\n    templateUrl: 'set-password.component.html',\n})\nexport class SetPasswordComponent extends BaseSetPasswordComponent {\n    constructor(apiService: ApiService, i18nService: I18nService,\n        cryptoService: CryptoService, messagingService: MessagingService,\n        userService: UserService, passwordGenerationService: PasswordGenerationService,\n        platformUtilsService: PlatformUtilsService, policyService: PolicyService, router: Router,\n        syncService: SyncService, route: ActivatedRoute) {\n        super(i18nService, cryptoService, messagingService, userService, passwordGenerationService,\n            platformUtilsService, policyService, router, apiService, syncService, route);\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate autocomplete=\"off\">\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\">\n            <p class=\"lead text-center mb-4\">{{'setMasterPassword' | i18n}}</p>\n            <div class=\"card d-block\">\n                <div class=\"card-body text-center\" *ngIf=\"syncLoading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    {{'loading' | i18n}}\n                </div>\n                <div class=\"card-body\" *ngIf=\"!syncLoading\">\n                    <app-callout type=\"info\">{{'ssoCompleteRegistration' | i18n}}</app-callout>\n                    <div class=\"form-group\">\n                        <app-callout type=\"info\" *ngIf=\"enforcedPolicyOptions\">\n                            {{'masterPasswordPolicyInEffect' | i18n}}\n                            <ul class=\"mb-0\">\n                                <li *ngIf=\"enforcedPolicyOptions?.minComplexity > 0\">\n                                    {{'policyInEffectMinComplexity' | i18n : getPasswordScoreAlertDisplay()}}\n                                </li>\n                                <li *ngIf=\"enforcedPolicyOptions?.minLength > 0\">\n                                    {{'policyInEffectMinLength' | i18n : enforcedPolicyOptions?.minLength.toString()}}\n                                </li>\n                                <li *ngIf=\"enforcedPolicyOptions?.requireUpper\">\n                                    {{'policyInEffectUppercase' | i18n}}</li>\n                                <li *ngIf=\"enforcedPolicyOptions?.requireLower\">\n                                    {{'policyInEffectLowercase' | i18n}}</li>\n                                <li *ngIf=\"enforcedPolicyOptions?.requireNumbers\">\n                                    {{'policyInEffectNumbers' | i18n}}</li>\n                                <li *ngIf=\"enforcedPolicyOptions?.requireSpecial\">\n                                    {{'policyInEffectSpecial' | i18n : '!@#$%^&*'}}</li>\n                            </ul>\n                        </app-callout>\n                        <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                        <div class=\"d-flex\">\n                            <div class=\"w-100\">\n                                <input id=\"masterPassword\" type=\"{{showPassword ? 'text' : 'password'}}\"\n                                    name=\"MasterPasswordHash\" class=\"text-monospace form-control mb-1\"\n                                    [(ngModel)]=\"masterPassword\" (input)=\"updatePasswordStrength()\" required\n                                    appInputVerbatim>\n                                <app-password-strength [score]=\"masterPasswordScore\" [showText]=\"true\">\n                                </app-password-strength>\n                            </div>\n                            <div>\n                                <button type=\"button\" class=\"ml-1 btn btn-link\"\n                                    appA11yTitle=\"{{'toggleVisibility' | i18n}}\" (click)=\"togglePassword(false)\">\n                                    <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                        [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                                </button>\n                                <div class=\"progress-bar invisible\"></div>\n                            </div>\n                        </div>\n                        <small class=\"form-text text-muted\">{{'masterPassDesc' | i18n}}</small>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"masterPasswordRetype\">{{'reTypeMasterPass' | i18n}}</label>\n                        <div class=\"d-flex\">\n                            <input id=\"masterPasswordRetype\" type=\"{{showPassword ? 'text' : 'password'}}\"\n                                name=\"MasterPasswordRetype\" class=\"text-monospace form-control\"\n                                [(ngModel)]=\"masterPasswordRetype\" required appInputVerbatim>\n                            <button type=\"button\" class=\"ml-1 btn btn-link\" appA11yTitle=\"{{'toggleVisibility' | i18n}}\"\n                                (click)=\"togglePassword(true)\">\n                                <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                    [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                            </button>\n                        </div>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"hint\">{{'masterPassHint' | i18n}}</label>\n                        <input id=\"hint\" class=\"form-control\" type=\"text\" name=\"Hint\" [(ngModel)]=\"hint\">\n                        <small class=\"form-text text-muted\">{{'masterPassHintDesc' | i18n}}</small>\n                    </div>\n                    <hr>\n                    <div class=\"d-flex\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-block btn-submit\" [disabled]=\"form.loading\">\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                            <span>{{'submit' | i18n}}</span>\n                        </button>\n                        <button type=\"button\" class=\"btn btn-outline-secondary btn-block ml-2 mt-0\" (click)=\"logOut()\">\n                            {{'logOut' | i18n}}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n","import { Component } from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { CryptoFunctionService } from 'jslib/abstractions/cryptoFunction.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\n\nimport { SsoComponent as BaseSsoComponent } from 'jslib/angular/components/sso.component';\n\nconst IdentifierStorageKey = 'ssoOrgIdentifier';\n\n@Component({\n    selector: 'app-sso',\n    templateUrl: 'sso.component.html',\n})\nexport class SsoComponent extends BaseSsoComponent {\n    constructor(authService: AuthService, router: Router,\n        i18nService: I18nService, route: ActivatedRoute,\n        storageService: StorageService, stateService: StateService,\n        platformUtilsService: PlatformUtilsService, apiService: ApiService,\n        cryptoFunctionService: CryptoFunctionService,\n        passwordGenerationService: PasswordGenerationService) {\n        super(authService, router, i18nService, route, storageService, stateService, platformUtilsService,\n            apiService, cryptoFunctionService, passwordGenerationService);\n        this.redirectUri = window.location.origin + '/sso-connector.html';\n        this.clientId = 'web';\n    }\n\n    async ngOnInit() {\n        super.ngOnInit();\n        const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n            if (qParams.identifier != null) {\n                this.identifier = qParams.identifier;\n            } else {\n                const storedIdentifier = await this.storageService.get<string>(IdentifierStorageKey);\n                if (storedIdentifier != null) {\n                    this.identifier = storedIdentifier;\n                }\n            }\n            if (queryParamsSub != null) {\n                queryParamsSub.unsubscribe();\n            }\n        });\n    }\n\n    async submit() {\n        await this.storageService.save(IdentifierStorageKey, this.identifier);\n        if (this.clientId === 'browser') {\n            document.cookie = `ssoHandOffMessage=${this.i18nService.t('ssoHandOff')};SameSite=strict`;\n        }\n        super.submit();\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" class=\"container\" [appApiAction]=\"initiateSsoFormPromise\" ngNativeValidate>\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\">\n            <img src=\"images/logo-dark@2x.png\" class=\"logo mb-2\" alt=\"Bitwarden\">\n            <div class=\"card d-block mt-4\">\n                <div class=\"card-body\" *ngIf=\"loggingIn\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    {{'loading' | i18n}}\n                </div>\n                <div class=\"card-body\" *ngIf=\"!loggingIn\">\n                    <p>{{'ssoLogInWithOrgIdentifier' | i18n}}</p>\n                    <div class=\"form-group\">\n                        <label for=\"identifier\">{{'organizationIdentifier' | i18n}}</label>\n                        <input id=\"identifier\" class=\"form-control\" type=\"text\" name=\"Identifier\"\n                            [(ngModel)]=\"identifier\" required appAutofocus>\n                    </div>\n                    <hr>\n                    <div class=\"d-flex\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-block btn-submit\" [disabled]=\"form.loading\">\n                            <span>\n                                <i class=\"fa fa-sign-in\" aria-hidden=\"true\"></i> {{'logIn' | i18n}}\n                            </span>\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        </button>\n                        <a routerLink=\"/\" class=\"btn btn-outline-secondary btn-block ml-2 mt-0\">\n                            {{'cancel' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n","import {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { AuthService } from '../../abstractions/auth.service';\nimport { CryptoFunctionService } from '../../abstractions/cryptoFunction.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PasswordGenerationService } from '../../abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { StateService } from '../../abstractions/state.service';\nimport { StorageService } from '../../abstractions/storage.service';\n\nimport { ConstantsService } from '../../services/constants.service';\n\nimport { Utils } from '../../misc/utils';\n\nimport { AuthResult } from '../../models/domain/authResult';\n\nexport class SsoComponent {\n    identifier: string;\n    loggingIn = false;\n\n    formPromise: Promise<AuthResult>;\n    initiateSsoFormPromise: Promise<any>;\n    onSuccessfulLogin: () => Promise<any>;\n    onSuccessfulLoginNavigate: () => Promise<any>;\n    onSuccessfulLoginTwoFactorNavigate: () => Promise<any>;\n    onSuccessfulLoginChangePasswordNavigate: () => Promise<any>;\n\n    protected twoFactorRoute = '2fa';\n    protected successRoute = 'lock';\n    protected changePasswordRoute = 'set-password';\n    protected clientId: string;\n    protected redirectUri: string;\n    protected state: string;\n    protected codeChallenge: string;\n\n    constructor(protected authService: AuthService, protected router: Router,\n        protected i18nService: I18nService, protected route: ActivatedRoute,\n        protected storageService: StorageService, protected stateService: StateService,\n        protected platformUtilsService: PlatformUtilsService, protected apiService: ApiService,\n        protected cryptoFunctionService: CryptoFunctionService,\n        protected passwordGenerationService: PasswordGenerationService) { }\n\n    async ngOnInit() {\n        const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n            if (qParams.code != null && qParams.state != null) {\n                const codeVerifier = await this.storageService.get<string>(ConstantsService.ssoCodeVerifierKey);\n                const state = await this.storageService.get<string>(ConstantsService.ssoStateKey);\n                await this.storageService.remove(ConstantsService.ssoCodeVerifierKey);\n                await this.storageService.remove(ConstantsService.ssoStateKey);\n                if (qParams.code != null && codeVerifier != null && state != null && this.checkState(state, qParams.state)) {\n                    await this.logIn(qParams.code, codeVerifier, this.getOrgIdentiferFromState(qParams.state));\n                }\n            } else if (qParams.clientId != null && qParams.redirectUri != null && qParams.state != null &&\n                qParams.codeChallenge != null) {\n                this.redirectUri = qParams.redirectUri;\n                this.state = qParams.state;\n                this.codeChallenge = qParams.codeChallenge;\n                this.clientId = qParams.clientId;\n            }\n            if (queryParamsSub != null) {\n                queryParamsSub.unsubscribe();\n            }\n        });\n    }\n\n    async submit(returnUri?: string, includeUserIdentifier?: boolean) {\n        this.initiateSsoFormPromise = this.preValidate();\n        if (await this.initiateSsoFormPromise) {\n            const authorizeUrl = await this.buildAuthorizeUrl(returnUri, includeUserIdentifier);\n            this.platformUtilsService.launchUri(authorizeUrl, { sameWindow: true });\n        }\n    }\n\n    async preValidate(): Promise<boolean> {\n        if (this.identifier == null || this.identifier === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('ssoValidationFailed'),\n                this.i18nService.t('ssoIdentifierRequired'));\n            return false;\n        }\n        return await this.apiService.preValidateSso(this.identifier);\n    }\n\n    protected async buildAuthorizeUrl(returnUri?: string, includeUserIdentifier?: boolean): Promise<string> {\n        let codeChallenge = this.codeChallenge;\n        let state = this.state;\n\n        const passwordOptions: any = {\n            type: 'password',\n            length: 64,\n            uppercase: true,\n            lowercase: true,\n            numbers: true,\n            special: false,\n        };\n\n        if (codeChallenge == null) {\n            const codeVerifier = await this.passwordGenerationService.generatePassword(passwordOptions);\n            const codeVerifierHash = await this.cryptoFunctionService.hash(codeVerifier, 'sha256');\n            codeChallenge = Utils.fromBufferToUrlB64(codeVerifierHash);\n            await this.storageService.save(ConstantsService.ssoCodeVerifierKey, codeVerifier);\n        }\n\n        if (state == null) {\n            state = await this.passwordGenerationService.generatePassword(passwordOptions);\n            if (returnUri) {\n                state += `_returnUri='${returnUri}'`;\n            }\n        }\n\n        // Add Organization Identifier to state\n        state += `_identifier=${this.identifier}`;\n\n        // Save state (regardless of new or existing)\n        await this.storageService.save(ConstantsService.ssoStateKey, state);\n\n        let authorizeUrl = this.apiService.identityBaseUrl + '/connect/authorize?' +\n            'client_id=' + this.clientId + '&redirect_uri=' + encodeURIComponent(this.redirectUri) + '&' +\n            'response_type=code&scope=api offline_access&' +\n            'state=' + state + '&code_challenge=' + codeChallenge + '&' +\n            'code_challenge_method=S256&response_mode=query&' +\n            'domain_hint=' + encodeURIComponent(this.identifier);\n\n        if (includeUserIdentifier) {\n            const userIdentifier = await this.apiService.getSsoUserIdentifier();\n            authorizeUrl += `&user_identifier=${encodeURIComponent(userIdentifier)}`;\n        }\n\n        return authorizeUrl;\n    }\n\n    private async logIn(code: string, codeVerifier: string, orgIdFromState: string) {\n        this.loggingIn = true;\n        try {\n            this.formPromise = this.authService.logInSso(code, codeVerifier, this.redirectUri);\n            const response = await this.formPromise;\n            if (response.twoFactor) {\n                if (this.onSuccessfulLoginTwoFactorNavigate != null) {\n                    this.onSuccessfulLoginTwoFactorNavigate();\n                } else {\n                    this.router.navigate([this.twoFactorRoute], {\n                        queryParams: {\n                            identifier: orgIdFromState,\n                            sso: 'true',\n                        },\n                    });\n                }\n            } else if (response.resetMasterPassword) {\n                if (this.onSuccessfulLoginChangePasswordNavigate != null) {\n                    this.onSuccessfulLoginChangePasswordNavigate();\n                } else {\n                    this.router.navigate([this.changePasswordRoute], {\n                        queryParams: {\n                            identifier: orgIdFromState,\n                        },\n                    });\n                }\n            } else {\n                const disableFavicon = await this.storageService.get<boolean>(ConstantsService.disableFaviconKey);\n                await this.stateService.save(ConstantsService.disableFaviconKey, !!disableFavicon);\n                if (this.onSuccessfulLogin != null) {\n                    this.onSuccessfulLogin();\n                }\n                if (this.onSuccessfulLoginNavigate != null) {\n                    this.onSuccessfulLoginNavigate();\n                } else {\n                    this.router.navigate([this.successRoute]);\n                }\n            }\n        } catch { }\n        this.loggingIn = false;\n    }\n\n    private getOrgIdentiferFromState(state: string): string {\n        if (state === null || state === undefined) {\n            return null;\n        }\n\n        const stateSplit = state.split('_identifier=');\n        return stateSplit.length > 1 ? stateSplit[1] : null;\n    }\n\n    private checkState(state: string, checkState: string): boolean {\n        if (state === null || state === undefined) {\n            return false;\n        }\n        if (checkState === null || checkState === undefined) {\n            return false;\n        }\n\n        const stateSplit = state.split('_identifier=');\n        const checkStateSplit = checkState.split('_identifier=');\n        return stateSplit[0] === checkStateSplit[0];\n    }\n}\n","import {\n    Component,\n    ComponentFactoryResolver,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\n\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { TwoFactorOptionsComponent } from './two-factor-options.component';\n\nimport { ModalComponent } from '../modal.component';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { EnvironmentService } from 'jslib/abstractions/environment.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\n\nimport { TwoFactorComponent as BaseTwoFactorComponent } from 'jslib/angular/components/two-factor.component';\n\n@Component({\n    selector: 'app-two-factor',\n    templateUrl: 'two-factor.component.html',\n})\nexport class TwoFactorComponent extends BaseTwoFactorComponent {\n    @ViewChild('twoFactorOptions', { read: ViewContainerRef, static: true }) twoFactorOptionsModal: ViewContainerRef;\n\n    constructor(authService: AuthService, router: Router,\n        i18nService: I18nService, apiService: ApiService,\n        platformUtilsService: PlatformUtilsService, stateService: StateService,\n        environmentService: EnvironmentService, private componentFactoryResolver: ComponentFactoryResolver,\n        storageService: StorageService, route: ActivatedRoute) {\n        super(authService, router, i18nService, apiService, platformUtilsService, window, environmentService,\n            stateService, storageService, route);\n        this.onSuccessfulLoginNavigate = this.goAfterLogIn;\n    }\n\n    anotherMethod() {\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        const modal = this.twoFactorOptionsModal.createComponent(factory).instance;\n        const childComponent = modal.show<TwoFactorOptionsComponent>(TwoFactorOptionsComponent,\n            this.twoFactorOptionsModal);\n\n        childComponent.onProviderSelected.subscribe(async (provider: TwoFactorProviderType) => {\n            modal.close();\n            this.selectedProviderType = provider;\n            await this.init();\n        });\n        childComponent.onRecoverSelected.subscribe(() => {\n            modal.close();\n        });\n    }\n\n    async goAfterLogIn() {\n        const orgInvite = await this.stateService.get<any>('orgInvitation');\n        const emergencyInvite = await this.stateService.get<any>('emergencyInvitation');\n        if (orgInvite != null) {\n            this.router.navigate(['accept-organization'], { queryParams: orgInvite });\n        } else if (emergencyInvite != null) {\n            this.router.navigate(['accept-emergency'], { queryParams: emergencyInvite });\n        } else {\n            const loginRedirect = await this.stateService.get<any>('loginRedirect');\n            if (loginRedirect != null) {\n                this.router.navigate([loginRedirect.route], { queryParams: loginRedirect.qParams });\n                await this.stateService.remove('loginRedirect');\n            } else {\n                this.router.navigate([this.successRoute], {\n                    queryParams: {\n                        identifier: this.identifier,\n                    },\n                });\n            }\n        }\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" class=\"container\" ngNativeValidate autocomplete=\"off\">\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\"\n            [ngClass]=\"{'col-9': selectedProviderType === providerType.Duo || selectedProviderType === providerType.OrganizationDuo}\">\n            <p class=\"lead text-center mb-4\">{{title}}</p>\n            <div class=\"card d-block\">\n                <div class=\"card-body\">\n                    <ng-container\n                        *ngIf=\"selectedProviderType === providerType.Email || selectedProviderType === providerType.Authenticator\">\n                        <p *ngIf=\"selectedProviderType === providerType.Authenticator\">\n                            {{'enterVerificationCodeApp' | i18n}}</p>\n                        <p *ngIf=\"selectedProviderType === providerType.Email\">\n                            {{'enterVerificationCodeEmail' | i18n : twoFactorEmail}}\n                        </p>\n                        <div class=\"form-group\">\n                            <label for=\"code\" class=\"sr-only\">{{'verificationCode' | i18n}}</label>\n                            <input id=\"code\" type=\"text\" name=\"Code\" class=\"form-control\" [(ngModel)]=\"token\" required\n                                appAutofocus inputmode=\"tel\" appInputVerbatim>\n                            <small class=\"form-text\" *ngIf=\"selectedProviderType === providerType.Email\">\n                                <a href=\"#\" appStopClick (click)=\"sendEmail(true)\" [appApiAction]=\"emailPromise\"\n                                    *ngIf=\"selectedProviderType === providerType.Email\">\n                                    {{'sendVerificationCodeEmailAgain' | i18n}}\n                                </a>\n                            </small>\n                        </div>\n                    </ng-container>\n                    <ng-container *ngIf=\"selectedProviderType === providerType.Yubikey\">\n                        <p class=\"text-center\">{{'insertYubiKey' | i18n}}</p>\n                        <img src=\"images/yubikey.jpg\" class=\"rounded img-fluid mb-3\" alt=\"\">\n                        <div class=\"form-group\">\n                            <label for=\"code\" class=\"sr-only\">{{'verificationCode' | i18n}}</label>\n                            <input id=\"code\" type=\"password\" name=\"Code\" class=\"form-control\" [(ngModel)]=\"token\"\n                                required appAutofocus appInputVerbatim autocomplete=\"new-password\">\n                        </div>\n                    </ng-container>\n                    <ng-container *ngIf=\"selectedProviderType === providerType.WebAuthn\">\n                        <div id=\"web-authn-frame\" class=\"mb-3\">\n                            <iframe id=\"webauthn_iframe\"></iframe>\n                        </div>\n                    </ng-container>\n                    <ng-container *ngIf=\"selectedProviderType === providerType.Duo ||\n                        selectedProviderType === providerType.OrganizationDuo\">\n                        <div id=\"duo-frame\" class=\"mb-3\">\n                            <iframe id=\"duo_iframe\"></iframe>\n                        </div>\n                    </ng-container>\n                    <i class=\"fa fa-spinner text-muted fa-spin pull-right\" title=\"{{'loading' | i18n}}\"\n                        *ngIf=\"form.loading && selectedProviderType === providerType.WebAuthn\" aria-hidden=\"true\"></i>\n                    <div class=\"form-check\" *ngIf=\"selectedProviderType != null\">\n                        <input id=\"remember\" type=\"checkbox\" name=\"Remember\" class=\"form-check-input\"\n                            [(ngModel)]=\"remember\">\n                        <label for=\"remember\" class=\"form-check-label\">{{'rememberMe' | i18n}}</label>\n                    </div>\n                    <ng-container *ngIf=\"selectedProviderType == null\">\n                        <p>{{'noTwoStepProviders' | i18n}}</p>\n                        <p>{{'noTwoStepProviders2' | i18n}}</p>\n                    </ng-container>\n                    <hr>\n                    <div class=\"d-flex mb-3\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-block btn-submit\" [disabled]=\"form.loading\"\n                            *ngIf=\"selectedProviderType != null && selectedProviderType !== providerType.Duo && \n                        selectedProviderType !== providerType.OrganizationDuo && selectedProviderType !== providerType.WebAuthn\">\n                            <span>\n                                <i class=\"fa fa-sign-in\" aria-hidden=\"true\"></i> {{'continue' | i18n}}\n                            </span>\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        </button>\n                        <a routerLink=\"/\" class=\"btn btn-outline-secondary btn-block ml-2 mt-0\">\n                            {{'cancel' | i18n}}\n                        </a>\n                    </div>\n                    <div class=\"text-center\">\n                        <a href=\"#\" appStopClick (click)=\"anotherMethod()\">{{'useAnotherTwoStepMethod' | i18n}}</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n<ng-template #twoFactorOptions></ng-template>\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport {\n    TwoFactorOptionsComponent as BaseTwoFactorOptionsComponent,\n} from 'jslib/angular/components/two-factor-options.component';\n\n@Component({\n    selector: 'app-two-factor-options',\n    templateUrl: 'two-factor-options.component.html',\n})\nexport class TwoFactorOptionsComponent extends BaseTwoFactorOptionsComponent {\n    constructor(authService: AuthService, router: Router,\n        i18nService: I18nService, platformUtilsService: PlatformUtilsService) {\n        super(authService, router, i18nService, platformUtilsService, window);\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"twoStepOptionsTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"twoStepOptionsTitle\">{{'twoStepOptions' | i18n}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"list-group list-group-flush\">\n                <a href=\"#\" appStopClick *ngFor=\"let p of providers\" (click)=\"choose(p)\"\n                    class=\"list-group-item list-group-item-action\">\n                    <img [src]=\"'images/two-factor/' + p.type + '.png'\" alt=\"\" class=\"pull-right\">\n                    <h3>{{p.name}}</h3>\n                    {{p.description}}\n                </a>\n                <a href=\"#\" appStopClick class=\"list-group-item list-group-item-action\" (click)=\"recover()\">\n                    <h3>{{'recoveryCodeTitle' | i18n}}</h3>\n                    {{'recoveryCodeDesc' | i18n}}\n                </a>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close' | i18n}}</button>\n            </div>\n        </div>\n    </div>\n</div>\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class TwoFactorEmailRequest extends PasswordVerificationRequest {\n    email: string;\n\n    constructor(email: string, masterPasswordHash: string) {\n        super();\n        this.masterPasswordHash = masterPasswordHash;\n        this.email = email;\n    }\n}\n","import { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nexport class AuthResult {\n    twoFactor: boolean = false;\n    resetMasterPassword: boolean = false;\n    twoFactorProviders: Map<TwoFactorProviderType, { [key: string]: string; }> = null;\n}\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { VerifyEmailRequest } from 'jslib/models/request/verifyEmailRequest';\n\n@Component({\n    selector: 'app-verify-email-token',\n    templateUrl: 'verify-email-token.component.html',\n})\nexport class VerifyEmailTokenComponent implements OnInit {\n    constructor(private router: Router, private toasterService: ToasterService,\n        private i18nService: I18nService, private route: ActivatedRoute,\n        private apiService: ApiService, private userService: UserService) { }\n\n    ngOnInit() {\n        let fired = false;\n        this.route.queryParams.subscribe(async qParams => {\n            if (fired) {\n                return;\n            }\n            fired = true;\n            if (qParams.userId != null && qParams.token != null) {\n                try {\n                    await this.apiService.postAccountVerifyEmailToken(\n                        new VerifyEmailRequest(qParams.userId, qParams.token));\n                    const authed = await this.userService.isAuthenticated();\n                    if (authed) {\n                        await this.apiService.refreshIdentityToken();\n                    }\n                    this.toasterService.popAsync('success', null, this.i18nService.t('emailVerified'));\n                    this.router.navigate(['/']);\n                    return;\n                } catch { }\n            }\n            this.toasterService.popAsync('error', null, this.i18nService.t('emailVerifiedFailed'));\n            this.router.navigate(['/']);\n        });\n    }\n}\n","<div class=\"mt-5 d-flex justify-content-center\">\n    <div>\n        <img src=\"images/logo-dark@2x.png\" class=\"mb-4 logo\" alt=\"Bitwarden\">\n        <p class=\"text-center\">\n            <i class=\"fa fa-spinner fa-spin fa-2x text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </p>\n    </div>\n</div>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { VerifyDeleteRecoverRequest } from 'jslib/models/request/verifyDeleteRecoverRequest';\n\n@Component({\n    selector: 'app-verify-recover-delete',\n    templateUrl: 'verify-recover-delete.component.html',\n})\nexport class VerifyRecoverDeleteComponent implements OnInit {\n    email: string;\n    formPromise: Promise<any>;\n\n    private userId: string;\n    private token: string;\n\n    constructor(private router: Router, private apiService: ApiService,\n        private toasterService: ToasterService, private i18nService: I18nService,\n        private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        let fired = false;\n        this.route.queryParams.subscribe(async qParams => {\n            if (fired) {\n                return;\n            }\n            fired = true;\n            if (qParams.userId != null && qParams.token != null && qParams.email != null) {\n                this.userId = qParams.userId;\n                this.token = qParams.token;\n                this.email = qParams.email;\n            } else {\n                this.router.navigate(['/']);\n            }\n        });\n    }\n\n    async submit() {\n        try {\n            const request = new VerifyDeleteRecoverRequest(this.userId, this.token);\n            this.formPromise = this.apiService.postAccountRecoverDeleteToken(request);\n            await this.formPromise;\n            this.toasterService.popAsync('success', this.i18nService.t('accountDeleted'),\n                this.i18nService.t('accountDeletedDesc'));\n            this.router.navigate(['/']);\n        } catch { }\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" class=\"container\" ngNativeValidate>\n    <div class=\"row justify-content-md-center mt-5\">\n        <div class=\"col-5\">\n            <p class=\"lead text-center mb-4\">{{'deleteAccount' | i18n}}</p>\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <app-callout type=\"warning\">{{'deleteAccountWarning' | i18n}}</app-callout>\n                    <p class=\"text-center\">\n                        <strong>{{email}}</strong>\n                    </p>\n                    <p>{{'deleteRecoverConfirmDesc' | i18n}}</p>\n                    <hr>\n                    <div class=\"d-flex\">\n                        <button type=\"submit\" class=\"btn btn-danger btn-block btn-submit\" [disabled]=\"form.loading\">\n                            <span>{{'deleteAccount' | i18n}}</span>\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        </button>\n                        <a routerLink=\"/\" class=\"btn btn-outline-secondary btn-block ml-2 mt-0\">\n                            {{'cancel' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SearchService } from 'jslib/abstractions/search.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CollectionData } from 'jslib/models/data/collectionData';\nimport { Collection } from 'jslib/models/domain/collection';\nimport {\n    CollectionDetailsResponse,\n    CollectionResponse,\n} from 'jslib/models/response/collectionResponse';\nimport { ListResponse } from 'jslib/models/response/listResponse';\nimport { CollectionView } from 'jslib/models/view/collectionView';\n\nimport { ModalComponent } from '../../modal.component';\nimport { CollectionAddEditComponent } from './collection-add-edit.component';\nimport { EntityUsersComponent } from './entity-users.component';\n\n@Component({\n    selector: 'app-org-manage-collections',\n    templateUrl: 'collections.component.html',\n})\nexport class CollectionsComponent implements OnInit {\n    @ViewChild('addEdit', { read: ViewContainerRef, static: true }) addEditModalRef: ViewContainerRef;\n    @ViewChild('usersTemplate', { read: ViewContainerRef, static: true }) usersModalRef: ViewContainerRef;\n\n    loading = true;\n    organizationId: string;\n    collections: CollectionView[];\n    pagedCollections: CollectionView[];\n    searchText: string;\n\n    protected didScroll = false;\n    protected pageSize = 100;\n\n    private pagedCollectionsCount = 0;\n    private modal: ModalComponent = null;\n\n    constructor(private apiService: ApiService, private route: ActivatedRoute,\n        private collectionService: CollectionService, private componentFactoryResolver: ComponentFactoryResolver,\n        private toasterService: ToasterService, private i18nService: I18nService,\n        private platformUtilsService: PlatformUtilsService, private userService: UserService,\n        private searchService: SearchService) { }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            await this.load();\n            const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n                this.searchText = qParams.search;\n                if (queryParamsSub != null) {\n                    queryParamsSub.unsubscribe();\n                }\n            });\n        });\n    }\n\n    async load() {\n        const organization = await this.userService.getOrganization(this.organizationId);\n        let response: ListResponse<CollectionResponse>;\n        if (organization.canManageAllCollections) {\n            response = await this.apiService.getCollections(this.organizationId);\n        } else {\n            response = await this.apiService.getUserCollections();\n        }\n        const collections = response.data.filter(c => c.organizationId === this.organizationId).map(r =>\n            new Collection(new CollectionData(r as CollectionDetailsResponse)));\n        this.collections = await this.collectionService.decryptMany(collections);\n        this.resetPaging();\n        this.loading = false;\n    }\n\n    loadMore() {\n        if (!this.collections || this.collections.length <= this.pageSize) {\n            return;\n        }\n        const pagedLength = this.pagedCollections.length;\n        let pagedSize = this.pageSize;\n        if (pagedLength === 0 && this.pagedCollectionsCount > this.pageSize) {\n            pagedSize = this.pagedCollectionsCount;\n        }\n        if (this.collections.length > pagedLength) {\n            this.pagedCollections =\n                this.pagedCollections.concat(this.collections.slice(pagedLength, pagedLength + pagedSize));\n        }\n        this.pagedCollectionsCount = this.pagedCollections.length;\n        this.didScroll = this.pagedCollections.length > this.pageSize;\n    }\n\n    edit(collection: CollectionView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.addEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<CollectionAddEditComponent>(\n            CollectionAddEditComponent, this.addEditModalRef);\n\n        childComponent.organizationId = this.organizationId;\n        childComponent.collectionId = collection != null ? collection.id : null;\n        childComponent.onSavedCollection.subscribe(() => {\n            this.modal.close();\n            this.load();\n        });\n        childComponent.onDeletedCollection.subscribe(() => {\n            this.modal.close();\n            this.removeCollection(collection);\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    add() {\n        this.edit(null);\n    }\n\n    async delete(collection: CollectionView) {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteCollectionConfirmation'), collection.name,\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            await this.apiService.deleteCollection(this.organizationId, collection.id);\n            this.toasterService.popAsync('success', null, this.i18nService.t('deletedCollectionId', collection.name));\n            this.removeCollection(collection);\n        } catch { }\n    }\n\n    users(collection: CollectionView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.usersModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<EntityUsersComponent>(\n            EntityUsersComponent, this.usersModalRef);\n\n        childComponent.organizationId = this.organizationId;\n        childComponent.entity = 'collection';\n        childComponent.entityId = collection.id;\n        childComponent.entityName = collection.name;\n\n        childComponent.onEditedUsers.subscribe(() => {\n            this.load();\n            this.modal.close();\n        });\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    async resetPaging() {\n        this.pagedCollections = [];\n        this.loadMore();\n    }\n\n    isSearching() {\n        return this.searchService.isSearchable(this.searchText);\n    }\n\n    isPaging() {\n        const searching = this.isSearching();\n        if (searching && this.didScroll) {\n            this.resetPaging();\n        }\n        return !searching && this.collections && this.collections.length > this.pageSize;\n    }\n\n    private removeCollection(collection: CollectionView) {\n        const index = this.collections.indexOf(collection);\n        if (index > -1) {\n            this.collections.splice(index, 1);\n            this.resetPaging();\n        }\n    }\n}\n","<div class=\"page-header d-flex\">\n    <h1>{{'collections' | i18n}}</h1>\n    <div class=\"ml-auto d-flex\">\n        <div>\n            <label class=\"sr-only\" for=\"search\">{{'search' | i18n}}</label>\n            <input type=\"search\" class=\"form-control form-control-sm\" id=\"search\" placeholder=\"{{'search' | i18n}}\"\n                [(ngModel)]=\"searchText\">\n        </div>\n        <button type=\"button\" class=\"btn btn-sm btn-outline-primary ml-3\" (click)=\"add()\">\n            <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i>\n            {{'newCollection' | i18n}}\n        </button>\n    </div>\n</div>\n<ng-container *ngIf=\"loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</ng-container>\n<ng-container\n    *ngIf=\"!loading && (isPaging() ? pagedCollections : collections | search:searchText:'name':'id') as searchedCollections\">\n    <p *ngIf=\"!searchedCollections.length\">{{'noCollectionsInList' | i18n}}</p>\n    <table class=\"table table-hover table-list\" *ngIf=\"searchedCollections.length\" infiniteScroll\n        [infiniteScrollDistance]=\"1\" [infiniteScrollDisabled]=\"!isPaging()\" (scrolled)=\"loadMore()\">\n        <tbody>\n            <tr *ngFor=\"let c of searchedCollections\">\n                <td>\n                    <a href=\"#\" appStopClick (click)=\"edit(c)\">{{c.name}}</a>\n                </td>\n                <td class=\"table-list-options\">\n                    <div class=\"dropdown\" appListDropdown>\n                        <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\" aria-expanded=\"false\" appA11yTitle=\"{{'options' | i18n}}\">\n                            <i class=\"fa fa-cog fa-lg\" aria-hidden=\"true\"></i>\n                        </button>\n                        <div class=\"dropdown-menu dropdown-menu-right\">\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"users(c)\">\n                                <i class=\"fa fa-fw fa-users\" aria-hidden=\"true\"></i>\n                                {{'users' | i18n}}\n                            </a>\n                            <a class=\"dropdown-item text-danger\" href=\"#\" appStopClick (click)=\"delete(c)\">\n                                <i class=\"fa fa-fw fa-trash-o\" aria-hidden=\"true\"></i>\n                                {{'delete' | i18n}}\n                            </a>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</ng-container>\n<ng-template #addEdit></ng-template>\n<ng-template #usersTemplate></ng-template>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { EncString } from 'jslib/models/domain/encString';\nimport { SymmetricCryptoKey } from 'jslib/models/domain/symmetricCryptoKey';\nimport { CollectionRequest } from 'jslib/models/request/collectionRequest';\nimport { SelectionReadOnlyRequest } from 'jslib/models/request/selectionReadOnlyRequest';\nimport { GroupResponse } from 'jslib/models/response/groupResponse';\n\nimport { Utils } from 'jslib/misc/utils';\n\n@Component({\n    selector: 'app-collection-add-edit',\n    templateUrl: 'collection-add-edit.component.html',\n})\nexport class CollectionAddEditComponent implements OnInit {\n    @Input() collectionId: string;\n    @Input() organizationId: string;\n    @Output() onSavedCollection = new EventEmitter();\n    @Output() onDeletedCollection = new EventEmitter();\n\n    loading = true;\n    editMode: boolean = false;\n    accessGroups: boolean = false;\n    title: string;\n    name: string;\n    externalId: string;\n    groups: GroupResponse[] = [];\n    formPromise: Promise<any>;\n    deletePromise: Promise<any>;\n\n    private orgKey: SymmetricCryptoKey;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private platformUtilsService: PlatformUtilsService,\n        private cryptoService: CryptoService, private userService: UserService) { }\n\n    async ngOnInit() {\n        const organization = await this.userService.getOrganization(this.organizationId);\n        this.accessGroups = organization.useGroups;\n        this.editMode = this.loading = this.collectionId != null;\n        if (this.accessGroups) {\n            const groupsResponse = await this.apiService.getGroups(this.organizationId);\n            this.groups = groupsResponse.data.map(r => r).sort(Utils.getSortFunction(this.i18nService, 'name'));\n        }\n        this.orgKey = await this.cryptoService.getOrgKey(this.organizationId);\n\n        if (this.editMode) {\n            this.editMode = true;\n            this.title = this.i18nService.t('editCollection');\n            try {\n                const collection = await this.apiService.getCollectionDetails(this.organizationId, this.collectionId);\n                this.name = await this.cryptoService.decryptToUtf8(new EncString(collection.name), this.orgKey);\n                this.externalId = collection.externalId;\n                if (collection.groups != null && this.groups.length > 0) {\n                    collection.groups.forEach(s => {\n                        const group = this.groups.filter(g => !g.accessAll && g.id === s.id);\n                        if (group != null && group.length > 0) {\n                            (group[0] as any).checked = true;\n                            (group[0] as any).readOnly = s.readOnly;\n                            (group[0] as any).hidePasswords = s.hidePasswords;\n                        }\n                    });\n                }\n            } catch { }\n        } else {\n            this.title = this.i18nService.t('addCollection');\n        }\n\n        this.groups.forEach(g => {\n            if (g.accessAll) {\n                (g as any).checked = true;\n            }\n        });\n\n        this.loading = false;\n    }\n\n    check(g: GroupResponse, select?: boolean) {\n        if (g.accessAll) {\n            return;\n        }\n        (g as any).checked = select == null ? !(g as any).checked : select;\n        if (!(g as any).checked) {\n            (g as any).readOnly = false;\n            (g as any).hidePasswords = false;\n        }\n    }\n\n    selectAll(select: boolean) {\n        this.groups.forEach(g => this.check(g, select));\n    }\n\n    async submit() {\n        if (this.orgKey == null) {\n            throw new Error('No encryption key for this organization.');\n        }\n\n        const request = new CollectionRequest();\n        request.name = (await this.cryptoService.encrypt(this.name, this.orgKey)).encryptedString;\n        request.externalId = this.externalId;\n        request.groups = this.groups.filter(g => (g as any).checked && !g.accessAll)\n            .map(g => new SelectionReadOnlyRequest(g.id, !!(g as any).readOnly, !!(g as any).hidePasswords));\n\n        try {\n            if (this.editMode) {\n                this.formPromise = this.apiService.putCollection(this.organizationId, this.collectionId, request);\n            } else {\n                this.formPromise = this.apiService.postCollection(this.organizationId, request);\n            }\n            await this.formPromise;\n            this.toasterService.popAsync('success', null,\n                this.i18nService.t(this.editMode ? 'editedCollectionId' : 'createdCollectionId', this.name));\n            this.onSavedCollection.emit();\n        } catch { }\n    }\n\n    async delete() {\n        if (!this.editMode) {\n            return;\n        }\n\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteCollectionConfirmation'), this.name,\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.deletePromise = this.apiService.deleteCollection(this.organizationId, this.collectionId);\n            await this.deletePromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('deletedCollectionId', this.name));\n            this.onDeletedCollection.emit();\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"collectionAddEditTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"collectionAddEditTitle\">{{title}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"loading\">\n                <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                <span class=\"sr-only\">{{'loading' | i18n}}</span>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"!loading\">\n                <div class=\"form-group\">\n                    <label for=\"name\">{{'name' | i18n}}</label>\n                    <input id=\"name\" class=\"form-control\" type=\"text\" name=\"Name\" [(ngModel)]=\"name\" required\n                        appAutofocus>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"externalId\">{{'externalId' | i18n}}</label>\n                    <input id=\"externalId\" class=\"form-control\" type=\"text\" name=\"ExternalId\" [(ngModel)]=\"externalId\">\n                    <small class=\"form-text text-muted\">{{'externalIdDesc' | i18n}}</small>\n                </div>\n                <ng-container *ngIf=\"accessGroups\">\n                    <h3 class=\"mt-4 d-flex mb-0\">\n                        {{'groupAccess' | i18n}}\n                        <div class=\"ml-auto\" *ngIf=\"groups && groups.length\">\n                            <button type=\"button\" (click)=\"selectAll(true)\" class=\"btn btn-link btn-sm py-0\">\n                                {{'selectAll' | i18n}}\n                            </button>\n                            <button type=\"button\" (click)=\"selectAll(false)\" class=\"btn btn-link btn-sm py-0\">\n                                {{'unselectAll' | i18n}}\n                            </button>\n                        </div>\n                    </h3>\n                    <div *ngIf=\"!groups || !groups.length\">\n                        {{'noGroupsInList' | i18n}}\n                    </div>\n                    <table class=\"table table-hover table-list mb-0\" *ngIf=\"groups && groups.length\">\n                        <thead>\n                            <tr>\n                                <th>&nbsp;</th>\n                                <th>{{'name' | i18n}}</th>\n                                <th width=\"100\" class=\"text-center\">{{'hidePasswords' | i18n}}</th>\n                                <th width=\"100\" class=\"text-center\">{{'readOnly' | i18n}}</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr *ngFor=\"let g of groups; let i = index\">\n                                <td class=\"table-list-checkbox\" (click)=\"check(g)\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"g.checked\" name=\"Groups[{{i}}].Checked\"\n                                        [disabled]=\"g.accessAll\" appStopProp>\n                                </td>\n                                <td (click)=\"check(g)\">\n                                    {{g.name}}\n                                    <ng-container *ngIf=\"g.accessAll\">\n                                        <i class=\"fa fa-th text-muted fa-fw\" title=\"{{'groupAccessAllItems' | i18n}}\"\n                                            aria-hidden=\"true\"></i>\n                                        <span class=\"sr-only\">{{'groupAccessAllItems' | i18n}}</span>\n                                    </ng-container>\n                                </td>\n                                <td class=\"text-center\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"g.hidePasswords\"\n                                        name=\"Groups[{{i}}].HidePasswords\" [disabled]=\"!g.checked || g.accessAll\">\n                                </td>\n                                <td class=\"text-center\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"g.readOnly\" name=\"Groups[{{i}}].ReadOnly\"\n                                        [disabled]=\"!g.checked || g.accessAll\">\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </ng-container>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n                <div class=\"ml-auto\">\n                    <button #deleteBtn type=\"button\" (click)=\"delete()\" class=\"btn btn-outline-danger\"\n                        appA11yTitle=\"{{'delete' | i18n}}\" *ngIf=\"editMode\" [disabled]=\"deleteBtn.loading\"\n                        [appApiAction]=\"deletePromise\">\n                        <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\" aria-hidden=\"true\"></i>\n                        <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\"\n                            title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    </button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n","import { Collection } from '../domain/collection';\n\nimport { SelectionReadOnlyRequest } from './selectionReadOnlyRequest';\n\nexport class CollectionRequest {\n    name: string;\n    externalId: string;\n    groups: SelectionReadOnlyRequest[] = [];\n\n    constructor(collection?: Collection) {\n        if (collection == null) {\n            return;\n        }\n        this.name = collection.name ? collection.name.encryptedString : null;\n        this.externalId = collection.externalId;\n    }\n}\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { EventService } from '../../services/event.service';\n\nimport { EventResponse } from 'jslib/models/response/eventResponse';\nimport { ListResponse } from 'jslib/models/response/listResponse';\n\n@Component({\n    selector: 'app-org-events',\n    templateUrl: 'events.component.html',\n})\nexport class EventsComponent implements OnInit {\n    loading = true;\n    loaded = false;\n    organizationId: string;\n    events: any[];\n    start: string;\n    end: string;\n    continuationToken: string;\n    refreshPromise: Promise<any>;\n    morePromise: Promise<any>;\n\n    private orgUsersUserIdMap = new Map<string, any>();\n    private orgUsersIdMap = new Map<string, any>();\n\n    constructor(private apiService: ApiService, private route: ActivatedRoute,\n        private eventService: EventService, private i18nService: I18nService,\n        private toasterService: ToasterService, private userService: UserService,\n        private router: Router) { }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            const organization = await this.userService.getOrganization(this.organizationId);\n            if (organization == null || !organization.useEvents) {\n                this.router.navigate(['/organizations', this.organizationId]);\n                return;\n            }\n            const defaultDates = this.eventService.getDefaultDateFilters();\n            this.start = defaultDates[0];\n            this.end = defaultDates[1];\n            await this.load();\n        });\n    }\n\n    async load() {\n        const response = await this.apiService.getOrganizationUsers(this.organizationId);\n        response.data.forEach(u => {\n            const name = u.name == null || u.name.trim() === '' ? u.email : u.name;\n            this.orgUsersIdMap.set(u.id, { name: name, email: u.email });\n            this.orgUsersUserIdMap.set(u.userId, { name: name, email: u.email });\n        });\n        await this.loadEvents(true);\n        this.loaded = true;\n    }\n\n    async loadEvents(clearExisting: boolean) {\n        if (this.refreshPromise != null || this.morePromise != null) {\n            return;\n        }\n\n        let dates: string[] = null;\n        try {\n            dates = this.eventService.formatDateFilters(this.start, this.end);\n        } catch (e) {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidDateRange'));\n            return;\n        }\n\n        this.loading = true;\n        let response: ListResponse<EventResponse>;\n        try {\n            const promise = this.apiService.getEventsOrganization(this.organizationId, dates[0], dates[1],\n                clearExisting ? null : this.continuationToken);\n            if (clearExisting) {\n                this.refreshPromise = promise;\n            } else {\n                this.morePromise = promise;\n            }\n            response = await promise;\n        } catch { }\n\n        this.continuationToken = response.continuationToken;\n        const events = response.data.map(r => {\n            const userId = r.actingUserId == null ? r.userId : r.actingUserId;\n            const eventInfo = this.eventService.getEventInfo(r);\n            const user = userId != null && this.orgUsersUserIdMap.has(userId) ?\n                this.orgUsersUserIdMap.get(userId) : null;\n            return {\n                message: eventInfo.message,\n                appIcon: eventInfo.appIcon,\n                appName: eventInfo.appName,\n                userId: userId,\n                userName: user != null ? user.name : this.i18nService.t('unknown'),\n                userEmail: user != null ? user.email : '',\n                date: r.date,\n                ip: r.ipAddress,\n                type: r.type,\n            };\n        });\n\n        if (!clearExisting && this.events != null && this.events.length > 0) {\n            this.events = this.events.concat(events);\n        } else {\n            this.events = events;\n        }\n\n        this.loading = false;\n        this.morePromise = null;\n        this.refreshPromise = null;\n    }\n}\n","<div class=\"page-header d-flex\">\n    <h1>{{'eventLogs' | i18n}}</h1>\n    <div class=\"ml-auto d-flex\">\n        <div class=\"form-inline\">\n            <label class=\"sr-only\" for=\"start\">{{'startDate' | i18n}}</label>\n            <input type=\"datetime-local\" class=\"form-control form-control-sm\" id=\"start\"\n                placeholder=\"{{'startDate' | i18n}}\" [(ngModel)]=\"start\" placeholder=\"YYYY-MM-DDTHH:MM\">\n            <span class=\"mx-2\">-</span>\n            <label class=\"sr-only\" for=\"end\">{{'endDate' | i18n}}</label>\n            <input type=\"datetime-local\" class=\"form-control form-control-sm\" id=\"end\"\n                placeholder=\"{{'endDate' | i18n}}\" [(ngModel)]=\"end\" placeholder=\"YYYY-MM-DDTHH:MM\">\n        </div>\n        <button #refreshBtn [appApiAction]=\"refreshPromise\" type=\"button\" class=\"btn btn-sm btn-outline-primary ml-3\"\n            (click)=\"loadEvents(true)\" [disabled]=\"loaded && refreshBtn.loading\">\n            <i class=\"fa fa-refresh fa-fw\" aria-hidden=\"true\" [ngClass]=\"{'fa-spin': loaded && refreshBtn.loading}\"></i>\n            {{'refresh' | i18n}}\n        </button>\n    </div>\n</div>\n<ng-container *ngIf=\"!loaded\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</ng-container>\n<ng-container *ngIf=\"loaded\">\n    <p *ngIf=\"!events || !events.length\">{{'noEventsInList' | i18n}}</p>\n    <table class=\"table table-hover\" *ngIf=\"events && events.length\">\n        <thead>\n            <tr>\n                <th class=\"border-top-0\" width=\"210\">{{'timestamp' | i18n}}</th>\n                <th class=\"border-top-0\" width=\"40\">\n                    <span class=\"sr-only\">{{'device' | i18n}}</span>\n                </th>\n                <th class=\"border-top-0\" width=\"150\">{{'user' | i18n}}</th>\n                <th class=\"border-top-0\">{{'event' | i18n}}</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let e of events\">\n                <td>{{e.date | date:'medium'}}</td>\n                <td>\n                    <i class=\"text-muted fa fa-lg {{e.appIcon}}\" title=\"{{e.appName}}, {{e.ip}}\" aria-hidden=\"true\"></i>\n                    <span class=\"sr-only\">{{e.appName}}, {{e.ip}}</span>\n                </td>\n                <td>\n                    <span title=\"{{e.userEmail}}\">{{e.userName}}</span>\n                </td>\n                <td [innerHTML]=\"e.message\"></td>\n            </tr>\n        </tbody>\n    </table>\n    <button #moreBtn [appApiAction]=\"morePromise\" type=\"button\" class=\"btn btn-block btn-link btn-submit\"\n        (click)=\"loadEvents(false)\" [disabled]=\"loaded && moreBtn.loading\" *ngIf=\"continuationToken\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'loadMore' | i18n}}</span>\n    </button>\n</ng-container>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SearchService } from 'jslib/abstractions/search.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { GroupResponse } from 'jslib/models/response/groupResponse';\n\nimport { Utils } from 'jslib/misc/utils';\n\nimport { ModalComponent } from '../../modal.component';\nimport { EntityUsersComponent } from './entity-users.component';\nimport { GroupAddEditComponent } from './group-add-edit.component';\n\n@Component({\n    selector: 'app-org-groups',\n    templateUrl: 'groups.component.html',\n})\nexport class GroupsComponent implements OnInit {\n    @ViewChild('addEdit', { read: ViewContainerRef, static: true }) addEditModalRef: ViewContainerRef;\n    @ViewChild('usersTemplate', { read: ViewContainerRef, static: true }) usersModalRef: ViewContainerRef;\n\n    loading = true;\n    organizationId: string;\n    groups: GroupResponse[];\n    pagedGroups: GroupResponse[];\n    searchText: string;\n\n    protected didScroll = false;\n    protected pageSize = 100;\n\n    private pagedGroupsCount = 0;\n    private modal: ModalComponent = null;\n\n    constructor(private apiService: ApiService, private route: ActivatedRoute,\n        private i18nService: I18nService, private componentFactoryResolver: ComponentFactoryResolver,\n        private toasterService: ToasterService, private platformUtilsService: PlatformUtilsService,\n        private userService: UserService, private router: Router,\n        private searchService: SearchService) { }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            const organization = await this.userService.getOrganization(this.organizationId);\n            if (organization == null || !organization.useGroups) {\n                this.router.navigate(['/organizations', this.organizationId]);\n                return;\n            }\n            await this.load();\n            const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n                this.searchText = qParams.search;\n                if (queryParamsSub != null) {\n                    queryParamsSub.unsubscribe();\n                }\n            });\n        });\n    }\n\n    async load() {\n        const response = await this.apiService.getGroups(this.organizationId);\n        const groups = response.data != null && response.data.length > 0 ? response.data : [];\n        groups.sort(Utils.getSortFunction(this.i18nService, 'name'));\n        this.groups = groups;\n        this.resetPaging();\n        this.loading = false;\n    }\n\n    loadMore() {\n        if (!this.groups || this.groups.length <= this.pageSize) {\n            return;\n        }\n        const pagedLength = this.pagedGroups.length;\n        let pagedSize = this.pageSize;\n        if (pagedLength === 0 && this.pagedGroupsCount > this.pageSize) {\n            pagedSize = this.pagedGroupsCount;\n        }\n        if (this.groups.length > pagedLength) {\n            this.pagedGroups = this.pagedGroups.concat(this.groups.slice(pagedLength, pagedLength + pagedSize));\n        }\n        this.pagedGroupsCount = this.pagedGroups.length;\n        this.didScroll = this.pagedGroups.length > this.pageSize;\n    }\n\n    edit(group: GroupResponse) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.addEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<GroupAddEditComponent>(\n            GroupAddEditComponent, this.addEditModalRef);\n\n        childComponent.organizationId = this.organizationId;\n        childComponent.groupId = group != null ? group.id : null;\n        childComponent.onSavedGroup.subscribe(() => {\n            this.modal.close();\n            this.load();\n        });\n        childComponent.onDeletedGroup.subscribe(() => {\n            this.modal.close();\n            this.removeGroup(group);\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    add() {\n        this.edit(null);\n    }\n\n    async delete(group: GroupResponse) {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteGroupConfirmation'), group.name,\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            await this.apiService.deleteGroup(this.organizationId, group.id);\n            this.toasterService.popAsync('success', null, this.i18nService.t('deletedGroupId', group.name));\n            this.removeGroup(group);\n        } catch { }\n    }\n\n    users(group: GroupResponse) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.usersModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<EntityUsersComponent>(\n            EntityUsersComponent, this.usersModalRef);\n\n        childComponent.organizationId = this.organizationId;\n        childComponent.entity = 'group';\n        childComponent.entityId = group.id;\n        childComponent.entityName = group.name;\n\n        childComponent.onEditedUsers.subscribe(() => {\n            this.modal.close();\n        });\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    async resetPaging() {\n        this.pagedGroups = [];\n        this.loadMore();\n    }\n\n    isSearching() {\n        return this.searchService.isSearchable(this.searchText);\n    }\n\n    isPaging() {\n        const searching = this.isSearching();\n        if (searching && this.didScroll) {\n            this.resetPaging();\n        }\n        return !searching && this.groups && this.groups.length > this.pageSize;\n    }\n\n    private removeGroup(group: GroupResponse) {\n        const index = this.groups.indexOf(group);\n        if (index > -1) {\n            this.groups.splice(index, 1);\n            this.resetPaging();\n        }\n    }\n}\n","<div class=\"page-header d-flex\">\n    <h1>{{'groups' | i18n}}</h1>\n    <div class=\"ml-auto d-flex\">\n        <div>\n            <label class=\"sr-only\" for=\"search\">{{'search' | i18n}}</label>\n            <input type=\"search\" class=\"form-control form-control-sm\" id=\"search\" placeholder=\"{{'search' | i18n}}\"\n                [(ngModel)]=\"searchText\">\n        </div>\n        <button type=\"button\" class=\"btn btn-sm btn-outline-primary ml-3\" (click)=\"add()\">\n            <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i>\n            {{'newGroup' | i18n}}\n        </button>\n    </div>\n</div>\n<ng-container *ngIf=\"loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</ng-container>\n<ng-container *ngIf=\"!loading && (isPaging() ? pagedGroups : groups | search:searchText:'name':'id') as searchedGroups\">\n    <p *ngIf=\"!searchedGroups.length\">{{'noGroupsInList' | i18n}}</p>\n    <table class=\"table table-hover table-list\" *ngIf=\"searchedGroups.length\" infiniteScroll\n        [infiniteScrollDistance]=\"1\" [infiniteScrollDisabled]=\"!isPaging()\" (scrolled)=\"loadMore()\">\n        <tbody>\n            <tr *ngFor=\"let g of searchedGroups\">\n                <td>\n                    <a href=\"#\" appStopClick (click)=\"edit(g)\">{{g.name}}</a>\n                </td>\n                <td class=\"table-list-options\">\n                    <div class=\"dropdown\" appListDropdown>\n                        <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\" aria-expanded=\"false\" appA11yTitle=\"{{'options' | i18n}}\">\n                            <i class=\"fa fa-cog fa-lg\" aria-hidden=\"true\"></i>\n                        </button>\n                        <div class=\"dropdown-menu dropdown-menu-right\">\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"users(g)\">\n                                <i class=\"fa fa-fw fa-users\" aria-hidden=\"true\"></i>\n                                {{'users' | i18n}}\n                            </a>\n                            <a class=\"dropdown-item text-danger\" href=\"#\" appStopClick (click)=\"delete(g)\">\n                                <i class=\"fa fa-fw fa-trash-o\" aria-hidden=\"true\"></i>\n                                {{'delete' | i18n}}\n                            </a>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</ng-container>\n<ng-template #addEdit></ng-template>\n<ng-template #usersTemplate></ng-template>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { CollectionData } from 'jslib/models/data/collectionData';\nimport { Collection } from 'jslib/models/domain/collection';\nimport { GroupRequest } from 'jslib/models/request/groupRequest';\nimport { SelectionReadOnlyRequest } from 'jslib/models/request/selectionReadOnlyRequest';\nimport { CollectionDetailsResponse } from 'jslib/models/response/collectionResponse';\nimport { CollectionView } from 'jslib/models/view/collectionView';\n\n@Component({\n    selector: 'app-group-add-edit',\n    templateUrl: 'group-add-edit.component.html',\n})\nexport class GroupAddEditComponent implements OnInit {\n    @Input() groupId: string;\n    @Input() organizationId: string;\n    @Output() onSavedGroup = new EventEmitter();\n    @Output() onDeletedGroup = new EventEmitter();\n\n    loading = true;\n    editMode: boolean = false;\n    title: string;\n    name: string;\n    externalId: string;\n    access: 'all' | 'selected' = 'selected';\n    collections: CollectionView[] = [];\n    formPromise: Promise<any>;\n    deletePromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private collectionService: CollectionService,\n        private platformUtilsService: PlatformUtilsService) { }\n\n    async ngOnInit() {\n        this.editMode = this.loading = this.groupId != null;\n        await this.loadCollections();\n\n        if (this.editMode) {\n            this.editMode = true;\n            this.title = this.i18nService.t('editGroup');\n            try {\n                const group = await this.apiService.getGroupDetails(this.organizationId, this.groupId);\n                this.access = group.accessAll ? 'all' : 'selected';\n                this.name = group.name;\n                this.externalId = group.externalId;\n                if (group.collections != null && this.collections != null) {\n                    group.collections.forEach(s => {\n                        const collection = this.collections.filter(c => c.id === s.id);\n                        if (collection != null && collection.length > 0) {\n                            (collection[0] as any).checked = true;\n                            collection[0].readOnly = s.readOnly;\n                            collection[0].hidePasswords = s.hidePasswords;\n                        }\n                    });\n                }\n            } catch { }\n        } else {\n            this.title = this.i18nService.t('addGroup');\n        }\n\n        this.loading = false;\n    }\n\n    async loadCollections() {\n        const response = await this.apiService.getCollections(this.organizationId);\n        const collections = response.data.map(r =>\n            new Collection(new CollectionData(r as CollectionDetailsResponse)));\n        this.collections = await this.collectionService.decryptMany(collections);\n    }\n\n    check(c: CollectionView, select?: boolean) {\n        (c as any).checked = select == null ? !(c as any).checked : select;\n        if (!(c as any).checked) {\n            c.readOnly = false;\n        }\n    }\n\n    selectAll(select: boolean) {\n        this.collections.forEach(c => this.check(c, select));\n    }\n\n    async submit() {\n        const request = new GroupRequest();\n        request.name = this.name;\n        request.externalId = this.externalId;\n        request.accessAll = this.access === 'all';\n        if (!request.accessAll) {\n            request.collections = this.collections.filter(c => (c as any).checked)\n                .map(c => new SelectionReadOnlyRequest(c.id, !!c.readOnly, !!c.hidePasswords));\n        }\n\n        try {\n            if (this.editMode) {\n                this.formPromise = this.apiService.putGroup(this.organizationId, this.groupId, request);\n            } else {\n                this.formPromise = this.apiService.postGroup(this.organizationId, request);\n            }\n            await this.formPromise;\n            this.toasterService.popAsync('success', null,\n                this.i18nService.t(this.editMode ? 'editedGroupId' : 'createdGroupId', this.name));\n            this.onSavedGroup.emit();\n        } catch { }\n    }\n\n    async delete() {\n        if (!this.editMode) {\n            return;\n        }\n\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteGroupConfirmation'), this.name,\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.deletePromise = this.apiService.deleteGroup(this.organizationId, this.groupId);\n            await this.deletePromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('deletedGroupId', this.name));\n            this.onDeletedGroup.emit();\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"groupAddEditTitle\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"groupAddEditTitle\">{{title}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"loading\">\n                <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                <span class=\"sr-only\">{{'loading' | i18n}}</span>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"!loading\">\n                <div class=\"form-group\">\n                    <label for=\"name\">{{'name' | i18n}}</label>\n                    <input id=\"name\" class=\"form-control\" type=\"text\" name=\"Name\" [(ngModel)]=\"name\" required>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"externalId\">{{'externalId' | i18n}}</label>\n                    <input id=\"externalId\" class=\"form-control\" type=\"text\" name=\"ExternalId\" [(ngModel)]=\"externalId\">\n                    <small class=\"form-text text-muted\">{{'externalIdDesc' | i18n}}</small>\n                </div>\n                <h3 class=\"mt-4 d-flex\">\n                    <div class=\"mb-2\">\n                        {{'accessControl' | i18n}}\n                        <a target=\"_blank\" rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\"\n                            href=\"https://bitwarden.com/help/article/user-types-access-control/#access-control\">\n                            <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                        </a>\n                    </div>\n                    <div class=\"ml-auto\" *ngIf=\"access === 'selected' && collections && collections.length\">\n                        <button type=\"button\" (click)=\"selectAll(true)\" class=\"btn btn-link btn-sm py-0\">\n                            {{'selectAll' | i18n}}\n                        </button>\n                        <button type=\"button\" (click)=\"selectAll(false)\" class=\"btn btn-link btn-sm py-0\">\n                            {{'unselectAll' | i18n}}\n                        </button>\n                    </div>\n                </h3>\n                <div class=\"form-group\" [ngClass]=\"{'mb-0': access !== 'selected'}\">\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"radio\" name=\"access\" id=\"accessAll\" value=\"all\"\n                            [(ngModel)]=\"access\">\n                        <label class=\"form-check-label\" for=\"accessAll\">\n                            {{'groupAccessAllItems' | i18n}}\n                        </label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"radio\" name=\"access\" id=\"accessSelected\" value=\"selected\"\n                            [(ngModel)]=\"access\">\n                        <label class=\"form-check-label\" for=\"accessSelected\">\n                            {{'groupAccessSelectedCollections' | i18n}}\n                        </label>\n                    </div>\n                </div>\n                <ng-container *ngIf=\"access === 'selected'\">\n                    <div *ngIf=\"!collections || !collections.length\">\n                        {{'noCollectionsInList' | i18n}}\n                    </div>\n                    <table class=\"table table-hover table-list mb-0\" *ngIf=\"collections && collections.length\">\n                        <thead>\n                            <tr>\n                                <th>&nbsp;</th>\n                                <th>{{'name' | i18n}}</th>\n                                <th width=\"100\" class=\"text-center\">{{'hidePasswords' | i18n}}</th>\n                                <th width=\"100\" class=\"text-center\">{{'readOnly' | i18n}}</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr *ngFor=\"let c of collections; let i = index\">\n                                <td class=\"table-list-checkbox\" (click)=\"check(c)\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"c.checked\" name=\"Collection[{{i}}].Checked\"\n                                        appStopProp>\n                                </td>\n                                <td (click)=\"check(c)\">\n                                    {{c.name}}\n                                </td>\n                                <td class=\"text-center\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"c.hidePasswords\"\n                                        name=\"Collection[{{i}}].HidePasswords\" [disabled]=\"!c.checked\">\n                                </td>\n                                <td class=\"text-center\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"c.readOnly\" name=\"Collection[{{i}}].ReadOnly\"\n                                        [disabled]=\"!c.checked\">\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </ng-container>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n                <div class=\"ml-auto\">\n                    <button #deleteBtn type=\"button\" (click)=\"delete()\" class=\"btn btn-outline-danger\"\n                        appA11yTitle=\"{{'delete' | i18n}}\" *ngIf=\"editMode\" [disabled]=\"deleteBtn.loading\"\n                        [appApiAction]=\"deletePromise\">\n                        <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\" aria-hidden=\"true\"></i>\n                        <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\" aria-hidden=\"true\"\n                            title=\"{{'loading' | i18n}}\"></i>\n                    </button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { Organization } from 'jslib/models/domain/organization';\n\n@Component({\n    selector: 'app-org-manage',\n    templateUrl: 'manage.component.html',\n})\nexport class ManageComponent implements OnInit {\n    organization: Organization;\n    accessPolicies = false;\n    accessGroups = false;\n    accessEvents = false;\n\n    constructor(private route: ActivatedRoute, private userService: UserService) { }\n\n    ngOnInit() {\n        this.route.parent.params.subscribe(async params => {\n            this.organization = await this.userService.getOrganization(params.organizationId);\n            this.accessPolicies = this.organization.usePolicies;\n            this.accessEvents = this.organization.useEvents;\n            this.accessGroups = this.organization.useGroups;\n        });\n    }\n}\n","<div class=\"container page-content\">\n    <div class=\"row\">\n        <div class=\"col-3\">\n            <div class=\"card\" *ngIf=\"organization\">\n                <div class=\"card-header\">{{'manage' | i18n}}</div>\n                <div class=\"list-group list-group-flush\">\n                    <a routerLink=\"people\" class=\"list-group-item\" routerLinkActive=\"active\"\n                        *ngIf=\"organization.canManageUsers\">\n                        {{'people' | i18n}}\n                    </a>\n                    <a routerLink=\"collections\" class=\"list-group-item\" routerLinkActive=\"active\"\n                        *ngIf=\"organization.canManageAssignedCollections || organization.canManageAllCollections\">\n                        {{'collections' | i18n}}\n                    </a>\n                    <a routerLink=\"groups\" class=\"list-group-item\" routerLinkActive=\"active\"\n                        *ngIf=\"organization.canManageGroups && accessGroups\">\n                        {{'groups' | i18n}}\n                    </a>\n                    <a routerLink=\"policies\" class=\"list-group-item\" routerLinkActive=\"active\"\n                        *ngIf=\"organization.canManagePolicies && accessPolicies\">\n                        {{'policies' | i18n}}\n                    </a>\n                    <a routerLink=\"events\" class=\"list-group-item\" routerLinkActive=\"active\"\n                        *ngIf=\"organization.canAccessEventLogs && accessEvents\">\n                        {{'eventLogs' | i18n}}\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-9\">\n            <router-outlet></router-outlet>\n        </div>\n    </div>\n</div>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ValidationService } from 'jslib/angular/services/validation.service';\nimport { ConstantsService } from 'jslib/services/constants.service';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SearchService } from 'jslib/abstractions/search.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { OrganizationUserConfirmRequest } from 'jslib/models/request/organizationUserConfirmRequest';\n\nimport { OrganizationUserUserDetailsResponse } from 'jslib/models/response/organizationUserResponse';\n\nimport { OrganizationUserStatusType } from 'jslib/enums/organizationUserStatusType';\nimport { OrganizationUserType } from 'jslib/enums/organizationUserType';\n\nimport { Utils } from 'jslib/misc/utils';\n\nimport { ModalComponent } from '../../modal.component';\nimport { EntityEventsComponent } from './entity-events.component';\nimport { UserAddEditComponent } from './user-add-edit.component';\nimport { UserConfirmComponent } from './user-confirm.component';\nimport { UserGroupsComponent } from './user-groups.component';\n\n@Component({\n    selector: 'app-org-people',\n    templateUrl: 'people.component.html',\n})\nexport class PeopleComponent implements OnInit {\n    @ViewChild('addEdit', { read: ViewContainerRef, static: true }) addEditModalRef: ViewContainerRef;\n    @ViewChild('groupsTemplate', { read: ViewContainerRef, static: true }) groupsModalRef: ViewContainerRef;\n    @ViewChild('eventsTemplate', { read: ViewContainerRef, static: true }) eventsModalRef: ViewContainerRef;\n    @ViewChild('confirmTemplate', { read: ViewContainerRef, static: true }) confirmModalRef: ViewContainerRef;\n\n    loading = true;\n    organizationId: string;\n    users: OrganizationUserUserDetailsResponse[];\n    pagedUsers: OrganizationUserUserDetailsResponse[];\n    searchText: string;\n    status: OrganizationUserStatusType = null;\n    statusMap = new Map<OrganizationUserStatusType, OrganizationUserUserDetailsResponse[]>();\n    organizationUserType = OrganizationUserType;\n    organizationUserStatusType = OrganizationUserStatusType;\n    actionPromise: Promise<any>;\n    accessEvents = false;\n    accessGroups = false;\n\n    protected didScroll = false;\n    protected pageSize = 100;\n\n    private pagedUsersCount = 0;\n    private modal: ModalComponent = null;\n    private allUsers: OrganizationUserUserDetailsResponse[];\n\n    constructor(private apiService: ApiService, private route: ActivatedRoute,\n        private i18nService: I18nService, private componentFactoryResolver: ComponentFactoryResolver,\n        private platformUtilsService: PlatformUtilsService, private toasterService: ToasterService,\n        private cryptoService: CryptoService, private userService: UserService, private router: Router,\n        private storageService: StorageService, private searchService: SearchService,\n        private validationService: ValidationService) { }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            const organization = await this.userService.getOrganization(this.organizationId);\n            if (!organization.canManageUsers) {\n                this.router.navigate(['../collections'], { relativeTo: this.route });\n                return;\n            }\n            this.accessEvents = organization.useEvents;\n            this.accessGroups = organization.useGroups;\n            await this.load();\n\n            const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n                this.searchText = qParams.search;\n                if (qParams.viewEvents != null) {\n                    const user = this.users.filter(u => u.id === qParams.viewEvents);\n                    if (user.length > 0 && user[0].status === OrganizationUserStatusType.Confirmed) {\n                        this.events(user[0]);\n                    }\n                }\n                if (queryParamsSub != null) {\n                    queryParamsSub.unsubscribe();\n                }\n            });\n        });\n    }\n\n    async load() {\n        const response = await this.apiService.getOrganizationUsers(this.organizationId);\n        this.statusMap.clear();\n        this.allUsers = response.data != null && response.data.length > 0 ? response.data : [];\n        this.allUsers.sort(Utils.getSortFunction(this.i18nService, 'email'));\n        this.allUsers.forEach(u => {\n            if (!this.statusMap.has(u.status)) {\n                this.statusMap.set(u.status, [u]);\n            } else {\n                this.statusMap.get(u.status).push(u);\n            }\n        });\n        this.filter(this.status);\n        this.loading = false;\n    }\n\n    filter(status: OrganizationUserStatusType) {\n        this.status = status;\n        if (this.status != null) {\n            this.users = this.statusMap.get(this.status);\n        } else {\n            this.users = this.allUsers;\n        }\n        this.resetPaging();\n    }\n\n    loadMore() {\n        if (!this.users || this.users.length <= this.pageSize) {\n            return;\n        }\n        const pagedLength = this.pagedUsers.length;\n        let pagedSize = this.pageSize;\n        if (pagedLength === 0 && this.pagedUsersCount > this.pageSize) {\n            pagedSize = this.pagedUsersCount;\n        }\n        if (this.users.length > pagedLength) {\n            this.pagedUsers = this.pagedUsers.concat(this.users.slice(pagedLength, pagedLength + pagedSize));\n        }\n        this.pagedUsersCount = this.pagedUsers.length;\n        this.didScroll = this.pagedUsers.length > this.pageSize;\n    }\n\n    get allCount() {\n        return this.allUsers != null ? this.allUsers.length : 0;\n    }\n\n    get invitedCount() {\n        return this.statusMap.has(OrganizationUserStatusType.Invited) ?\n            this.statusMap.get(OrganizationUserStatusType.Invited).length : 0;\n    }\n\n    get acceptedCount() {\n        return this.statusMap.has(OrganizationUserStatusType.Accepted) ?\n            this.statusMap.get(OrganizationUserStatusType.Accepted).length : 0;\n    }\n\n    get confirmedCount() {\n        return this.statusMap.has(OrganizationUserStatusType.Confirmed) ?\n            this.statusMap.get(OrganizationUserStatusType.Confirmed).length : 0;\n    }\n\n    get showConfirmUsers(): boolean {\n        return this.allUsers != null && this.statusMap != null && this.allUsers.length > 1 &&\n            this.confirmedCount > 0 && this.confirmedCount < 3 && this.acceptedCount > 0;\n    }\n\n    edit(user: OrganizationUserUserDetailsResponse) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.addEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<UserAddEditComponent>(\n            UserAddEditComponent, this.addEditModalRef);\n\n        childComponent.name = user != null ? user.name || user.email : null;\n        childComponent.organizationId = this.organizationId;\n        childComponent.organizationUserId = user != null ? user.id : null;\n        childComponent.onSavedUser.subscribe(() => {\n            this.modal.close();\n            this.load();\n        });\n        childComponent.onDeletedUser.subscribe(() => {\n            this.modal.close();\n            this.removeUser(user);\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    invite() {\n        this.edit(null);\n    }\n\n    groups(user: OrganizationUserUserDetailsResponse) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.groupsModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<UserGroupsComponent>(\n            UserGroupsComponent, this.groupsModalRef);\n\n        childComponent.name = user != null ? user.name || user.email : null;\n        childComponent.organizationId = this.organizationId;\n        childComponent.organizationUserId = user != null ? user.id : null;\n        childComponent.onSavedUser.subscribe(() => {\n            this.modal.close();\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    async remove(user: OrganizationUserUserDetailsResponse) {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('removeUserConfirmation'), user.name || user.email,\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            await this.apiService.deleteOrganizationUser(this.organizationId, user.id);\n            this.toasterService.popAsync('success', null, this.i18nService.t('removedUserId', user.name || user.email));\n            this.removeUser(user);\n        } catch { }\n    }\n\n    async reinvite(user: OrganizationUserUserDetailsResponse) {\n        if (this.actionPromise != null) {\n            return;\n        }\n        this.actionPromise = this.apiService.postOrganizationUserReinvite(this.organizationId, user.id);\n        await this.actionPromise;\n        this.toasterService.popAsync('success', null, this.i18nService.t('hasBeenReinvited', user.name || user.email));\n        this.actionPromise = null;\n    }\n\n    async confirm(user: OrganizationUserUserDetailsResponse) {\n        function updateUser(self: PeopleComponent) {\n            user.status = OrganizationUserStatusType.Confirmed;\n            const mapIndex = self.statusMap.get(OrganizationUserStatusType.Accepted).indexOf(user);\n            if (mapIndex > -1) {\n                self.statusMap.get(OrganizationUserStatusType.Accepted).splice(mapIndex, 1);\n                self.statusMap.get(OrganizationUserStatusType.Confirmed).push(user);\n            }\n        }\n\n        const confirmUser = async (publicKey: Uint8Array) => {\n            try {\n                this.actionPromise = this.doConfirmation(user, publicKey);\n                await this.actionPromise;\n                updateUser(this);\n                this.toasterService.popAsync('success', null, this.i18nService.t('hasBeenConfirmed', user.name || user.email));\n            } catch (e) {\n                this.validationService.showError(e);\n                throw e;\n            } finally {\n                this.actionPromise = null;\n            }\n        };\n\n        if (this.actionPromise != null) {\n            return;\n        }\n\n        const autoConfirm = await this.storageService.get<boolean>(ConstantsService.autoConfirmFingerprints);\n        if (autoConfirm == null || !autoConfirm) {\n            if (this.modal != null) {\n                this.modal.close();\n            }\n\n            const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n            this.modal = this.confirmModalRef.createComponent(factory).instance;\n            const childComponent = this.modal.show<UserConfirmComponent>(\n                UserConfirmComponent, this.confirmModalRef);\n\n            childComponent.name = user != null ? user.name || user.email : null;\n            childComponent.organizationId = this.organizationId;\n            childComponent.organizationUserId = user != null ? user.id : null;\n            childComponent.userId = user != null ? user.userId : null;\n            childComponent.onConfirmedUser.subscribe(async (publicKey: Uint8Array) => {\n                try {\n                    await confirmUser(publicKey);\n                    this.modal.close();\n                } catch (e) {\n                    // tslint:disable-next-line\n                    console.error('Handled exception:', e);\n                }\n            });\n\n            this.modal.onClosed.subscribe(() => {\n                this.modal = null;\n            });\n            return;\n        }\n\n        try {\n            const publicKeyResponse = await this.apiService.getUserPublicKey(user.userId);\n            const publicKey = Utils.fromB64ToArray(publicKeyResponse.publicKey);\n            try {\n                // tslint:disable-next-line\n                console.log('User\\'s fingerprint: ' +\n                    (await this.cryptoService.getFingerprint(user.userId, publicKey.buffer)).join('-'));\n            } catch { }\n            await confirmUser(publicKey);\n        } catch (e) {\n            // tslint:disable-next-line\n            console.error('Handled exception:', e);\n        }\n    }\n\n    async events(user: OrganizationUserUserDetailsResponse) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.eventsModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<EntityEventsComponent>(\n            EntityEventsComponent, this.eventsModalRef);\n\n        childComponent.name = user.name || user.email;\n        childComponent.organizationId = this.organizationId;\n        childComponent.entityId = user.id;\n        childComponent.showUser = false;\n        childComponent.entity = 'user';\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    async resetPaging() {\n        this.pagedUsers = [];\n        this.loadMore();\n    }\n\n    isSearching() {\n        return this.searchService.isSearchable(this.searchText);\n    }\n\n    isPaging() {\n        const searching = this.isSearching();\n        if (searching && this.didScroll) {\n            this.resetPaging();\n        }\n        return !searching && this.users && this.users.length > this.pageSize;\n    }\n\n    private async doConfirmation(user: OrganizationUserUserDetailsResponse, publicKey: Uint8Array) {\n        const orgKey = await this.cryptoService.getOrgKey(this.organizationId);\n        const key = await this.cryptoService.rsaEncrypt(orgKey.key, publicKey.buffer);\n        const request = new OrganizationUserConfirmRequest();\n        request.key = key.encryptedString;\n        await this.apiService.postOrganizationUserConfirm(this.organizationId, user.id, request);\n    }\n\n    private removeUser(user: OrganizationUserUserDetailsResponse) {\n        let index = this.users.indexOf(user);\n        if (index > -1) {\n            this.users.splice(index, 1);\n            this.resetPaging();\n        }\n        if (this.statusMap.has(OrganizationUserStatusType.Accepted)) {\n            index = this.statusMap.get(OrganizationUserStatusType.Accepted).indexOf(user);\n            if (index > -1) {\n                this.statusMap.get(OrganizationUserStatusType.Accepted).splice(index, 1);\n            }\n        }\n        if (this.statusMap.has(OrganizationUserStatusType.Invited)) {\n            index = this.statusMap.get(OrganizationUserStatusType.Invited).indexOf(user);\n            if (index > -1) {\n                this.statusMap.get(OrganizationUserStatusType.Invited).splice(index, 1);\n            }\n        }\n        if (this.statusMap.has(OrganizationUserStatusType.Confirmed)) {\n            index = this.statusMap.get(OrganizationUserStatusType.Confirmed).indexOf(user);\n            if (index > -1) {\n                this.statusMap.get(OrganizationUserStatusType.Confirmed).splice(index, 1);\n            }\n        }\n    }\n}\n","<div class=\"page-header d-flex\">\n    <h1>{{'people' | i18n}}</h1>\n    <div class=\"ml-auto d-flex\">\n        <div class=\"btn-group btn-group-sm\" role=\"group\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\" [ngClass]=\"{active: status == null}\"\n                (click)=\"filter(null)\">\n                {{'all' | i18n}}\n                <span class=\"badge badge-pill badge-info\" *ngIf=\"allCount\">{{allCount}}</span>\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                [ngClass]=\"{active: status == organizationUserStatusType.Invited}\"\n                (click)=\"filter(organizationUserStatusType.Invited)\">\n                {{'invited' | i18n}}\n                <span class=\"badge badge-pill badge-info\" *ngIf=\"invitedCount\">{{invitedCount}}</span>\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                [ngClass]=\"{active: status == organizationUserStatusType.Accepted}\"\n                (click)=\"filter(organizationUserStatusType.Accepted)\">\n                {{'accepted' | i18n}}\n                <span class=\"badge badge-pill badge-warning\" *ngIf=\"acceptedCount\">{{acceptedCount}}</span>\n            </button>\n        </div>\n        <div class=\"ml-3\">\n            <label class=\"sr-only\" for=\"search\">{{'search' | i18n}}</label>\n            <input type=\"search\" class=\"form-control form-control-sm\" id=\"search\" placeholder=\"{{'search' | i18n}}\"\n                [(ngModel)]=\"searchText\">\n        </div>\n        <button type=\"button\" class=\"btn btn-sm btn-outline-primary ml-3\" (click)=\"invite()\">\n            <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i>\n            {{'inviteUser' | i18n}}\n        </button>\n    </div>\n</div>\n<ng-container *ngIf=\"loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</ng-container>\n<ng-container\n    *ngIf=\"!loading && (isPaging() ? pagedUsers : users | search:searchText:'name':'email':'id') as searchedUsers\">\n    <p *ngIf=\"!searchedUsers.length\">{{'noUsersInList' | i18n}}</p>\n    <ng-container *ngIf=\"searchedUsers.length\">\n        <app-callout type=\"info\" title=\"{{'confirmUsers' | i18n}}\" icon=\"fa-check-circle\" *ngIf=\"showConfirmUsers\">\n            {{'usersNeedConfirmed' | i18n}}\n        </app-callout>\n        <table class=\"table table-hover table-list\" infiniteScroll [infiniteScrollDistance]=\"1\"\n            [infiniteScrollDisabled]=\"!isPaging()\" (scrolled)=\"loadMore()\">\n            <tbody>\n                <tr *ngFor=\"let u of searchedUsers\">\n                    <td width=\"30\">\n                        <app-avatar [data]=\"u.name || u.email\" [email]=\"u.email\" size=\"25\" [circle]=\"true\"\n                            [fontSize]=\"14\"></app-avatar>\n                    </td>\n                    <td>\n                        <a href=\"#\" appStopClick (click)=\"edit(u)\">{{u.email}}</a>\n                        <span class=\"badge badge-secondary\"\n                            *ngIf=\"u.status === organizationUserStatusType.Invited\">{{'invited' | i18n}}</span>\n                        <span class=\"badge badge-warning\"\n                            *ngIf=\"u.status === organizationUserStatusType.Accepted\">{{'accepted' | i18n}}</span>\n                        <small class=\"text-muted d-block\" *ngIf=\"u.name\">{{u.name}}</small>\n                    </td>\n                    <td>\n                        <ng-container *ngIf=\"u.twoFactorEnabled\">\n                            <i class=\"fa fa-lock\" title=\"{{'userUsingTwoStep' | i18n}}\" aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'userUsingTwoStep' | i18n}}</span>\n                        </ng-container>\n                    </td>\n                    <td>\n                        <span *ngIf=\"u.type === organizationUserType.Owner\">{{'owner' | i18n}}</span>\n                        <span *ngIf=\"u.type === organizationUserType.Admin\">{{'admin' | i18n}}</span>\n                        <span *ngIf=\"u.type === organizationUserType.Manager\">{{'manager' | i18n}}</span>\n                        <span *ngIf=\"u.type === organizationUserType.User\">{{'user' | i18n}}</span>\n                        <span *ngIf=\"u.type === organizationUserType.Custom\">{{'custom' | i18n}}</span>\n                    </td>\n                    <td class=\"table-list-options\">\n                        <div class=\"dropdown\" appListDropdown>\n                            <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\"\n                                data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\n                                appA11yTitle=\"{{'options' | i18n}}\">\n                                <i class=\"fa fa-cog fa-lg\" aria-hidden=\"true\"></i>\n                            </button>\n                            <div class=\"dropdown-menu dropdown-menu-right\">\n                                <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"reinvite(u)\"\n                                    *ngIf=\"u.status === organizationUserStatusType.Invited\">\n                                    <i class=\"fa fa-fw fa-envelope-o\" aria-hidden=\"true\"></i>\n                                    {{'resendInvitation' | i18n}}\n                                </a>\n                                <a class=\"dropdown-item text-success\" href=\"#\" appStopClick (click)=\"confirm(u)\"\n                                    *ngIf=\"u.status === organizationUserStatusType.Accepted\">\n                                    <i class=\"fa fa-fw fa-check\" aria-hidden=\"true\"></i>\n                                    {{'confirm' | i18n}}\n                                </a>\n                                <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"groups(u)\" *ngIf=\"accessGroups\">\n                                    <i class=\"fa fa-fw fa-sitemap\" aria-hidden=\"true\"></i>\n                                    {{'groups' | i18n}}\n                                </a>\n                                <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"events(u)\"\n                                    *ngIf=\"accessEvents && u.status === organizationUserStatusType.Confirmed\">\n                                    <i class=\"fa fa-fw fa-file-text-o\" aria-hidden=\"true\"></i>\n                                    {{'eventLogs' | i18n}}\n                                </a>\n                                <a class=\"dropdown-item text-danger\" href=\"#\" appStopClick (click)=\"remove(u)\">\n                                    <i class=\"fa fa-fw fa-remove\" aria-hidden=\"true\"></i>\n                                    {{'remove' | i18n}}\n                                </a>\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </ng-container>\n</ng-container>\n<ng-template #addEdit></ng-template>\n<ng-template #groupsTemplate></ng-template>\n<ng-template #eventsTemplate></ng-template>\n<ng-template #confirmTemplate></ng-template>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { CollectionData } from 'jslib/models/data/collectionData';\nimport { Collection } from 'jslib/models/domain/collection';\nimport { OrganizationUserInviteRequest } from 'jslib/models/request/organizationUserInviteRequest';\nimport { OrganizationUserUpdateRequest } from 'jslib/models/request/organizationUserUpdateRequest';\nimport { SelectionReadOnlyRequest } from 'jslib/models/request/selectionReadOnlyRequest';\nimport { CollectionDetailsResponse } from 'jslib/models/response/collectionResponse';\nimport { CollectionView } from 'jslib/models/view/collectionView';\n\nimport { OrganizationUserType } from 'jslib/enums/organizationUserType';\nimport { PermissionsApi } from 'jslib/models/api/permissionsApi';\n\n@Component({\n    selector: 'app-user-add-edit',\n    templateUrl: 'user-add-edit.component.html',\n})\nexport class UserAddEditComponent implements OnInit {\n    @Input() name: string;\n    @Input() organizationUserId: string;\n    @Input() organizationId: string;\n    @Output() onSavedUser = new EventEmitter();\n    @Output() onDeletedUser = new EventEmitter();\n\n    loading = true;\n    editMode: boolean = false;\n    title: string;\n    emails: string;\n    type: OrganizationUserType = OrganizationUserType.User;\n    permissions = new PermissionsApi();\n    showCustom = false;\n    access: 'all' | 'selected' = 'selected';\n    collections: CollectionView[] = [];\n    formPromise: Promise<any>;\n    deletePromise: Promise<any>;\n    organizationUserType = OrganizationUserType;\n\n    get customUserTypeSelected(): boolean {\n        return this.type === OrganizationUserType.Custom;\n    }\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private collectionService: CollectionService,\n        private platformUtilsService: PlatformUtilsService) { }\n\n    async ngOnInit() {\n        this.editMode = this.loading = this.organizationUserId != null;\n        await this.loadCollections();\n\n        if (this.editMode) {\n            this.editMode = true;\n            this.title = this.i18nService.t('editUser');\n            try {\n                const user = await this.apiService.getOrganizationUser(this.organizationId, this.organizationUserId);\n                this.access = user.accessAll ? 'all' : 'selected';\n                this.type = user.type;\n                if (user.type === OrganizationUserType.Custom) {\n                    this.permissions = user.permissions;\n                }\n                if (user.collections != null && this.collections != null) {\n                    user.collections.forEach(s => {\n                        const collection = this.collections.filter(c => c.id === s.id);\n                        if (collection != null && collection.length > 0) {\n                            (collection[0] as any).checked = true;\n                            collection[0].readOnly = s.readOnly;\n                            collection[0].hidePasswords = s.hidePasswords;\n                        }\n                    });\n                }\n            } catch { }\n        } else {\n            this.title = this.i18nService.t('inviteUser');\n        }\n\n        this.loading = false;\n    }\n\n    async loadCollections() {\n        const response = await this.apiService.getCollections(this.organizationId);\n        const collections = response.data.map(r =>\n            new Collection(new CollectionData(r as CollectionDetailsResponse)));\n        this.collections = await this.collectionService.decryptMany(collections);\n    }\n\n    check(c: CollectionView, select?: boolean) {\n        (c as any).checked = select == null ? !(c as any).checked : select;\n        if (!(c as any).checked) {\n            c.readOnly = false;\n        }\n    }\n\n    selectAll(select: boolean) {\n        this.collections.forEach(c => this.check(c, select));\n    }\n\n    setRequestPermissions(p: PermissionsApi, clearPermissions: boolean) {\n        p.accessBusinessPortal = clearPermissions ?\n            false :\n            this.permissions.accessBusinessPortal;\n        p.accessEventLogs = this.permissions.accessEventLogs = clearPermissions ?\n            false :\n            this.permissions.accessEventLogs;\n        p.accessImportExport = clearPermissions ?\n            false :\n            this.permissions.accessImportExport;\n        p.accessReports = clearPermissions ?\n            false :\n            this.permissions.accessReports;\n        p.manageAllCollections = clearPermissions ?\n            false :\n            this.permissions.manageAllCollections;\n        p.manageAssignedCollections = clearPermissions ?\n            false :\n            this.permissions.manageAssignedCollections;\n        p.manageGroups = clearPermissions ?\n            false :\n            this.permissions.manageGroups;\n        p.manageSso = clearPermissions ?\n            false :\n            this.permissions.manageSso;\n        p.managePolicies = clearPermissions ?\n            false :\n            this.permissions.managePolicies;\n        p.manageUsers = clearPermissions ?\n            false :\n            this.permissions.manageUsers;\n        p.manageResetPassword = clearPermissions ?\n            false :\n            this.permissions.manageResetPassword;\n        return p;\n    }\n\n    async submit() {\n        let collections: SelectionReadOnlyRequest[] = null;\n        if (this.access !== 'all') {\n            collections = this.collections.filter(c => (c as any).checked)\n                .map(c => new SelectionReadOnlyRequest(c.id, !!c.readOnly, !!c.hidePasswords));\n        }\n\n        try {\n            if (this.editMode) {\n                const request = new OrganizationUserUpdateRequest();\n                request.accessAll = this.access === 'all';\n                request.type = this.type;\n                request.collections = collections;\n                request.permissions = this.setRequestPermissions(request.permissions ?? new PermissionsApi(), request.type !== OrganizationUserType.Custom);\n                this.formPromise = this.apiService.putOrganizationUser(this.organizationId, this.organizationUserId,\n                    request);\n            } else {\n                const request = new OrganizationUserInviteRequest();\n                request.emails = this.emails.trim().split(/\\s*,\\s*/);\n                request.accessAll = this.access === 'all';\n                request.type = this.type;\n                request.permissions = this.setRequestPermissions(request.permissions ?? new PermissionsApi(), request.type !== OrganizationUserType.Custom);\n                request.collections = collections;\n                this.formPromise = this.apiService.postOrganizationUserInvite(this.organizationId, request);\n            }\n            await this.formPromise;\n            this.toasterService.popAsync('success', null,\n                this.i18nService.t(this.editMode ? 'editedUserId' : 'invitedUsers', this.name));\n            this.onSavedUser.emit();\n        } catch { }\n    }\n\n    async delete() {\n        if (!this.editMode) {\n            return;\n        }\n\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('removeUserConfirmation'), this.name,\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.deletePromise = this.apiService.deleteOrganizationUser(this.organizationId, this.organizationUserId);\n            await this.deletePromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('removedUserId', this.name));\n            this.onDeletedUser.emit();\n        } catch { }\n    }\n\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"userAddEditTitle\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"userAddEditTitle\">\n                    {{title}}\n                    <small class=\"text-muted\" *ngIf=\"name\">{{name}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"loading\">\n                <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                <span class=\"sr-only\">{{'loading' | i18n}}</span>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"!loading\">\n                <ng-container *ngIf=\"!editMode\">\n                    <p>{{'inviteUserDesc' | i18n}}</p>\n                    <div class=\"form-group mb-4\">\n                        <label for=\"emails\">{{'email' | i18n}}</label>\n                        <input id=\"emails\" class=\"form-control\" type=\"text\" name=\"Emails\" [(ngModel)]=\"emails\" required\n                            appAutoFocus>\n                        <small class=\"text-muted\">{{'inviteMultipleEmailDesc' | i18n : '20'}}</small>\n                    </div>\n                </ng-container>\n                <h3>\n                    {{'userType' | i18n}}\n                    <a target=\"_blank\" rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\"\n                        href=\"https://bitwarden.com/help/article/user-types-access-control/#user-types\">\n                        <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                    </a>\n                </h3>\n                <div class=\"form-check mt-2 form-check-block\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"userType\" id=\"userTypeUser\"\n                        [value]=\"organizationUserType.User\" [(ngModel)]=\"type\">\n                    <label class=\"form-check-label\" for=\"userTypeUser\">\n                        {{'user' | i18n}}\n                        <small>{{'userDesc' | i18n}}</small>\n                    </label>\n                </div>\n                <div class=\"form-check mt-2 form-check-block\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"userType\" id=\"userTypeManager\"\n                        [value]=\"organizationUserType.Manager\" [(ngModel)]=\"type\">\n                    <label class=\"form-check-label\" for=\"userTypeManager\">\n                        {{'manager' | i18n}}\n                        <small>{{'managerDesc' | i18n}}</small>\n                    </label>\n                </div>\n                <div class=\"form-check mt-2 form-check-block\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"userType\" id=\"userTypeAdmin\"\n                        [value]=\"organizationUserType.Admin\" [(ngModel)]=\"type\">\n                    <label class=\"form-check-label\" for=\"userTypeAdmin\">\n                        {{'admin' | i18n}}\n                        <small>{{'adminDesc' | i18n}}</small>\n                    </label>\n                </div>\n                <div class=\"form-check mt-2 form-check-block\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"userType\" id=\"userTypeOwner\"\n                        [value]=\"organizationUserType.Owner\" [(ngModel)]=\"type\">\n                    <label class=\"form-check-label\" for=\"userTypeOwner\">\n                        {{'owner' | i18n}}\n                        <small>{{'ownerDesc' | i18n}}</small>\n                    </label>\n                </div>\n                <div class=\"form-check mt-2 form-check-block\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"userType\" id=\"userTypeCustom\"\n                        [value]=\"organizationUserType.Custom\" [(ngModel)]=\"type\">\n                    <label class=\"form-check-label\" for=\"userTypeCustom\">\n                        {{'custom' | i18n}}\n                        <small>{{'customDesc' | i18n}}</small>\n                    </label>\n                </div>\n                <ng-container *ngIf=\"customUserTypeSelected\">\n                    <h3 class=\"mt-4 d-flex\">\n                        {{'permissions' | i18n}}\n                    </h3>\n                    <div class=\"row\">\n                        <div class=\"col-6\">\n                            <div class=\"mb-3\">\n                                <label class=\"font-weight-bold mb-0\">Manager Permissions</label>\n                                <hr class=\"my-0 mr-2\" />\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"manageAssignedCollections\"\n                                            id=\"manageAssignedCollections\"\n                                            [(ngModel)]=\"permissions.manageAssignedCollections\">\n                                        <label class=\"form-check-label font-weight-normal\"\n                                            for=\"manageAssignedCollections\">\n                                            {{'manageAssignedCollections' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-6\">\n                            <div class=\"mb-3\">\n                                <label class=\"font-weight-bold mb-0\">Admin Permissions</label>\n                                <hr class=\"my-0 mr-2\" />\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"accessBusinessPortal\"\n                                            id=\"accessBusinessPortal\" [(ngModel)]=\"permissions.accessBusinessPortal\">\n                                        <label class=\"form-check-label font-weight-normal\" for=\"accessBusinessPortal\">\n                                            {{'accessBusinessPortal' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"accessEventLogs\"\n                                            id=\"accessEventLogs\" [(ngModel)]=\"permissions.accessEventLogs\">\n                                        <label class=\"form-check-label font-weight-normal\" for=\"accessEventLogs\">\n                                            {{'accessEventLogs' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"accessImportExport\"\n                                            id=\"accessImportExport\" [(ngModel)]=\"permissions.accessImportExport\">\n                                        <label class=\"form-check-label font-weight-normal\" for=\"accessImportExport\">\n                                            {{'accessImportExport' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"accessReports\"\n                                            id=\"accessReports\" [(ngModel)]=\"permissions.accessReports\">\n                                        <label class=\"form-check-label font-weight-normal\" for=\"accessReports\">\n                                            {{'accessReports' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"manageAllCollections\"\n                                            id=\"manageAllCollections\" [(ngModel)]=\"permissions.manageAllCollections\">\n                                        <label class=\"form-check-label font-weight-normal\" for=\"manageAllCollections\">\n                                            {{'manageAllCollections' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"manageGroups\"\n                                            id=\"manageGroups\" [(ngModel)]=\"permissions.manageGroups\">\n                                        <label class=\"form-check-label font-weight-normal\" for=\"manageGroups\">\n                                            {{'manageGroups' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"manageSso\"\n                                            id=\"managePolicies\" [(ngModel)]=\"permissions.manageSso\">\n                                        <label class=\"form-check-label font-weight-normal\" for=\"manageSso\">\n                                            {{'manageSso' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"managePolicies\"\n                                            id=\"managePolicies\" [(ngModel)]=\"permissions.managePolicies\">\n                                        <label class=\"form-check-label font-weight-normal\" for=\"managePolicies\">\n                                            {{'managePolicies' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"manageUsers\"\n                                            id=\"manageUsers\" [(ngModel)]=\"permissions.manageUsers\">\n                                        <label class=\"form-check-label font-weight-normal\" for=\"manageUsers\">\n                                            {{'manageUsers' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class=\"form-group mb-0\">\n                                    <div class=\"form-check mt-1 form-check-block\">\n                                        <input class=\"form-check-input\" type=\"checkbox\" name=\"manageResetPassword\"\n                                            id=\"manageResetPassword\" [(ngModel)]=\"permissions.manageResetPassword\">\n                                        <label class=\"form-check-label font-weight-normal\" for=\"manageResetPassword\">\n                                            {{'manageResetPassword' | i18n}}\n                                        </label>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n                <h3 class=\"mt-4 d-flex\">\n                    <div class=\"mb-3\">\n                        {{'accessControl' | i18n}}\n                        <a target=\"_blank\" rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\"\n                            href=\"https://bitwarden.com/help/article/user-types-access-control/#access-control\">\n                            <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                        </a>\n                    </div>\n                    <div class=\"ml-auto\" *ngIf=\"access === 'selected' && collections && collections.length\">\n                        <button type=\"button\" (click)=\"selectAll(true)\" class=\"btn btn-link btn-sm py-0\">\n                            {{'selectAll' | i18n}}\n                        </button>\n                        <button type=\"button\" (click)=\"selectAll(false)\" class=\"btn btn-link btn-sm py-0\">\n                            {{'unselectAll' | i18n}}\n                        </button>\n                    </div>\n                </h3>\n                <div class=\"form-group\" [ngClass]=\"{'mb-0': access !== 'selected'}\">\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"radio\" name=\"access\" id=\"accessAll\" value=\"all\"\n                            [(ngModel)]=\"access\">\n                        <label class=\"form-check-label\" for=\"accessAll\">\n                            {{'userAccessAllItems' | i18n}}\n                        </label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"radio\" name=\"access\" id=\"accessSelected\" value=\"selected\"\n                            [(ngModel)]=\"access\">\n                        <label class=\"form-check-label\" for=\"accessSelected\">\n                            {{'userAccessSelectedCollections' | i18n}}\n                        </label>\n                    </div>\n                </div>\n                <ng-container *ngIf=\"access === 'selected'\">\n                    <div *ngIf=\"!collections || !collections.length\">\n                        {{'noCollectionsInList' | i18n}}\n                    </div>\n                    <table class=\"table table-hover table-list mb-0\" *ngIf=\"collections && collections.length\">\n                        <thead>\n                            <tr>\n                                <th>&nbsp;</th>\n                                <th>{{'name' | i18n}}</th>\n                                <th width=\"100\" class=\"text-center\">{{'hidePasswords' | i18n}}</th>\n                                <th width=\"100\" class=\"text-center\">{{'readOnly' | i18n}}</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr *ngFor=\"let c of collections; let i = index\">\n                                <td class=\"table-list-checkbox\" (click)=\"check(c)\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"c.checked\" name=\"Collection[{{i}}].Checked\"\n                                        appStopProp>\n                                </td>\n                                <td (click)=\"check(c)\">\n                                    {{c.name}}\n                                </td>\n                                <td class=\"text-center\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"c.hidePasswords\"\n                                        name=\"Collection[{{i}}].HidePasswords\" [disabled]=\"!c.checked\">\n                                </td>\n                                <td class=\"text-center\">\n                                    <input type=\"checkbox\" [(ngModel)]=\"c.readOnly\" name=\"Collection[{{i}}].ReadOnly\"\n                                        [disabled]=\"!c.checked\">\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </ng-container>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">\n                    {{'cancel' | i18n}}\n                </button>\n                <div class=\"ml-auto\">\n                    <button #deleteBtn type=\"button\" (click)=\"delete()\" class=\"btn btn-outline-danger\"\n                        appA11yTitle=\"{{'delete' | i18n}}\" *ngIf=\"editMode\" [disabled]=\"deleteBtn.loading\"\n                        [appApiAction]=\"deletePromise\">\n                        <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\" aria-hidden=\"true\"></i>\n                        <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\"\n                            title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    </button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ConstantsService } from 'jslib/services/constants.service';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\n\nimport { Utils } from 'jslib/misc/utils';\n\n@Component({\n    selector: 'app-user-confirm',\n    templateUrl: 'user-confirm.component.html',\n})\nexport class UserConfirmComponent implements OnInit {\n    @Input() name: string;\n    @Input() userId: string;\n    @Input() organizationUserId: string;\n    @Input() organizationId: string;\n    @Output() onConfirmedUser = new EventEmitter();\n\n    dontAskAgain = false;\n    loading = true;\n    fingerprint: string;\n\n    private publicKey: Uint8Array = null;\n\n    constructor(private apiService: ApiService, private cryptoService: CryptoService,\n        private storageService: StorageService) { }\n\n    async ngOnInit() {\n        try {\n            const publicKeyResponse = await this.apiService.getUserPublicKey(this.userId);\n            if (publicKeyResponse != null) {\n                this.publicKey = Utils.fromB64ToArray(publicKeyResponse.publicKey);\n                const fingerprint = await this.cryptoService.getFingerprint(this.userId, this.publicKey.buffer);\n                if (fingerprint != null) {\n                    this.fingerprint = fingerprint.join('-');\n                }\n            }\n        } catch { }\n        this.loading = false;\n    }\n\n    async submit() {\n        if (this.loading) {\n            return;\n        }\n\n        if (this.dontAskAgain) {\n            await this.storageService.save(ConstantsService.autoConfirmFingerprints, true);\n        }\n\n        this.onConfirmedUser.emit(this.publicKey);\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"confirmUserTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"confirmUserTitle\">\n                    {{'confirmUser' | i18n}}\n                    <small class=\"text-muted\" *ngIf=\"name\">{{name}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>\n                    {{'fingerprintEnsureIntegrityVerify' | i18n}}\n                    <a href=\"https://help.bitwarden.com/article/fingerprint-phrase/\" target=\"_blank\" rel=\"noopener\">\n                        {{'learnMore' | i18n}}</a>\n                </p>\n                <p><code>{{fingerprint}}</code></p>\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"dontAskAgain\" name=\"DontAskAgain\"\n                        [(ngModel)]=\"dontAskAgain\">\n                    <label class=\"form-check-label\" for=\"dontAskAgain\">\n                        {{'dontAskFingerprintAgain' | i18n}}\n                    </label>\n                </div>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'confirm' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { OrganizationUserUpdateGroupsRequest } from 'jslib/models/request/organizationUserUpdateGroupsRequest';\nimport { GroupResponse } from 'jslib/models/response/groupResponse';\n\nimport { Utils } from 'jslib/misc/utils';\n\n@Component({\n    selector: 'app-user-groups',\n    templateUrl: 'user-groups.component.html',\n})\nexport class UserGroupsComponent implements OnInit {\n    @Input() name: string;\n    @Input() organizationUserId: string;\n    @Input() organizationId: string;\n    @Output() onSavedUser = new EventEmitter();\n\n    loading = true;\n    groups: GroupResponse[] = [];\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService) { }\n\n    async ngOnInit() {\n        const groupsResponse = await this.apiService.getGroups(this.organizationId);\n        const groups = groupsResponse.data.map(r => r);\n        groups.sort(Utils.getSortFunction(this.i18nService, 'name'));\n        this.groups = groups;\n\n        try {\n            const userGroups = await this.apiService.getOrganizationUserGroups(\n                this.organizationId, this.organizationUserId);\n            if (userGroups != null && this.groups != null) {\n                userGroups.forEach(ug => {\n                    const group = this.groups.filter(g => g.id === ug);\n                    if (group != null && group.length > 0) {\n                        (group[0] as any).checked = true;\n                    }\n                });\n            }\n        } catch { }\n\n        this.loading = false;\n    }\n\n    check(g: GroupResponse, select?: boolean) {\n        (g as any).checked = select == null ? !(g as any).checked : select;\n        if (!(g as any).checked) {\n            (g as any).readOnly = false;\n        }\n    }\n\n    selectAll(select: boolean) {\n        this.groups.forEach(g => this.check(g, select));\n    }\n\n    async submit() {\n        const request = new OrganizationUserUpdateGroupsRequest();\n        request.groupIds = this.groups.filter(g => (g as any).checked).map(g => g.id);\n\n        try {\n            this.formPromise = this.apiService.putOrganizationUserGroups(this.organizationId, this.organizationUserId,\n                request);\n            await this.formPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('editedGroupsForUser', this.name));\n            this.onSavedUser.emit();\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"groupAccessTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"groupAccessTitle\">\n                    {{'groupAccess' | i18n}}\n                    <small class=\"text-muted\" *ngIf=\"name\">{{name}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"loading\">\n                <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                <span class=\"sr-only\">{{'loading' | i18n}}</span>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"!loading\">\n                <p>{{'groupAccessUserDesc' | i18n}}</p>\n                <div *ngIf=\"!groups || !groups.length\">\n                    {{'noGroupsInList' | i18n}}\n                </div>\n                <table class=\"table table-hover table-list mb-0\" *ngIf=\"groups && groups.length\">\n                    <tbody>\n                        <tr *ngFor=\"let g of groups; let i = index\">\n                            <td class=\"table-list-checkbox\" (click)=\"check(g)\">\n                                <input type=\"checkbox\" [(ngModel)]=\"g.checked\" name=\"Groups[{{i}}].Checked\" appStopProp>\n                            </td>\n                            <td (click)=\"check(g)\">\n                                {{g.name}}\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { PolicyType } from 'jslib/enums/policyType';\n\nimport { EnvironmentService } from 'jslib/abstractions';\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { PolicyResponse } from 'jslib/models/response/policyResponse';\n\nimport { ModalComponent } from '../../modal.component';\n\nimport { PolicyEditComponent } from './policy-edit.component';\n\n@Component({\n    selector: 'app-org-policies',\n    templateUrl: 'policies.component.html',\n})\nexport class PoliciesComponent implements OnInit {\n    @ViewChild('editTemplate', { read: ViewContainerRef, static: true }) editModalRef: ViewContainerRef;\n\n    loading = true;\n    organizationId: string;\n    policies: any[];\n\n    // Remove when removing deprecation warning\n    enterpriseTokenPromise: Promise<any>;\n    userCanAccessBusinessPortal = false;\n\n    private enterpriseUrl: string;\n\n    private modal: ModalComponent = null;\n    private orgPolicies: PolicyResponse[];\n    private policiesEnabledMap: Map<PolicyType, boolean> = new Map<PolicyType, boolean>();\n\n    constructor(private apiService: ApiService, private route: ActivatedRoute,\n        private i18nService: I18nService, private componentFactoryResolver: ComponentFactoryResolver,\n        private platformUtilsService: PlatformUtilsService, private userService: UserService,\n        private router: Router, private environmentService: EnvironmentService) { }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            const organization = await this.userService.getOrganization(this.organizationId);\n            if (organization == null || !organization.usePolicies) {\n                this.router.navigate(['/organizations', this.organizationId]);\n                return;\n            }\n            this.userCanAccessBusinessPortal = organization.canAccessBusinessPortal;\n            this.policies = [\n                {\n                    name: this.i18nService.t('twoStepLogin'),\n                    description: this.i18nService.t('twoStepLoginPolicyDesc'),\n                    type: PolicyType.TwoFactorAuthentication,\n                    enabled: false,\n                    display: true,\n                },\n                {\n                    name: this.i18nService.t('masterPass'),\n                    description: this.i18nService.t('masterPassPolicyDesc'),\n                    type: PolicyType.MasterPassword,\n                    enabled: false,\n                    display: true,\n                },\n                {\n                    name: this.i18nService.t('passwordGenerator'),\n                    description: this.i18nService.t('passwordGeneratorPolicyDesc'),\n                    type: PolicyType.PasswordGenerator,\n                    enabled: false,\n                    display: true,\n                },\n                {\n                    name: this.i18nService.t('singleOrg'),\n                    description: this.i18nService.t('singleOrgDesc'),\n                    type: PolicyType.SingleOrg,\n                    enabled: false,\n                    display: true,\n                },\n                {\n                    name: this.i18nService.t('requireSso'),\n                    description: this.i18nService.t('requireSsoPolicyDesc'),\n                    type: PolicyType.RequireSso,\n                    enabled: false,\n                    display: organization.useSso,\n                },\n                {\n                    name: this.i18nService.t('personalOwnership'),\n                    description: this.i18nService.t('personalOwnershipPolicyDesc'),\n                    type: PolicyType.PersonalOwnership,\n                    enabled: false,\n                    display: true,\n                },\n                {\n                    name: this.i18nService.t('disableSend'),\n                    description: this.i18nService.t('disableSendPolicyDesc'),\n                    type: PolicyType.DisableSend,\n                    enabled: false,\n                    display: true,\n                },\n                {\n                    name: this.i18nService.t('sendOptions'),\n                    description: this.i18nService.t('sendOptionsPolicyDesc'),\n                    type: PolicyType.SendOptions,\n                    enabled: false,\n                    display: true,\n                },\n            ];\n            await this.load();\n\n            // Handle policies component launch from Event message\n            const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n                if (qParams.policyId != null) {\n                    const policyIdFromEvents: string = qParams.policyId;\n                    for (const orgPolicy of this.orgPolicies) {\n                        if (orgPolicy.id === policyIdFromEvents) {\n                            for (let i = 0; i < this.policies.length; i++) {\n                                if (this.policies[i].type === orgPolicy.type) {\n                                    this.edit(this.policies[i]);\n                                    break;\n                                }\n                            }\n                            break;\n                        }\n                    }\n                }\n\n                if (queryParamsSub != null) {\n                    queryParamsSub.unsubscribe();\n                }\n            });\n        });\n\n        // Remove when removing deprecation warning\n        this.enterpriseUrl = 'https://portal.bitwarden.com';\n        if (this.environmentService.enterpriseUrl != null) {\n            this.enterpriseUrl = this.environmentService.enterpriseUrl;\n        } else if (this.environmentService.baseUrl != null) {\n            this.enterpriseUrl = this.environmentService.baseUrl + '/portal';\n        }\n    }\n\n    async load() {\n        const response = await this.apiService.getPolicies(this.organizationId);\n        this.orgPolicies = response.data != null && response.data.length > 0 ? response.data : [];\n        this.orgPolicies.forEach(op => {\n            this.policiesEnabledMap.set(op.type, op.enabled);\n        });\n        this.policies.forEach(p => {\n            p.enabled = this.policiesEnabledMap.has(p.type) && this.policiesEnabledMap.get(p.type);\n        });\n        this.loading = false;\n    }\n\n    edit(p: any) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.editModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<PolicyEditComponent>(\n            PolicyEditComponent, this.editModalRef);\n\n        childComponent.name = p.name;\n        childComponent.description = p.description;\n        childComponent.type = p.type;\n        childComponent.organizationId = this.organizationId;\n        childComponent.policiesEnabledMap = this.policiesEnabledMap;\n        childComponent.onSavedPolicy.subscribe(() => {\n            this.modal.close();\n            this.load();\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n\n    // Remove when removing deprecation warning\n    async goToEnterprisePortal() {\n        if (this.enterpriseTokenPromise != null) {\n            return;\n        }\n        try {\n            this.enterpriseTokenPromise = this.apiService.getEnterprisePortalSignInToken();\n            const token = await this.enterpriseTokenPromise;\n            if (token != null) {\n                const userId = await this.userService.getUserId();\n                this.platformUtilsService.launchUri(this.enterpriseUrl + '/login?userId=' + userId +\n                    '&token=' + (window as any).encodeURIComponent(token) + '&organizationId=' + this.organizationId);\n            }\n        } catch { }\n        this.enterpriseTokenPromise = null;\n    }\n}\n","<app-callout *ngIf=\"userCanAccessBusinessPortal\" [type]=\"'warning'\">\n    <p>{{'webPoliciesDeprecationWarning' | i18n}}</p>\n    <button type=\"button\" class=\"btn btn-outline-secondary\"\n        (click)=\"goToEnterprisePortal()\">{{'businessPortal' | i18n}}</button>\n</app-callout>\n<div class=\"page-header d-flex\">\n    <h1>{{'policies' | i18n}}</h1>\n</div>\n<ng-container *ngIf=\"loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</ng-container>\n<table class=\"table table-hover table-list\" *ngIf=\"!loading\">\n    <tbody>\n        <tr *ngFor=\"let p of policies\">\n            <td *ngIf=\"p.display\">\n                <a href=\"#\" appStopClick (click)=\"edit(p)\">{{p.name}}</a>\n                <span class=\"badge badge-success\" *ngIf=\"p.enabled\">{{'enabled' | i18n}}</span>\n                <small class=\"text-muted d-block\">{{p.description}}</small>\n            </td>\n        </tr>\n    </tbody>\n</table>\n<ng-template #editTemplate></ng-template>\n","// Using index.ts is deprecated, please do not extend\nexport { ApiService } from './api.service';\nexport { AppIdService } from './appId.service';\nexport { AuditService } from './audit.service';\nexport { AuthService } from './auth.service';\nexport { CipherService } from './cipher.service';\nexport { CollectionService } from './collection.service';\nexport { CryptoService } from './crypto.service';\nexport { EnvironmentService } from './environment.service';\nexport { FolderService } from './folder.service';\nexport { I18nService } from './i18n.service';\nexport { LogService } from './log.service';\nexport { MessagingService } from './messaging.service';\nexport { PasswordGenerationService } from './passwordGeneration.service';\nexport { PlatformUtilsService } from './platformUtils.service';\nexport { SearchService } from './search.service';\nexport { SettingsService } from './settings.service';\nexport { StorageService } from './storage.service';\nexport { StateService } from './state.service';\nexport { SyncService } from './sync.service';\nexport { TokenService } from './token.service';\nexport { TotpService } from './totp.service';\nexport { UserService } from './user.service';\nexport { VaultTimeoutService } from './vaultTimeout.service';\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { PolicyType } from 'jslib/enums/policyType';\n\nimport { PolicyRequest } from 'jslib/models/request/policyRequest';\n\nimport { PolicyResponse } from 'jslib/models/response/policyResponse';\n\n@Component({\n    selector: 'app-policy-edit',\n    templateUrl: 'policy-edit.component.html',\n})\nexport class PolicyEditComponent implements OnInit {\n    @Input() name: string;\n    @Input() description: string;\n    @Input() type: PolicyType;\n    @Input() organizationId: string;\n    @Input() policiesEnabledMap: Map<PolicyType, boolean> = new Map<PolicyType, boolean>();\n    @Output() onSavedPolicy = new EventEmitter();\n\n    policyType = PolicyType;\n    loading = true;\n    enabled = false;\n    formPromise: Promise<any>;\n    passwordScores: any[];\n    defaultTypes: any[];\n\n    // Master password\n    masterPassMinComplexity?: number = null;\n    masterPassMinLength?: number;\n    masterPassRequireUpper?: number;\n    masterPassRequireLower?: number;\n    masterPassRequireNumbers?: number;\n    masterPassRequireSpecial?: number;\n\n    // Password generator\n    passGenDefaultType?: string;\n    passGenMinLength?: number;\n    passGenUseUpper?: boolean;\n    passGenUseLower?: boolean;\n    passGenUseNumbers?: boolean;\n    passGenUseSpecial?: boolean;\n    passGenMinNumbers?: number;\n    passGenMinSpecial?: number;\n    passGenMinNumberWords?: number;\n    passGenCapitalize?: boolean;\n    passGenIncludeNumber?: boolean;\n\n    // Send options\n    sendDisableHideEmail?: boolean;\n\n    private policy: PolicyResponse;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService) {\n        this.passwordScores = [\n            { name: '-- ' + i18nService.t('select') + ' --', value: null },\n            { name: i18nService.t('weak') + ' (0)', value: 0 },\n            { name: i18nService.t('weak') + ' (1)', value: 1 },\n            { name: i18nService.t('weak') + ' (2)', value: 2 },\n            { name: i18nService.t('good') + ' (3)', value: 3 },\n            { name: i18nService.t('strong') + ' (4)', value: 4 },\n        ];\n        this.defaultTypes = [\n            { name: i18nService.t('userPreference'), value: null },\n            { name: i18nService.t('password'), value: 'password' },\n            { name: i18nService.t('passphrase'), value: 'passphrase' },\n        ];\n    }\n\n    async ngOnInit() {\n        await this.load();\n        this.loading = false;\n    }\n\n    async load() {\n        try {\n            this.policy = await this.apiService.getPolicy(this.organizationId, this.type);\n\n            if (this.policy != null) {\n                this.enabled = this.policy.enabled;\n                if (this.policy.data != null) {\n                    switch (this.type) {\n                        case PolicyType.PasswordGenerator:\n                            this.passGenDefaultType = this.policy.data.defaultType;\n                            this.passGenMinLength = this.policy.data.minLength;\n                            this.passGenUseUpper = this.policy.data.useUpper;\n                            this.passGenUseLower = this.policy.data.useLower;\n                            this.passGenUseNumbers = this.policy.data.useNumbers;\n                            this.passGenUseSpecial = this.policy.data.useSpecial;\n                            this.passGenMinNumbers = this.policy.data.minNumbers;\n                            this.passGenMinSpecial = this.policy.data.minSpecial;\n                            this.passGenMinNumberWords = this.policy.data.minNumberWords;\n                            this.passGenCapitalize = this.policy.data.capitalize;\n                            this.passGenIncludeNumber = this.policy.data.includeNumber;\n                            break;\n                        case PolicyType.MasterPassword:\n                            this.masterPassMinComplexity = this.policy.data.minComplexity;\n                            this.masterPassMinLength = this.policy.data.minLength;\n                            this.masterPassRequireUpper = this.policy.data.requireUpper;\n                            this.masterPassRequireLower = this.policy.data.requireLower;\n                            this.masterPassRequireNumbers = this.policy.data.requireNumbers;\n                            this.masterPassRequireSpecial = this.policy.data.requireSpecial;\n                            break;\n                        case PolicyType.SendOptions:\n                            this.sendDisableHideEmail = this.policy.data.disableHideEmail;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        } catch (e) {\n            if (e.statusCode === 404) {\n                this.enabled = false;\n            } else {\n                throw e;\n            }\n        }\n    }\n\n    async submit() {\n        if (this.preValidate()) {\n            const request = new PolicyRequest();\n            request.enabled = this.enabled;\n            request.type = this.type;\n            request.data = null;\n            switch (this.type) {\n                case PolicyType.PasswordGenerator:\n                    request.data = {\n                        defaultType: this.passGenDefaultType,\n                        minLength: this.passGenMinLength || null,\n                        useUpper: this.passGenUseUpper,\n                        useLower: this.passGenUseLower,\n                        useNumbers: this.passGenUseNumbers,\n                        useSpecial: this.passGenUseSpecial,\n                        minNumbers: this.passGenMinNumbers || null,\n                        minSpecial: this.passGenMinSpecial || null,\n                        minNumberWords: this.passGenMinNumberWords || null,\n                        capitalize: this.passGenCapitalize,\n                        includeNumber: this.passGenIncludeNumber,\n                    };\n                    break;\n                case PolicyType.MasterPassword:\n                    request.data = {\n                        minComplexity: this.masterPassMinComplexity || null,\n                        minLength: this.masterPassMinLength || null,\n                        requireUpper: this.masterPassRequireUpper,\n                        requireLower: this.masterPassRequireLower,\n                        requireNumbers: this.masterPassRequireNumbers,\n                        requireSpecial: this.masterPassRequireSpecial,\n                    };\n                    break;\n                case PolicyType.SendOptions:\n                    request.data = {\n                        disableHideEmail: this.sendDisableHideEmail,\n                    };\n                    break;\n                default:\n                    break;\n            }\n            try {\n                this.formPromise = this.apiService.putPolicy(this.organizationId, this.type, request);\n                await this.formPromise;\n                this.toasterService.popAsync('success', null, this.i18nService.t('editedPolicyId', this.name));\n                this.onSavedPolicy.emit();\n            } catch { }\n        }\n    }\n\n    get checkboxDesc(): string {\n        return this.type === PolicyType.PersonalOwnership ? this.i18nService.t('personalOwnershipCheckboxDesc') :\n            this.i18nService.t('enabled');\n    }\n\n    private preValidate(): boolean {\n        switch (this.type) {\n            case PolicyType.RequireSso:\n                // Don't need prevalidation checks if submitting to disable\n                if (!this.enabled) {\n                    return true;\n                }\n                // Have SingleOrg policy enabled?\n                if (!(this.policiesEnabledMap.has(PolicyType.SingleOrg)\n                    && this.policiesEnabledMap.get(PolicyType.SingleOrg))) {\n                    this.toasterService.popAsync('error', null, this.i18nService.t('requireSsoPolicyReqError'));\n                    return false;\n                }\n                return true;\n\n            case PolicyType.SingleOrg:\n                // Don't need prevalidation checks if submitting to enable\n                if (this.enabled) {\n                    return true;\n                }\n                // If RequireSso Policy is enabled prevent submittal\n                if (this.policiesEnabledMap.has(PolicyType.RequireSso)\n                    && this.policiesEnabledMap.get(PolicyType.RequireSso)) {\n                    this.toasterService.popAsync('error', null, this.i18nService.t('disableRequireSsoError'));\n                    return false;\n                }\n                return true;\n\n            default:\n                return true;\n        }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"policiesEditTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"policiesEditTitle\">{{'editPolicy' | i18n}} - {{name}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"loading\">\n                <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                <span class=\"sr-only\">{{'loading' | i18n}}</span>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"!loading\">\n                <p>{{description}}</p>\n                <app-callout type=\"warning\" *ngIf=\"type === policyType.TwoFactorAuthentication\"\n                    title=\"{{'warning' | i18n}}\" icon=\"fa-warning\">\n                    {{'twoStepLoginPolicyWarning' | i18n}}\n                </app-callout>\n                <app-callout type=\"warning\" *ngIf=\"type === policyType.SingleOrg\" title=\"{{'warning' | i18n}}\"\n                    icon=\"fa-warning\">\n                    {{'singleOrgPolicyWarning' | i18n}}\n                </app-callout>\n                <ng-container *ngIf=\"type === policyType.RequireSso\">\n                    <app-callout type=\"tip\" title=\"{{'prerequisite' | i18n}}\">\n                        {{'requireSsoPolicyReq' | i18n}}\n                    </app-callout>\n                    <app-callout type=\"warning\">\n                        {{'requireSsoExemption' | i18n}}\n                    </app-callout>\n                </ng-container>\n                <app-callout type=\"warning\" *ngIf=\"type === policyType.PersonalOwnership\">\n                    {{'personalOwnershipExemption' | i18n}}\n                </app-callout>\n                <app-callout type=\"warning\" *ngIf=\"type === policyType.DisableSend\">\n                    {{'disableSendExemption' | i18n}}\n                </app-callout>\n                <app-callout type=\"warning\" *ngIf=\"type === policyType.SendOptions\">\n                    {{'sendOptionsExemption' | i18n}}\n                </app-callout>\n                <div class=\"form-group\">\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"enabled\" [(ngModel)]=\"enabled\"\n                            name=\"Enabled\">\n                        <label class=\"form-check-label\" for=\"enabled\">{{checkboxDesc}}</label>\n                    </div>\n                </div>\n                <ng-container *ngIf=\"type === policyType.MasterPassword\">\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"masterPassMinComplexity\">{{'minComplexityScore' | i18n}}</label>\n                            <select id=\"masterPassMinComplexity\" name=\"MasterPassMinComplexity\"\n                                [(ngModel)]=\"masterPassMinComplexity\" class=\"form-control\">\n                                <option *ngFor=\"let o of passwordScores\" [ngValue]=\"o.value\">{{o.name}}</option>\n                            </select>\n                        </div>\n                        <div class=\"col-6 form-group\">\n                            <label for=\"masterPassMinLength\">{{'minLength' | i18n}}</label>\n                            <input id=\"masterPassMinLength\" class=\"form-control\" type=\"number\" min=\"8\"\n                                name=\"MasterPassMinLength\" [(ngModel)]=\"masterPassMinLength\">\n                        </div>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"masterPassRequireUpper\"\n                            [(ngModel)]=\"masterPassRequireUpper\" name=\"MasterPassRequireUpper\">\n                        <label class=\"form-check-label\" for=\"masterPassRequireUpper\">A-Z</label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"masterPassRequireLower\"\n                            [(ngModel)]=\"masterPassRequireLower\" name=\"MasterPassRequireLower\">\n                        <label class=\"form-check-label\" for=\"masterPassRequireLower\">a-z</label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"masterPassRequireNumbers\"\n                            [(ngModel)]=\"masterPassRequireNumbers\" name=\"MasterPassRequireNumbers\">\n                        <label class=\"form-check-label\" for=\"masterPassRequireNumbers\">0-9</label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"masterPassRequireSpecial\"\n                            [(ngModel)]=\"masterPassRequireSpecial\" name=\"MasterPassRequireSpecial\">\n                        <label class=\"form-check-label\" for=\"masterPassRequireSpecial\">!@#$%^&amp;*</label>\n                    </div>\n                </ng-container>\n                <ng-container *ngIf=\"type === policyType.PasswordGenerator\">\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group  mb-0\">\n                            <label for=\"passGenDefaultType\">{{'defaultType' | i18n}}</label>\n                            <select id=\"passGenDefaultType\" name=\"PassGenDefaultType\" [(ngModel)]=\"passGenDefaultType\"\n                                class=\"form-control\">\n                                <option *ngFor=\"let o of defaultTypes\" [ngValue]=\"o.value\">{{o.name}}</option>\n                            </select>\n                        </div>\n                    </div>\n                    <h3 class=\"mt-4\">{{'password' | i18n}}</h3>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"passGenMinLength\">{{'minLength' | i18n}}</label>\n                            <input id=\"passGenMinLength\" class=\"form-control\" type=\"number\" name=\"PassGenMinLength\"\n                                min=\"5\" max=\"128\" [(ngModel)]=\"passGenMinLength\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"passGenMinNumbers\">{{'minNumbers' | i18n}}</label>\n                            <input id=\"passGenMinNumbers\" class=\"form-control\" type=\"number\" name=\"PassGenMinNumbers\"\n                                min=\"0\" max=\"9\" [(ngModel)]=\"passGenMinNumbers\">\n                        </div>\n                        <div class=\"col-6 form-group\">\n                            <label for=\"passGenMinSpecial\">{{'minSpecial' | i18n}}</label>\n                            <input id=\"passGenMinSpecial\" class=\"form-control\" type=\"number\" name=\"PassGenMinSpecial\"\n                                min=\"0\" max=\"9\" [(ngModel)]=\"passGenMinSpecial\">\n                        </div>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"passGenUseUpper\"\n                            [(ngModel)]=\"passGenUseUpper\" name=\"PassGenUseUpper\">\n                        <label class=\"form-check-label\" for=\"passGenUseUpper\">A-Z</label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"passGenUseLower\"\n                            [(ngModel)]=\"passGenUseLower\" name=\"PassGenUseLower\">\n                        <label class=\"form-check-label\" for=\"passGenUseLower\">a-z</label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"passGenUseNumbers\"\n                            [(ngModel)]=\"passGenUseNumbers\" name=\"PassGenUseNumbers\">\n                        <label class=\"form-check-label\" for=\"passGenUseNumbers\">0-9</label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"passGenUseSpecial\"\n                            [(ngModel)]=\"passGenUseSpecial\" name=\"PassGenUseSpecial\">\n                        <label class=\"form-check-label\" for=\"passGenUseSpecial\">!@#$%^&amp;*</label>\n                    </div>\n                    <h3 class=\"mt-4\">{{'passphrase' | i18n}}</h3>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"passGenMinNumberWords\">{{'minimumNumberOfWords' | i18n}}</label>\n                            <input id=\"passGenMinNumberWords\" class=\"form-control\" type=\"number\"\n                                name=\"PassGenMinNumberWords\" min=\"3\" max=\"20\" [(ngModel)]=\"passGenMinNumberWords\">\n                        </div>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"passGenCapitalize\"\n                            [(ngModel)]=\"passGenCapitalize\" name=\"PassGenCapitalize\">\n                        <label class=\"form-check-label\" for=\"passGenCapitalize\">{{'capitalize' | i18n}}</label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"passGenIncludeNumber\"\n                            [(ngModel)]=\"passGenIncludeNumber\" name=\"PassGenIncludeNumber\">\n                        <label class=\"form-check-label\" for=\"passGenIncludeNumber\">{{'includeNumber' | i18n}}</label>\n                    </div>\n                </ng-container>\n                <ng-container *ngIf=\"type === policyType.SendOptions\">\n                    <h3 class=\"mt-4\">{{'options' | i18n}}</h3>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"sendDisableHideEmail\" [(ngModel)]=\"sendDisableHideEmail\"\n                            name=\"SendDisableHideEmail\">\n                        <label class=\"form-check-label\" for=\"sendDisableHideEmail\">{{'disableHideEmail' | i18n}}</label>\n                    </div>\n                </ng-container>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\n\nimport { OrganizationUpdateRequest } from 'jslib/models/request/organizationUpdateRequest';\nimport { OrganizationResponse } from 'jslib/models/response/organizationResponse';\n\nimport { ModalComponent } from '../../modal.component';\nimport { ApiKeyComponent } from '../../settings/api-key.component';\nimport { PurgeVaultComponent } from '../../settings/purge-vault.component';\nimport { TaxInfoComponent } from '../../settings/tax-info.component';\nimport { DeleteOrganizationComponent } from './delete-organization.component';\n\n@Component({\n    selector: 'app-org-account',\n    templateUrl: 'account.component.html',\n})\nexport class AccountComponent {\n    @ViewChild('deleteOrganizationTemplate', { read: ViewContainerRef, static: true }) deleteModalRef: ViewContainerRef;\n    @ViewChild('purgeOrganizationTemplate', { read: ViewContainerRef, static: true }) purgeModalRef: ViewContainerRef;\n    @ViewChild('apiKeyTemplate', { read: ViewContainerRef, static: true }) apiKeyModalRef: ViewContainerRef;\n    @ViewChild('rotateApiKeyTemplate', { read: ViewContainerRef, static: true }) rotateApiKeyModalRef: ViewContainerRef;\n    @ViewChild(TaxInfoComponent) taxInfo: TaxInfoComponent;\n\n    selfHosted = false;\n    loading = true;\n    canUseApi = false;\n    org: OrganizationResponse;\n    formPromise: Promise<any>;\n    taxFormPromise: Promise<any>;\n\n    private organizationId: string;\n    private modal: ModalComponent = null;\n\n    constructor(private componentFactoryResolver: ComponentFactoryResolver,\n        private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private route: ActivatedRoute,\n        private syncService: SyncService, private platformUtilsService: PlatformUtilsService) { }\n\n    async ngOnInit() {\n        this.selfHosted = this.platformUtilsService.isSelfHost();\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            try {\n                this.org = await this.apiService.getOrganization(this.organizationId);\n                this.canUseApi = this.org.useApi;\n            } catch { }\n        });\n        this.loading = false;\n    }\n\n    async submit() {\n        try {\n            const request = new OrganizationUpdateRequest();\n            request.name = this.org.name;\n            request.businessName = this.org.businessName;\n            request.billingEmail = this.org.billingEmail;\n            request.identifier = this.org.identifier;\n            this.formPromise = this.apiService.putOrganization(this.organizationId, request).then(() => {\n                return this.syncService.fullSync(true);\n            });\n            await this.formPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('organizationUpdated'));\n        } catch { }\n    }\n\n    async submitTaxInfo() {\n        this.taxFormPromise = this.taxInfo.submitTaxInfo();\n        await this.taxFormPromise;\n        this.toasterService.popAsync('success', null, this.i18nService.t('taxInfoUpdated'));\n    }\n\n    deleteOrganization() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.deleteModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<DeleteOrganizationComponent>(\n            DeleteOrganizationComponent, this.deleteModalRef);\n        childComponent.organizationId = this.organizationId;\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    purgeVault() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.purgeModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<PurgeVaultComponent>(PurgeVaultComponent, this.purgeModalRef);\n        childComponent.organizationId = this.organizationId;\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    viewApiKey() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.apiKeyModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<ApiKeyComponent>(ApiKeyComponent, this.apiKeyModalRef);\n        childComponent.keyType = 'organization';\n        childComponent.entityId = this.organizationId;\n        childComponent.postKey = this.apiService.postOrganizationApiKey.bind(this.apiService);\n        childComponent.scope = 'api.organization';\n        childComponent.grantType = 'client_credentials';\n        childComponent.apiKeyTitle = 'apiKey';\n        childComponent.apiKeyWarning = 'apiKeyWarning';\n        childComponent.apiKeyDescription = 'apiKeyDesc';\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    rotateApiKey() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.rotateApiKeyModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<ApiKeyComponent>(ApiKeyComponent, this.rotateApiKeyModalRef);\n        childComponent.keyType = 'organization';\n        childComponent.isRotation = true;\n        childComponent.entityId = this.organizationId;\n        childComponent.postKey = this.apiService.postOrganizationRotateApiKey.bind(this.apiService);\n        childComponent.scope = 'api.organization';\n        childComponent.grantType = 'client_credentials';\n        childComponent.apiKeyTitle = 'apiKey';\n        childComponent.apiKeyWarning = 'apiKeyWarning';\n        childComponent.apiKeyDescription = 'apiKeyRotateDesc';\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'myOrganization' | i18n}}</h1>\n</div>\n<div *ngIf=\"loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</div>\n<form *ngIf=\"org && !loading\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <label for=\"name\">{{'organizationName' | i18n}}</label>\n                <input id=\"name\" class=\"form-control\" type=\"text\" name=\"Name\" [(ngModel)]=\"org.name\"\n                    [disabled]=\"selfHosted\">\n            </div>\n            <div class=\"form-group\">\n                <label for=\"billingEmail\">{{'billingEmail' | i18n}}</label>\n                <input id=\"billingEmail\" class=\"form-control\" type=\"text\" name=\"BillingEmail\"\n                    [(ngModel)]=\"org.billingEmail\" [disabled]=\"selfHosted\">\n            </div>\n            <div class=\"form-group\">\n                <label for=\"businessName\">{{'businessName' | i18n}}</label>\n                <input id=\"businessName\" class=\"form-control\" type=\"text\" name=\"BusinessName\"\n                    [(ngModel)]=\"org.businessName\" [disabled]=\"selfHosted\">\n            </div>\n            <div class=\"form-group\">\n                <label for=\"identifier\">{{'identifier' | i18n}}</label>\n                <input id=\"identifier\" class=\"form-control\" type=\"text\" name=\"Identifier\"\n                    [(ngModel)]=\"org.identifier\">\n            </div>\n        </div>\n        <div class=\"col-6\">\n            <app-avatar data=\"{{org.name}}\" dynamic=\"true\" size=\"75\" fontSize=\"35\"></app-avatar>\n        </div>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'save' | i18n}}</span>\n    </button>\n</form>\n<ng-container *ngIf=\"canUseApi\">\n    <div class=\"secondary-header border-0 mb-0\">\n        <h1>{{'apiKey' | i18n}}</h1>\n    </div>\n    <p>\n        {{'apiKeyDesc' | i18n}}\n        <a href=\"https://docs.bitwarden.com\" target=\"_blank\" rel=\"noopener\">\n            {{'learnMore' | i18n}}\n        </a>\n    </p>\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"viewApiKey()\">{{'viewApiKey' | i18n}}</button>\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"rotateApiKey()\">{{'rotateApiKey' | i18n}}</button>\n</ng-container>\n<div class=\"secondary-header border-0 mb-0\">\n    <h1>{{'taxInformation' | i18n}}</h1>\n</div>\n<p>{{'taxInformationDesc' | i18n}}</p>\n<div *ngIf=\"!org || loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</div>\n<form *ngIf=\"org && !loading\" #formTax (ngSubmit)=\"submitTaxInfo()\" [appApiAction]=\"taxFormPromise\" ngNativeValidate>\n    <app-tax-info></app-tax-info>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"formTax.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'save' | i18n}}</span>\n    </button>\n</form>\n<div class=\"secondary-header text-danger border-0 mb-0\">\n    <h1>{{'dangerZone' | i18n}}</h1>\n</div>\n<div class=\"card border-danger\">\n    <div class=\"card-body\">\n        <p>{{'dangerZoneDesc' | i18n}}</p>\n        <button type=\"button\" class=\"btn btn-outline-danger\"\n            (click)=\"deleteOrganization()\">{{'deleteOrganization' | i18n}}</button>\n        <button type=\"button\" class=\"btn btn-outline-danger\" (click)=\"purgeVault()\">{{'purgeVault' | i18n}}</button>\n    </div>\n</div>\n<ng-template #deleteOrganizationTemplate></ng-template>\n<ng-template #purgeOrganizationTemplate></ng-template>\n<ng-template #apiKeyTemplate></ng-template>\n<ng-template #rotateApiKeyTemplate></ng-template>\n","import { TaxInfoUpdateRequest } from './taxInfoUpdateRequest';\n\nexport class OrganizationTaxInfoUpdateRequest extends TaxInfoUpdateRequest {\n    taxId: string;\n    line1: string;\n    line2: string;\n    city: string;\n    state: string;\n}\n","export class TaxInfoUpdateRequest {\n    country: string;\n    postalCode: string;\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { PasswordVerificationRequest } from 'jslib/models/request/passwordVerificationRequest';\n\n@Component({\n    selector: 'app-delete-organization',\n    templateUrl: 'delete-organization.component.html',\n})\nexport class DeleteOrganizationComponent {\n    organizationId: string;\n\n    masterPassword: string;\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private cryptoService: CryptoService,\n        private router: Router) { }\n\n    async submit() {\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        const request = new PasswordVerificationRequest();\n        request.masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n        try {\n            this.formPromise = this.apiService.deleteOrganization(this.organizationId, request);\n            await this.formPromise;\n            this.toasterService.popAsync('success', this.i18nService.t('organizationDeleted'),\n                this.i18nService.t('organizationDeletedDesc'));\n            this.router.navigate(['/']);\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"deleteOrganizationTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"deleteOrganizationTitle\">{{'deleteOrganization' | i18n}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>{{'deleteOrganizationDesc' | i18n}}</p>\n                <app-callout type=\"warning\">{{'deleteOrganizationWarning' | i18n}}</app-callout>\n                <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                <input id=\"masterPassword\" type=\"password\" name=\"MasterPasswordHash\" class=\"form-control\"\n                    [(ngModel)]=\"masterPassword\" required appAutofocus appInputVerbatim>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-danger btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'deleteOrganization' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { UserBillingComponent } from '../../settings/user-billing.component';\n\n@Component({\n    selector: 'app-org-billing',\n    templateUrl: '../../settings/user-billing.component.html',\n})\nexport class OrganizationBillingComponent extends UserBillingComponent implements OnInit {\n    constructor(apiService: ApiService, i18nService: I18nService, toasterService: ToasterService,\n        private route: ActivatedRoute, platformUtilsService: PlatformUtilsService) {\n        super(apiService, i18nService, toasterService, platformUtilsService);\n    }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            await this.load();\n            this.firstLoaded = true;\n        });\n    }\n}\n","export class WebConstants {\n    static readonly stripeTestKey = 'pk_test_KPoCfZXu7mznb9uSCPZ2JpTD';\n    static readonly stripeLiveKey = 'pk_live_bpN0P37nMxrMQkcaHXtAybJk';\n    static readonly btSandboxKey = 'sandbox_r72q8jq6_9pnxkwm75f87sdc2';\n    static readonly btProductionKey = 'production_qfbsv8kc_njj2zjtyngtjmbjd';\n    static readonly paypal = {\n        businessIdProduction: '4ZDA7DLUUJGMN',\n        businessIdSandbox: 'AD3LAUZSNVPJY',\n        buttonActionProduction: 'https://www.paypal.com/cgi-bin/webscr',\n        buttonActionSandbox: 'https://www.sandbox.paypal.com/cgi-bin/webscr',\n    };\n}\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { OrganizationSubscriptionResponse } from 'jslib/models/response/organizationSubscriptionResponse';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { PlanType } from 'jslib/enums/planType';\n\n@Component({\n    selector: 'app-org-subscription',\n    templateUrl: 'organization-subscription.component.html',\n})\nexport class OrganizationSubscriptionComponent implements OnInit {\n    loading = false;\n    firstLoaded = false;\n    organizationId: string;\n    adjustSeatsAdd = true;\n    showAdjustSeats = false;\n    adjustStorageAdd = true;\n    showAdjustStorage = false;\n    showUpdateLicense = false;\n    showDownloadLicense = false;\n    showChangePlan = false;\n    sub: OrganizationSubscriptionResponse;\n    selfHosted = false;\n\n    cancelPromise: Promise<any>;\n    reinstatePromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private platformUtilsService: PlatformUtilsService,\n        private i18nService: I18nService, private toasterService: ToasterService,\n        private messagingService: MessagingService, private route: ActivatedRoute) {\n        this.selfHosted = platformUtilsService.isSelfHost();\n    }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            await this.load();\n            this.firstLoaded = true;\n        });\n    }\n\n    async load() {\n        if (this.loading) {\n            return;\n        }\n        this.loading = true;\n        this.sub = await this.apiService.getOrganizationSubscription(this.organizationId);\n        this.loading = false;\n    }\n\n    async reinstate() {\n        if (this.loading) {\n            return;\n        }\n\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('reinstateConfirmation'),\n            this.i18nService.t('reinstateSubscription'), this.i18nService.t('yes'), this.i18nService.t('cancel'));\n        if (!confirmed) {\n            return;\n        }\n\n        try {\n            this.reinstatePromise = this.apiService.postOrganizationReinstate(this.organizationId);\n            await this.reinstatePromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('reinstated'));\n            this.load();\n        } catch { }\n    }\n\n    async cancel() {\n        if (this.loading) {\n            return;\n        }\n\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('cancelConfirmation'),\n            this.i18nService.t('cancelSubscription'), this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return;\n        }\n\n        try {\n            this.cancelPromise = this.apiService.postOrganizationCancel(this.organizationId);\n            await this.cancelPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('canceledSubscription'));\n            this.load();\n        } catch { }\n    }\n\n    async changePlan() {\n        if (this.subscription == null && this.sub.planType === PlanType.Free) {\n            this.showChangePlan = !this.showChangePlan;\n            return;\n        }\n        const contactSupport = await this.platformUtilsService.showDialog(this.i18nService.t('changeBillingPlanDesc'),\n            this.i18nService.t('changeBillingPlan'), this.i18nService.t('contactSupport'), this.i18nService.t('close'));\n        if (contactSupport) {\n            this.platformUtilsService.launchUri('https://bitwarden.com/contact');\n        }\n    }\n\n    closeChangePlan(changed: boolean) {\n        this.showChangePlan = false;\n    }\n\n    downloadLicense() {\n        this.showDownloadLicense = !this.showDownloadLicense;\n    }\n\n    closeDownloadLicense() {\n        this.showDownloadLicense = false;\n    }\n\n    updateLicense() {\n        if (this.loading) {\n            return;\n        }\n        this.showUpdateLicense = true;\n    }\n\n    closeUpdateLicense(updated: boolean) {\n        this.showUpdateLicense = false;\n        if (updated) {\n            this.load();\n            this.messagingService.send('updatedOrgLicense');\n        }\n    }\n\n    adjustSeats(add: boolean) {\n        this.adjustSeatsAdd = add;\n        this.showAdjustSeats = true;\n    }\n\n    closeSeats(load: boolean) {\n        this.showAdjustSeats = false;\n        if (load) {\n            this.load();\n        }\n    }\n\n    adjustStorage(add: boolean) {\n        this.adjustStorageAdd = add;\n        this.showAdjustStorage = true;\n    }\n\n    closeStorage(load: boolean) {\n        this.showAdjustStorage = false;\n        if (load) {\n            this.load();\n        }\n    }\n\n    get isExpired() {\n        return this.sub != null && this.sub.expiration != null &&\n            new Date(this.sub.expiration) < new Date();\n    }\n\n    get subscriptionMarkedForCancel() {\n        return this.subscription != null && !this.subscription.cancelled && this.subscription.cancelAtEndDate;\n    }\n\n    get subscription() {\n        return this.sub != null ? this.sub.subscription : null;\n    }\n\n    get nextInvoice() {\n        return this.sub != null ? this.sub.upcomingInvoice : null;\n    }\n\n    get storagePercentage() {\n        return this.sub != null && this.sub.maxStorageGb ?\n            +(100 * (this.sub.storageGb / this.sub.maxStorageGb)).toFixed(2) : 0;\n    }\n\n    get storageProgressWidth() {\n        return this.storagePercentage < 5 ? 5 : 0;\n    }\n\n    get billingInterval() {\n        const monthly = !this.sub.plan.isAnnual;\n        return monthly ? 'month' : 'year';\n    }\n\n    get storageGbPrice() {\n        return this.sub.plan.additionalStoragePricePerGb;\n    }\n\n    get seatPrice() {\n        return this.sub.plan.seatPrice;\n    }\n\n    get canAdjustSeats() {\n        return this.sub.plan.hasAdditionalSeatsOption;\n    }\n\n    get canDownloadLicense() {\n        return (this.sub.planType !== PlanType.Free && this.subscription == null) ||\n            (this.subscription != null && !this.subscription.cancelled);\n    }\n}\n","<div class=\"page-header\">\n    <h1>\n        {{'subscription' | i18n}}\n        <small *ngIf=\"firstLoaded && loading\">\n            <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </small>\n    </h1>\n</div>\n<ng-container *ngIf=\"!firstLoaded && loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</ng-container>\n<ng-container *ngIf=\"sub\">\n    <app-callout type=\"warning\" title=\"{{'canceled' | i18n}}\" *ngIf=\"subscription && subscription.cancelled\">\n        {{'subscriptionCanceled' | i18n}}</app-callout>\n    <app-callout type=\"warning\" title=\"{{'pendingCancellation' | i18n}}\" *ngIf=\"subscriptionMarkedForCancel\">\n        <p>{{'subscriptionPendingCanceled' | i18n}}</p>\n        <button #reinstateBtn type=\"button\" class=\"btn btn-outline-secondary btn-submit\" (click)=\"reinstate()\"\n            [appApiAction]=\"reinstatePromise\" [disabled]=\"reinstateBtn.loading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'reinstateSubscription' | i18n}}</span>\n        </button>\n    </app-callout>\n    <dl *ngIf=\"selfHosted\">\n        <dt>{{'billingPlan' | i18n}}</dt>\n        <dd>{{sub.plan.name}}</dd>\n        <dt>{{'expiration' | i18n}}</dt>\n        <dd *ngIf=\"sub.expiration\">\n            {{sub.expiration | date:'mediumDate'}}\n            <span *ngIf=\"isExpired\" class=\"text-danger ml-2\">\n                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\n                {{'licenseIsExpired' | i18n}}\n            </span>\n        </dd>\n        <dd *ngIf=\"!sub.expiration\">{{'neverExpires' | i18n}}</dd>\n    </dl>\n    <div class=\"row\" *ngIf=\"!selfHosted\">\n        <div class=\"col-4\">\n            <dl>\n                <dt>{{'billingPlan' | i18n}}</dt>\n                <dd>{{sub.plan.name}}</dd>\n                <ng-container *ngIf=\"subscription\">\n                    <dt>{{'status' | i18n}}</dt>\n                    <dd>\n                        <span class=\"text-capitalize\">{{subscription.status || '-'}}</span>\n                        <span class=\"badge badge-warning\"\n                            *ngIf=\"subscriptionMarkedForCancel\">{{'pendingCancellation' | i18n}}</span>\n                    </dd>\n                    <dt>{{'nextCharge' | i18n}}</dt>\n                    <dd>{{nextInvoice ? ((nextInvoice.date | date: 'mediumDate') + ', ' + (nextInvoice.amount | currency:'$'))\n                        : '-'}}\n                    </dd>\n                </ng-container>\n            </dl>\n        </div>\n        <div class=\"col-8\" *ngIf=\"subscription\">\n            <strong class=\"d-block mb-1\">{{'details' | i18n}}</strong>\n            <table class=\"table\">\n                <tbody>\n                    <tr *ngFor=\"let i of subscription.items\">\n                        <td>\n                            {{i.name}} {{i.quantity > 1 ? '&times;' + i.quantity : ''}} @ {{i.amount | currency:'$'}}\n                        </td>\n                        <td>\n                            {{(i.quantity * i.amount) | currency:'$'}} /{{i.interval | i18n}}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <ng-container *ngIf=\"selfHosted\">\n        <div>\n            <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"updateLicense()\">\n                {{'updateLicense' | i18n}}\n            </button>\n            <a href=\"https://vault.bitwarden.com\" target=\"_blank\" rel=\"noopener\" class=\"btn btn-outline-secondary\">\n                {{'manageSubscription' | i18n}}\n            </a>\n        </div>\n        <div class=\"card mt-3\" *ngIf=\"showUpdateLicense\">\n            <div class=\"card-body\">\n                <button type=\"button\" class=\"close\" appA11yTitle=\"{{'cancel' | i18n}}\"\n                    (click)=\"closeUpdateLicense(false)\"><span aria-hidden=\"true\">&times;</span></button>\n                <h3 class=\"card-body-header\">{{'updateLicense' | i18n}}</h3>\n                <app-update-license [organizationId]=\"organizationId\" (onUpdated)=\"closeUpdateLicense(true)\"\n                    (onCanceled)=\"closeUpdateLicense(false)\"></app-update-license>\n            </div>\n        </div>\n    </ng-container>\n    <ng-container *ngIf=\"!selfHosted\">\n        <div class=\"d-flex\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"changePlan()\" *ngIf=\"!showChangePlan\">\n                {{'changeBillingPlan' | i18n}}\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-secondary ml-1\" (click)=\"downloadLicense()\"\n                *ngIf=\"canDownloadLicense\" [disabled]=\"showDownloadLicense\">\n                {{'downloadLicense' | i18n}}\n            </button>\n            <button #cancelBtn type=\"button\" class=\"btn btn-outline-danger btn-submit ml-auto\" (click)=\"cancel()\"\n                [appApiAction]=\"cancelPromise\" [disabled]=\"cancelBtn.loading\"\n                *ngIf=\"subscription && !subscription.cancelled && !subscriptionMarkedForCancel\">\n                <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                <span>{{'cancelSubscription' | i18n}}</span>\n            </button>\n        </div>\n        <app-change-plan [organizationId]=\"organizationId\" (onChanged)=\"closeChangePlan(true)\"\n            (onCanceled)=\"closeChangePlan(false)\" *ngIf=\"showChangePlan\"></app-change-plan>\n        <div class=\"mt-3\" *ngIf=\"showDownloadLicense\">\n            <app-download-license [organizationId]=\"organizationId\" (onDownloaded)=\"closeDownloadLicense()\"\n                (onCanceled)=\"closeDownloadLicense()\"></app-download-license>\n        </div>\n        <h2 class=\"spaced-header\">{{'userSeats' | i18n}}</h2>\n        <p>{{'subscriptionUserSeats' | i18n : sub.seats}}</p>\n        <ng-container *ngIf=\"subscription && canAdjustSeats && !subscription.cancelled && !subscriptionMarkedForCancel\">\n            <div class=\"mt-3\">\n                <div class=\"d-flex\" *ngIf=\"!showAdjustSeats\">\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"adjustSeats(true)\">\n                        {{'addSeats' | i18n}}\n                    </button>\n                    <button type=\"button\" class=\"btn btn-outline-secondary ml-1\" (click)=\"adjustSeats(false)\">\n                        {{'removeSeats' | i18n}}\n                    </button>\n                </div>\n                <app-adjust-seats [seatPrice]=\"seatPrice\" [add]=\"adjustSeatsAdd\" [organizationId]=\"organizationId\"\n                    [interval]=\"billingInterval\" (onAdjusted)=\"closeSeats(true)\" (onCanceled)=\"closeSeats(false)\"\n                    *ngIf=\"showAdjustSeats\"></app-adjust-seats>\n            </div>\n        </ng-container>\n        <h2 class=\"spaced-header\">{{'storage' | i18n}}</h2>\n        <p>{{'subscriptionStorage' | i18n : sub.maxStorageGb || 0 : sub.storageName || '0 MB'}}</p>\n        <div class=\"progress\">\n            <div class=\"progress-bar bg-success\" role=\"progressbar\" [ngStyle]=\"{width: storageProgressWidth + '%' }\"\n                [attr.aria-valuenow]=\"storagePercentage\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n                {{(storagePercentage / 100) | percent}}</div>\n        </div>\n        <ng-container *ngIf=\"subscription && !subscription.cancelled && !subscriptionMarkedForCancel\">\n            <div class=\"mt-3\">\n                <div class=\"d-flex\" *ngIf=\"!showAdjustStorage\">\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"adjustStorage(true)\">\n                        {{'addStorage' | i18n}}\n                    </button>\n                    <button type=\"button\" class=\"btn btn-outline-secondary ml-1\" (click)=\"adjustStorage(false)\">\n                        {{'removeStorage' | i18n}}\n                    </button>\n                </div>\n                <app-adjust-storage [storageGbPrice]=\"storageGbPrice\" [add]=\"adjustStorageAdd\"\n                    [organizationId]=\"organizationId\" [interval]=\"billingInterval\" (onAdjusted)=\"closeStorage(true)\"\n                    (onCanceled)=\"closeStorage(false)\" *ngIf=\"showAdjustStorage\"></app-adjust-storage>\n            </div>\n        </ng-container>\n    </ng-container>\n</ng-container>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { PlanType } from 'jslib/enums/planType';\nimport { ProductType } from 'jslib/enums/productType';\n\n@Component({\n    selector: 'app-change-plan',\n    templateUrl: 'change-plan.component.html',\n})\nexport class ChangePlanComponent {\n    @Input() organizationId: string;\n    @Output() onChanged = new EventEmitter();\n    @Output() onCanceled = new EventEmitter();\n\n    formPromise: Promise<any>;\n    defaultUpgradePlan: PlanType = PlanType.FamiliesAnnually;\n    defaultUpgradeProduct: ProductType = ProductType.Families;\n\n    constructor(private apiService: ApiService, private platformUtilsService: PlatformUtilsService) { }\n\n    async submit() {\n        try {\n            this.onChanged.emit();\n        } catch { }\n    }\n\n    cancel() {\n        this.onCanceled.emit();\n    }\n}\n","<div class=\"card card-org-plans\">\n    <div class=\"card-body\">\n        <button type=\"button\" class=\"close\" appA11yTitle=\"{{'cancel' | i18n}}\" (click)=\"cancel()\"><span\n                aria-hidden=\"true\">&times;</span></button>\n        <h2 class=\"card-body-header\">{{'changeBillingPlan' | i18n}}</h2>\n        <p class=\"mb-0\">{{'changeBillingPlanUpgrade' | i18n}}</p>\n        <app-organization-plans [showFree]=\"false\" [showCancel]=\"true\" [plan]=\"defaultUpgradePlan\"\n            [product]=\"defaultUpgradeProduct\" [organizationId]=\"organizationId\" (onCanceled)=\"cancel()\">\n        </app-organization-plans>\n    </div>\n</div>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\n@Component({\n    selector: 'app-download-license',\n    templateUrl: 'download-license.component.html',\n})\nexport class DownloadLicenseComponent {\n    @Input() organizationId: string;\n    @Output() onDownloaded = new EventEmitter();\n    @Output() onCanceled = new EventEmitter();\n\n    installationId: string;\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private platformUtilsService: PlatformUtilsService) { }\n\n    async submit() {\n        if (this.installationId == null || this.installationId === '') {\n            return;\n        }\n\n        try {\n            this.formPromise = this.apiService.getOrganizationLicense(this.organizationId, this.installationId);\n            const license = await this.formPromise;\n            const licenseString = JSON.stringify(license, null, 2);\n            this.platformUtilsService.saveFile(window, licenseString, null, 'bitwarden_organization_license.json');\n            this.onDownloaded.emit();\n        } catch { }\n    }\n\n    cancel() {\n        this.onCanceled.emit();\n    }\n}\n","<form #form class=\"card\" (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"card-body\">\n        <button type=\"button\" class=\"close\" appA11yTitle=\"{{'cancel' | i18n}}\" (click)=\"cancel()\"><span\n                aria-hidden=\"true\">&times;</span></button>\n        <h3 class=\"card-body-header\">{{'downloadLicense' | i18n}}</h3>\n        <div class=\"row\">\n            <div class=\"form-group col-6\">\n                <div class=\"d-flex\">\n                    <label for=\"installationId\">{{'enterInstallationId' | i18n}}</label>\n                    <a class=\"ml-auto\" target=\"_blank\" rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\"\n                        href=\"https://help.bitwarden.com/article/licensing-on-premise/#organization-account-sharing\">\n                        <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                    </a>\n                </div>\n                <input id=\"installationId\" class=\"form-control\" type=\"text\" name=\"InstallationId\"\n                    [(ngModel)]=\"installationId\" required>\n            </div>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'submit' | i18n}}</span>\n        </button>\n        <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\">\n            {{'cancel' | i18n}}\n        </button>\n    </div>\n</form>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    ViewChild,\n} from '@angular/core';\n\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { SeatRequest } from 'jslib/models/request/seatRequest';\n\nimport { PaymentComponent } from '../../settings/payment.component';\n\n@Component({\n    selector: 'app-adjust-seats',\n    templateUrl: 'adjust-seats.component.html',\n})\nexport class AdjustSeatsComponent {\n    @Input() seatPrice = 0;\n    @Input() add = true;\n    @Input() organizationId: string;\n    @Input() interval = 'year';\n    @Output() onAdjusted = new EventEmitter<number>();\n    @Output() onCanceled = new EventEmitter();\n\n    @ViewChild(PaymentComponent, { static: true }) paymentComponent: PaymentComponent;\n\n    seatAdjustment = 0;\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private router: Router,\n        private activatedRoute: ActivatedRoute) { }\n\n    async submit() {\n        try {\n            const request = new SeatRequest();\n            request.seatAdjustment = this.seatAdjustment;\n            if (!this.add) {\n                request.seatAdjustment *= -1;\n            }\n\n            let paymentFailed = false;\n            const action = async () => {\n                const result = await this.apiService.postOrganizationSeat(this.organizationId, request);\n                if (result != null && result.paymentIntentClientSecret != null) {\n                    try {\n                        await this.paymentComponent.handleStripeCardPayment(result.paymentIntentClientSecret, null);\n                    } catch {\n                        paymentFailed = true;\n                    }\n                }\n            };\n            this.formPromise = action();\n            await this.formPromise;\n            this.onAdjusted.emit(this.seatAdjustment);\n            if (paymentFailed) {\n                this.toasterService.popAsync({\n                    body: this.i18nService.t('couldNotChargeCardPayInvoice'),\n                    type: 'warning',\n                    timeout: 10000,\n                });\n                this.router.navigate(['../billing'], { relativeTo: this.activatedRoute });\n            } else {\n                this.toasterService.popAsync('success', null,\n                    this.i18nService.t('adjustedSeats', request.seatAdjustment.toString()));\n            }\n        } catch { }\n    }\n\n    cancel() {\n        this.onCanceled.emit();\n    }\n\n    get adjustedSeatTotal(): number {\n        return this.seatAdjustment * this.seatPrice;\n    }\n}\n","<form #form class=\"card\" (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"card-body\">\n        <button type=\"button\" class=\"close\" appA11yTitle=\"{{'cancel' | i18n}}\" (click)=\"cancel()\"><span\n                aria-hidden=\"true\">&times;</span></button>\n        <h3 class=\"card-body-header\">{{(add ? 'addSeats' : 'removeSeats') | i18n}}</h3>\n        <div class=\"row\">\n            <div class=\"form-group col-6\">\n                <label for=\"seatAdjustment\">{{(add ? 'seatsToAdd' : 'seatsToRemove') | i18n}}</label>\n                <input id=\"seatAdjustment\" class=\"form-control\" type=\"number\" name=\"SeatAdjustment\"\n                    [(ngModel)]=\"seatAdjustment\" min=\"0\" step=\"1\" required>\n            </div>\n        </div>\n        <div *ngIf=\"add\" class=\"mb-3\">\n            <strong>{{'total' | i18n}}:</strong> {{seatAdjustment || 0}} &times; {{seatPrice | currency:'$'}} = {{adjustedSeatTotal\n            | currency:'$'}} /{{interval | i18n}}\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'submit' | i18n}}</span>\n        </button>\n        <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\">\n            {{'cancel' | i18n}}\n        </button>\n        <small class=\"d-block text-muted mt-3\">\n            {{(add ? 'seatsAddNote' : 'seatsRemoveNote') | i18n}}\n        </small>\n    </div>\n</form>\n<app-payment [showMethods]=\"false\"></app-payment>\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\n@Component({\n    selector: 'app-org-settings',\n    templateUrl: 'settings.component.html',\n})\nexport class SettingsComponent {\n    access2fa = false;\n    selfHosted: boolean;\n\n    constructor(private route: ActivatedRoute, private userService: UserService,\n        private platformUtilsService: PlatformUtilsService) { }\n\n    ngOnInit() {\n        this.route.parent.params.subscribe(async params => {\n            this.selfHosted = await this.platformUtilsService.isSelfHost();\n            const organization = await this.userService.getOrganization(params.organizationId);\n            this.access2fa = organization.use2fa;\n        });\n    }\n}\n","<div class=\"container page-content\">\n    <div class=\"row\">\n        <div class=\"col-3\">\n            <div class=\"card\">\n                <div class=\"card-header\">{{'settings' | i18n}}</div>\n                <div class=\"list-group list-group-flush\">\n                    <a routerLink=\"account\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'myOrganization' | i18n}}\n                    </a>\n                    <a routerLink=\"subscription\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'subscription' | i18n}}\n                    </a>\n                    <a routerLink=\"billing\" class=\"list-group-item\" routerLinkActive=\"active\" *ngIf=\"!selfHosted\">\n                        {{'billing' | i18n}}\n                    </a>\n                    <a routerLink=\"two-factor\" class=\"list-group-item\" routerLinkActive=\"active\" *ngIf=\"access2fa\">\n                        {{'twoStepLogin' | i18n}}\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-9\">\n            <router-outlet></router-outlet>\n        </div>\n    </div>\n</div>\n","import {\n    Component,\n    ComponentFactoryResolver,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\n\nimport { TwoFactorDuoComponent } from '../../settings/two-factor-duo.component';\nimport { TwoFactorSetupComponent as BaseTwoFactorSetupComponent } from '../../settings/two-factor-setup.component';\n\n@Component({\n    selector: 'app-two-factor-setup',\n    templateUrl: '../../settings/two-factor-setup.component.html',\n})\nexport class TwoFactorSetupComponent extends BaseTwoFactorSetupComponent {\n    constructor(apiService: ApiService, userService: UserService,\n        componentFactoryResolver: ComponentFactoryResolver, messagingService: MessagingService,\n        policyService: PolicyService, private route: ActivatedRoute) {\n        super(apiService, userService, componentFactoryResolver, messagingService, policyService);\n    }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            await super.ngOnInit();\n        });\n    }\n\n    manage(type: TwoFactorProviderType) {\n        switch (type) {\n            case TwoFactorProviderType.OrganizationDuo:\n                const duoComp = this.openModal(this.duoModalRef, TwoFactorDuoComponent);\n                duoComp.type = TwoFactorProviderType.OrganizationDuo;\n                duoComp.organizationId = this.organizationId;\n                duoComp.onUpdated.subscribe((enabled: boolean) => {\n                    this.updateStatus(enabled, TwoFactorProviderType.OrganizationDuo);\n                });\n                break;\n            default:\n                break;\n        }\n    }\n\n    protected getTwoFactorProviders() {\n        return this.apiService.getTwoFactorOrganizationProviders(this.organizationId);\n    }\n\n    protected filterProvider(type: TwoFactorProviderType) {\n        return type !== TwoFactorProviderType.OrganizationDuo;\n    }\n}\n","import {\n    Component,\n    OnDestroy,\n    OnInit,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { UpdateTwoFactorAuthenticatorRequest } from 'jslib/models/request/updateTwoFactorAuthenticatorRequest';\nimport { TwoFactorAuthenticatorResponse } from 'jslib/models/response/twoFactorAuthenticatorResponse';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\n\nimport { TwoFactorBaseComponent } from './two-factor-base.component';\n\n@Component({\n    selector: 'app-two-factor-authenticator',\n    templateUrl: 'two-factor-authenticator.component.html',\n})\nexport class TwoFactorAuthenticatorComponent extends TwoFactorBaseComponent implements OnInit, OnDestroy {\n    type = TwoFactorProviderType.Authenticator;\n    key: string;\n    token: string;\n    formPromise: Promise<any>;\n\n    private qrScript: HTMLScriptElement;\n\n    constructor(apiService: ApiService, i18nService: I18nService,\n        toasterService: ToasterService, private userService: UserService,\n        platformUtilsService: PlatformUtilsService) {\n        super(apiService, i18nService, toasterService, platformUtilsService);\n        this.qrScript = window.document.createElement('script');\n        this.qrScript.src = 'scripts/qrious.min.js';\n        this.qrScript.async = true;\n    }\n\n    ngOnInit() {\n        window.document.body.appendChild(this.qrScript);\n    }\n\n    ngOnDestroy() {\n        window.document.body.removeChild(this.qrScript);\n    }\n\n    auth(authResponse: any) {\n        super.auth(authResponse);\n        return this.processResponse(authResponse.response);\n    }\n\n    submit() {\n        if (this.enabled) {\n            return super.disable(this.formPromise);\n        } else {\n            return this.enable();\n        }\n    }\n\n    protected enable() {\n        const request = new UpdateTwoFactorAuthenticatorRequest();\n        request.masterPasswordHash = this.masterPasswordHash;\n        request.token = this.token;\n        request.key = this.key;\n\n        return super.enable(async () => {\n            this.formPromise = this.apiService.putTwoFactorAuthenticator(request);\n            const response = await this.formPromise;\n            await this.processResponse(response);\n        });\n    }\n\n    private async processResponse(response: TwoFactorAuthenticatorResponse) {\n        this.token = null;\n        this.enabled = response.enabled;\n        this.key = response.key;\n        const email = await this.userService.getEmail();\n        window.setTimeout(() => {\n            const qr = new (window as any).QRious({\n                element: document.getElementById('qr'),\n                value: 'otpauth://totp/Bitwarden:' + encodeURIComponent(email) +\n                    '?secret=' + encodeURIComponent(this.key) + '&issuer=Bitwarden',\n                size: 160,\n            });\n        }, 100);\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"2faAuthenticatorTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"2faAuthenticatorTitle\">\n                    {{'twoStepLogin' | i18n}}\n                    <small>{{'authenticatorAppTitle' | i18n}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <app-two-factor-verify [organizationId]=\"organizationId\" [type]=\"type\" (onAuthed)=\"auth($event)\"\n                *ngIf=\"!authed\">\n            </app-two-factor-verify>\n            <form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate *ngIf=\"authed\">\n                <div class=\"modal-body\">\n                    <ng-container *ngIf=\"!enabled\">\n                        <img src=\"images/0.png\" class=\"float-right\" alt=\"\">\n                        <p>{{'twoStepAuthenticatorDesc' | i18n}}</p>\n                        <p>\n                            <strong>1. {{'twoStepAuthenticatorDownloadApp' | i18n}}</strong>\n                        </p>\n                    </ng-container>\n                    <ng-container *ngIf=\"enabled\">\n                        <app-callout type=\"success\" title=\"{{'enabled' | i18n}}\" icon=\"fa-check-circle\">\n                            <p>{{'twoStepLoginProviderEnabled' | i18n}}</p>\n                            {{'twoStepAuthenticatorReaddDesc' | i18n}}\n                        </app-callout>\n                        <img src=\"images/0.png\" class=\"float-right\" alt=\"\">\n                        <p>{{'twoStepAuthenticatorNeedApp' | i18n}}</p>\n                    </ng-container>\n                    <ul class=\"fa-ul\">\n                        <li>\n                            <i class=\"fa-li fa fa-apple\"></i>{{'iosDevices' | i18n}}:\n                            <a href=\"https://itunes.apple.com/us/app/authy/id494168017?mt=8\" target=\"_blank\"\n                                rel=\"noopener\">Authy</a>\n                        </li>\n                        <li>\n                            <i class=\"fa-li fa fa-android\"></i>{{'androidDevices' | i18n}}:\n                            <a href=\"https://play.google.com/store/apps/details?id=com.authy.authy\" target=\"_blank\"\n                                rel=\"noopener\">Authy</a>\n                        </li>\n                        <li>\n                            <i class=\"fa-li fa fa-windows\"></i>{{'windowsDevices' | i18n}}:\n                            <a href=\"https://www.microsoft.com/p/authenticator/9wzdncrfj3rj\" target=\"_blank\"\n                                rel=\"noopener\">Microsoft Authenticator</a>\n                        </li>\n                    </ul>\n                    <p>{{'twoStepAuthenticatorAppsRecommended' | i18n}}</p>\n                    <p *ngIf=\"!enabled\">\n                        <strong>2. {{'twoStepAuthenticatorScanCode' | i18n}}</strong>\n                    </p>\n                    <hr *ngIf=\"enabled\">\n                    <p class=\"text-center\" [ngClass]=\"{'mb-0': enabled}\">\n                        <canvas id=\"qr\"></canvas><br>\n                        <code appA11yTitle=\"{{'key' | i18n}}\">{{key}}</code>\n                    </p>\n                    <ng-container *ngIf=\"!enabled\">\n                        <label for=\"token\">3. {{'twoStepAuthenticatorEnterCode' | i18n}}</label>\n                        <input id=\"token\" type=\"text\" name=\"Token\" class=\"form-control\" [(ngModel)]=\"token\" required\n                            appInputVerbatim>\n                    </ng-container>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        <span *ngIf=\"!enabled\">{{'enable' | i18n}}</span>\n                        <span *ngIf=\"enabled\">{{'disable' | i18n}}</span>\n                    </button>\n                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                        data-dismiss=\"modal\">{{'close' | i18n}}</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { TwoFactorEmailRequest } from 'jslib/models/request/twoFactorEmailRequest';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\nimport { UpdateTwoFactorEmailRequest } from 'jslib/models/request/updateTwoFactorEmailRequest';\nimport { TwoFactorEmailResponse } from 'jslib/models/response/twoFactorEmailResponse';\n\nimport { TwoFactorBaseComponent } from './two-factor-base.component';\n\n@Component({\n    selector: 'app-two-factor-email',\n    templateUrl: 'two-factor-email.component.html',\n})\nexport class TwoFactorEmailComponent extends TwoFactorBaseComponent {\n    type = TwoFactorProviderType.Email;\n    email: string;\n    token: string;\n    sentEmail: string;\n    formPromise: Promise<any>;\n    emailPromise: Promise<any>;\n\n    constructor(apiService: ApiService, i18nService: I18nService,\n        toasterService: ToasterService, platformUtilsService: PlatformUtilsService,\n        private userService: UserService) {\n        super(apiService, i18nService, toasterService, platformUtilsService);\n    }\n\n    auth(authResponse: any) {\n        super.auth(authResponse);\n        return this.processResponse(authResponse.response);\n    }\n\n    submit() {\n        if (this.enabled) {\n            return super.disable(this.formPromise);\n        } else {\n            return this.enable();\n        }\n    }\n\n    async sendEmail() {\n        try {\n            const request = new TwoFactorEmailRequest(this.email, this.masterPasswordHash);\n            this.emailPromise = this.apiService.postTwoFactorEmailSetup(request);\n            await this.emailPromise;\n            this.sentEmail = this.email;\n        } catch { }\n    }\n\n    protected enable() {\n        const request = new UpdateTwoFactorEmailRequest();\n        request.masterPasswordHash = this.masterPasswordHash;\n        request.email = this.email;\n        request.token = this.token;\n\n        return super.enable(async () => {\n            this.formPromise = this.apiService.putTwoFactorEmail(request);\n            const response = await this.formPromise;\n            await this.processResponse(response);\n        });\n    }\n\n    private async processResponse(response: TwoFactorEmailResponse) {\n        this.token = null;\n        this.email = response.email;\n        this.enabled = response.enabled;\n        if (!this.enabled && (this.email == null || this.email === '')) {\n            this.email = await this.userService.getEmail();\n        }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"2faEmailTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"2faEmailTitle\">\n                    {{'twoStepLogin' | i18n}}\n                    <small>{{'emailTitle' | i18n}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <app-two-factor-verify [organizationId]=\"organizationId\" [type]=\"type\" (onAuthed)=\"auth($event)\"\n                *ngIf=\"!authed\">\n            </app-two-factor-verify>\n            <form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate *ngIf=\"authed\">\n                <div class=\"modal-body\">\n                    <ng-container *ngIf=\"enabled\">\n                        <app-callout type=\"success\" title=\"{{'enabled' | i18n}}\" icon=\"fa-check-circle\">\n                            {{'twoStepLoginProviderEnabled' | i18n}}\n                        </app-callout>\n                        <strong>{{'email' | i18n}}:</strong> {{email}}\n                    </ng-container>\n                    <ng-container *ngIf=\"!enabled\">\n                        <p class=\"d-flex\">\n                            <span class=\"mr-3\">{{'twoFactorEmailDesc' | i18n}}</span>\n                            <img src=\"images/1.png\" class=\"float-right ml-auto\" alt=\"\">\n                        </p>\n                        <div class=\"form-group\">\n                            <label for=\"email\">1. {{'twoFactorEmailEnterEmail' | i18n}}</label>\n                            <input id=\"email\" type=\"text\" name=\"Email\" class=\"form-control\" [(ngModel)]=\"email\" required\n                                inputmode=\"email\" appInputVerbatim=\"false\">\n                        </div>\n                        <div class=\"mb-3 d-flex\">\n                            <button #sendBtn type=\"button\"\n                                class=\"btn btn-outline-primary btn-sm btn-submit align-self-start\" (click)=\"sendEmail()\"\n                                [appApiAction]=\"emailPromise\" [disabled]=\"sendBtn.loading\">\n                                <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                                <span>{{'sendEmail' | i18n}}</span>\n                            </button>\n                            <span class=\"text-success ml-3\" *ngIf=\"sentEmail\">\n                                {{'verificationCodeEmailSent' | i18n : sentEmail}}\n                            </span>\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"token\">2. {{'twoFactorEmailEnterCode' | i18n}}</label>\n                            <input id=\"token\" type=\"text\" name=\"Token\" class=\"form-control\" [(ngModel)]=\"token\" required\n                                appInputVerbatim>\n                        </div>\n                    </ng-container>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        <span *ngIf=\"!enabled\">{{'enable' | i18n}}</span>\n                        <span *ngIf=\"enabled\">{{'disable' | i18n}}</span>\n                    </button>\n                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                        data-dismiss=\"modal\">{{'close' | i18n}}</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { TwoFactorRecoverResponse } from 'jslib/models/response/twoFactorRescoverResponse';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\n\n@Component({\n    selector: 'app-two-factor-recovery',\n    templateUrl: 'two-factor-recovery.component.html',\n})\nexport class TwoFactorRecoveryComponent {\n    type = -1;\n    code: string;\n    authed: boolean;\n    twoFactorProviderType = TwoFactorProviderType;\n\n    constructor(private i18nService: I18nService) { }\n\n    auth(authResponse: any) {\n        this.authed = true;\n        this.processResponse(authResponse.response);\n    }\n\n    print() {\n        const w = window.open();\n        w.document.write('<div style=\"font-size: 18px; text-align: center;\">' +\n            '<p>' + this.i18nService.t('twoFactorRecoveryYourCode') + ':</p>' +\n            '<code style=\"font-family: Menlo, Monaco, Consolas, \\'Courier New\\', monospace;\">' +\n            this.code + '</code></div>' +\n            '<p style=\"text-align: center;\">' + new Date() + '</p>');\n        w.onafterprint = () => w.close();\n        w.print();\n    }\n\n    private formatString(s: string) {\n        if (s == null) {\n            return null;\n        }\n        return s.replace(/(.{4})/g, '$1 ').trim().toUpperCase();\n    }\n\n    private processResponse(response: TwoFactorRecoverResponse) {\n        this.code = this.formatString(response.code);\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"2faRecoveryTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"2faRecoveryTitle\">\n                    {{'twoStepLogin' | i18n}}\n                    <small>{{'recoveryCodeTitle' | i18n}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <app-two-factor-verify [organizationId]=\"organizationId\" [type]=\"type\" (onAuthed)=\"auth($event)\"\n                *ngIf=\"!authed\">\n            </app-two-factor-verify>\n            <ng-container *ngIf=\"authed\">\n                <div class=\"modal-body text-center\">\n                    <ng-container *ngIf=\"code\">\n                        <p>{{'twoFactorRecoveryYourCode' | i18n}}:</p>\n                        <code class=\"text-lg\">{{code}}</code>\n                    </ng-container>\n                    <ng-container *ngIf=\"!code\">\n                        {{'twoFactorRecoveryNoCode' | i18n}}\n                    </ng-container>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"print()\"\n                        *ngIf=\"code\">{{'printCode' | i18n}}</button>\n                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                        data-dismiss=\"modal\">{{'close' | i18n}}</button>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</div>\n","import {\n    Component,\n    NgZone,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\n\nimport { PasswordVerificationRequest } from 'jslib/models/request/passwordVerificationRequest';\nimport { UpdateTwoFactorWebAuthnDeleteRequest } from 'jslib/models/request/updateTwoFactorWebAuthnDeleteRequest';\nimport { UpdateTwoFactorWebAuthnRequest } from 'jslib/models/request/updateTwoFactorWebAuthnRequest';\nimport {\n    ChallengeResponse,\n    TwoFactorWebAuthnResponse,\n} from 'jslib/models/response/twoFactorWebAuthnResponse';\n\nimport { TwoFactorBaseComponent } from './two-factor-base.component';\n\n@Component({\n    selector: 'app-two-factor-webauthn',\n    templateUrl: 'two-factor-webauthn.component.html',\n})\nexport class TwoFactorWebAuthnComponent extends TwoFactorBaseComponent {\n    type = TwoFactorProviderType.WebAuthn;\n    name: string;\n    keys: any[];\n    keyIdAvailable: number = null;\n    keysConfiguredCount = 0;\n    webAuthnError: boolean;\n    webAuthnListening: boolean;\n    webAuthnResponse: PublicKeyCredential;\n    challengePromise: Promise<ChallengeResponse>;\n    formPromise: Promise<any>;\n\n    constructor(apiService: ApiService, i18nService: I18nService,\n        toasterService: ToasterService, platformUtilsService: PlatformUtilsService,\n        private ngZone: NgZone) {\n        super(apiService, i18nService, toasterService, platformUtilsService);\n    }\n\n    auth(authResponse: any) {\n        super.auth(authResponse);\n        this.processResponse(authResponse.response);\n    }\n\n    submit() {\n        if (this.webAuthnResponse == null || this.keyIdAvailable == null) {\n            // Should never happen.\n            return Promise.reject();\n        }\n        const request = new UpdateTwoFactorWebAuthnRequest();\n        request.masterPasswordHash = this.masterPasswordHash;\n        request.deviceResponse = this.webAuthnResponse;\n        request.id = this.keyIdAvailable;\n        request.name = this.name;\n\n        return super.enable(async () => {\n            this.formPromise = this.apiService.putTwoFactorWebAuthn(request);\n            const response = await this.formPromise;\n            await this.processResponse(response);\n        });\n    }\n\n    disable() {\n        return super.disable(this.formPromise);\n    }\n\n    async remove(key: any) {\n        if (this.keysConfiguredCount <= 1 || key.removePromise != null) {\n            return;\n        }\n        const name = key.name != null ? key.name : this.i18nService.t('webAuthnkeyX', key.id);\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('removeU2fConfirmation'), name,\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return;\n        }\n        const request = new UpdateTwoFactorWebAuthnDeleteRequest();\n        request.id = key.id;\n        request.masterPasswordHash = this.masterPasswordHash;\n        try {\n            key.removePromise = this.apiService.deleteTwoFactorWebAuthn(request);\n            const response = await key.removePromise;\n            key.removePromise = null;\n            await this.processResponse(response);\n        } catch { }\n    }\n\n    async readKey() {\n        if (this.keyIdAvailable == null) {\n            return;\n        }\n        const request = new PasswordVerificationRequest();\n        request.masterPasswordHash = this.masterPasswordHash;\n        try {\n            this.challengePromise = this.apiService.getTwoFactorWebAuthnChallenge(request);\n            const challenge = await this.challengePromise;\n            this.readDevice(challenge);\n        } catch { }\n    }\n\n    private readDevice(webAuthnChallenge: ChallengeResponse) {\n        // tslint:disable-next-line\n        console.log('listening for key...');\n        this.resetWebAuthn(true);\n\n        navigator.credentials.create({\n            publicKey: webAuthnChallenge,\n        }).then((data: PublicKeyCredential) => {\n            this.ngZone.run(() => {\n                this.webAuthnListening = false;\n                this.webAuthnResponse = data;\n            });\n        }).catch(err => {\n            // tslint:disable-next-line\n            console.error(err);\n            this.resetWebAuthn(false);\n            // TODO: Should we display the actual error?\n            this.webAuthnError = true;\n        });\n    }\n\n    private resetWebAuthn(listening = false) {\n        this.webAuthnResponse = null;\n        this.webAuthnError = false;\n        this.webAuthnListening = listening;\n    }\n\n    private processResponse(response: TwoFactorWebAuthnResponse) {\n        this.resetWebAuthn();\n        this.keys = [];\n        this.keyIdAvailable = null;\n        this.name = null;\n        this.keysConfiguredCount = 0;\n        for (let i = 1; i <= 5; i++) {\n            if (response.keys != null) {\n                const key = response.keys.filter(k => k.id === i);\n                if (key.length > 0) {\n                    this.keysConfiguredCount++;\n                    this.keys.push({\n                        id: i, name: key[0].name,\n                        configured: true,\n                        migrated: key[0].migrated,\n                        removePromise: null,\n                    });\n                    continue;\n                }\n            }\n            this.keys.push({ id: i, name: null, configured: false, removePromise: null });\n            if (this.keyIdAvailable == null) {\n                this.keyIdAvailable = i;\n            }\n        }\n        this.enabled = response.enabled;\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"2faU2fTitle\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"2faU2fTitle\">\n                    {{'twoStepLogin' | i18n}}\n                    <small>{{'webAuthnTitle' | i18n}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <app-two-factor-verify [organizationId]=\"organizationId\" [type]=\"type\" (onAuthed)=\"auth($event)\"\n                *ngIf=\"!authed\">\n            </app-two-factor-verify>\n            <form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate *ngIf=\"authed\">\n                <div class=\"modal-body\">\n                    <app-callout type=\"success\" title=\"{{'enabled' | i18n}}\" icon=\"fa-check-circle\" *ngIf=\"enabled\">\n                        {{'twoStepLoginProviderEnabled' | i18n}}\n                    </app-callout>\n                    <app-callout type=\"warning\">\n                        <p>{{'twoFactorWebAuthnWarning' | i18n}}</p>\n                        <ul class=\"mb-0\">\n                            <li>{{'twoFactorWebAuthnSupportWeb' | i18n}}</li>\n                        </ul>\n                    </app-callout>\n                    <img src=\"images/7.png\" class=\"float-right ml-5\" alt=\"\">\n                    <ul class=\"fa-ul\">\n                        <li *ngFor=\"let k of keys; let i = index\" #removeKeyBtn [appApiAction]=\"k.removePromise\">\n                            <i class=\"fa-li fa fa-key\"></i>\n                            <strong *ngIf=\"!k.configured || !k.name\">{{'webAuthnkeyX' | i18n : i + 1}}</strong>\n                            <strong *ngIf=\"k.configured && k.name\">{{k.name}}</strong>\n                            <ng-container *ngIf=\"k.configured && !removeKeyBtn.loading\">\n                                <ng-container *ngIf=\"k.migrated\">\n                                    <span>{{'webAuthnMigrated' | i18n}}</span>\n                                </ng-container>\n                            </ng-container>\n                            <ng-container *ngIf=\"keysConfiguredCount > 1 && k.configured\">\n                                <i class=\"fa fa-spin fa-spinner text-muted fa-fw\" title=\"{{'loading' | i18n}}\"\n                                    *ngIf=\"removeKeyBtn.loading\" aria-hidden=\"true\"></i>\n                                -\n                                <a href=\"#\" appStopClick (click)=\"remove(k)\">{{'remove' | i18n}}</a>\n                            </ng-container>\n                        </li>\n                    </ul>\n                    <hr>\n                    <p>{{'twoFactorWebAuthnAdd' | i18n}}:</p>\n                    <ol>\n                        <li>{{'twoFactorU2fGiveName' | i18n}}</li>\n                        <li>{{'twoFactorU2fPlugInReadKey' | i18n}}</li>\n                        <li>{{'twoFactorU2fTouchButton' | i18n}}</li>\n                        <li>{{'twoFactorU2fSaveForm' | i18n}}</li>\n                    </ol>\n                    <div class=\"row\">\n                        <div class=\"form-group col-6\">\n                            <label for=\"name\">{{'name' | i18n}}</label>\n                            <input id=\"name\" type=\"text\" name=\"Name\" class=\"form-control\" [(ngModel)]=\"name\"\n                                [disabled]=\"!keyIdAvailable\">\n                        </div>\n                    </div>\n                    <button type=\"button\" (click)=\"readKey()\" class=\"btn btn-outline-secondary mr-2\"\n                        [disabled]=\"readKeyBtn.loading || webAuthnListening || !keyIdAvailable\" #readKeyBtn\n                        [appApiAction]=\"challengePromise\">\n                        {{'readKey' | i18n}}\n                    </button>\n                    <ng-container *ngIf=\"readKeyBtn.loading\">\n                        <i class=\"fa fa-spinner fa-spin text-muted\" aria-hidden=\"true\"></i>\n                    </ng-container>\n                    <ng-container *ngIf=\"!readKeyBtn.loading\">\n                        <ng-container *ngIf=\"webAuthnListening\">\n                            <i class=\"fa fa-spinner fa-spin text-muted\" aria-hidden=\"true\"></i>\n                            {{'twoFactorU2fWaiting' | i18n}}...\n                        </ng-container>\n                        <ng-container *ngIf=\"webAuthnResponse\">\n                            <i class=\"fa fa-check-circle text-success\" aria-hidden=\"true\"></i>\n                            {{'twoFactorU2fClickSave' | i18n}}\n                        </ng-container>\n                        <ng-container *ngIf=\"webAuthnError\">\n                            <i class=\"fa fa-warning text-danger\" aria-hidden=\"true\"></i>\n                            {{'twoFactorU2fProblemReadingTryAgain' | i18n}}\n                        </ng-container>\n                    </ng-container>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"form.loading || !webAuthnResponse\">\n                        <i class=\"fa fa-spinner fa-spin\" *ngIf=\"form.loading\" title=\"{{'loading' | i18n}}\"\n                            aria-hidden=\"true\"></i>\n                        <span *ngIf=\"!form.loading\">{{'save' | i18n}}</span>\n                    </button>\n                    <button #disableBtn type=\"button\" class=\"btn btn-outline-secondary btn-submit\"\n                        [appApiAction]=\"disablePromise\" [disabled]=\"disableBtn.loading\" (click)=\"disable()\"\n                        *ngIf=\"enabled\">\n                        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        <span>{{'disableAllKeys' | i18n}}</span>\n                    </button>\n                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                        data-dismiss=\"modal\">{{'close' | i18n}}</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { UpdateTwoFactorYubioOtpRequest } from 'jslib/models/request/updateTwoFactorYubioOtpRequest';\nimport { TwoFactorYubiKeyResponse } from 'jslib/models/response/twoFactorYubiKeyResponse';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\n\nimport { TwoFactorBaseComponent } from './two-factor-base.component';\n\n@Component({\n    selector: 'app-two-factor-yubikey',\n    templateUrl: 'two-factor-yubikey.component.html',\n})\nexport class TwoFactorYubiKeyComponent extends TwoFactorBaseComponent {\n    type = TwoFactorProviderType.Yubikey;\n    keys: any[];\n    nfc = false;\n\n    formPromise: Promise<any>;\n    disablePromise: Promise<any>;\n\n    constructor(apiService: ApiService, i18nService: I18nService,\n        toasterService: ToasterService, platformUtilsService: PlatformUtilsService) {\n        super(apiService, i18nService, toasterService, platformUtilsService);\n    }\n\n    auth(authResponse: any) {\n        super.auth(authResponse);\n        this.processResponse(authResponse.response);\n    }\n\n    submit() {\n        const request = new UpdateTwoFactorYubioOtpRequest();\n        request.masterPasswordHash = this.masterPasswordHash;\n        request.key1 = this.keys != null && this.keys.length > 0 ? this.keys[0].key : null;\n        request.key2 = this.keys != null && this.keys.length > 1 ? this.keys[1].key : null;\n        request.key3 = this.keys != null && this.keys.length > 2 ? this.keys[2].key : null;\n        request.key4 = this.keys != null && this.keys.length > 3 ? this.keys[3].key : null;\n        request.key5 = this.keys != null && this.keys.length > 4 ? this.keys[4].key : null;\n        request.nfc = this.nfc;\n\n        return super.enable(async () => {\n            this.formPromise = this.apiService.putTwoFactorYubiKey(request);\n            const response = await this.formPromise;\n            await this.processResponse(response);\n            this.toasterService.popAsync('success', null, this.i18nService.t('yubikeysUpdated'));\n        });\n    }\n\n    disable() {\n        return super.disable(this.disablePromise);\n    }\n\n    remove(key: any) {\n        key.existingKey = null;\n        key.key = null;\n    }\n\n    private processResponse(response: TwoFactorYubiKeyResponse) {\n        this.enabled = response.enabled;\n        this.keys = [\n            { key: response.key1, existingKey: this.padRight(response.key1) },\n            { key: response.key2, existingKey: this.padRight(response.key2) },\n            { key: response.key3, existingKey: this.padRight(response.key3) },\n            { key: response.key4, existingKey: this.padRight(response.key4) },\n            { key: response.key5, existingKey: this.padRight(response.key5) },\n        ];\n        this.nfc = response.nfc || !response.enabled;\n    }\n\n    private padRight(str: string, character = '', size = 44) {\n        if (str == null || character == null || str.length >= size) {\n            return str;\n        }\n        const max = (size - str.length) / character.length;\n        for (let i = 0; i < max; i++) {\n            str += character;\n        }\n        return str;\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"2faYubiKeyTitle\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"2faYubiKeyTitle\">\n                    {{'twoStepLogin' | i18n}}\n                    <small>YubiKey</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <app-two-factor-verify [organizationId]=\"organizationId\" [type]=\"type\" (onAuthed)=\"auth($event)\"\n                *ngIf=\"!authed\">\n            </app-two-factor-verify>\n            <form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate *ngIf=\"authed\"\n                autocomplete=\"off\">\n                <div class=\"modal-body\">\n                    <app-callout type=\"success\" title=\"{{'enabled' | i18n}}\" icon=\"fa-check-circle\" *ngIf=\"enabled\">\n                        {{'twoStepLoginProviderEnabled' | i18n}}\n                    </app-callout>\n                    <app-callout type=\"warning\">\n                        <p>{{'twoFactorYubikeyWarning' | i18n}}</p>\n                        <ul class=\"mb-0\">\n                            <li>{{'twoFactorYubikeySupportUsb' | i18n}}</li>\n                            <li>{{'twoFactorYubikeySupportMobile' | i18n}}</li>\n                        </ul>\n                    </app-callout>\n                    <img src=\"images/3.png\" class=\"float-right\" alt=\"\">\n                    <p>{{'twoFactorYubikeyAdd' | i18n}}:</p>\n                    <ol>\n                        <li>{{'twoFactorYubikeyPlugIn' | i18n}}</li>\n                        <li>{{'twoFactorYubikeySelectKey' | i18n}}</li>\n                        <li>{{'twoFactorYubikeyTouchButton' | i18n}}</li>\n                        <li>{{'twoFactorYubikeySaveForm' | i18n}}</li>\n                    </ol>\n                    <hr>\n                    <div class=\"row\">\n                        <div class=\"form-group col-6\" *ngFor=\"let k of keys; let i = index\">\n                            <label for=\"key{{i + 1}}\">{{'yubikeyX' | i18n : i + 1}}</label>\n                            <input id=\"key{{i + 1}}\" type=\"password\" name=\"Key{{i + 1}}\" class=\"form-control\"\n                                [(ngModel)]=\"k.key\" *ngIf=\"!k.existingKey\" appInputVerbatim autocomplete=\"new-password\">\n                            <div class=\"d-flex\" *ngIf=\"k.existingKey\">\n                                <span class=\"mr-2\">{{k.existingKey}}</span>\n                                <button type=\"button\" class=\"btn btn-link text-danger ml-auto\" (click)=\"remove(k)\"\n                                    appA11yTitle=\"{{'remove' | i18n}}\">\n                                    <i class=\"fa fa-minus-circle fa-lg\" aria-hidden=\"true\"></i>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <strong class=\"d-block mb-2\">{{'nfcSupport' | i18n}}</strong>\n                    <div class=\"form-check\">\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"nfc\" name=\"Nfc\" [(ngModel)]=\"nfc\">\n                        <label class=\"form-check-label\" for=\"nfc\">{{'twoFactorYubikeySupportsNfc' | i18n}}</label>\n                    </div>\n                    <small class=\"form-text text-muted\">{{'twoFactorYubikeySupportsNfcDesc' | i18n}}</small>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        <span>{{'save' | i18n}}</span>\n                    </button>\n                    <button #disableBtn type=\"button\" class=\"btn btn-outline-secondary btn-submit\"\n                        [appApiAction]=\"disablePromise\" [disabled]=\"disableBtn.loading\" (click)=\"disable()\"\n                        *ngIf=\"enabled\">\n                        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        <span>{{'disableAllKeys' | i18n}}</span>\n                    </button>\n                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                        data-dismiss=\"modal\">{{'close' | i18n}}</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { EventService } from 'jslib/abstractions/event.service';\nimport { ExportService } from 'jslib/abstractions/export.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { ExportComponent as BaseExportComponent } from '../../tools/export.component';\n\nimport { EventType } from 'jslib/enums/eventType';\n\n@Component({\n    selector: 'app-org-export',\n    templateUrl: '../../tools/export.component.html',\n})\nexport class ExportComponent extends BaseExportComponent {\n    constructor(cryptoService: CryptoService, i18nService: I18nService,\n        platformUtilsService: PlatformUtilsService, exportService: ExportService,\n        eventService: EventService, private route: ActivatedRoute) {\n        super(cryptoService, i18nService, platformUtilsService, exportService, eventService);\n    }\n\n    ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n        });\n    }\n\n    getExportData() {\n        return this.exportService.getOrganizationExport(this.organizationId, this.format);\n    }\n\n    getFileName() {\n        return super.getFileName('org');\n    }\n\n    async collectEvent(): Promise<any> {\n        // TODO\n        // await this.eventService.collect(EventType.Organization_ClientExportedVault);\n    }\n}\n","import {\n    Component,\n    ComponentFactoryResolver,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { AuditService } from 'jslib/abstractions/audit.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport {\n    ExposedPasswordsReportComponent as BaseExposedPasswordsReportComponent,\n} from '../../tools/exposed-passwords-report.component';\n\nimport { Cipher } from 'jslib/models/domain/cipher';\nimport { CipherView } from 'jslib/models/view/cipherView';\n\n@Component({\n    selector: 'app-exposed-passwords-report',\n    templateUrl: '../../tools/exposed-passwords-report.component.html',\n})\nexport class ExposedPasswordsReportComponent extends BaseExposedPasswordsReportComponent {\n    manageableCiphers: Cipher[];\n\n    constructor(cipherService: CipherService, auditService: AuditService,\n        componentFactoryResolver: ComponentFactoryResolver, messagingService: MessagingService,\n        userService: UserService, private route: ActivatedRoute) {\n        super(cipherService, auditService, componentFactoryResolver, messagingService, userService);\n    }\n\n    ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organization = await this.userService.getOrganization(params.organizationId);\n            this.manageableCiphers = await this.cipherService.getAll();\n            super.ngOnInit();\n        });\n    }\n\n    getAllCiphers(): Promise<CipherView[]> {\n        return this.cipherService.getAllFromApiForOrganization(this.organization.id);\n    }\n\n    canManageCipher(c: CipherView): boolean {\n        return this.manageableCiphers.some(x => x.id === c.id);\n    }\n}\n","import { PasswordHistoryResponse } from '../response/passwordHistoryResponse';\n\nexport class PasswordHistoryData {\n    password: string;\n    lastUsedDate: string;\n\n    constructor(response?: PasswordHistoryResponse) {\n        if (response == null) {\n            return;\n        }\n\n        this.password = response.password;\n        this.lastUsedDate = response.lastUsedDate;\n    }\n}\n","import { View } from './view';\n\nimport { Attachment } from '../domain/attachment';\nimport { SymmetricCryptoKey } from '../domain/symmetricCryptoKey';\n\nexport class AttachmentView implements View {\n    id: string = null;\n    url: string = null;\n    size: string = null;\n    sizeName: string = null;\n    fileName: string = null;\n    key: SymmetricCryptoKey = null;\n\n    constructor(a?: Attachment) {\n        if (!a) {\n            return;\n        }\n\n        this.id = a.id;\n        this.url = a.url;\n        this.size = a.size;\n        this.sizeName = a.sizeName;\n    }\n\n    get fileSize(): number {\n        try {\n            if (this.size != null) {\n                return parseInt(this.size, null);\n            }\n        } catch { }\n        return 0;\n    }\n}\n","import { PasswordHistoryData } from '../data/passwordHistoryData';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\n\nimport { PasswordHistoryView } from '../view/passwordHistoryView';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport class Password extends Domain {\n    password: EncString;\n    lastUsedDate: Date;\n\n    constructor(obj?: PasswordHistoryData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.buildDomainModel(this, obj, {\n            password: null,\n        }, alreadyEncrypted);\n        this.lastUsedDate = new Date(obj.lastUsedDate);\n    }\n\n    decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<PasswordHistoryView> {\n         return this.decryptObj(new PasswordHistoryView(this), {\n            password: null,\n        }, orgId, encKey);\n    }\n\n    toPasswordHistoryData(): PasswordHistoryData {\n        const ph = new PasswordHistoryData();\n        ph.lastUsedDate = this.lastUsedDate.toISOString();\n        this.buildDataModel(this, ph, {\n            password: null,\n        });\n        return ph;\n    }\n}\n","import { CipherRequest } from './cipherRequest';\n\nimport { Cipher } from '../domain/cipher';\n\nexport class CipherCreateRequest {\n    cipher: CipherRequest;\n    collectionIds: string[];\n\n    constructor(cipher: Cipher) {\n        this.cipher = new CipherRequest(cipher);\n        this.collectionIds = cipher.collectionIds;\n    }\n}\n","import { BaseResponse } from '../response/baseResponse';\n\nexport class CardApi extends BaseResponse {\n    cardholderName: string;\n    brand: string;\n    number: string;\n    expMonth: string;\n    expYear: string;\n    code: string;\n\n    constructor(data: any = null) {\n        super(data);\n        if (data == null) {\n            return;\n        }\n        this.cardholderName = this.getResponseProperty('CardholderName');\n        this.brand = this.getResponseProperty('Brand');\n        this.number = this.getResponseProperty('Number');\n        this.expMonth = this.getResponseProperty('ExpMonth');\n        this.expYear = this.getResponseProperty('ExpYear');\n        this.code = this.getResponseProperty('Code');\n    }\n}\n","import { BaseResponse } from '../response/baseResponse';\n\nimport { FieldType } from '../../enums/fieldType';\n\nexport class FieldApi extends BaseResponse {\n    name: string;\n    value: string;\n    type: FieldType;\n\n    constructor(data: any = null) {\n        super(data);\n        if (data == null) {\n            return;\n        }\n        this.type = this.getResponseProperty('Type');\n        this.name = this.getResponseProperty('Name');\n        this.value = this.getResponseProperty('Value');\n    }\n}\n","import { BaseResponse } from '../response/baseResponse';\n\nexport class IdentityApi extends BaseResponse {\n    title: string;\n    firstName: string;\n    middleName: string;\n    lastName: string;\n    address1: string;\n    address2: string;\n    address3: string;\n    city: string;\n    state: string;\n    postalCode: string;\n    country: string;\n    company: string;\n    email: string;\n    phone: string;\n    ssn: string;\n    username: string;\n    passportNumber: string;\n    licenseNumber: string;\n\n    constructor(data: any = null) {\n        super(data);\n        if (data == null) {\n            return;\n        }\n        this.title = this.getResponseProperty('Title');\n        this.firstName = this.getResponseProperty('FirstName');\n        this.middleName = this.getResponseProperty('MiddleName');\n        this.lastName = this.getResponseProperty('LastName');\n        this.address1 = this.getResponseProperty('Address1');\n        this.address2 = this.getResponseProperty('Address2');\n        this.address3 = this.getResponseProperty('Address3');\n        this.city = this.getResponseProperty('City');\n        this.state = this.getResponseProperty('State');\n        this.postalCode = this.getResponseProperty('PostalCode');\n        this.country = this.getResponseProperty('Country');\n        this.company = this.getResponseProperty('Company');\n        this.email = this.getResponseProperty('Email');\n        this.phone = this.getResponseProperty('Phone');\n        this.ssn = this.getResponseProperty('SSN');\n        this.username = this.getResponseProperty('Username');\n        this.passportNumber = this.getResponseProperty('PassportNumber');\n        this.licenseNumber = this.getResponseProperty('LicenseNumber');\n    }\n}\n","import { BaseResponse } from '../response/baseResponse';\n\nimport { LoginUriApi } from './loginUriApi';\n\nexport class LoginApi extends BaseResponse {\n    uris: LoginUriApi[];\n    username: string;\n    password: string;\n    passwordRevisionDate: string;\n    totp: string;\n\n    constructor(data: any = null) {\n        super(data);\n        if (data == null) {\n            return;\n        }\n        this.username = this.getResponseProperty('Username');\n        this.password = this.getResponseProperty('Password');\n        this.passwordRevisionDate = this.getResponseProperty('PasswordRevisionDate');\n        this.totp = this.getResponseProperty('Totp');\n\n        const uris = this.getResponseProperty('Uris');\n        if (uris != null) {\n            this.uris = uris.map((u: any) => new LoginUriApi(u));\n        }\n    }\n}\n","import { BaseResponse } from '../response/baseResponse';\n\nimport { UriMatchType } from '../../enums/uriMatchType';\n\nexport class LoginUriApi extends BaseResponse {\n    uri: string;\n    match: UriMatchType = null;\n\n    constructor(data: any = null) {\n        super(data);\n        if (data == null) {\n            return;\n        }\n        this.uri = this.getResponseProperty('Uri');\n        const match = this.getResponseProperty('Match');\n        this.match = match != null ? match : null;\n    }\n}\n","import { BaseResponse } from '../response/baseResponse';\n\nimport { SecureNoteType } from '../../enums/secureNoteType';\n\nexport class SecureNoteApi extends BaseResponse {\n    type: SecureNoteType;\n\n    constructor(data: any = null) {\n        super(data);\n        if (data == null) {\n            return;\n        }\n        this.type = this.getResponseProperty('Type');\n    }\n}\n","import {\n    Directive,\n    ElementRef,\n    HostListener,\n    Input,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appFallbackSrc]',\n})\nexport class FallbackSrcDirective {\n    @Input('appFallbackSrc') appFallbackSrc: string;\n\n    constructor(private el: ElementRef) {\n    }\n\n    @HostListener('error') onError() {\n        this.el.nativeElement.src = this.appFallbackSrc;\n    }\n}\n","import { Component } from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { ImportService } from 'jslib/abstractions/import.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { ImportComponent as BaseImportComponent } from '../../tools/import.component';\n\n@Component({\n    selector: 'app-org-import',\n    templateUrl: '../../tools/import.component.html',\n})\nexport class ImportComponent extends BaseImportComponent {\n    organizationName: string;\n\n    constructor(i18nService: I18nService, toasterService: ToasterService,\n        importService: ImportService, router: Router, private route: ActivatedRoute,\n        platformUtilsService: PlatformUtilsService,\n        private userService: UserService) {\n        super(i18nService, toasterService, importService, router, platformUtilsService);\n    }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organizationId = params.organizationId;\n            this.successNavigate = ['organizations', this.organizationId, 'vault'];\n            super.ngOnInit();\n        });\n        const organization = await this.userService.getOrganization(this.organizationId);\n        this.organizationName = organization.name;\n    }\n\n    async submit() {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('importWarning', this.organizationName),\n            this.i18nService.t('warning'), this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return;\n        }\n        super.submit();\n    }\n}\n","import {\n    Component,\n    ComponentFactoryResolver,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport {\n    InactiveTwoFactorReportComponent as BaseInactiveTwoFactorReportComponent,\n} from '../../tools/inactive-two-factor-report.component';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\n@Component({\n    selector: 'app-inactive-two-factor-report',\n    templateUrl: '../../tools/inactive-two-factor-report.component.html',\n})\nexport class InactiveTwoFactorReportComponent extends BaseInactiveTwoFactorReportComponent {\n    constructor(cipherService: CipherService, componentFactoryResolver: ComponentFactoryResolver,\n        messagingService: MessagingService, userService: UserService,\n        private route: ActivatedRoute) {\n        super(cipherService, componentFactoryResolver, messagingService, userService);\n    }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organization = await this.userService.getOrganization(params.organizationId);\n            await super.ngOnInit();\n        });\n    }\n\n    getAllCiphers(): Promise<CipherView[]> {\n        return this.cipherService.getAllFromApiForOrganization(this.organization.id);\n    }\n}\n","import {\n    Component,\n    ComponentFactoryResolver,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { Cipher } from 'jslib/models/domain/cipher';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport {\n    ReusedPasswordsReportComponent as BaseReusedPasswordsReportComponent,\n} from '../../tools/reused-passwords-report.component';\n\n@Component({\n    selector: 'app-reused-passwords-report',\n    templateUrl: '../../tools/reused-passwords-report.component.html',\n})\nexport class ReusedPasswordsReportComponent extends BaseReusedPasswordsReportComponent {\n    manageableCiphers: Cipher[];\n\n    constructor(cipherService: CipherService, componentFactoryResolver: ComponentFactoryResolver,\n        messagingService: MessagingService, userService: UserService,\n        private route: ActivatedRoute) {\n        super(cipherService, componentFactoryResolver, messagingService, userService);\n    }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organization = await this.userService.getOrganization(params.organizationId);\n            this.manageableCiphers = await this.cipherService.getAll();\n            await super.ngOnInit();\n        });\n    }\n\n    getAllCiphers(): Promise<CipherView[]> {\n        return this.cipherService.getAllFromApiForOrganization(this.organization.id);\n    }\n\n    canManageCipher(c: CipherView): boolean {\n        return this.manageableCiphers.some(x => x.id === c.id);\n    }\n}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { Organization } from 'jslib/models/domain/organization';\n\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\n@Component({\n    selector: 'app-org-tools',\n    templateUrl: 'tools.component.html',\n})\nexport class ToolsComponent {\n    organization: Organization;\n    accessReports = false;\n    loading = true;\n\n    constructor(private route: ActivatedRoute, private userService: UserService,\n        private messagingService: MessagingService) { }\n\n    ngOnInit() {\n        this.route.parent.params.subscribe(async params => {\n            this.organization = await this.userService.getOrganization(params.organizationId);\n            // TODO: Maybe we want to just make sure they are not on a free plan? Just compare useTotp for now\n            // since all paid plans include useTotp\n            this.accessReports = this.organization.useTotp;\n            this.loading = false;\n        });\n    }\n\n    upgradeOrganization() {\n        this.messagingService.send('upgradeOrganization', { organizationId: this.organization.id });\n    }\n}\n","<div class=\"container page-content\">\n    <ng-container *ngIf=\"loading\">\n        <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span class=\"sr-only\">{{'loading' | i18n}}</span>\n    </ng-container>\n    <ng-container *ngIf=\"!loading\">\n        <div class=\"row\">\n            <div class=\"col-3\">\n                <div class=\"card mb-4\" *ngIf=\"organization.canAccessImportExport\">\n                    <div class=\"card-header\">{{'tools' | i18n}}</div>\n                    <div class=\"list-group list-group-flush\">\n                        <a routerLink=\"import\" class=\"list-group-item\" routerLinkActive=\"active\">\n                            {{'importData' | i18n}}\n                        </a>\n                        <a routerLink=\"export\" class=\"list-group-item\" routerLinkActive=\"active\">\n                            {{'exportVault' | i18n}}\n                        </a>\n                    </div>\n                </div>\n                <div class=\"card\" *ngIf=\"organization.canAccessReports\">\n                    <div class=\"card-header d-flex\">\n                        {{'reports' | i18n}}\n                        <div class=\"ml-auto\">\n                            <a href=\"#\" appStopClick class=\"badge badge-primary\" *ngIf=\"!accessReports\"\n                                (click)=\"upgradeOrganization()\">\n                                {{'upgrade' | i18n}}\n                            </a>\n                        </div>\n                    </div>\n                    <div class=\"list-group list-group-flush\">\n                        <a routerLink=\"exposed-passwords-report\" class=\"list-group-item\" routerLinkActive=\"active\">\n                            {{'exposedPasswordsReport' | i18n}}\n                        </a>\n                        <a routerLink=\"reused-passwords-report\" class=\"list-group-item\" routerLinkActive=\"active\">\n                            {{'reusedPasswordsReport' | i18n}}\n                        </a>\n                        <a routerLink=\"weak-passwords-report\" class=\"list-group-item\" routerLinkActive=\"active\">\n                            {{'weakPasswordsReport' | i18n}}\n                        </a>\n                        <a routerLink=\"unsecured-websites-report\" class=\"list-group-item\" routerLinkActive=\"active\">\n                            {{'unsecuredWebsitesReport' | i18n}}\n                        </a>\n                        <a routerLink=\"inactive-two-factor-report\" class=\"list-group-item\" routerLinkActive=\"active\">\n                            {{'inactive2faReport' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-9\">\n                <router-outlet></router-outlet>\n            </div>\n        </div>\n    </ng-container>\n</div>\n","import {\n    Component,\n    ComponentFactoryResolver,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport {\n    UnsecuredWebsitesReportComponent as BaseUnsecuredWebsitesReportComponent,\n} from '../../tools/unsecured-websites-report.component';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\n@Component({\n    selector: 'app-unsecured-websites-report',\n    templateUrl: '../../tools/unsecured-websites-report.component.html',\n})\nexport class UnsecuredWebsitesReportComponent extends BaseUnsecuredWebsitesReportComponent {\n    constructor(cipherService: CipherService, componentFactoryResolver: ComponentFactoryResolver,\n        messagingService: MessagingService, userService: UserService,\n        private route: ActivatedRoute) {\n        super(cipherService, componentFactoryResolver, messagingService, userService);\n    }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organization = await this.userService.getOrganization(params.organizationId);\n            await super.ngOnInit();\n        });\n    }\n\n    getAllCiphers(): Promise<CipherView[]> {\n        return this.cipherService.getAllFromApiForOrganization(this.organization.id);\n    }\n}\n","import {\n    Component,\n    ComponentFactoryResolver,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { Cipher } from 'jslib/models/domain/cipher';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport {\n    WeakPasswordsReportComponent as BaseWeakPasswordsReportComponent,\n} from '../../tools/weak-passwords-report.component';\n\n@Component({\n    selector: 'app-weak-passwords-report',\n    templateUrl: '../../tools/weak-passwords-report.component.html',\n})\nexport class WeakPasswordsReportComponent extends BaseWeakPasswordsReportComponent {\n    manageableCiphers: Cipher[];\n\n    constructor(cipherService: CipherService, passwordGenerationService: PasswordGenerationService,\n        componentFactoryResolver: ComponentFactoryResolver, messagingService: MessagingService,\n        userService: UserService, private route: ActivatedRoute) {\n        super(cipherService, passwordGenerationService, componentFactoryResolver, messagingService, userService);\n    }\n\n    async ngOnInit() {\n        this.route.parent.parent.params.subscribe(async params => {\n            this.organization = await this.userService.getOrganization(params.organizationId);\n            this.manageableCiphers = await this.cipherService.getAll();\n            await super.ngOnInit();\n        });\n    }\n\n    getAllCiphers(): Promise<CipherView[]> {\n        return this.cipherService.getAllFromApiForOrganization(this.organization.id);\n    }\n\n    canManageCipher(c: CipherView): boolean {\n        return this.manageableCiphers.some(x => x.id === c.id);\n    }\n}\n","import {\n    ChangeDetectorRef,\n    Component,\n    ComponentFactoryResolver,\n    NgZone,\n    OnDestroy,\n    OnInit,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nimport { Organization } from 'jslib/models/domain/organization';\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { ModalComponent } from '../../modal.component';\n\nimport { EntityEventsComponent } from '../manage/entity-events.component';\nimport { AddEditComponent } from './add-edit.component';\nimport { AttachmentsComponent } from './attachments.component';\nimport { CiphersComponent } from './ciphers.component';\nimport { CollectionsComponent } from './collections.component';\nimport { GroupingsComponent } from './groupings.component';\n\nconst BroadcasterSubscriptionId = 'OrgVaultComponent';\n\n@Component({\n    selector: 'app-org-vault',\n    templateUrl: 'vault.component.html',\n})\nexport class VaultComponent implements OnInit, OnDestroy {\n    @ViewChild(GroupingsComponent, { static: true }) groupingsComponent: GroupingsComponent;\n    @ViewChild(CiphersComponent, { static: true }) ciphersComponent: CiphersComponent;\n    @ViewChild('attachments', { read: ViewContainerRef, static: true }) attachmentsModalRef: ViewContainerRef;\n    @ViewChild('cipherAddEdit', { read: ViewContainerRef, static: true }) cipherAddEditModalRef: ViewContainerRef;\n    @ViewChild('collections', { read: ViewContainerRef, static: true }) collectionsModalRef: ViewContainerRef;\n    @ViewChild('eventsTemplate', { read: ViewContainerRef, static: true }) eventsModalRef: ViewContainerRef;\n\n    organization: Organization;\n    collectionId: string = null;\n    type: CipherType = null;\n    deleted: boolean = false;\n    trashCleanupWarning: string = null;\n\n    modal: ModalComponent = null;\n\n    constructor(private route: ActivatedRoute, private userService: UserService,\n        private router: Router, private changeDetectorRef: ChangeDetectorRef,\n        private syncService: SyncService, private i18nService: I18nService,\n        private componentFactoryResolver: ComponentFactoryResolver, private messagingService: MessagingService,\n        private broadcasterService: BroadcasterService, private ngZone: NgZone,\n        private platformUtilsService: PlatformUtilsService) { }\n\n    ngOnInit() {\n        this.trashCleanupWarning = this.i18nService.t(\n            this.platformUtilsService.isSelfHost() ? 'trashCleanupWarningSelfHosted' : 'trashCleanupWarning'\n        );\n\n        const queryParams = this.route.parent.params.subscribe(async params => {\n            this.organization = await this.userService.getOrganization(params.organizationId);\n            this.groupingsComponent.organization = this.organization;\n            this.ciphersComponent.organization = this.organization;\n\n            const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n                this.ciphersComponent.searchText = this.groupingsComponent.searchText = qParams.search;\n                if (!this.organization.canManageAllCollections) {\n                    await this.syncService.fullSync(false);\n                    this.broadcasterService.subscribe(BroadcasterSubscriptionId, (message: any) => {\n                        this.ngZone.run(async () => {\n                            switch (message.command) {\n                                case 'syncCompleted':\n                                    if (message.successfully) {\n                                        await Promise.all([\n                                            this.groupingsComponent.load(),\n                                            this.ciphersComponent.refresh(),\n                                        ]);\n                                        this.changeDetectorRef.detectChanges();\n                                    }\n                                    break;\n                            }\n                        });\n                    });\n                }\n                await this.groupingsComponent.load();\n\n                if (qParams == null) {\n                    this.groupingsComponent.selectedAll = true;\n                    await this.ciphersComponent.reload();\n                } else {\n                    if (qParams.deleted) {\n                        this.groupingsComponent.selectedTrash = true;\n                        await this.filterDeleted(true);\n                    } else if (qParams.type) {\n                        const t = parseInt(qParams.type, null);\n                        this.groupingsComponent.selectedType = t;\n                        await this.filterCipherType(t, true);\n                    } else if (qParams.collectionId) {\n                        this.groupingsComponent.selectedCollectionId = qParams.collectionId;\n                        await this.filterCollection(qParams.collectionId, true);\n                    } else {\n                        this.groupingsComponent.selectedAll = true;\n                        await this.ciphersComponent.reload();\n                    }\n                }\n\n                if (qParams.viewEvents != null) {\n                    const cipher = this.ciphersComponent.ciphers.filter(c => c.id === qParams.viewEvents);\n                    if (cipher.length > 0) {\n                        this.viewEvents(cipher[0]);\n                    }\n                }\n\n                if (queryParamsSub != null) {\n                    queryParamsSub.unsubscribe();\n                }\n            });\n\n            if (queryParams != null) {\n                queryParams.unsubscribe();\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);\n    }\n\n    async clearGroupingFilters() {\n        this.ciphersComponent.showAddNew = true;\n        this.ciphersComponent.deleted = false;\n        this.groupingsComponent.searchPlaceholder = this.i18nService.t('searchVault');\n        await this.ciphersComponent.applyFilter();\n        this.clearFilters();\n        this.go();\n    }\n\n    async filterCipherType(type: CipherType, load = false) {\n        this.ciphersComponent.showAddNew = true;\n        this.ciphersComponent.deleted = false;\n        this.groupingsComponent.searchPlaceholder = this.i18nService.t('searchType');\n        const filter = (c: CipherView) => c.type === type;\n        if (load) {\n            await this.ciphersComponent.reload(filter);\n        } else {\n            await this.ciphersComponent.applyFilter(filter);\n        }\n        this.clearFilters();\n        this.type = type;\n        this.go();\n    }\n\n    async filterCollection(collectionId: string, load = false) {\n        this.ciphersComponent.showAddNew = true;\n        this.ciphersComponent.deleted = false;\n        this.groupingsComponent.searchPlaceholder = this.i18nService.t('searchCollection');\n        const filter = (c: CipherView) => {\n            if (collectionId === 'unassigned') {\n                return c.collectionIds == null || c.collectionIds.length === 0;\n            } else {\n                return c.collectionIds != null && c.collectionIds.indexOf(collectionId) > -1;\n            }\n        };\n        if (load) {\n            await this.ciphersComponent.reload(filter);\n        } else {\n            await this.ciphersComponent.applyFilter(filter);\n        }\n        this.clearFilters();\n        this.collectionId = collectionId;\n        this.go();\n    }\n\n    async filterDeleted(load: boolean = false) {\n        this.ciphersComponent.showAddNew = false;\n        this.ciphersComponent.deleted = true;\n        this.groupingsComponent.searchPlaceholder = this.i18nService.t('searchTrash');\n        if (load) {\n            await this.ciphersComponent.reload(null, true);\n        } else {\n            await this.ciphersComponent.applyFilter(null);\n        }\n        this.clearFilters();\n        this.deleted = true;\n        this.go();\n    }\n\n    filterSearchText(searchText: string) {\n        this.ciphersComponent.searchText = searchText;\n        this.ciphersComponent.search(200);\n    }\n\n    editCipherAttachments(cipher: CipherView) {\n        if (this.organization.maxStorageGb == null || this.organization.maxStorageGb === 0) {\n            this.messagingService.send('upgradeOrganization', { organizationId: cipher.organizationId });\n            return;\n        }\n\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.attachmentsModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<AttachmentsComponent>(AttachmentsComponent, this.attachmentsModalRef);\n\n        childComponent.organization = this.organization;\n        childComponent.cipherId = cipher.id;\n        let madeAttachmentChanges = false;\n        childComponent.onUploadedAttachment.subscribe(() => madeAttachmentChanges = true);\n        childComponent.onDeletedAttachment.subscribe(() => madeAttachmentChanges = true);\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n            if (madeAttachmentChanges) {\n                await this.ciphersComponent.refresh();\n            }\n            madeAttachmentChanges = false;\n        });\n    }\n\n    editCipherCollections(cipher: CipherView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.collectionsModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<CollectionsComponent>(CollectionsComponent, this.collectionsModalRef);\n\n        if (this.organization.canManageAllCollections) {\n            childComponent.collectionIds = cipher.collectionIds;\n            childComponent.collections = this.groupingsComponent.collections.filter(c => !c.readOnly);\n        }\n        childComponent.organization = this.organization;\n        childComponent.cipherId = cipher.id;\n        childComponent.onSavedCollections.subscribe(async () => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    addCipher() {\n        const component = this.editCipher(null);\n        component.organizationId = this.organization.id;\n        component.type = this.type;\n        if (this.organization.canManageAllCollections) {\n            component.collections = this.groupingsComponent.collections.filter(c => !c.readOnly);\n        }\n        if (this.collectionId != null) {\n            component.collectionIds = [this.collectionId];\n        }\n    }\n\n    editCipher(cipher: CipherView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.cipherAddEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<AddEditComponent>(AddEditComponent, this.cipherAddEditModalRef);\n\n        childComponent.organization = this.organization;\n        childComponent.cipherId = cipher == null ? null : cipher.id;\n        childComponent.onSavedCipher.subscribe(async (c: CipherView) => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n        childComponent.onDeletedCipher.subscribe(async (c: CipherView) => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n        childComponent.onRestoredCipher.subscribe(async (c: CipherView) => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n\n        return childComponent;\n    }\n\n    cloneCipher(cipher: CipherView) {\n        const component = this.editCipher(cipher);\n        component.cloneMode = true;\n        component.organizationId = this.organization.id;\n        if (this.organization.canManageAllCollections) {\n            component.collections = this.groupingsComponent.collections.filter(c => !c.readOnly);\n        }\n        // Regardless of Admin state, the collection Ids need to passed manually as they are not assigned value\n        // in the add-edit componenet\n        component.collectionIds = cipher.collectionIds;\n    }\n\n    async viewEvents(cipher: CipherView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.eventsModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<EntityEventsComponent>(\n            EntityEventsComponent, this.eventsModalRef);\n\n        childComponent.name = cipher.name;\n        childComponent.organizationId = this.organization.id;\n        childComponent.entityId = cipher.id;\n        childComponent.showUser = true;\n        childComponent.entity = 'cipher';\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    private clearFilters() {\n        this.collectionId = null;\n        this.type = null;\n        this.deleted = false;\n    }\n\n    private go(queryParams: any = null) {\n        if (queryParams == null) {\n            queryParams = {\n                type: this.type,\n                collectionId: this.collectionId,\n                deleted: this.deleted ? true : null,\n            };\n        }\n\n        this.router.navigate([], {\n            relativeTo: this.route,\n            queryParams: queryParams,\n            replaceUrl: true,\n        });\n    }\n}\n","<div class=\"container page-content\">\n    <div class=\"row\">\n        <div class=\"col-3\">\n            <app-org-vault-groupings [showFolders]=\"false\" [showFavorites]=\"false\" [showTrash]=\"true\"\n                (onAllClicked)=\"clearGroupingFilters()\" (onCipherTypeClicked)=\"filterCipherType($event)\"\n                (onCollectionClicked)=\"filterCollection($event.id)\" (onSearchTextChanged)=\"filterSearchText($event)\"\n                (onTrashClicked)=\"filterDeleted()\">\n            </app-org-vault-groupings>\n        </div>\n        <div class=\"col-9\">\n            <div class=\"page-header d-flex\">\n                <h1>\n                    {{'vault' | i18n}}\n                    <small #actionSpinner [appApiAction]=\"ciphersComponent.actionPromise\">\n                        <ng-container *ngIf=\"actionSpinner.loading\">\n                            <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\"\n                                aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n                        </ng-container>\n                    </small>\n                </h1>\n                <div class=\"ml-auto d-flex\">\n                    <app-vault-bulk-actions [ciphersComponent]=\"ciphersComponent\" [modal]=\"modal\" [deleted]=\"deleted\"\n                        [organization]=\"organization\">\n                    </app-vault-bulk-actions>\n                    <button type=\"button\" class=\"btn btn-outline-primary btn-sm ml-auto\" (click)=\"addCipher()\"\n                        *ngIf=\"!deleted\">\n                        <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i>{{'addItem' | i18n}}\n                    </button>\n                </div>\n            </div>\n            <app-callout type=\"warning\" *ngIf=\"deleted\" icon=\"fa-warning\">\n                {{trashCleanupWarning}}\n            </app-callout>\n            <app-org-vault-ciphers (onCipherClicked)=\"editCipher($event)\"\n                (onAttachmentsClicked)=\"editCipherAttachments($event)\" (onAddCipher)=\"addCipher()\"\n                (onCollectionsClicked)=\"editCipherCollections($event)\" (onEventsClicked)=\"viewEvents($event)\"\n                (onCloneClicked)=\"cloneCipher($event)\">\n            </app-org-vault-ciphers>\n        </div>\n    </div>\n</div>\n<ng-template #attachments></ng-template>\n<ng-template #cipherAddEdit></ng-template>\n<ng-template #collections></ng-template>\n<ng-template #eventsTemplate></ng-template>\n","import { Component } from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CipherData } from 'jslib/models/data/cipherData';\nimport { Cipher } from 'jslib/models/domain/cipher';\nimport { Organization } from 'jslib/models/domain/organization';\n\nimport { AttachmentView } from 'jslib/models/view/attachmentView';\n\nimport { AttachmentsComponent as BaseAttachmentsComponent } from '../../vault/attachments.component';\n\n@Component({\n    selector: 'app-org-vault-attachments',\n    templateUrl: '../../vault/attachments.component.html',\n})\nexport class AttachmentsComponent extends BaseAttachmentsComponent {\n    viewOnly = false;\n    organization: Organization;\n\n    constructor(cipherService: CipherService, i18nService: I18nService,\n        cryptoService: CryptoService, userService: UserService,\n        platformUtilsService: PlatformUtilsService, apiService: ApiService) {\n        super(cipherService, i18nService, cryptoService, userService, platformUtilsService, apiService);\n    }\n\n    protected async reupload(attachment: AttachmentView) {\n        if (this.organization.canManageAllCollections && this.showFixOldAttachments(attachment)) {\n            await super.reuploadCipherAttachment(attachment, true);\n        }\n    }\n\n    protected async loadCipher() {\n        if (!this.organization.canManageAllCollections) {\n            return await super.loadCipher();\n        }\n        const response = await this.apiService.getCipherAdmin(this.cipherId);\n        return new Cipher(new CipherData(response));\n    }\n\n    protected saveCipherAttachment(file: File) {\n        return this.cipherService.saveAttachmentWithServer(this.cipherDomain, file, this.organization.canManageAllCollections);\n    }\n\n    protected deleteCipherAttachment(attachmentId: string) {\n        if (!this.organization.canManageAllCollections) {\n            return super.deleteCipherAttachment(attachmentId);\n        }\n        return this.apiService.deleteCipherAttachmentAdmin(this.cipherId, attachmentId);\n    }\n\n    protected showFixOldAttachments(attachment: AttachmentView) {\n        return attachment.key == null && this.organization.canManageAllCollections;\n    }\n}\n","import {\n    Directive,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { CipherService } from '../../abstractions/cipher.service';\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { UserService } from '../../abstractions/user.service';\n\nimport { Cipher } from '../../models/domain/cipher';\nimport { ErrorResponse } from '../../models/response';\n\nimport { AttachmentView } from '../../models/view/attachmentView';\nimport { CipherView } from '../../models/view/cipherView';\n\n@Directive()\nexport class AttachmentsComponent implements OnInit {\n    @Input() cipherId: string;\n    @Output() onUploadedAttachment = new EventEmitter();\n    @Output() onDeletedAttachment = new EventEmitter();\n    @Output() onReuploadedAttachment = new EventEmitter();\n\n    cipher: CipherView;\n    cipherDomain: Cipher;\n    hasUpdatedKey: boolean;\n    canAccessAttachments: boolean;\n    formPromise: Promise<any>;\n    deletePromises: { [id: string]: Promise<any>; } = {};\n    reuploadPromises: { [id: string]: Promise<any>; } = {};\n    emergencyAccessId?: string = null;\n\n    constructor(protected cipherService: CipherService, protected i18nService: I18nService,\n        protected cryptoService: CryptoService, protected userService: UserService,\n        protected platformUtilsService: PlatformUtilsService, protected apiService: ApiService,\n        protected win: Window) { }\n\n    async ngOnInit() {\n        await this.init();\n    }\n\n    async submit() {\n        if (!this.hasUpdatedKey) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('updateKey'));\n            return;\n        }\n\n        const fileEl = document.getElementById('file') as HTMLInputElement;\n        const files = fileEl.files;\n        if (files == null || files.length === 0) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('selectFile'));\n            return;\n        }\n\n        if (files[0].size > 524288000) { // 500 MB\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('maxFileSize'));\n            return;\n        }\n\n        try {\n            this.formPromise = this.saveCipherAttachment(files[0]);\n            this.cipherDomain = await this.formPromise;\n            this.cipher = await this.cipherDomain.decrypt();\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('attachmentSaved'));\n            this.onUploadedAttachment.emit();\n        } catch { }\n\n        // reset file input\n        // ref: https://stackoverflow.com/a/20552042\n        fileEl.type = '';\n        fileEl.type = 'file';\n        fileEl.value = '';\n    }\n\n    async delete(attachment: AttachmentView) {\n        if (this.deletePromises[attachment.id] != null) {\n            return;\n        }\n\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteAttachmentConfirmation'), this.i18nService.t('deleteAttachment'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return;\n        }\n\n        try {\n            this.deletePromises[attachment.id] = this.deleteCipherAttachment(attachment.id);\n            await this.deletePromises[attachment.id];\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('deletedAttachment'));\n            const i = this.cipher.attachments.indexOf(attachment);\n            if (i > -1) {\n                this.cipher.attachments.splice(i, 1);\n            }\n        } catch { }\n\n        this.deletePromises[attachment.id] = null;\n        this.onDeletedAttachment.emit();\n    }\n\n    async download(attachment: AttachmentView) {\n        const a = (attachment as any);\n        if (a.downloading) {\n            return;\n        }\n\n        if (!this.canAccessAttachments) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('premiumRequired'),\n                this.i18nService.t('premiumRequiredDesc'));\n            return;\n        }\n\n        let url: string;\n        try {\n            const attachmentDownloadResponse = await this.apiService.getAttachmentData(this.cipher.id, attachment.id,\n                this.emergencyAccessId);\n            url = attachmentDownloadResponse.url;\n        } catch (e) {\n            if (e instanceof ErrorResponse && (e as ErrorResponse).statusCode === 404) {\n                url = attachment.url;\n            } else if (e instanceof ErrorResponse) {\n                throw new Error((e as ErrorResponse).getSingleMessage());\n            } else {\n                throw e;\n            }\n        }\n\n        a.downloading = true;\n        const response = await fetch(new Request(url, { cache: 'no-store' }));\n        if (response.status !== 200) {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n            a.downloading = false;\n            return;\n        }\n\n        try {\n            const buf = await response.arrayBuffer();\n            const key = attachment.key != null ? attachment.key :\n                await this.cryptoService.getOrgKey(this.cipher.organizationId);\n            const decBuf = await this.cryptoService.decryptFromBytes(buf, key);\n            this.platformUtilsService.saveFile(this.win, decBuf, null, attachment.fileName);\n        } catch (e) {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n        }\n\n        a.downloading = false;\n    }\n\n    protected async init() {\n        this.cipherDomain = await this.loadCipher();\n        this.cipher = await this.cipherDomain.decrypt();\n\n        this.hasUpdatedKey = await this.cryptoService.hasEncKey();\n        const canAccessPremium = await this.userService.canAccessPremium();\n        this.canAccessAttachments = canAccessPremium || this.cipher.organizationId != null;\n\n        if (!this.canAccessAttachments) {\n            const confirmed = await this.platformUtilsService.showDialog(\n                this.i18nService.t('premiumRequiredDesc'), this.i18nService.t('premiumRequired'),\n                this.i18nService.t('learnMore'), this.i18nService.t('cancel'));\n            if (confirmed) {\n                this.platformUtilsService.launchUri('https://vault.bitwarden.com/#/?premium=purchase');\n            }\n        } else if (!this.hasUpdatedKey) {\n            const confirmed = await this.platformUtilsService.showDialog(\n                this.i18nService.t('updateKey'), this.i18nService.t('featureUnavailable'),\n                this.i18nService.t('learnMore'), this.i18nService.t('cancel'), 'warning');\n            if (confirmed) {\n                this.platformUtilsService.launchUri('https://help.bitwarden.com/article/update-encryption-key/');\n            }\n        }\n    }\n\n    protected async reuploadCipherAttachment(attachment: AttachmentView, admin: boolean) {\n        const a = (attachment as any);\n        if (attachment.key != null || a.downloading || this.reuploadPromises[attachment.id] != null) {\n            return;\n        }\n\n        try {\n            this.reuploadPromises[attachment.id] = Promise.resolve().then(async () => {\n                // 1. Download\n                a.downloading = true;\n                const response = await fetch(new Request(attachment.url, { cache: 'no-store' }));\n                if (response.status !== 200) {\n                    this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n                    a.downloading = false;\n                    return;\n                }\n\n                try {\n                    // 2. Resave\n                    const buf = await response.arrayBuffer();\n                    const key = attachment.key != null ? attachment.key :\n                        await this.cryptoService.getOrgKey(this.cipher.organizationId);\n                    const decBuf = await this.cryptoService.decryptFromBytes(buf, key);\n                    this.cipherDomain = await this.cipherService.saveAttachmentRawWithServer(\n                        this.cipherDomain, attachment.fileName, decBuf, admin);\n                    this.cipher = await this.cipherDomain.decrypt();\n\n                    // 3. Delete old\n                    this.deletePromises[attachment.id] = this.deleteCipherAttachment(attachment.id);\n                    await this.deletePromises[attachment.id];\n                    const foundAttachment = this.cipher.attachments.filter(a2 => a2.id === attachment.id);\n                    if (foundAttachment.length > 0) {\n                        const i = this.cipher.attachments.indexOf(foundAttachment[0]);\n                        if (i > -1) {\n                            this.cipher.attachments.splice(i, 1);\n                        }\n                    }\n\n                    this.platformUtilsService.showToast('success', null, this.i18nService.t('attachmentSaved'));\n                    this.onReuploadedAttachment.emit();\n                } catch (e) {\n                    this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n                }\n\n                a.downloading = false;\n            });\n            await this.reuploadPromises[attachment.id];\n        } catch { }\n    }\n\n    protected loadCipher() {\n        return this.cipherService.get(this.cipherId);\n    }\n\n    protected saveCipherAttachment(file: File) {\n        return this.cipherService.saveAttachmentWithServer(this.cipherDomain, file);\n    }\n\n    protected deleteCipherAttachment(attachmentId: string) {\n        return this.cipherService.deleteAttachmentWithServer(this.cipher.id, attachmentId);\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class GlobalDomainResponse extends BaseResponse {\n    type: number;\n    domains: string[];\n    excluded: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.type = this.getResponseProperty('Type');\n        this.domains = this.getResponseProperty('Domains');\n        this.excluded = this.getResponseProperty('Excluded');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { KdfType } from '../../enums/kdfType';\n\nexport class IdentityTokenResponse extends BaseResponse {\n    accessToken: string;\n    expiresIn: number;\n    refreshToken: string;\n    tokenType: string;\n\n    resetMasterPassword: boolean;\n    privateKey: string;\n    key: string;\n    twoFactorToken: string;\n    kdf: KdfType;\n    kdfIterations: number;\n\n    constructor(response: any) {\n        super(response);\n        this.accessToken = response.access_token;\n        this.expiresIn = response.expires_in;\n        this.refreshToken = response.refresh_token;\n        this.tokenType = response.token_type;\n\n        this.resetMasterPassword = this.getResponseProperty('ResetMasterPassword');\n        this.privateKey = this.getResponseProperty('PrivateKey');\n        this.key = this.getResponseProperty('Key');\n        this.twoFactorToken = this.getResponseProperty('TwoFactorToken');\n        this.kdf = this.getResponseProperty('Kdf');\n        this.kdfIterations = this.getResponseProperty('KdfIterations');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nexport class IdentityTwoFactorResponse extends BaseResponse {\n    twoFactorProviders: TwoFactorProviderType[];\n    twoFactorProviders2 = new Map<TwoFactorProviderType, { [key: string]: string; }>();\n\n    constructor(response: any) {\n        super(response);\n        this.twoFactorProviders = this.getResponseProperty('TwoFactorProviders');\n        const twoFactorProviders2 = this.getResponseProperty('TwoFactorProviders2');\n        if (twoFactorProviders2 != null) {\n            for (const prop in twoFactorProviders2) {\n                if (twoFactorProviders2.hasOwnProperty(prop)) {\n                    this.twoFactorProviders2.set(parseInt(prop, null), twoFactorProviders2[prop]);\n                }\n            }\n        }\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class ListResponse<T> extends BaseResponse {\n    data: T[];\n    continuationToken: string;\n\n    constructor(response: any, t: new (dataResponse: any) => T) {\n        super(response);\n        const data = this.getResponseProperty('Data');\n        this.data = data == null ? [] : data.map((dr: any) => new t(dr));\n        this.continuationToken = this.getResponseProperty('ContinuationToken');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { OrganizationUserStatusType } from '../../enums/organizationUserStatusType';\nimport { OrganizationUserType } from '../../enums/organizationUserType';\nimport { PermissionsApi } from '../api/permissionsApi';\n\nexport class ProfileOrganizationResponse extends BaseResponse {\n    id: string;\n    name: string;\n    usePolicies: boolean;\n    useGroups: boolean;\n    useDirectory: boolean;\n    useEvents: boolean;\n    useTotp: boolean;\n    use2fa: boolean;\n    useApi: boolean;\n    useBusinessPortal: boolean;\n    useSso: boolean;\n    selfHost: boolean;\n    usersGetPremium: boolean;\n    seats: number;\n    maxCollections: number;\n    maxStorageGb?: number;\n    key: string;\n    status: OrganizationUserStatusType;\n    type: OrganizationUserType;\n    enabled: boolean;\n    ssoBound: boolean;\n    identifier: string;\n    permissions: PermissionsApi;\n    resetPasswordKey: string;\n    userId: string;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.name = this.getResponseProperty('Name');\n        this.usePolicies = this.getResponseProperty('UsePolicies');\n        this.useGroups = this.getResponseProperty('UseGroups');\n        this.useDirectory = this.getResponseProperty('UseDirectory');\n        this.useEvents = this.getResponseProperty('UseEvents');\n        this.useTotp = this.getResponseProperty('UseTotp');\n        this.use2fa = this.getResponseProperty('Use2fa');\n        this.useApi = this.getResponseProperty('UseApi');\n        this.useBusinessPortal = this.getResponseProperty('UseBusinessPortal');\n        this.useSso = this.getResponseProperty('UseSso');\n        this.selfHost = this.getResponseProperty('SelfHost');\n        this.usersGetPremium = this.getResponseProperty('UsersGetPremium');\n        this.seats = this.getResponseProperty('Seats');\n        this.maxCollections = this.getResponseProperty('MaxCollections');\n        this.maxStorageGb = this.getResponseProperty('MaxStorageGb');\n        this.key = this.getResponseProperty('Key');\n        this.status = this.getResponseProperty('Status');\n        this.type = this.getResponseProperty('Type');\n        this.enabled = this.getResponseProperty('Enabled');\n        this.ssoBound = this.getResponseProperty('SsoBound');\n        this.identifier = this.getResponseProperty('Identifier');\n        this.permissions = new PermissionsApi(this.getResponseProperty('permissions'));\n        this.resetPasswordKey = this.getResponseProperty('ResetPasswordKey');\n        this.userId = this.getResponseProperty('UserId');\n    }\n}\n","import { BaseResponse } from './baseResponse';\nimport { CipherResponse } from './cipherResponse';\nimport { CollectionDetailsResponse } from './collectionResponse';\nimport { DomainsResponse } from './domainsResponse';\nimport { FolderResponse } from './folderResponse';\nimport { PolicyResponse } from './policyResponse';\nimport { ProfileResponse } from './profileResponse';\nimport { SendResponse } from './sendResponse';\n\nexport class SyncResponse extends BaseResponse {\n    profile?: ProfileResponse;\n    folders: FolderResponse[] = [];\n    collections: CollectionDetailsResponse[] = [];\n    ciphers: CipherResponse[] = [];\n    domains?: DomainsResponse;\n    policies?: PolicyResponse[] = [];\n    sends: SendResponse[] = [];\n\n    constructor(response: any) {\n        super(response);\n\n        const profile = this.getResponseProperty('Profile');\n        if (profile != null) {\n            this.profile = new ProfileResponse(profile);\n        }\n\n        const folders = this.getResponseProperty('Folders');\n        if (folders != null) {\n            this.folders = folders.map((f: any) => new FolderResponse(f));\n        }\n\n        const collections = this.getResponseProperty('Collections');\n        if (collections != null) {\n            this.collections = collections.map((c: any) => new CollectionDetailsResponse(c));\n        }\n\n        const ciphers = this.getResponseProperty('Ciphers');\n        if (ciphers != null) {\n            this.ciphers = ciphers.map((c: any) => new CipherResponse(c));\n        }\n\n        const domains = this.getResponseProperty('Domains');\n        if (domains != null) {\n            this.domains = new DomainsResponse(domains);\n        }\n\n        const policies = this.getResponseProperty('Policies');\n        if (policies != null) {\n            this.policies = policies.map((p: any) => new PolicyResponse(p));\n        }\n\n        const sends = this.getResponseProperty('Sends');\n        if (sends != null) {\n            this.sends = sends.map((s: any) => new SendResponse(s));\n        }\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { PolicyType } from '../../enums/policyType';\n\nexport class PolicyResponse extends BaseResponse {\n    id: string;\n    organizationId: string;\n    type: PolicyType;\n    data: any;\n    enabled: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.organizationId = this.getResponseProperty('OrganizationId');\n        this.type = this.getResponseProperty('Type');\n        this.data = this.getResponseProperty('Data');\n        this.enabled = this.getResponseProperty('Enabled');\n    }\n}\n","import { Component } from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { CipherData } from 'jslib/models/data/cipherData';\nimport { Cipher } from 'jslib/models/domain/cipher';\nimport { Organization } from 'jslib/models/domain/organization';\nimport { CipherCollectionsRequest } from 'jslib/models/request/cipherCollectionsRequest';\n\nimport { CollectionsComponent as BaseCollectionsComponent } from '../../vault/collections.component';\n\n@Component({\n    selector: 'app-org-vault-collections',\n    templateUrl: '../../vault/collections.component.html',\n})\nexport class CollectionsComponent extends BaseCollectionsComponent {\n    organization: Organization;\n\n    constructor(collectionService: CollectionService, platformUtilsService: PlatformUtilsService,\n        i18nService: I18nService, cipherService: CipherService,\n        private apiService: ApiService) {\n        super(collectionService, platformUtilsService, i18nService, cipherService);\n        this.allowSelectNone = true;\n    }\n\n    protected async loadCipher() {\n        if (!this.organization.canManageAllCollections) {\n            return await super.loadCipher();\n        }\n        const response = await this.apiService.getCipherAdmin(this.cipherId);\n        return new Cipher(new CipherData(response));\n    }\n\n    protected loadCipherCollections() {\n        if (!this.organization.canManageAllCollections) {\n            return super.loadCipherCollections();\n        }\n        return this.collectionIds;\n    }\n\n    protected loadCollections() {\n        if (!this.organization.canManageAllCollections) {\n            return super.loadCollections();\n        }\n        return Promise.resolve(this.collections);\n    }\n\n    protected saveCollections() {\n        if (this.organization.canManageAllCollections) {\n            const request = new CipherCollectionsRequest(this.cipherDomain.collectionIds);\n            return this.apiService.putCipherCollectionsAdmin(this.cipherId, request);\n        } else {\n            return super.saveCollections();\n        }\n    }\n}\n","export class CipherCollectionsRequest {\n    collectionIds: string[];\n\n    constructor(collectionIds: string[]) {\n        this.collectionIds = collectionIds == null ? [] : collectionIds;\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { Organization } from 'jslib/models/domain/organization';\nimport { CipherBulkDeleteRequest } from 'jslib/models/request/cipherBulkDeleteRequest';\n\n@Component({\n    selector: 'app-vault-bulk-delete',\n    templateUrl: 'bulk-delete.component.html',\n})\nexport class BulkDeleteComponent {\n    @Input() cipherIds: string[] = [];\n    @Input() permanent: boolean = false;\n    @Input() organization: Organization;\n    @Output() onDeleted = new EventEmitter();\n\n    formPromise: Promise<any>;\n\n    constructor(private cipherService: CipherService, private toasterService: ToasterService,\n        private i18nService: I18nService, private apiService: ApiService) { }\n\n    async submit() {\n        if (!this.organization || !this.organization.canManageAllCollections) {\n            await this.deleteCiphers();\n        } else {\n            await this.deleteCiphersAdmin();\n        }\n\n        await this.formPromise;\n\n        this.onDeleted.emit();\n        this.toasterService.popAsync('success', null, this.i18nService.t(this.permanent ? 'permanentlyDeletedItems'\n            : 'deletedItems'));\n    }\n\n    private async deleteCiphers() {\n        if (this.permanent) {\n            this.formPromise = await this.cipherService.deleteManyWithServer(this.cipherIds);\n        } else {\n            this.formPromise = await this.cipherService.softDeleteManyWithServer(this.cipherIds);\n        }\n    }\n\n    private async deleteCiphersAdmin() {\n        const deleteRequest = new CipherBulkDeleteRequest(this.cipherIds, this.organization.id);\n        if (this.permanent) {\n            this.formPromise = await this.apiService.deleteManyCiphersAdmin(deleteRequest);\n        } else {\n            this.formPromise = await this.apiService.putDeleteManyCiphersAdmin(deleteRequest);\n        }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"deleteSelectedTitle\">\n    <div class=\"modal-dialog modal-sm\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"deleteSelectedTitle\">\n                    {{(permanent ? 'permanentlyDeleteSelected' : 'deleteSelected') | i18n}}\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                {{(permanent ? 'permanentlyDeleteSelectedItemsDesc' : 'deleteSelectedItemsDesc') | i18n: cipherIds.length}}\n            </div>\n            <div class=\"modal-footer\">\n                <button appAutoFocus type=\"submit\" class=\"btn btn-danger btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{(permanent ? 'permanentlyDelete' : 'delete') | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","export class CipherBulkDeleteRequest {\n    ids: string[];\n    organizationId: string;\n\n    constructor(ids: string[], organizationId?: string) {\n        this.ids = ids == null ? [] : ids;\n        this.organizationId = organizationId;\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { FolderView } from 'jslib/models/view/folderView';\n\n@Component({\n    selector: 'app-vault-bulk-move',\n    templateUrl: 'bulk-move.component.html',\n})\nexport class BulkMoveComponent implements OnInit {\n    @Input() cipherIds: string[] = [];\n    @Output() onMoved = new EventEmitter();\n\n    folderId: string = null;\n    folders: FolderView[] = [];\n    formPromise: Promise<any>;\n\n    constructor(private cipherService: CipherService, private toasterService: ToasterService,\n        private i18nService: I18nService, private folderService: FolderService) { }\n\n    async ngOnInit() {\n        this.folders = await this.folderService.getAllDecrypted();\n        this.folderId = this.folders[0].id;\n    }\n\n    async submit() {\n        this.formPromise = this.cipherService.moveManyWithServer(this.cipherIds, this.folderId);\n        await this.formPromise;\n        this.onMoved.emit();\n        this.toasterService.popAsync('success', null, this.i18nService.t('movedItems'));\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"moveSelectedTitle\">\n    <div class=\"modal-dialog modal-sm\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"moveSelectedTitle\">\n                    {{'moveSelected' | i18n}}\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>{{'moveSelectedItemsDesc' | i18n: cipherIds.length}}</p>\n                <div class=\"form-group\">\n                    <label for=\"folder\">{{'folder' | i18n}}</label>\n                    <select id=\"folder\" name=\"FolderId\" [(ngModel)]=\"folderId\" class=\"form-control\">\n                        <option *ngFor=\"let f of folders\" [ngValue]=\"f.id\">{{f.name}}</option>\n                    </select>\n                </div>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\n@Component({\n    selector: 'app-vault-bulk-restore',\n    templateUrl: 'bulk-restore.component.html',\n})\nexport class BulkRestoreComponent {\n    @Input() cipherIds: string[] = [];\n    @Output() onRestored = new EventEmitter();\n\n    formPromise: Promise<any>;\n\n    constructor(private cipherService: CipherService, private toasterService: ToasterService,\n        private i18nService: I18nService) { }\n\n    async submit() {\n        this.formPromise = this.cipherService.restoreManyWithServer(this.cipherIds);\n        await this.formPromise;\n        this.onRestored.emit();\n        this.toasterService.popAsync('success', null, this.i18nService.t('restoredItems'));\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"restoreSelectedTitle\">\n    <div class=\"modal-dialog modal-sm\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"restoreSelectedTitle\">\n                    {{'restoreSelected' | i18n}}\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                {{'restoreSelectedItemsDesc' | i18n: cipherIds.length}}\n            </div>\n            <div class=\"modal-footer\">\n                <button appAutoFocus type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'restore' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CipherView } from 'jslib/models/view';\nimport { CollectionView } from 'jslib/models/view/collectionView';\n\nimport { Organization } from 'jslib/models/domain/organization';\n\n@Component({\n    selector: 'app-vault-bulk-share',\n    templateUrl: 'bulk-share.component.html',\n})\nexport class BulkShareComponent implements OnInit {\n    @Input() ciphers: CipherView[] = [];\n    @Input() organizationId: string;\n    @Output() onShared = new EventEmitter();\n\n    nonShareableCount = 0;\n    collections: CollectionView[] = [];\n    organizations: Organization[] = [];\n    shareableCiphers: CipherView[] = [];\n    formPromise: Promise<any>;\n\n    private writeableCollections: CollectionView[] = [];\n\n    constructor(private cipherService: CipherService, private toasterService: ToasterService,\n        private i18nService: I18nService, private collectionService: CollectionService,\n        private userService: UserService) { }\n\n    async ngOnInit() {\n        this.shareableCiphers = this.ciphers.filter(c => !c.hasOldAttachments && c.organizationId == null);\n        this.nonShareableCount = this.ciphers.length - this.shareableCiphers.length;\n        const allCollections = await this.collectionService.getAllDecrypted();\n        this.writeableCollections = allCollections.filter(c => !c.readOnly);\n        this.organizations = await this.userService.getAllOrganizations();\n        if (this.organizationId == null && this.organizations.length > 0) {\n            this.organizationId = this.organizations[0].id;\n        }\n        this.filterCollections();\n    }\n\n    ngOnDestroy() {\n        this.selectAll(false);\n    }\n\n    filterCollections() {\n        this.selectAll(false);\n        if (this.organizationId == null || this.writeableCollections.length === 0) {\n            this.collections = [];\n        } else {\n            this.collections = this.writeableCollections.filter(c => c.organizationId === this.organizationId);\n        }\n    }\n\n    async submit() {\n        const checkedCollectionIds = this.collections.filter(c => (c as any).checked).map(c => c.id);\n        try {\n            this.formPromise = this.cipherService.shareManyWithServer(this.shareableCiphers, this.organizationId,\n                checkedCollectionIds);\n            await this.formPromise;\n            this.onShared.emit();\n            this.toasterService.popAsync('success', null, this.i18nService.t('sharedItems'));\n        } catch { }\n    }\n\n    check(c: CollectionView, select?: boolean) {\n        (c as any).checked = select == null ? !(c as any).checked : select;\n    }\n\n    selectAll(select: boolean) {\n        const collections = select ? this.collections : this.writeableCollections;\n        collections.forEach(c => this.check(c, select));\n    }\n\n    get canSave() {\n        if (this.shareableCiphers != null && this.shareableCiphers.length > 0 && this.collections != null) {\n            for (let i = 0; i < this.collections.length; i++) {\n                if ((this.collections[i] as any).checked) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"shareSelectedTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"shareSelectedTitle\">\n                    {{'shareSelected' | i18n}}\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>{{'shareManyDesc' | i18n}}</p>\n                <p>{{'shareSelectedItemsCountDesc' | i18n: this.ciphers.length : shareableCiphers.length : nonShareableCount}}\n                </p>\n                <div class=\"form-group\">\n                    <label for=\"organization\">{{'organization' | i18n}}</label>\n                    <select id=\"organization\" name=\"OrganizationId\" [(ngModel)]=\"organizationId\" class=\"form-control\"\n                        (change)=\"filterCollections()\">\n                        <option *ngFor=\"let o of organizations\" [ngValue]=\"o.id\">{{o.name}}</option>\n                    </select>\n                </div>\n                <div class=\"d-flex\">\n                    <h3>{{'collections' | i18n}}</h3>\n                    <div class=\"ml-auto d-flex\" *ngIf=\"collections && collections.length\">\n                        <button type=\"button\" (click)=\"selectAll(true)\" class=\"btn btn-link btn-sm py-0\">\n                            {{'selectAll' | i18n}}\n                        </button>\n                        <button type=\"button\" (click)=\"selectAll(false)\" class=\"btn btn-link btn-sm py-0\">\n                            {{'unselectAll' | i18n}}\n                        </button>\n                    </div>\n                </div>\n                <div *ngIf=\"!collections || !collections.length\">\n                    {{'noCollectionsInList' | i18n}}\n                </div>\n                <table class=\"table table-hover table-list mb-0\" *ngIf=\"collections && collections.length\">\n                    <tbody>\n                        <tr *ngFor=\"let c of collections; let i = index\" (click)=\"check(c)\">\n                            <td class=\"table-list-checkbox\">\n                                <input type=\"checkbox\" [(ngModel)]=\"c.checked\" name=\"Collection[{{i}}].Checked\"\n                                    appStopProp>\n                            </td>\n                            <td>\n                                {{c.name}}\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit manual\" [disabled]=\"form.loading || !canSave\"\n                    [ngClass]=\"{loading:form.loading}\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { ActivatedRoute } from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { CryptoFunctionService } from 'jslib/abstractions/cryptoFunction.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { Utils } from 'jslib/misc/utils';\n\nimport { SendAccess } from 'jslib/models/domain/sendAccess';\nimport { SymmetricCryptoKey } from 'jslib/models/domain/symmetricCryptoKey';\n\nimport { SendAccessView } from 'jslib/models/view/sendAccessView';\n\nimport { SendType } from 'jslib/enums/sendType';\nimport { SendAccessRequest } from 'jslib/models/request/sendAccessRequest';\nimport { ErrorResponse } from 'jslib/models/response/errorResponse';\n\nimport { SendAccessResponse } from 'jslib/models/response/sendAccessResponse';\n\n@Component({\n    selector: 'app-send-access',\n    templateUrl: 'access.component.html',\n})\nexport class AccessComponent implements OnInit {\n    send: SendAccessView;\n    sendType = SendType;\n    downloading = false;\n    loading = true;\n    passwordRequired = false;\n    formPromise: Promise<SendAccessResponse>;\n    password: string;\n    showText = false;\n    unavailable = false;\n    error = false;\n    hideEmail = false;\n\n    private id: string;\n    private key: string;\n    private decKey: SymmetricCryptoKey;\n    private accessRequest: SendAccessRequest;\n\n    constructor(private i18nService: I18nService, private cryptoFunctionService: CryptoFunctionService,\n        private apiService: ApiService, private platformUtilsService: PlatformUtilsService,\n        private route: ActivatedRoute, private cryptoService: CryptoService) {\n    }\n\n    get sendText() {\n        if (this.send == null || this.send.text == null) {\n            return null;\n        }\n        return this.showText ? this.send.text.text : this.send.text.maskedText;\n    }\n\n    get expirationDate() {\n        if (this.send == null || this.send.expirationDate == null) {\n            return null;\n        }\n        return this.send.expirationDate;\n    }\n\n    get creatorIdentifier() {\n        if (this.send == null || this.send.creatorIdentifier == null) {\n            return null;\n        }\n        return this.send.creatorIdentifier;\n    }\n\n    ngOnInit() {\n        this.route.params.subscribe(async params => {\n            this.id = params.sendId;\n            this.key = params.key;\n            if (this.key == null || this.id == null) {\n                return;\n            }\n            await this.load();\n        });\n    }\n\n    async download() {\n        if (this.send == null || this.decKey == null) {\n            return;\n        }\n\n        if (this.downloading) {\n            return;\n        }\n\n\n        const downloadData = await this.apiService.getSendFileDownloadData(this.send, this.accessRequest);\n\n        if (Utils.isNullOrWhitespace(downloadData.url)) {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('missingSendFile'));\n            return;\n        }\n\n        this.downloading = true;\n        const response = await fetch(new Request(downloadData.url, { cache: 'no-store' }));\n        if (response.status !== 200) {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n            this.downloading = false;\n            return;\n        }\n\n        try {\n            const buf = await response.arrayBuffer();\n            const decBuf = await this.cryptoService.decryptFromBytes(buf, this.decKey);\n            this.platformUtilsService.saveFile(window, decBuf, null, this.send.file.fileName);\n        } catch (e) {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n        }\n\n        this.downloading = false;\n    }\n\n    copyText() {\n        this.platformUtilsService.copyToClipboard(this.send.text.text);\n        this.platformUtilsService.showToast('success', null,\n            this.i18nService.t('valueCopied', this.i18nService.t('sendTypeText')));\n    }\n\n    toggleText() {\n        this.showText = !this.showText;\n    }\n\n    async load() {\n        this.unavailable = false;\n        this.error = false;\n        this.hideEmail = false;\n        const keyArray = Utils.fromUrlB64ToArray(this.key);\n        this.accessRequest = new SendAccessRequest();\n        if (this.password != null) {\n            const passwordHash = await this.cryptoFunctionService.pbkdf2(this.password, keyArray, 'sha256', 100000);\n            this.accessRequest.password = Utils.fromBufferToB64(passwordHash);\n        }\n        try {\n            let sendResponse: SendAccessResponse = null;\n            if (this.loading) {\n                sendResponse = await this.apiService.postSendAccess(this.id, this.accessRequest);\n            } else {\n                this.formPromise = this.apiService.postSendAccess(this.id, this.accessRequest);\n                sendResponse = await this.formPromise;\n            }\n            this.passwordRequired = false;\n            const sendAccess = new SendAccess(sendResponse);\n            this.decKey = await this.cryptoService.makeSendKey(keyArray);\n            this.send = await sendAccess.decrypt(this.decKey);\n            this.showText = this.send.text != null ? !this.send.text.hidden : true;\n        } catch (e) {\n            if (e instanceof ErrorResponse) {\n                if (e.statusCode === 401) {\n                    this.passwordRequired = true;\n                } else if (e.statusCode === 404) {\n                    this.unavailable = true;\n                } else {\n                    this.error = true;\n                }\n            }\n        }\n        this.loading = false;\n        this.hideEmail = this.creatorIdentifier == null && !this.passwordRequired && !this.loading && !this.unavailable;\n    }\n}\n","<form #form (ngSubmit)=\"load()\" [appApiAction]=\"formPromise\" class=\"container\" ngNativeValidate>\n    <div class=\"row justify-content-center mt-5\">\n        <div class=\"col-12\">\n            <p class=\"lead text-center mb-4\">Bitwarden Send</p>\n        </div>\n        <div class=\"col-12 text-center\" *ngIf=\"creatorIdentifier != null\">\n            <p>{{'sendCreatorIdentifier' | i18n: creatorIdentifier }}</p>\n        </div>\n        <div class=\"col-8\" *ngIf=\"hideEmail\">\n            <app-callout type=\"warning\" title=\"{{'warning' | i18n}}\">\n                {{'viewSendHiddenEmailWarning' | i18n }} \n                <a href=\"https://bitwarden.com/help/article/receive-send/\" target=\"_blank\">{{'learnMore' | i18n}}</a>.\n            </app-callout>\n        </div>\n    </div>\n    <div class=\"row justify-content-center\">\n        <div class=\"col-5\">\n            <div class=\"card d-block\">\n                <div class=\"card-body\" *ngIf=\"loading\" class=\"text-center\">\n                    <i class=\"fa fa-spinner fa-spin fa-2x text-muted\" title=\"{{'loading' | i18n}}\"\n                        aria-hidden=\"true\"></i>\n                    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n                </div>\n                <div class=\"card-body\" *ngIf=\"!loading && passwordRequired\">\n                    <p>{{'sendProtectedPassword' | i18n}}</p>\n                    <p>{{'sendProtectedPasswordDontKnow' | i18n}}</p>\n                    <div class=\"form-group\">\n                        <label for=\"password\">{{'password' | i18n}}</label>\n                        <input id=\"password\" type=\"password\" name=\"Password\" class=\"text-monospace form-control\"\n                            [(ngModel)]=\"password\" required appInputVerbatim appAutofocus>\n                    </div>\n                    <div class=\"d-flex\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-block btn-submit\" [disabled]=\"form.loading\">\n                            <span>\n                                <i class=\"fa fa-sign-in\" aria-hidden=\"true\"></i> {{'continue' | i18n}}\n                            </span>\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        </button>\n                    </div>\n                </div>\n                <div class=\"card-body\" *ngIf=\"!loading && unavailable\">\n                    {{'sendAccessUnavailable' | i18n}}\n                </div>\n                <div class=\"card-body\" *ngIf=\"!loading && error\">\n                    {{'unexpectedError' | i18n}}\n                </div>\n                <div class=\"card-body\" *ngIf=\"!loading && !passwordRequired && send\">\n                    <p class=\"text-center\"><b>{{send.name}}</b></p>\n                    <hr>\n                    <!-- Text -->\n                    <ng-container *ngIf=\"send.type === sendType.Text\">\n                        <app-callout *ngIf=\"send.text.hidden\" type=\"tip\">{{'sendHiddenByDefault' | i18n}}</app-callout>\n                        <div class=\"form-group\">\n                            <textarea id=\"text\" rows=\"8\" name=\"Text\" [(ngModel)]=\"sendText\" class=\"form-control\"\n                                readonly></textarea>\n                        </div>\n                        <button class=\"btn btn-block btn-link\" type=\"button\" (click)=\"toggleText()\"\n                            *ngIf=\"send.text.hidden\">\n                            <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                [ngClass]=\"{'fa-eye': !showText, 'fa-eye-slash': showText}\"></i>\n                            {{'toggleVisibility' | i18n}}\n                        </button>\n                        <button class=\"btn btn-block btn-link\" type=\"button\" (click)=\"copyText()\">\n                            <i class=\"fa fa-copy\" aria-hidden=\"true\"></i> {{'copyValue' | i18n}}\n                        </button>\n                    </ng-container>\n                    <!-- File -->\n                    <ng-container *ngIf=\"send.type === sendType.File\">\n                        <p>{{send.file.fileName}}</p>\n                        <button class=\"btn btn-primary btn-block\" type=\"button\" (click)=\"download()\" *ngIf=\"!downloading\">\n                            <i class=\"fa fa-download\" aria-hidden=\"true\"></i>\n                            {{'downloadFile' | i18n}} ({{send.file.sizeName}})</button>\n                        <button class=\"btn btn-primary btn-block\" type=\"button\" *ngIf=\"downloading\" disabled=\"true\">\n                            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                        </button>\n                    </ng-container>\n                    <p *ngIf=\"expirationDate\" class=\"text-center text-muted\">Expires:\n                        {{expirationDate | date: 'medium'}}</p>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-12 text-center mt-5 text-muted\">\n            <p class=\"mb-0\">{{'sendAccessTaglineProductDesc' | i18n}}<br>\n                {{'sendAccessTaglineLearnMore' | i18n}} <a\n                    href=\"https://www.bitwarden.com/products/send?source=web-vault\" target=\"_blank\">Bitwarden Send</a>\n                {{'sendAccessTaglineOr' | i18n}} <a\n                    href=\"https://vault.bitwarden.com/#/register\" target=\"_blank\">{{'sendAccessTaglineSignUp' | i18n}}</a>\n                {{'sendAccessTaglineTryToday' | i18n}}\n            </p>\n        </div>\n    </div>\n</form>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    NgZone,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\n\nimport { SendView } from 'jslib/models/view/sendView';\n\nimport { SendComponent as BaseSendComponent } from 'jslib/angular/components/send/send.component';\n\nimport { AddEditComponent } from './add-edit.component';\n\nimport { ModalComponent } from '../modal.component';\n\nimport { EnvironmentService } from 'jslib/abstractions/environment.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { SearchService } from 'jslib/abstractions/search.service';\nimport { SendService } from 'jslib/abstractions/send.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nconst BroadcasterSubscriptionId = 'SendComponent';\n\n@Component({\n    selector: 'app-send',\n    templateUrl: 'send.component.html',\n})\nexport class SendComponent extends BaseSendComponent {\n    @ViewChild('sendAddEdit', { read: ViewContainerRef, static: true }) sendAddEditModalRef: ViewContainerRef;\n\n    modal: ModalComponent = null;\n\n    constructor(sendService: SendService, i18nService: I18nService,\n        platformUtilsService: PlatformUtilsService, environmentService: EnvironmentService,\n        ngZone: NgZone, searchService: SearchService, policyService: PolicyService, userService: UserService,\n        private componentFactoryResolver: ComponentFactoryResolver, private broadcasterService: BroadcasterService) {\n        super(sendService, i18nService, platformUtilsService, environmentService, ngZone, searchService,\n            policyService, userService);\n    }\n\n    async ngOnInit() {\n        await super.ngOnInit();\n        await this.load();\n\n        // Broadcaster subscription - load if sync completes in the background\n        this.broadcasterService.subscribe(BroadcasterSubscriptionId, (message: any) => {\n            this.ngZone.run(async () => {\n                switch (message.command) {\n                    case 'syncCompleted':\n                        if (message.successfully) {\n                            await this.load();\n                        }\n                        break;\n                }\n            });\n        });\n    }\n\n    ngOnDestroy() {\n        this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);\n    }\n\n    addSend() {\n        if (this.disableSend) {\n            return;\n        }\n\n        const component = this.editSend(null);\n        component.type = this.type;\n    }\n\n    editSend(send: SendView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.sendAddEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<AddEditComponent>(\n            AddEditComponent, this.sendAddEditModalRef);\n\n        childComponent.sendId = send == null ? null : send.id;\n        childComponent.onSavedSend.subscribe(async (s: SendView) => {\n            this.modal.close();\n            await this.load();\n        });\n        childComponent.onDeletedSend.subscribe(async (s: SendView) => {\n            this.modal.close();\n            await this.load();\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n\n        return childComponent;\n    }\n}\n","<div class=\"container page-content\">\n    <div class=\"row card border-warning mb-4\" *ngIf=\"disableSend\">\n        <div class=\"card-header bg-warning text-white\">\n            <i class=\"fa fa-warning fa-fw\" aria-hidden=\"true\"></i> {{'sendDisabled' | i18n}}\n        </div>\n        <div class=\"card-body\">\n            <span>{{'sendDisabledWarning' | i18n}}</span>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-3 groupings\">\n            <div class=\"card vault-filters\">\n                <div class=\"card-header d-flex\">\n                    {{'filters' | i18n}}\n                </div>\n                <div class=\"card-body\">\n                    <input type=\"search\" placeholder=\"{{searchPlaceholder || ('searchSends' | i18n)}}\" id=\"search\"\n                        class=\"form-control\" [(ngModel)]=\"searchText\" (input)=\"searchTextChanged()\" autocomplete=\"off\"\n                        appAutofocus>\n                    <ul class=\"fa-ul card-ul\">\n                        <li [ngClass]=\"{active: selectedAll}\">\n                            <a href=\"#\" appStopClick (click)=\"selectAll()\">\n                                <i class=\"fa-li fa fa-fw fa-th\"></i>{{'allSends' | i18n}}\n                            </a>\n                        </li>\n                    </ul>\n                    <h3>{{'types' | i18n}}</h3>\n                    <ul class=\"fa-ul card-ul\">\n                        <li [ngClass]=\"{active: selectedType === sendType.Text}\">\n                            <a href=\"#\" appStopClick (click)=\"selectType(sendType.Text)\">\n                                <i class=\"fa-li fa fa-fw fa-file-text-o\"></i>{{'sendTypeText' | i18n}}\n                            </a>\n                        </li>\n                        <li [ngClass]=\"{active: selectedType === sendType.File}\">\n                            <a href=\"#\" appStopClick (click)=\"selectType(sendType.File)\">\n                                <i class=\"fa-li fa fa-fw fa-file-o\"></i>{{'sendTypeFile' | i18n}}\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-9\">\n            <div class=\"page-header d-flex\">\n                <h1>\n                    {{'send' | i18n}}\n                    <small #actionSpinner [appApiAction]=\"actionPromise\">\n                        <ng-container *ngIf=\"actionSpinner.loading\">\n                            <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\"\n                                aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n                        </ng-container>\n                    </small>\n                </h1>\n                <div class=\"ml-auto d-flex\">\n                    <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" (click)=\"addSend()\"\n                        [disabled]=\"disableSend\">\n                        <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i>{{'createSend' | i18n}}\n                    </button>\n                </div>\n            </div>\n            <!--Listing Table-->\n            <table class=\"table table-hover table-list\" *ngIf=\"filteredSends && filteredSends.length\">\n                <tbody>\n                    <tr *ngFor=\"let s of filteredSends\">\n                        <td class=\"table-list-icon\">\n                            <div class=\"icon\" aria-hidden=\"true\">\n                                <i class=\"fa fa-fw fa-lg fa-file-o\" *ngIf=\"s.type == sendType.File\"></i>\n                                <i class=\"fa fa-fw fa-lg fa-file-text-o\" *ngIf=\"s.type == sendType.Text\"></i>\n                            </div>\n                        </td>\n                        <td class=\"reduced-lh wrap\">\n                            <a href=\"#\" appStopClick appStopProp (click)=\"editSend(s)\">{{s.name}}</a>\n                            <ng-container *ngIf=\"s.disabled\">\n                                <i class=\"fa fa-warning\" appStopProp title=\"{{'disabled' | i18n}}\"\n                                    aria-hidden=\"true\"></i>\n                                <span class=\"sr-only\">{{'disabled' | i18n}}</span>\n                            </ng-container>\n                            <ng-container *ngIf=\"s.password\">\n                                <i class=\"fa fa-key\" appStopProp title=\"{{'password' | i18n}}\" aria-hidden=\"true\"></i>\n                                <span class=\"sr-only\">{{'password' | i18n}}</span>\n                            </ng-container>\n                            <ng-container *ngIf=\"s.maxAccessCountReached\">\n                                <i class=\"fa fa-ban\" appStopProp title=\"{{'maxAccessCountReached' | i18n}}\"\n                                    aria-hidden=\"true\"></i>\n                                <span class=\"sr-only\">{{'maxAccessCountReached' | i18n}}</span>\n                            </ng-container>\n                            <ng-container *ngIf=\"s.expired\">\n                                <i class=\"fa fa-clock-o\" appStopProp title=\"{{'expired' | i18n}}\"\n                                    aria-hidden=\"true\"></i>\n                                <span class=\"sr-only\">{{'expired' | i18n}}</span>\n                            </ng-container>\n                            <ng-container *ngIf=\"s.pendingDelete\">\n                                <i class=\"fa fa-trash\" appStopProp title=\"{{'pendingDeletion' | i18n}}\"\n                                    aria-hidden=\"true\"></i>\n                                <span class=\"sr-only\">{{'pendingDeletion' | i18n}}</span>\n                            </ng-container>\n                            <br>\n                            <small appStopProp>{{s.deletionDate | date:'medium'}}</small>\n                        </td>\n                        <td class=\"table-list-options\">\n                            <div class=\"dropdown\" appListDropdown>\n                                <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\"\n                                    id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\"\n                                    aria-expanded=\"false\" appA11yTitle=\"{{'options' | i18n}}\">\n                                    <i class=\"fa fa-cog fa-lg\" aria-hidden=\"true\"></i>\n                                </button>\n                                <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenuButton\">\n                                    <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"copy(s)\">\n                                        <i class=\"fa fa-fw fa-copy\" aria-hidden=\"true\"></i>\n                                        {{'copySendLink' | i18n}}\n                                    </a>\n                                    <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"removePassword(s)\"\n                                        *ngIf=\"s.password && !disableSend\">\n                                        <i class=\"fa fa-fw fa-undo\" aria-hidden=\"true\"></i>\n                                        {{'removePassword' | i18n}}\n                                    </a>\n                                    <a class=\"dropdown-item text-danger\" href=\"#\" appStopClick (click)=\"delete(s)\">\n                                        <i class=\"fa fa-fw fa-trash-o\" aria-hidden=\"true\"></i>\n                                        {{'delete' | i18n}}\n                                    </a>\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <div class=\"no-items\" *ngIf=\"filteredSends && !filteredSends.length\">\n                <ng-container *ngIf=\"!loaded\">\n                    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n                </ng-container>\n                <ng-container *ngIf=\"loaded\">\n                    <p>{{'noSendsInList' | i18n}}</p>\n                    <button (click)=\"addSend()\" class=\"btn btn-outline-primary\" [disabled]=\"disableSend\">\n                        <i class=\"fa fa-plus fa-fw\"></i>{{'createSend' | i18n}}</button>\n                </ng-container>\n            </div>\n        </div>\n    </div>\n</div>\n<ng-template #sendAddEdit></ng-template>\n","import { DatePipe } from '@angular/common';\n\nimport { Component } from '@angular/core';\n\nimport { EnvironmentService } from 'jslib/abstractions/environment.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { SendService } from 'jslib/abstractions/send.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { AddEditComponent as BaseAddEditComponent } from 'jslib/angular/components/send/add-edit.component';\n\n@Component({\n    selector: 'app-send-add-edit',\n    templateUrl: 'add-edit.component.html',\n})\nexport class AddEditComponent extends BaseAddEditComponent {\n    constructor(i18nService: I18nService, platformUtilsService: PlatformUtilsService,\n        environmentService: EnvironmentService, datePipe: DatePipe,\n        sendService: SendService, userService: UserService,\n        messagingService: MessagingService, policyService: PolicyService) {\n        super(i18nService, platformUtilsService, environmentService, datePipe, sendService, userService,\n            messagingService, policyService);\n    }\n\n    copyLinkToClipboard(link: string) {\n        // Copy function on web depends on the modal being open or not. Since this event occurs during a transition\n        // of the modal closing we need to add a small delay to make sure state of the DOM is consistent.\n        window.setTimeout(() => super.copyLinkToClipboard(link), 500);\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"sendAddEditTitle\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate\n            autocomplete=\"off\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"sendAddEditTitle\">{{title}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"send\">\n                <app-callout *ngIf=\"disableSend\">\n                    <span>{{'sendDisabledWarning' | i18n}}</span>\n                </app-callout>\n                <app-callout *ngIf=\"!disableSend && disableHideEmail\">\n                    <span>{{'sendOptionsPolicyInEffect' | i18n}}</span>\n                    <ul class=\"mb-0\">\n                        <li>{{'sendDisableHideEmailInEffect' | i18n}}</li>\n                    </ul>\n                </app-callout>\n                <div class=\"row\">\n                    <div class=\"col-6 form-group\">\n                        <label for=\"name\">{{'name' | i18n}}</label>\n                        <input id=\"name\" class=\"form-control\" type=\"text\" name=\"Name\" [(ngModel)]=\"send.name\" required\n                            [readOnly]=\"disableSend\">\n                        <small class=\"form-text text-muted\">{{'sendNameDesc' | i18n}}</small>\n                    </div>\n                </div>\n                <div class=\"row\" *ngIf=\"!editMode\">\n                    <div class=\"col-6 form-group\">\n                        <label>{{'whatTypeOfSend' | i18n}}</label>\n                        <div class=\"form-check\" *ngFor=\"let o of typeOptions\">\n                            <input class=\"form-check-input\" type=\"radio\" [(ngModel)]=\"send.type\" name=\"Type_{{o.value}}\"\n                                id=\"type_{{o.value}}\" [value]=\"o.value\" (change)=\"typeChanged(o)\"\n                                [checked]=\"send.type === o.value\">\n                            <label class=\"form-check-label\" for=\"type_{{o.value}}\">\n                                {{o.name}}\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                <!-- Text -->\n                <ng-container *ngIf=\"send.type === sendType.Text\">\n                    <div class=\"form-group\">\n                        <label for=\"text\">{{'sendTypeText' | i18n}}</label>\n                        <textarea id=\"text\" name=\"Text.Text\" rows=\"6\" [(ngModel)]=\"send.text.text\" class=\"form-control\"\n                            [readOnly]=\"disableSend\"></textarea>\n                        <small class=\"form-text text-muted\">{{'sendTextDesc' | i18n}}</small>\n                    </div>\n                    <div class=\"form-group\">\n                        <div class=\"form-check\">\n                            <input class=\"form-check-input\" type=\"checkbox\" [(ngModel)]=\"send.text.hidden\"\n                                id=\"text-hidden\" name=\"Text.Hidden\" [disabled]=\"disableSend\">\n                            <label class=\"form-check-label\" for=\"text-hidden\">{{'textHiddenByDefault' | i18n}}</label>\n                        </div>\n                    </div>\n                </ng-container>\n                <!-- File -->\n                <ng-container *ngIf=\"send.type === sendType.File\">\n                    <div class=\"form-group\">\n                        <div *ngIf=\"editMode\">\n                            <strong class=\"d-block\">{{'file' | i18n}}</strong>\n                            {{send.file.fileName}} ({{send.file.sizeName}})\n                        </div>\n                        <div *ngIf=\"!editMode\">\n                            <label for=\"file\">{{'file' | i18n}}</label>\n                            <input type=\"file\" id=\"file\" class=\"form-control-file\" name=\"file\" required\n                                [disabled]=\"disableSend\">\n                            <small class=\"form-text text-muted\">{{'sendFileDesc' | i18n}} {{'maxFileSize' |\n                                i18n}}</small>\n                        </div>\n                    </div>\n                </ng-container>\n                <h3 class=\"mt-5\">{{'share' | i18n}}</h3>\n                <div class=\"form-group\" *ngIf=\"link\">\n                    <label for=\"link\">{{'sendLinkLabel' | i18n}}</label>\n                    <input type=\"text\" readonly id=\"link\" name=\"Link\" [(ngModel)]=\"link\" class=\"form-control\">\n                </div>\n                <div class=\"form-group\">\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" [(ngModel)]=\"copyLink\" id=\"copy-link\"\n                            name=\"CopyLink\">\n                        <label class=\"form-check-label\" for=\"copy-link\">{{'copySendLinkOnSave' | i18n}}</label>\n                    </div>\n                </div>\n                <div id=\"options-header\" class=\"section-header d-flex flex-row align-items-center mt-5\"\n                    (click)=\"toggleOptions()\">\n                    <h3 class=\"mb-0 mr-2\">{{'options' | i18n}}</h3>\n                    <a class=\"mb-1\" href=\"#\" appStopClick role=\"button\">\n                        <i class=\"fa\" aria-hidden=\"true\"\n                            [ngClass]=\"{'fa-chevron-down': !showOptions, 'fa-chevron-up': showOptions}\"></i>\n                    </a>\n                </div>\n                <div id=\"options\" [hidden]=\"!showOptions\">\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"deletionDate\">{{'deletionDate' | i18n}}</label>\n                            <ng-template #deletionDateCustom>\n                                <ng-container *ngIf=\"isDateTimeLocalSupported\">\n                                    <input id=\"deletionDateCustom\" class=\"form-control mt-1\" type=\"datetime-local\"\n                                        name=\"DeletionDate\" [(ngModel)]=\"deletionDate\" required\n                                        placeholder=\"MM/DD/YYYY HH:MM AM/PM\" [readOnly]=\"disableSend\">\n                                </ng-container>\n                                <div *ngIf=\"!isDateTimeLocalSupported\" class=\"d-flex justify-content-around\">\n                                    <input id=\"deletionDateCustomFallback\" class=\"form-control mt-1\" type=\"date\"\n                                        name=\"DeletionDateFallback\" [(ngModel)]=\"deletionDateFallback\" required\n                                        placeholder=\"MM/DD/YYYY\" [readOnly]=\"disableSend\" data-date-format=\"mm/dd/yyyy\">\n                                    <select *ngIf=\"isSafari\" id=\"deletionTimeCustomFallback\" class=\"form-control mt-1 ml-1\" [required]=\"!editMode\"\n                                        [(ngModel)]=\"safariDeletionTime\" name=\"SafariDeletionTime\">\n                                        <option *ngFor=\"let o of safariDeletionTimeOptions\" [value]=\"o.military\">{{o.standard}}</option>\n                                    </select>\n                                    <input *ngIf=\"!isSafari\" id=\"deletionTimeCustomFallback\" class=\"form-control mt-1 ml-1\" type=\"time\"\n                                        name=\"DeletionTimeDate\" [(ngModel)]=\"deletionTimeFallback\" required\n                                        placeholder=\"HH:MM AM/PM\" [readOnly]=\"disableSend\">\n                                </div>\n                            </ng-template>\n                            <div *ngIf=\"!editMode\">\n                                <select id=\"deletionDate\" name=\"DeletionDateSelect\" [(ngModel)]=\"deletionDateSelect\"\n                                    class=\"form-control\" required>\n                                    <option *ngFor=\"let o of deletionDateOptions\" [ngValue]=\"o.value\">{{o.name}}\n                                    </option>\n                                </select>\n                                <ng-container *ngIf=\"deletionDateSelect === 0\">\n                                    <ng-container *ngTemplateOutlet=\"deletionDateCustom\">\n                                    </ng-container>\n                                </ng-container>\n                            </div>\n                            <div *ngIf=\"editMode\">\n                                <ng-container *ngTemplateOutlet=\"deletionDateCustom\">\n                                </ng-container>\n                            </div>\n                            <div class=\"form-text text-muted small\">{{'deletionDateDesc' | i18n}}</div>\n                        </div>\n                        <div class=\"col-6 form-group\">\n                            <div class=\"d-flex\">\n                                <label for=\"expirationDate\">{{'expirationDate' | i18n}}</label>\n                                <a href=\"#\" appStopClick (click)=\"clearExpiration()\" class=\"ml-auto\"\n                                    *ngIf=\"editMode && !disableSend\">\n                                    {{'clear' | i18n}}\n                                </a>\n                            </div>\n                            <ng-template #expirationDateCustom>\n                                <ng-container *ngIf=\"isDateTimeLocalSupported\">\n                                    <input id=\"expirationDateCustom\" class=\"form-control mt-1\" type=\"datetime-local\"\n                                        name=\"ExpirationDate\" [(ngModel)]=\"expirationDate\" placeholder=\"MM/DD/YYYY HH:MM AM/PM\" [readOnly]=\"disableSend\">\n                                </ng-container>\n                                <div class=\"d-flex justify-content-around\" *ngIf=\"!isDateTimeLocalSupported\">\n                                    <input id=\"expirationDateCustomFallback\" class=\"form-control mt-1\" type=\"date\"\n                                        name=\"ExpirationDateFallback\" [(ngModel)]=\"expirationDateFallback\" [required]=\"!editMode\"\n                                        placeholder=\"MM/DD/YYYY\" [readOnly]=\"disableSend\" data-date-format=\"mm/dd/yyyy\" (change)=\"expirationDateFallbackChanged()\">\n                                        <select *ngIf=\"isSafari\" id=\"expirationTimeCustomFallback\" class=\"form-control mt-1 ml-1\" [required]=\"!editMode\"\n                                            [(ngModel)]=\"safariExpirationTime\" name=\"SafariExpirationTime\">\n                                            <option *ngFor=\"let o of safariExpirationTimeOptions\" [ngValue]=\"o.military\">{{o.standard}}</option>\n                                        </select>\n                                        <input *ngIf=\"!isSafari\" id=\"expirationTimeCustomFallback\" class=\"form-control mt-1 ml-1\" type=\"time\"\n                                            name=\"ExpirationTimeFallback\" [(ngModel)]=\"expirationTimeFallback\" [required]=\"!editMode\"\n                                            placeholder=\"HH:MM AM/PM\" [readOnly]=\"disableSend\">\n                                </div>\n                            </ng-template>\n                            <div *ngIf=\"!editMode\">\n                                <select id=\"expirationDate\" name=\"ExpirationDateSelect\"\n                                    [(ngModel)]=\"expirationDateSelect\" class=\"form-control\" required>\n                                    <option *ngFor=\"let o of expirationDateOptions\" [ngValue]=\"o.value\">{{o.name}}\n                                    </option>\n                                </select>\n                                <ng-container *ngIf=\"expirationDateSelect === 0\">\n                                    <ng-container *ngTemplateOutlet=\"expirationDateCustom\">\n                                    </ng-container>\n                                </ng-container>\n                            </div>\n                            <div *ngIf=\"editMode\">\n                                <ng-container *ngTemplateOutlet=\"expirationDateCustom\">\n                                </ng-container>\n                            </div>\n                            <div class=\"form-text text-muted small\">{{'expirationDateDesc' | i18n}}</div>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"maxAccessCount\">{{'maxAccessCount' | i18n}}</label>\n                            <input id=\"maxAccessCount\" class=\"form-control\" type=\"number\" name=\"MaxAccessCount\"\n                                [(ngModel)]=\"send.maxAccessCount\" min=\"1\" [readOnly]=\"disableSend\">\n                            <div class=\"form-text text-muted small\">{{'maxAccessCountDesc' | i18n}}</div>\n                        </div>\n                        <div class=\"col-6 form-group\" *ngIf=\"editMode\">\n                            <label for=\"accessCount\">{{'currentAccessCount' | i18n}}</label>\n                            <input id=\"accessCount\" class=\"form-control\" type=\"text\" name=\"AccessCount\" readonly\n                                [(ngModel)]=\"send.accessCount\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-6 form-group\">\n                            <label for=\"password\" *ngIf=\"!hasPassword\">{{'password' | i18n}}</label>\n                            <label for=\"password\" *ngIf=\"hasPassword\">{{'newPassword' | i18n}}</label>\n                            <div class=\"input-group\">\n                                <input id=\"password\" class=\"form-control text-monospace\"\n                                    type=\"{{showPassword ? 'text' : 'password'}}\" name=\"Password\" [(ngModel)]=\"password\"\n                                    [readOnly]=\"disableSend\">\n                                <div class=\"input-group-append\">\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                        appA11yTitle=\"{{'toggleVisibility' | i18n}}\" (click)=\"togglePasswordVisible()\">\n                                        <i class=\"fa fa-lg\" aria-hidden=\"true\"\n                                            [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <div class=\"form-text text-muted small\">{{'sendPasswordDesc' | i18n}}</div>\n                        </div>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"notes\">{{'notes' | i18n}}</label>\n                        <textarea id=\"notes\" name=\"Notes\" rows=\"6\" [(ngModel)]=\"send.notes\" class=\"form-control\"\n                            [readOnly]=\"disableSend\"></textarea>\n                        <div class=\"form-text text-muted small\">{{'sendNotesDesc' | i18n}}</div>\n                    </div>\n                    <div class=\"form-group\">\n                        <div class=\"form-check\">\n                            <input class=\"form-check-input\" type=\"checkbox\" [(ngModel)]=\"send.hideEmail\" id=\"hideEmail\" \n                            name=\"HideEmail\" [disabled]=\"(disableHideEmail && !send.hideEmail) || disableSend\">\n                            <label class=\"form-check-label\" for=\"hideEmail\">\n                                {{'hideEmail' | i18n}}\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"form-group\">\n                        <div class=\"form-check\">\n                            <input class=\"form-check-input\" type=\"checkbox\" [(ngModel)]=\"send.disabled\" id=\"disabled\"\n                                name=\"Disabled\" [disabled]=\"disableSend\">\n                            <label class=\"form-check-label\" for=\"disabled\">{{'disableThisSend' | i18n}}</label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"modal-footer\">\n                <button class=\"btn btn-primary disabled\" disabled=true *ngIf=\"disableSend\">\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\" *ngIf=\"!disableSend\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">\n                    {{'cancel' | i18n}}\n                </button>\n                <div class=\"ml-auto\" *ngIf=\"send\">\n                    <button #deleteBtn type=\"button\" (click)=\"delete()\" class=\"btn btn-outline-danger\"\n                        appA11yTitle=\"{{'delete' | i18n}}\" *ngIf=\"editMode\" [disabled]=\"deleteBtn.loading\"\n                        [appApiAction]=\"deletePromise\">\n                        <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\" aria-hidden=\"true\"></i>\n                        <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\"\n                            title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    </button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n","import { SendType } from '../../enums/sendType';\nimport { Utils } from '../../misc/utils';\n\nimport { Send } from '../domain/send';\nimport { SymmetricCryptoKey } from '../domain/symmetricCryptoKey';\n\nimport { SendFileView } from './sendFileView';\nimport { SendTextView } from './sendTextView';\nimport { View } from './view';\n\nexport class SendView implements View {\n    id: string = null;\n    accessId: string = null;\n    name: string = null;\n    notes: string = null;\n    key: ArrayBuffer;\n    cryptoKey: SymmetricCryptoKey;\n    type: SendType = null;\n    text = new SendTextView();\n    file = new SendFileView();\n    maxAccessCount?: number = null;\n    accessCount: number = 0;\n    revisionDate: Date = null;\n    deletionDate: Date = null;\n    expirationDate: Date = null;\n    password: string = null;\n    disabled: boolean = false;\n    hideEmail: boolean = false;\n\n    constructor(s?: Send) {\n        if (!s) {\n            return;\n        }\n\n        this.id = s.id;\n        this.accessId = s.accessId;\n        this.type = s.type;\n        this.maxAccessCount = s.maxAccessCount;\n        this.accessCount = s.accessCount;\n        this.revisionDate = s.revisionDate;\n        this.deletionDate = s.deletionDate;\n        this.expirationDate = s.expirationDate;\n        this.disabled = s.disabled;\n        this.password = s.password;\n        this.hideEmail = s.hideEmail;\n    }\n\n    get urlB64Key(): string {\n        return Utils.fromBufferToUrlB64(this.key);\n    }\n\n    get maxAccessCountReached(): boolean {\n        if (this.maxAccessCount == null) {\n            return false;\n        }\n        return this.accessCount >= this.maxAccessCount;\n    }\n\n    get expired(): boolean {\n        if (this.expirationDate == null) {\n            return false;\n        }\n        return this.expirationDate <= new Date();\n    }\n\n    get pendingDelete(): boolean {\n        return this.deletionDate <= new Date();\n    }\n}\n","import {\n    Component,\n    ComponentFactoryResolver,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\n\nimport { ModalComponent } from '../modal.component';\nimport { ApiKeyComponent } from './api-key.component';\nimport { DeauthorizeSessionsComponent } from './deauthorize-sessions.component';\nimport { DeleteAccountComponent } from './delete-account.component';\nimport { PurgeVaultComponent } from './purge-vault.component';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\n@Component({\n    selector: 'app-account',\n    templateUrl: 'account.component.html',\n})\nexport class AccountComponent {\n    @ViewChild('deauthorizeSessionsTemplate', { read: ViewContainerRef, static: true }) deauthModalRef: ViewContainerRef;\n    @ViewChild('purgeVaultTemplate', { read: ViewContainerRef, static: true }) purgeModalRef: ViewContainerRef;\n    @ViewChild('deleteAccountTemplate', { read: ViewContainerRef, static: true }) deleteModalRef: ViewContainerRef;\n    @ViewChild('viewUserApiKeyTemplate', { read: ViewContainerRef, static: true }) viewUserApiKeyModalRef: ViewContainerRef;\n    @ViewChild('rotateUserApiKeyTemplate', { read: ViewContainerRef, static: true }) rotateUserApiKeyModalRef: ViewContainerRef;\n\n    private modal: ModalComponent = null;\n\n    constructor(private componentFactoryResolver: ComponentFactoryResolver, private apiService: ApiService,\n        private userService: UserService) { }\n\n    deauthorizeSessions() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.deauthModalRef.createComponent(factory).instance;\n        this.modal.show<DeauthorizeSessionsComponent>(DeauthorizeSessionsComponent, this.deauthModalRef);\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    purgeVault() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.purgeModalRef.createComponent(factory).instance;\n        this.modal.show<PurgeVaultComponent>(PurgeVaultComponent, this.purgeModalRef);\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    deleteAccount() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.deleteModalRef.createComponent(factory).instance;\n        this.modal.show<DeleteAccountComponent>(DeleteAccountComponent, this.deleteModalRef);\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    async viewUserApiKey() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.viewUserApiKeyModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<ApiKeyComponent>(ApiKeyComponent, this.viewUserApiKeyModalRef);\n        childComponent.keyType = 'user';\n        childComponent.entityId = await this.userService.getUserId();\n        childComponent.postKey = this.apiService.postUserApiKey.bind(this.apiService);\n        childComponent.scope = 'api';\n        childComponent.grantType = 'client_credentials';\n        childComponent.apiKeyTitle = 'apiKey';\n        childComponent.apiKeyWarning = 'userApiKeyWarning';\n        childComponent.apiKeyDescription = 'userApiKeyDesc';\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    async rotateUserApiKey() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.rotateUserApiKeyModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<ApiKeyComponent>(ApiKeyComponent, this.rotateUserApiKeyModalRef);\n        childComponent.keyType = 'user';\n        childComponent.isRotation = true;\n        childComponent.entityId = await this.userService.getUserId();\n        childComponent.postKey = this.apiService.postUserRotateApiKey.bind(this.apiService);\n        childComponent.scope = 'api';\n        childComponent.grantType = 'client_credentials';\n        childComponent.apiKeyTitle = 'apiKey';\n        childComponent.apiKeyWarning = 'userApiKeyWarning';\n        childComponent.apiKeyDescription = 'apiKeyRotateDesc';\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'myAccount' | i18n}}</h1>\n</div>\n<app-profile></app-profile>\n<div class=\"secondary-header\">\n    <h1>{{'changeEmail' | i18n}}</h1>\n</div>\n<app-change-email></app-change-email>\n<div class=\"secondary-header\">\n    <h1>{{'changeMasterPassword' | i18n}}</h1>\n</div>\n<app-change-password></app-change-password>\n<div class=\"secondary-header\">\n    <h1>{{'encKeySettings' | i18n}}</h1>\n</div>\n<app-change-kdf></app-change-kdf>\n<div class=\"secondary-header border-0 mb-0\">\n    <h1>{{'apiKey' | i18n}}</h1>\n</div>\n<p>\n    {{'userApiKeyDesc' | i18n}}\n</p>\n<button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"viewUserApiKey()\">{{'viewApiKey' | i18n}}</button>\n<button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"rotateUserApiKey()\">{{'rotateApiKey' | i18n}}</button>\n<div class=\"secondary-header text-danger border-0 mb-0\">\n    <h1>{{'dangerZone' | i18n}}</h1>\n</div>\n<div class=\"card border-danger\">\n    <div class=\"card-body\">\n        <p>{{'dangerZoneDesc' | i18n}}</p>\n        <button type=\"button\" class=\"btn btn-outline-danger\"\n            (click)=\"deauthorizeSessions()\">{{'deauthorizeSessions' | i18n}}</button>\n        <button type=\"button\" class=\"btn btn-outline-danger\" (click)=\"purgeVault()\">{{'purgeVault' | i18n}}</button>\n        <button type=\"button\" class=\"btn btn-outline-danger\"\n            (click)=\"deleteAccount()\">{{'deleteAccount' | i18n}}</button>\n    </div>\n</div>\n<ng-template #deauthorizeSessionsTemplate></ng-template>\n<ng-template #purgeVaultTemplate></ng-template>\n<ng-template #deleteAccountTemplate></ng-template>\n<ng-template #viewUserApiKeyTemplate></ng-template>\n<ng-template #rotateUserApiKeyTemplate></ng-template>\n","import { Component } from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\n\nimport { PasswordVerificationRequest } from 'jslib/models/request/passwordVerificationRequest';\n\n@Component({\n    selector: 'app-deauthorize-sessions',\n    templateUrl: 'deauthorize-sessions.component.html',\n})\nexport class DeauthorizeSessionsComponent {\n    masterPassword: string;\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private cryptoService: CryptoService,\n        private messagingService: MessagingService) { }\n\n    async submit() {\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        const request = new PasswordVerificationRequest();\n        request.masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n        try {\n            this.formPromise = this.apiService.postSecurityStamp(request);\n            await this.formPromise;\n            this.toasterService.popAsync('success', this.i18nService.t('sessionsDeauthorized'),\n                this.i18nService.t('logBackIn'));\n            this.messagingService.send('logout');\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"deAuthTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"deAuthTitle\">{{'deauthorizeSessions' | i18n}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>{{'deauthorizeSessionsDesc' | i18n}}</p>\n                <app-callout type=\"warning\">{{'deauthorizeSessionsWarning' | i18n}}</app-callout>\n                <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                <input id=\"masterPassword\" type=\"password\" name=\"MasterPasswordHash\" class=\"form-control\"\n                    [(ngModel)]=\"masterPassword\" required appAutoFocus appInputVerbatim>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-danger btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'deauthorizeSessions' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import { Component } from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\n\nimport { PasswordVerificationRequest } from 'jslib/models/request/passwordVerificationRequest';\n\n@Component({\n    selector: 'app-delete-account',\n    templateUrl: 'delete-account.component.html',\n})\nexport class DeleteAccountComponent {\n    masterPassword: string;\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private cryptoService: CryptoService,\n        private messagingService: MessagingService) { }\n\n    async submit() {\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        const request = new PasswordVerificationRequest();\n        request.masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n        try {\n            this.formPromise = this.apiService.deleteAccount(request);\n            await this.formPromise;\n            this.toasterService.popAsync('success', this.i18nService.t('accountDeleted'),\n                this.i18nService.t('accountDeletedDesc'));\n            this.messagingService.send('logout');\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"deleteAccountTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"deleteAccountTitle\">{{'deleteAccount' | i18n}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>{{'deleteAccountDesc' | i18n}}</p>\n                <app-callout type=\"warning\">{{'deleteAccountWarning' | i18n}}</app-callout>\n                <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                <input id=\"masterPassword\" type=\"password\" name=\"MasterPasswordHash\" class=\"form-control\"\n                    [(ngModel)]=\"masterPassword\" required appAutofocus appInputVerbatim>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-danger btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'deleteAccount' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { UpdateProfileRequest } from 'jslib/models/request/updateProfileRequest';\n\nimport { ProfileResponse } from 'jslib/models/response/profileResponse';\n\n@Component({\n    selector: 'app-profile',\n    templateUrl: 'profile.component.html',\n})\nexport class ProfileComponent implements OnInit {\n    loading = true;\n    profile: ProfileResponse;\n    fingerprint: string;\n\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private userService: UserService,\n        private cryptoService: CryptoService) { }\n\n    async ngOnInit() {\n        this.profile = await this.apiService.getProfile();\n        this.loading = false;\n        const fingerprint = await this.cryptoService.getFingerprint(await this.userService.getUserId());\n        if (fingerprint != null) {\n            this.fingerprint = fingerprint.join('-');\n        }\n    }\n\n    async submit() {\n        try {\n            const request = new UpdateProfileRequest(this.profile.name, this.profile.masterPasswordHint);\n            this.formPromise = this.apiService.putProfile(request);\n            await this.formPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('accountUpdated'));\n        } catch { }\n    }\n}\n","<div *ngIf=\"loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</div>\n<form *ngIf=\"profile && !loading\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <label for=\"name\">{{'name' | i18n}}</label>\n                <input id=\"name\" class=\"form-control\" type=\"text\" name=\"Name\" [(ngModel)]=\"profile.name\">\n            </div>\n            <div class=\"form-group\">\n                <label for=\"email\">{{'email' | i18n}}</label>\n                <input id=\"email\" class=\"form-control\" type=\"text\" name=\"Email\" [(ngModel)]=\"profile.email\" readonly>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"masterPasswordHint\">{{'masterPassHintLabel' | i18n}}</label>\n                <input id=\"masterPasswordHint\" class=\"form-control\" type=\"text\" name=\"MasterPasswordHint\"\n                    [(ngModel)]=\"profile.masterPasswordHint\">\n            </div>\n        </div>\n        <div class=\"col-6\">\n            <div class=\"mb-3\">\n                <app-avatar data=\"{{profile.name || profile.email}}\" [email]=\"profile.email\" dynamic=\"true\" size=\"75\"\n                    fontSize=\"35\"></app-avatar>\n            </div>\n            <hr>\n            <p *ngIf=\"fingerprint\">\n                {{'yourAccountsFingerprint' | i18n}}:\n                <a href=\"https://help.bitwarden.com/article/fingerprint-phrase/\" target=\"_blank\" rel=\"noopener\"\n                    appA11yTitle=\"{{'learnMore' | i18n}}\">\n                    <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i></a><br>\n                <code>{{fingerprint}}</code>\n            </p>\n        </div>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'save' | i18n}}</span>\n    </button>\n</form>\n","import {\n    Component,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { EmailRequest } from 'jslib/models/request/emailRequest';\nimport { EmailTokenRequest } from 'jslib/models/request/emailTokenRequest';\n\n@Component({\n    selector: 'app-change-email',\n    templateUrl: 'change-email.component.html',\n})\nexport class ChangeEmailComponent {\n    masterPassword: string;\n    newEmail: string;\n    token: string;\n    tokenSent = false;\n\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private cryptoService: CryptoService,\n        private messagingService: MessagingService, private userService: UserService) { }\n\n    async submit() {\n        const hasEncKey = await this.cryptoService.hasEncKey();\n        if (!hasEncKey) {\n            this.toasterService.popAsync('error', null, this.i18nService.t('updateKey'));\n            return;\n        }\n\n        this.newEmail = this.newEmail.trim().toLowerCase();\n        if (!this.tokenSent) {\n            const request = new EmailTokenRequest();\n            request.newEmail = this.newEmail;\n            request.masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n            try {\n                this.formPromise = this.apiService.postEmailToken(request);\n                await this.formPromise;\n                this.tokenSent = true;\n            } catch { }\n        } else {\n            const request = new EmailRequest();\n            request.token = this.token;\n            request.newEmail = this.newEmail;\n            request.masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n            const kdf = await this.userService.getKdf();\n            const kdfIterations = await this.userService.getKdfIterations();\n            const newKey = await this.cryptoService.makeKey(this.masterPassword, this.newEmail, kdf, kdfIterations);\n            request.newMasterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, newKey);\n            const newEncKey = await this.cryptoService.remakeEncKey(newKey);\n            request.key = newEncKey[1].encryptedString;\n            try {\n                this.formPromise = this.apiService.postEmail(request);\n                await this.formPromise;\n                this.reset();\n                this.toasterService.popAsync('success', this.i18nService.t('emailChanged'),\n                    this.i18nService.t('logBackIn'));\n                this.messagingService.send('logout');\n            } catch { }\n        }\n    }\n\n    reset() {\n        this.token = this.newEmail = this.masterPassword = null;\n        this.tokenSent = false;\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                <input id=\"masterPassword\" type=\"password\" name=\"MasterPasswordHash\" class=\"form-control\"\n                    [(ngModel)]=\"masterPassword\" required [readonly]=\"tokenSent\" appInputVerbatim>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"newEmail\">{{'newEmail' | i18n}}</label>\n                <input id=\"newEmail\" class=\"form-control\" type=\"text\" name=\"NewEmail\" [(ngModel)]=\"newEmail\" required\n                    [readonly]=\"tokenSent\" inputmode=\"email\" appInputVerbatim=\"false\">\n            </div>\n        </div>\n    </div>\n    <ng-container *ngIf=\"tokenSent\">\n        <hr>\n        <p>{{'changeEmailDesc' | i18n : newEmail}}</p>\n        <app-callout type=\"warning\">{{'loggedOutWarning' | i18n}}</app-callout>\n        <div class=\"row\">\n            <div class=\"col-6\">\n                <div class=\"form-group\">\n                    <label for=\"token\">{{'code' | i18n}}</label>\n                    <input id=\"token\" class=\"form-control\" type=\"text\" name=\"Token\" [(ngModel)]=\"token\" required\n                        appInputVerbatim>\n                </div>\n            </div>\n        </div>\n    </ng-container>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span *ngIf=\"!tokenSent\">{{'continue' | i18n}}</span>\n        <span *ngIf=\"tokenSent\">{{'changeEmail' | i18n}}</span>\n    </button>\n    <button type=\"button\" class=\"btn btn-outline-secondary\" *ngIf=\"tokenSent\" (click)=\"reset()\">\n        {{'cancel' | i18n}}\n    </button>\n</form>\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class EmailTokenRequest extends PasswordVerificationRequest {\n    newEmail: string;\n    masterPasswordHash: string;\n}\n","import { Component } from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport {\n    ChangePasswordComponent as BaseChangePasswordComponent,\n} from 'jslib/angular/components/change-password.component';\n\nimport { EmergencyAccessStatusType } from 'jslib/enums/emergencyAccessStatusType';\nimport { Utils } from 'jslib/misc/utils';\n\nimport { EncString } from 'jslib/models/domain/encString';\nimport { SymmetricCryptoKey } from 'jslib/models/domain/symmetricCryptoKey';\n\nimport { CipherWithIdRequest } from 'jslib/models/request/cipherWithIdRequest';\nimport { EmergencyAccessUpdateRequest } from 'jslib/models/request/emergencyAccessUpdateRequest';\nimport { FolderWithIdRequest } from 'jslib/models/request/folderWithIdRequest';\nimport { OrganizationUserResetPasswordEnrollmentRequest } from 'jslib/models/request/organizationUserResetPasswordEnrollmentRequest';\nimport { PasswordRequest } from 'jslib/models/request/passwordRequest';\nimport { UpdateKeyRequest } from 'jslib/models/request/updateKeyRequest';\n\n@Component({\n    selector: 'app-change-password',\n    templateUrl: 'change-password.component.html',\n})\nexport class ChangePasswordComponent extends BaseChangePasswordComponent {\n    rotateEncKey = false;\n    currentMasterPassword: string;\n\n    constructor(i18nService: I18nService,\n        cryptoService: CryptoService, messagingService: MessagingService,\n        userService: UserService, passwordGenerationService: PasswordGenerationService,\n        platformUtilsService: PlatformUtilsService, policyService: PolicyService,\n        private folderService: FolderService, private cipherService: CipherService,\n        private syncService: SyncService, private apiService: ApiService) {\n        super(i18nService, cryptoService, messagingService, userService, passwordGenerationService,\n            platformUtilsService, policyService);\n    }\n\n    async rotateEncKeyClicked() {\n        if (this.rotateEncKey) {\n            const ciphers = await this.cipherService.getAllDecrypted();\n            let hasOldAttachments = false;\n            if (ciphers != null) {\n                for (let i = 0; i < ciphers.length; i++) {\n                    if (ciphers[i].organizationId == null && ciphers[i].hasOldAttachments) {\n                        hasOldAttachments = true;\n                        break;\n                    }\n                }\n            }\n\n            if (hasOldAttachments) {\n                const learnMore = await this.platformUtilsService.showDialog(\n                    this.i18nService.t('oldAttachmentsNeedFixDesc'), null,\n                    this.i18nService.t('learnMore'), this.i18nService.t('close'), 'warning');\n                if (learnMore) {\n                    this.platformUtilsService.launchUri(\n                        'https://help.bitwarden.com/article/attachments/#fixing-old-attachments');\n                }\n                this.rotateEncKey = false;\n                return;\n            }\n\n            const result = await this.platformUtilsService.showDialog(\n                this.i18nService.t('updateEncryptionKeyWarning') + ' ' +\n                this.i18nService.t('updateEncryptionKeyExportWarning') + ' ' +\n                this.i18nService.t('rotateEncKeyConfirmation'), this.i18nService.t('rotateEncKeyTitle'),\n                this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n            if (!result) {\n                this.rotateEncKey = false;\n            }\n        }\n    }\n\n    async submit() {\n        const hasEncKey = await this.cryptoService.hasEncKey();\n        if (!hasEncKey) {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('updateKey'));\n            return;\n        }\n\n        await super.submit();\n    }\n\n    async setupSubmitActions() {\n        if (this.currentMasterPassword == null || this.currentMasterPassword === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return false;\n        }\n\n        if (this.rotateEncKey) {\n            await this.syncService.fullSync(true);\n        }\n\n        return super.setupSubmitActions();\n    }\n\n    async performSubmitActions(newMasterPasswordHash: string, newKey: SymmetricCryptoKey,\n        newEncKey: [SymmetricCryptoKey, EncString]) {\n        const request = new PasswordRequest();\n        request.masterPasswordHash = await this.cryptoService.hashPassword(this.currentMasterPassword, null);\n        request.newMasterPasswordHash = newMasterPasswordHash;\n        request.key = newEncKey[1].encryptedString;\n\n        try {\n            if (this.rotateEncKey) {\n                this.formPromise = this.apiService.postPassword(request).then(() => {\n                    return this.updateKey(newKey, request.newMasterPasswordHash);\n                });\n            } else {\n                this.formPromise = this.apiService.postPassword(request);\n            }\n\n            await this.formPromise;\n\n            this.platformUtilsService.showToast('success', this.i18nService.t('masterPasswordChanged'),\n                this.i18nService.t('logBackIn'));\n            this.messagingService.send('logout');\n        } catch {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n        }\n    }\n\n    private async updateKey(key: SymmetricCryptoKey, masterPasswordHash: string) {\n        const encKey = await this.cryptoService.makeEncKey(key);\n        const privateKey = await this.cryptoService.getPrivateKey();\n        let encPrivateKey: EncString = null;\n        if (privateKey != null) {\n            encPrivateKey = await this.cryptoService.encrypt(privateKey, encKey[0]);\n        }\n        const request = new UpdateKeyRequest();\n        request.privateKey = encPrivateKey != null ? encPrivateKey.encryptedString : null;\n        request.key = encKey[1].encryptedString;\n        request.masterPasswordHash = masterPasswordHash;\n\n        const folders = await this.folderService.getAllDecrypted();\n        for (let i = 0; i < folders.length; i++) {\n            if (folders[i].id == null) {\n                continue;\n            }\n            const folder = await this.folderService.encrypt(folders[i], encKey[0]);\n            request.folders.push(new FolderWithIdRequest(folder));\n        }\n\n        const ciphers = await this.cipherService.getAllDecrypted();\n        for (let i = 0; i < ciphers.length; i++) {\n            if (ciphers[i].organizationId != null) {\n                continue;\n            }\n\n            const cipher = await this.cipherService.encrypt(ciphers[i], encKey[0]);\n            request.ciphers.push(new CipherWithIdRequest(cipher));\n        }\n\n        await this.apiService.postAccountKey(request);\n\n        await this.updateEmergencyAccesses(encKey[0]);\n\n        await this.updateAllResetPasswordKeys(encKey[0]);\n    }\n\n    private async updateEmergencyAccesses(encKey: SymmetricCryptoKey) {\n        const emergencyAccess = await this.apiService.getEmergencyAccessTrusted();\n        const allowedStatuses = [\n            EmergencyAccessStatusType.Confirmed,\n            EmergencyAccessStatusType.RecoveryInitiated,\n            EmergencyAccessStatusType.RecoveryApproved,\n        ];\n\n        const filteredAccesses = emergencyAccess.data.filter(d => allowedStatuses.includes(d.status));\n\n        for (const details of filteredAccesses) {\n            const publicKeyResponse = await this.apiService.getUserPublicKey(details.granteeId);\n            const publicKey = Utils.fromB64ToArray(publicKeyResponse.publicKey);\n\n            const encryptedKey = await this.cryptoService.rsaEncrypt(encKey.key, publicKey.buffer);\n\n            const updateRequest = new EmergencyAccessUpdateRequest();\n            updateRequest.type = details.type;\n            updateRequest.waitTimeDays = details.waitTimeDays;\n            updateRequest.keyEncrypted = encryptedKey.encryptedString;\n\n            await this.apiService.putEmergencyAccess(details.id, updateRequest);\n        }\n    }\n\n    private async updateAllResetPasswordKeys(encKey: SymmetricCryptoKey) {\n        const orgs = await this.userService.getAllOrganizations();\n\n        for (const org of orgs) {\n            // If not already enrolled, skip\n            if (!org.isResetPasswordEnrolled) {\n                continue;\n            }\n\n            // Re-enroll - encrpyt user's encKey.key with organization key\n            const orgSymKey = await this.cryptoService.getOrgKey(org.id);\n            const encryptedKey = await this.cryptoService.encrypt(encKey.key, orgSymKey);\n\n            // Create/Execute request\n            const request = new OrganizationUserResetPasswordEnrollmentRequest();\n            request.resetPasswordKey = encryptedKey.encryptedString;\n\n            await this.apiService.putOrganizationUserResetPasswordEnrollment(org.id, org.userId, request);\n        }\n    }\n}\n","<app-callout type=\"warning\">{{'loggedOutWarning' | i18n}}</app-callout>\n<app-callout type=\"info\" *ngIf=\"enforcedPolicyOptions\">\n    {{'masterPasswordPolicyInEffect' | i18n}}\n    <ul class=\"mb-0\">\n        <li *ngIf=\"enforcedPolicyOptions?.minComplexity > 0\">\n            {{'policyInEffectMinComplexity' | i18n : getPasswordScoreAlertDisplay()}}\n        </li>\n        <li *ngIf=\"enforcedPolicyOptions?.minLength > 0\">\n            {{'policyInEffectMinLength' | i18n : enforcedPolicyOptions?.minLength.toString()}}\n        </li>\n        <li *ngIf=\"enforcedPolicyOptions?.requireUpper\">{{'policyInEffectUppercase' | i18n}}</li>\n        <li *ngIf=\"enforcedPolicyOptions?.requireLower\">{{'policyInEffectLowercase' | i18n}}</li>\n        <li *ngIf=\"enforcedPolicyOptions?.requireNumbers\">{{'policyInEffectNumbers' | i18n}}</li>\n        <li *ngIf=\"enforcedPolicyOptions?.requireSpecial\">{{'policyInEffectSpecial' | i18n : '!@#$%^&*'}}</li>\n    </ul>\n</app-callout>\n\n<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate autocomplete=\"off\">\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <label for=\"currentMasterPassword\">{{'currentMasterPass' | i18n}}</label>\n                <input id=\"currentMasterPassword\" type=\"password\" name=\"MasterPasswordHash\" class=\"form-control\"\n                    [(ngModel)]=\"currentMasterPassword\" required appInputVerbatim>\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <label for=\"masterPassword\">{{'newMasterPass' | i18n}}</label>\n                <input id=\"masterPassword\" type=\"password\" name=\"NewMasterPasswordHash\" class=\"form-control mb-1\"\n                    [(ngModel)]=\"masterPassword\" (input)=\"updatePasswordStrength()\" required appInputVerbatim\n                    autocomplete=\"new-password\">\n                <app-password-strength [score]=\"masterPasswordScore\" [showText]=\"true\"></app-password-strength>\n            </div>\n        </div>\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <label for=\"masterPasswordRetype\">{{'confirmNewMasterPass' | i18n}}</label>\n                <input id=\"masterPasswordRetype\" type=\"password\" name=\"MasterPasswordRetype\"\n                    class=\"form-control\" [(ngModel)]=\"masterPasswordRetype\" required appInputVerbatim\n                    autocomplete=\"new-password\">\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <div class=\"form-check\">\n            <input class=\"form-check-input\" type=\"checkbox\" id=\"rotateEncKey\" name=\"RotateEncKey\"\n                [(ngModel)]=\"rotateEncKey\" (change)=\"rotateEncKeyClicked()\">\n            <label class=\"form-check-label\" for=\"rotateEncKey\">\n                {{'rotateAccountEncKey' | i18n}}\n            </label>\n            <a href=\"https://bitwarden.com/help/article/account-encryption-key/#rotate-your-encryption-key\"\n                target=\"_blank\" rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\">\n                <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n            </a>\n        </div>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'changeMasterPassword' | i18n}}</span>\n    </button>\n</form>\n","export enum EmergencyAccessStatusType {\n    Invited = 0,\n    Accepted = 1,\n    Confirmed = 2,\n    RecoveryInitiated = 3,\n    RecoveryApproved = 4,\n}\n","import { EmergencyAccessType } from '../../enums/emergencyAccessType';\n\nexport class EmergencyAccessUpdateRequest {\n    type: EmergencyAccessType;\n    waitTimeDays: number;\n    keyEncrypted?: string;\n}\n","import { FolderRequest } from './folderRequest';\n\nimport { Folder } from '../domain/folder';\n\nexport class FolderWithIdRequest extends FolderRequest {\n    id: string;\n\n    constructor(folder: Folder) {\n        super(folder);\n        this.id = folder.id;\n    }\n}\n","export class OrganizationUserResetPasswordEnrollmentRequest {\n    resetPasswordKey: string;\n}\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class PasswordRequest extends PasswordVerificationRequest {\n    newMasterPasswordHash: string;\n    key: string;\n}\n","import { CipherWithIdRequest } from './cipherWithIdRequest';\nimport { FolderWithIdRequest } from './folderWithIdRequest';\n\nexport class UpdateKeyRequest {\n    ciphers: CipherWithIdRequest[] = [];\n    folders: FolderWithIdRequest[] = [];\n    masterPasswordHash: string;\n    privateKey: string;\n    key: string;\n}\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { KdfRequest } from 'jslib/models/request/kdfRequest';\n\nimport { KdfType } from 'jslib/enums/kdfType';\n\n@Component({\n    selector: 'app-change-kdf',\n    templateUrl: 'change-kdf.component.html',\n})\nexport class ChangeKdfComponent implements OnInit {\n    masterPassword: string;\n    kdfIterations: number;\n    kdf = KdfType.PBKDF2_SHA256;\n    kdfOptions: any[] = [];\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private cryptoService: CryptoService,\n        private messagingService: MessagingService, private userService: UserService) {\n        this.kdfOptions = [\n            { name: 'PBKDF2 SHA-256', value: KdfType.PBKDF2_SHA256 },\n        ];\n    }\n\n    async ngOnInit() {\n        this.kdf = await this.userService.getKdf();\n        this.kdfIterations = await this.userService.getKdfIterations();\n    }\n\n    async submit() {\n        const hasEncKey = await this.cryptoService.hasEncKey();\n        if (!hasEncKey) {\n            this.toasterService.popAsync('error', null, this.i18nService.t('updateKey'));\n            return;\n        }\n\n        const request = new KdfRequest();\n        request.kdf = this.kdf;\n        request.kdfIterations = this.kdfIterations;\n        request.masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n        const email = await this.userService.getEmail();\n        const newKey = await this.cryptoService.makeKey(this.masterPassword, email, this.kdf, this.kdfIterations);\n        request.newMasterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, newKey);\n        const newEncKey = await this.cryptoService.remakeEncKey(newKey);\n        request.key = newEncKey[1].encryptedString;\n        try {\n            this.formPromise = this.apiService.postAccountKdf(request);\n            await this.formPromise;\n            this.toasterService.popAsync('success', this.i18nService.t('encKeySettingsChanged'),\n                this.i18nService.t('logBackIn'));\n            this.messagingService.send('logout');\n        } catch { }\n    }\n}\n","<app-callout type=\"warning\">{{'loggedOutWarning' | i18n}}</app-callout>\n<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate autocomplete=\"off\">\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <label for=\"kdfMasterPassword\">{{'masterPass' | i18n}}</label>\n                <input id=\"kdfMasterPassword\" type=\"password\" name=\"MasterPasswordHash\" class=\"form-control\"\n                    [(ngModel)]=\"masterPassword\" required appInputVerbatim>\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group mb-0\">\n                <label for=\"kdf\">{{'kdfAlgorithm' | i18n}}</label>\n                <a class=\"ml-auto\" href=\"https://en.wikipedia.org/wiki/Key_derivation_function\" target=\"_blank\"\n                    rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\">\n                    <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                </a>\n                <select id=\"kdf\" name=\"Kdf\" [(ngModel)]=\"kdf\" class=\"form-control\" required>\n                    <option *ngFor=\"let o of kdfOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                </select>\n            </div>\n        </div>\n        <div class=\"col-6\">\n            <div class=\"form-group mb-0\">\n                <label for=\"kdfIterations\">{{'kdfIterations' | i18n}}</label>\n                <a class=\"ml-auto\" href=\"https://bitwarden.com/help/article/what-encryption-is-used/#pbkdf2\" target=\"_blank\" rel=\"noopener\"\n                    appA11yTitle=\"{{'learnMore' | i18n}}\">\n                    <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                </a>\n                <input id=\"kdfIterations\" type=\"number\" min=\"5000\" max=\"2000000\" name=\"KdfIterations\"\n                    class=\"form-control\" [(ngModel)]=\"kdfIterations\" required>\n            </div>\n        </div>\n        <div class=\"col-12\">\n            <div class=\"form-group\">\n                <div class=\"small form-text text-muted\">\n                    <p>{{'kdfIterationsDesc' | i18n : (100000 | number)}}</p>\n                    <strong>{{'warning' | i18n}}</strong>: {{'kdfIterationsWarning' | i18n : (50000 | number)}}\n                </div>\n            </div>\n        </div>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'changeKdf' | i18n}}</span>\n    </button>\n</form>\n","import {\n    Component,\n    OnInit,\n    ViewChild,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { PlanType } from 'jslib/enums/planType';\nimport { ProductType } from 'jslib/enums/productType';\n\nimport { OrganizationPlansComponent } from './organization-plans.component';\n\n@Component({\n    selector: 'app-create-organization',\n    templateUrl: 'create-organization.component.html',\n})\nexport class CreateOrganizationComponent implements OnInit {\n    @ViewChild(OrganizationPlansComponent, { static: true }) orgPlansComponent: OrganizationPlansComponent;\n\n    constructor(private route: ActivatedRoute) { }\n\n    ngOnInit() {\n        const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n            if (qParams.plan === 'families') {\n                this.orgPlansComponent.plan = PlanType.FamiliesAnnually;\n                this.orgPlansComponent.product = ProductType.Families;\n            } else if (qParams.plan === 'teams') {\n                this.orgPlansComponent.plan = PlanType.TeamsAnnually;\n                this.orgPlansComponent.product = ProductType.Teams;\n            } else if (qParams.plan === 'enterprise') {\n                this.orgPlansComponent.plan = PlanType.EnterpriseAnnually;\n                this.orgPlansComponent.product = ProductType.Enterprise;\n            }\n            if (queryParamsSub != null) {\n                queryParamsSub.unsubscribe();\n            }\n        });\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'newOrganization' | i18n}}</h1>\n</div>\n<p>{{'newOrganizationDesc' | i18n}}</p>\n<app-organization-plans></app-organization-plans>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { UpdateDomainsRequest } from 'jslib/models/request/updateDomainsRequest';\n\n@Component({\n    selector: 'app-domain-rules',\n    templateUrl: 'domain-rules.component.html',\n})\nexport class DomainRulesComponent implements OnInit {\n    loading = true;\n    custom: string[] = [];\n    global: any[] = [];\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService) { }\n\n    async ngOnInit() {\n        const response = await this.apiService.getSettingsDomains();\n        this.loading = false;\n        if (response.equivalentDomains != null) {\n            this.custom = response.equivalentDomains.map(d => d.join(', '));\n        }\n        if (response.globalEquivalentDomains != null) {\n            this.global = response.globalEquivalentDomains.map(d => {\n                return {\n                    domains: d.domains.join(', '),\n                    excluded: d.excluded,\n                    key: d.type,\n                };\n            });\n        }\n    }\n\n    toggleExcluded(globalDomain: any) {\n        globalDomain.excluded = !globalDomain.excluded;\n    }\n\n    customize(globalDomain: any) {\n        globalDomain.excluded = true;\n        this.custom.push(globalDomain.domains);\n    }\n\n    remove(index: number) {\n        this.custom.splice(index, 1);\n    }\n\n    add() {\n        this.custom.push('');\n    }\n\n    async submit() {\n        const request = new UpdateDomainsRequest();\n        request.excludedGlobalEquivalentDomains = this.global.filter(d => d.excluded)\n            .map(d => d.key);\n        if (request.excludedGlobalEquivalentDomains.length === 0) {\n            request.excludedGlobalEquivalentDomains = null;\n        }\n        request.equivalentDomains = this.custom.filter(d => d != null && d.trim() !== '')\n            .map(d => d.split(',').map(d2 => d2.trim()));\n        if (request.equivalentDomains.length === 0) {\n            request.equivalentDomains = null;\n        }\n\n        try {\n            this.formPromise = this.apiService.putSettingsDomains(request);\n            await this.formPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('domainsUpdated'));\n        } catch { }\n    }\n\n    indexTrackBy(index: number, obj: any): any {\n        return index;\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'domainRules' | i18n}}</h1>\n</div>\n<p>{{'domainRulesDesc' | i18n}}</p>\n<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <h2>{{'customEqDomains' | i18n}}</h2>\n    <p *ngIf=\"loading\">\n        <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span class=\"sr-only\">{{'loading' | i18n}}</span>\n    </p>\n    <ng-container *ngIf=\"!loading\">\n        <div class=\"form-group d-flex\" *ngFor=\"let d of custom; let i = index; trackBy: indexTrackBy\">\n            <div class=\"flex-fill\">\n                <label for=\"customDomain_{{i}}\" class=\"sr-only\">{{'customDomainX' | i18n : (i + 1)}}</label>\n                <textarea class=\"form-control\" name=\"CustomDomain[{{i}}]\" id=\"customDomain_{{i}}\"\n                    [(ngModel)]=\"custom[i]\" placeholder=\"{{'ex' | i18n}} google.com, gmail.com\" required></textarea>\n            </div>\n            <button type=\"button\" class=\"btn btn-link text-danger ml-2\" (click)=\"remove(i)\"\n                appA11yTitle=\"{{'remove' | i18n}}\">\n                <i class=\"fa fa-minus-circle fa-lg\" aria-hidden=\"true\"></i>\n            </button>\n        </div>\n        <button type=\"button\" (click)=\"add()\" class=\"btn btn-outline-secondary btn-sm mb-2\">\n            <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i> {{'newCustomDomain' | i18n}}\n        </button>\n        <small class=\"text-muted d-block mb-3\">{{'newCustomDomainDesc' | i18n}}</small>\n    </ng-container>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'save' | i18n}}</span>\n    </button>\n    <h2 class=\"spaced-header\">{{'globalEqDomains' | i18n}}</h2>\n    <p *ngIf=\"loading\">\n        <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span class=\"sr-only\">{{'loading' | i18n}}</span>\n    </p>\n    <table class=\"table table-hover table-list\" *ngIf=\"!loading && global.length > 0\">\n        <tbody>\n            <tr *ngFor=\"let d of global\">\n                <td [ngClass]=\"{'table-list-strike': d.excluded}\">{{d.domains}}</td>\n                <td class=\"table-list-options\">\n                    <div class=\"dropdown\" appListDropdown>\n                        <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\" aria-expanded=\"false\" appA11yTitle=\"{{'options' | i18n}}\">\n                            <i class=\"fa fa-cog fa-lg\" aria-hidden=\"true\"></i>\n                        </button>\n                        <div class=\"dropdown-menu dropdown-menu-right\">\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"toggleExcluded(d)\"\n                                *ngIf=\"!d.excluded\">\n                                <i class=\"fa fa-fw fa-close\" aria-hidden=\"true\"></i>\n                                {{'exclude' | i18n}}\n                            </a>\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"toggleExcluded(d)\"\n                                *ngIf=\"d.excluded\">\n                                <i class=\"fa fa-fw fa-plus\" aria-hidden=\"true\"></i>\n                                {{'include' | i18n}}\n                            </a>\n                            <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"customize(d)\">\n                                <i class=\"fa fa-fw fa-scissors\" aria-hidden=\"true\"></i>\n                                {{'customize' | i18n}}\n                            </a>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'save' | i18n}}</span>\n    </button>\n</form>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\nimport { VaultTimeoutService } from 'jslib/abstractions/vaultTimeout.service';\n\nimport { ConstantsService } from 'jslib/services/constants.service';\n\nimport { Utils } from 'jslib/misc/utils';\n\n@Component({\n    selector: 'app-options',\n    templateUrl: 'options.component.html',\n})\nexport class OptionsComponent implements OnInit {\n    vaultTimeout: number = null;\n    vaultTimeoutAction: string = 'lock';\n    disableIcons: boolean;\n    enableGravatars: boolean;\n    enableFullWidth: boolean;\n    locale: string;\n    vaultTimeouts: any[];\n    localeOptions: any[];\n\n    private startingLocale: string;\n\n    constructor(private storageService: StorageService, private stateService: StateService,\n        private i18nService: I18nService, private toasterService: ToasterService,\n        private vaultTimeoutService: VaultTimeoutService, private platformUtilsService: PlatformUtilsService,\n        private messagingService: MessagingService) {\n        this.vaultTimeouts = [\n            { name: i18nService.t('oneMinute'), value: 1 },\n            { name: i18nService.t('fiveMinutes'), value: 5 },\n            { name: i18nService.t('fifteenMinutes'), value: 15 },\n            { name: i18nService.t('thirtyMinutes'), value: 30 },\n            { name: i18nService.t('oneHour'), value: 60 },\n            { name: i18nService.t('fourHours'), value: 240 },\n            { name: i18nService.t('onRefresh'), value: -1 },\n        ];\n        if (this.platformUtilsService.isDev()) {\n            this.vaultTimeouts.push({ name: i18nService.t('never'), value: null });\n        }\n\n        const localeOptions: any[] = [];\n        i18nService.supportedTranslationLocales.forEach(locale => {\n            let name = locale;\n            if (i18nService.localeNames.has(locale)) {\n                name += (' - ' + i18nService.localeNames.get(locale));\n            }\n            localeOptions.push({ name: name, value: locale });\n        });\n        localeOptions.sort(Utils.getSortFunction(i18nService, 'name'));\n        localeOptions.splice(0, 0, { name: i18nService.t('default'), value: null });\n        this.localeOptions = localeOptions;\n    }\n\n    async ngOnInit() {\n        this.vaultTimeout = await this.storageService.get<number>(ConstantsService.vaultTimeoutKey);\n        this.vaultTimeoutAction = await this.storageService.get<string>(ConstantsService.vaultTimeoutActionKey);\n        this.disableIcons = await this.storageService.get<boolean>(ConstantsService.disableFaviconKey);\n        this.enableGravatars = await this.storageService.get<boolean>('enableGravatars');\n        this.enableFullWidth = await this.storageService.get<boolean>('enableFullWidth');\n        this.locale = this.startingLocale = await this.storageService.get<string>(ConstantsService.localeKey);\n    }\n\n    async submit() {\n        await this.vaultTimeoutService.setVaultTimeoutOptions(this.vaultTimeout != null ? this.vaultTimeout : null,\n            this.vaultTimeoutAction);\n        await this.storageService.save(ConstantsService.disableFaviconKey, this.disableIcons);\n        await this.stateService.save(ConstantsService.disableFaviconKey, this.disableIcons);\n        await this.storageService.save('enableGravatars', this.enableGravatars);\n        await this.stateService.save('enableGravatars', this.enableGravatars);\n        await this.storageService.save('enableFullWidth', this.enableFullWidth);\n        this.messagingService.send('setFullWidth');\n        await this.storageService.save(ConstantsService.localeKey, this.locale);\n        if (this.locale !== this.startingLocale) {\n            window.location.reload();\n        } else {\n            this.toasterService.popAsync('success', null, this.i18nService.t('optionsUpdated'));\n        }\n    }\n\n    async vaultTimeoutActionChanged(newValue: string) {\n        if (newValue === 'logOut') {\n            const confirmed = await this.platformUtilsService.showDialog(\n                this.i18nService.t('vaultTimeoutLogOutConfirmation'),\n                this.i18nService.t('vaultTimeoutLogOutConfirmationTitle'),\n                this.i18nService.t('yes'), this.i18nService.t('cancel'), 'warning');\n            if (!confirmed) {\n                this.vaultTimeoutAction = 'lock';\n                return;\n            }\n        }\n        this.vaultTimeoutAction = newValue;\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'options' | i18n}}</h1>\n</div>\n<p>{{'optionsDesc' | i18n}}</p>\n<form (ngSubmit)=\"submit()\" ngNativeValidate>\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <label for=\"vaultTimeout\">{{'vaultTimeout' | i18n}}</label>\n                <select id=\"vaultTimeout\" name=\"VaultTimeout\" [(ngModel)]=\"vaultTimeout\" class=\"form-control\">\n                    <option *ngFor=\"let o of vaultTimeouts\" [ngValue]=\"o.value\">{{o.name}}</option>\n                </select>\n                <small class=\"form-text text-muted\">{{'vaultTimeoutDesc' | i18n}}</small>\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <label>{{'vaultTimeoutAction' | i18n}}</label>\n        <div class=\"form-check form-check-block\">\n            <input class=\"form-check-input\" type=\"radio\" name=\"vaultTimeoutAction\" id=\"vaultTimeoutActionLock\"\n                value=\"lock\" [(ngModel)]=\"vaultTimeoutAction\">\n            <label class=\"form-check-label\" for=\"vaultTimeoutActionLock\">\n                {{'lock' | i18n}}\n                <small>{{'vaultTimeoutActionLockDesc' | i18n}}</small>\n            </label>\n        </div>\n        <div class=\"form-check mt-2 form-check-block\">\n            <input class=\"form-check-input\" type=\"radio\" name=\"vaultTimeoutAction\" id=\"vaultTimeoutActionLogOut\"\n                value=\"logOut\" [(ngModel)]=\"vaultTimeoutAction\" (ngModelChange)=\"vaultTimeoutActionChanged($event)\">\n            <label class=\"form-check-label\" for=\"vaultTimeoutActionLogOut\">\n                {{'logOut' | i18n}}\n                <small>{{'vaultTimeoutActionLogOutDesc' | i18n}}</small>\n            </label>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-6\">\n            <div class=\"form-group\">\n                <div class=\"d-flex\">\n                    <label for=\"locale\">{{'language' | i18n}}</label>\n                    <a class=\"ml-auto\" href=\"https://help.bitwarden.com/article/localization/\" target=\"_blank\"\n                        rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\">\n                        <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                    </a>\n                </div>\n                <select id=\"locale\" name=\"Locale\" [(ngModel)]=\"locale\" class=\"form-control\">\n                    <option *ngFor=\"let o of localeOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                </select>\n                <small class=\"form-text text-muted\">{{'languageDesc' | i18n}}</small>\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <div class=\"form-check\">\n            <input class=\"form-check-input\" type=\"checkbox\" id=\"disableIcons\" name=\"DisableIcons\"\n                [(ngModel)]=\"disableIcons\">\n            <label class=\"form-check-label\" for=\"disableIcons\">\n                {{'disableIcons' | i18n}}\n            </label>\n            <a href=\"https://help.bitwarden.com/article/website-icons/\" target=\"_blank\" rel=\"noopener\"\n                appA11yTitle=\"{{'learnMore' | i18n}}\">\n                <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n            </a>\n        </div>\n        <small class=\"form-text text-muted\">{{'disableIconsDesc' | i18n}}</small>\n    </div>\n    <div class=\"form-group\">\n        <div class=\"form-check\">\n            <input class=\"form-check-input\" type=\"checkbox\" id=\"enableGravatars\" name=\"enableGravatars\"\n                [(ngModel)]=\"enableGravatars\">\n            <label class=\"form-check-label\" for=\"enableGravatars\">\n                {{'enableGravatars' | i18n}}\n            </label>\n            <a href=\"https://gravatar.com/\" target=\"_blank\" rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\">\n                <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n            </a>\n        </div>\n        <small class=\"form-text text-muted\">{{'enableGravatarsDesc' | i18n}}</small>\n    </div>\n\t<div class=\"form-group\">\n        <div class=\"form-check\">\n            <input class=\"form-check-input\" type=\"checkbox\" id=\"enableFullWidth\" name=\"enableFullWidth\"\n                [(ngModel)]=\"enableFullWidth\">\n            <label class=\"form-check-label\" for=\"enableFullWidth\">\n                {{'enableFullWidth' | i18n}}\n            </label>\n        </div>\n        <small class=\"form-text text-muted\">{{'enableFullWidthDesc' | i18n}}</small>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary\">\n        {{'save' | i18n}}\n    </button>\n</form>\n","import {\n    AfterContentInit,\n    Component,\n    Input,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { CryptoFunctionService } from 'jslib/abstractions/cryptoFunction.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\n\nimport { SsoComponent } from 'jslib/angular/components/sso.component';\n\nimport { Organization } from 'jslib/models/domain/organization';\n\n@Component({\n    selector: 'app-link-sso',\n    templateUrl: 'link-sso.component.html',\n})\nexport class LinkSsoComponent extends SsoComponent implements AfterContentInit {\n    @Input() organization: Organization;\n    returnUri: string = '/settings/organizations';\n\n    constructor(platformUtilsService: PlatformUtilsService, i18nService: I18nService,\n        apiService: ApiService, authService: AuthService,\n        router: Router, route: ActivatedRoute,\n        cryptoFunctionService: CryptoFunctionService, passwordGenerationService: PasswordGenerationService,\n        storageService: StorageService, stateService: StateService) {\n        super(authService, router,\n            i18nService, route,\n            storageService, stateService,\n            platformUtilsService, apiService,\n            cryptoFunctionService, passwordGenerationService);\n\n        this.returnUri = '/settings/organizations';\n        this.redirectUri = window.location.origin + '/sso-connector.html';\n        this.clientId = 'web';\n    }\n\n    async ngAfterContentInit() {\n        this.identifier = this.organization.identifier;\n    }\n}\n","<a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"submit(returnUri, true)\">\n    <i class=\"fa fa-fw fa-link\" aria-hidden=\"true\"></i>\n    {{'linkSso' | i18n}}\n</a>\n","import {\n    Component,\n    OnInit,\n    ViewChild,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\nimport { TokenService } from 'jslib/abstractions/token.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { PaymentComponent } from './payment.component';\nimport { TaxInfoComponent } from './tax-info.component';\n\n@Component({\n    selector: 'app-premium',\n    templateUrl: 'premium.component.html',\n})\nexport class PremiumComponent implements OnInit {\n    @ViewChild(PaymentComponent) paymentComponent: PaymentComponent;\n    @ViewChild(TaxInfoComponent) taxInfoComponent: TaxInfoComponent;\n\n    canAccessPremium = false;\n    selfHosted = false;\n    premiumPrice = 10;\n    storageGbPrice = 4;\n    additionalStorage = 0;\n\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, platformUtilsService: PlatformUtilsService,\n        private tokenService: TokenService, private router: Router,\n        private messagingService: MessagingService, private syncService: SyncService,\n        private userService: UserService) {\n        this.selfHosted = platformUtilsService.isSelfHost();\n    }\n\n    async ngOnInit() {\n        this.canAccessPremium = await this.userService.canAccessPremium();\n        const premium = await this.tokenService.getPremium();\n        if (premium) {\n            this.router.navigate(['/settings/subscription']);\n            return;\n        }\n    }\n\n    async submit() {\n        let files: FileList = null;\n        if (this.selfHosted) {\n            const fileEl = document.getElementById('file') as HTMLInputElement;\n            files = fileEl.files;\n            if (files == null || files.length === 0) {\n                this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                    this.i18nService.t('selectFile'));\n                return;\n            }\n        }\n\n        try {\n            if (this.selfHosted) {\n                if (!this.tokenService.getEmailVerified()) {\n                    this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                        this.i18nService.t('verifyEmailFirst'));\n                    return;\n                }\n\n                const fd = new FormData();\n                fd.append('license', files[0]);\n                this.formPromise = this.apiService.postAccountLicense(fd).then(() => {\n                    return this.finalizePremium();\n                });\n            } else {\n                this.formPromise = this.paymentComponent.createPaymentToken().then(result => {\n                    const fd = new FormData();\n                    fd.append('paymentMethodType', result[1].toString());\n                    if (result[0] != null) {\n                        fd.append('paymentToken', result[0]);\n                    }\n                    fd.append('additionalStorageGb', (this.additionalStorage || 0).toString());\n                    fd.append('country', this.taxInfoComponent.taxInfo.country);\n                    fd.append('postalCode', this.taxInfoComponent.taxInfo.postalCode);\n                    return this.apiService.postPremium(fd);\n                }).then(paymentResponse => {\n                    if (!paymentResponse.success && paymentResponse.paymentIntentClientSecret != null) {\n                        return this.paymentComponent.handleStripeCardPayment(paymentResponse.paymentIntentClientSecret,\n                            () => this.finalizePremium());\n                    } else {\n                        return this.finalizePremium();\n                    }\n                });\n            }\n            await this.formPromise;\n        } catch { }\n    }\n\n    async finalizePremium() {\n        await this.apiService.refreshIdentityToken();\n        await this.syncService.fullSync(true);\n        this.toasterService.popAsync('success', null, this.i18nService.t('premiumUpdated'));\n        this.messagingService.send('purchasedPremium');\n        this.router.navigate(['/settings/subscription']);\n    }\n\n    get additionalStorageTotal(): number {\n        return this.storageGbPrice * Math.abs(this.additionalStorage || 0);\n    }\n\n    get subtotal(): number {\n        return this.premiumPrice + this.additionalStorageTotal;\n    }\n\n    get taxCharges(): number {\n        return this.taxInfoComponent != null && this.taxInfoComponent.taxRate != null ?\n            (this.taxInfoComponent.taxRate / 100) * this.subtotal :\n            0;\n    }\n\n    get total(): number {\n        return (this.subtotal + this.taxCharges) || 0;\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'goPremium' | i18n}}</h1>\n</div>\n<app-callout type=\"info\" *ngIf=\"canAccessPremium\" title=\"{{'youHavePremiumAccess' | i18n}}\" icon=\"fa-star\">\n    {{'alreadyPremiumFromOrg' | i18n}}\n</app-callout>\n<app-callout type=\"success\">\n    <p>{{'premiumUpgradeUnlockFeatures' | i18n}}</p>\n    <ul class=\"fa-ul\">\n        <li>\n            <i class=\"fa fa-check text-success fa-li\" aria-hidden=\"true\"></i>\n            {{'premiumSignUpStorage' | i18n}}\n        </li>\n        <li>\n            <i class=\"fa fa-check text-success fa-li\" aria-hidden=\"true\"></i>\n            {{'premiumSignUpTwoStep' | i18n}}\n        </li>\n        <li>\n            <i class=\"fa fa-check text-success fa-li\" aria-hidden=\"true\"></i>\n            {{'premiumSignUpEmergency' |i18n}}\n        </li>\n        <li>\n            <i class=\"fa fa-check text-success fa-li\" aria-hidden=\"true\"></i>\n            {{'premiumSignUpReports' | i18n}}\n        </li>\n        <li>\n            <i class=\"fa fa-check text-success fa-li\" aria-hidden=\"true\"></i>\n            {{'premiumSignUpTotp' | i18n}}\n        </li>\n        <li>\n            <i class=\"fa fa-check text-success fa-li\" aria-hidden=\"true\"></i>\n            {{'premiumSignUpSupport' | i18n}}\n        </li>\n        <li>\n            <i class=\"fa fa-check text-success fa-li\" aria-hidden=\"true\"></i>\n            {{'premiumSignUpFuture' | i18n}}\n        </li>\n    </ul>\n    <p class=\"text-lg\" [ngClass]=\"{'mb-0':!selfHosted}\">{{'premiumPrice' | i18n : (premiumPrice | currency:'$')}}</p>\n    <a href=\"https://vault.bitwarden.com/#/settings/premium\" target=\"_blank\" rel=\"noopener\"\n        class=\"btn btn-outline-secondary\" *ngIf=\"selfHosted\">\n        {{'purchasePremium' | i18n}}\n    </a>\n</app-callout>\n<ng-container *ngIf=\"selfHosted\">\n    <p>{{'uploadLicenseFilePremium' | i18n}}</p>\n    <form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n        <div class=\"form-group\">\n            <label for=\"file\">{{'licenseFile' | i18n}}</label>\n            <input type=\"file\" id=\"file\" class=\"form-control-file\" name=\"file\" required>\n            <small class=\"form-text text-muted\">{{'licenseFileDesc' | i18n : 'bitwarden_premium_license.json'}}</small>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'submit' | i18n}}</span>\n        </button>\n    </form>\n</ng-container>\n<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate *ngIf=\"!selfHosted\">\n    <h2 class=\"mt-5\">{{'addons' | i18n}}</h2>\n    <div class=\"row\">\n        <div class=\"form-group col-6\">\n            <label for=\"additionalStorage\">{{'additionalStorageGb' | i18n}}</label>\n            <input id=\"additionalStorage\" class=\"form-control\" type=\"number\" name=\"AdditionalStorageGb\"\n                [(ngModel)]=\"additionalStorage\" min=\"0\" max=\"99\" step=\"1\"\n                placeholder=\"{{'additionalStorageGbDesc' | i18n}}\">\n            <small\n                class=\"text-muted form-text\">{{'additionalStorageIntervalDesc' | i18n : '1 GB' : (storageGbPrice | currency:'$') : ('year' | i18n)}}</small>\n        </div>\n    </div>\n    <h2 class=\"spaced-header\">{{'summary' | i18n}}</h2>\n    {{'premiumMembership' | i18n}}: {{premiumPrice | currency:'$'}}\n    <br> {{'additionalStorageGb' | i18n}}: {{additionalStorage || 0}} GB &times; {{storageGbPrice | currency:'$'}} = {{additionalStorageTotal\n    | currency:'$'}}\n    <hr class=\"my-3\">\n    <h2 class=\"spaced-header mb-4\">{{'paymentInformation' | i18n}}</h2>\n    <app-payment [hideBank]=\"true\"></app-payment>\n    <app-tax-info></app-tax-info>\n    <div id=\"price\" class=\"my-4\">\n        <div class=\"text-muted text-sm\">\n            {{ 'planPrice' | i18n }}: {{ subtotal | currency: 'USD $' }}\n            <br />\n            <ng-container>\n                {{ 'estimatedTax' | i18n }}: {{ taxCharges | currency: 'USD $' }}\n            </ng-container>\n        </div>\n        <hr class=\"my-1 col-3 ml-0\">\n        <p class=\"text-lg\"><strong>{{'total' | i18n}}:</strong>\n            {{total | currency:'USD $'}}/{{'year' | i18n}}</p>\n    </div>\n    <small class=\"text-muted font-italic\">{{'paymentChargedAnnually' | i18n}}</small>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'submit' | i18n}}</span>\n    </button>\n</form>\n","import {\n    Component,\n    NgZone,\n    OnDestroy,\n    OnInit,\n} from '@angular/core';\n\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { TokenService } from 'jslib/abstractions/token.service';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nconst BroadcasterSubscriptionId = 'SettingsComponent';\n\n@Component({\n    selector: 'app-settings',\n    templateUrl: 'settings.component.html',\n})\nexport class SettingsComponent implements OnInit, OnDestroy {\n    premium: boolean;\n    selfHosted: boolean;\n\n    constructor(private tokenService: TokenService, private broadcasterService: BroadcasterService,\n        private ngZone: NgZone, private platformUtilsService: PlatformUtilsService) { }\n\n    async ngOnInit() {\n        this.broadcasterService.subscribe(BroadcasterSubscriptionId, async (message: any) => {\n            this.ngZone.run(async () => {\n                switch (message.command) {\n                    case 'purchasedPremium':\n                        await this.load();\n                        break;\n                    default:\n                }\n            });\n        });\n\n        this.selfHosted = await this.platformUtilsService.isSelfHost();\n        await this.load();\n    }\n\n    ngOnDestroy() {\n        this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);\n    }\n\n    async load() {\n        this.premium = await this.tokenService.getPremium();\n    }\n}\n","<div class=\"container page-content\">\n    <div class=\"row\">\n        <div class=\"col-3\">\n            <div class=\"card\">\n                <div class=\"card-header\">{{'settings' | i18n}}</div>\n                <div class=\"list-group list-group-flush\">\n                    <a routerLink=\"account\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'myAccount' | i18n}}\n                    </a>\n                    <a routerLink=\"options\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'options' | i18n}}\n                    </a>\n                    <a routerLink=\"organizations\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'organizations' | i18n}}\n                    </a>\n                    <a routerLink=\"subscription\" class=\"list-group-item\" routerLinkActive=\"active\" *ngIf=\"premium\">\n                        {{'premiumMembership' | i18n}}\n                    </a>\n                    <a routerLink=\"premium\" class=\"list-group-item\" routerLinkActive=\"active\" *ngIf=\"!premium\">\n                        {{'goPremium' | i18n}}\n                    </a>\n                    <a routerLink=\"billing\" class=\"list-group-item\" routerLinkActive=\"active\" *ngIf=\"!selfHosted\">\n                        {{'billing' | i18n}}\n                    </a>\n                    <a routerLink=\"two-factor\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'twoStepLogin' | i18n}}\n                    </a>\n                    <a routerLink=\"domain-rules\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'domainRules' | i18n}}\n                    </a>\n                    <a routerLink=\"emergency-access\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'emergencyAccess' | i18n}}\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-9\">\n            <router-outlet></router-outlet>\n        </div>\n    </div>\n</div>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { SubscriptionResponse } from 'jslib/models/response/subscriptionResponse';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { TokenService } from 'jslib/abstractions/token.service';\n\n@Component({\n    selector: 'app-user-subscription',\n    templateUrl: 'user-subscription.component.html',\n})\nexport class UserSubscriptionComponent implements OnInit {\n    loading = false;\n    firstLoaded = false;\n    adjustStorageAdd = true;\n    showAdjustStorage = false;\n    showUpdateLicense = false;\n    sub: SubscriptionResponse;\n    selfHosted = false;\n\n    cancelPromise: Promise<any>;\n    reinstatePromise: Promise<any>;\n\n    constructor(private tokenService: TokenService, private apiService: ApiService,\n        private platformUtilsService: PlatformUtilsService, private i18nService: I18nService,\n        private toasterService: ToasterService, private router: Router) {\n        this.selfHosted = platformUtilsService.isSelfHost();\n    }\n\n    async ngOnInit() {\n        await this.load();\n        this.firstLoaded = true;\n    }\n\n    async load() {\n        if (this.loading) {\n            return;\n        }\n\n        if (this.tokenService.getPremium()) {\n            this.loading = true;\n            this.sub = await this.apiService.getUserSubscription();\n        } else {\n            this.router.navigate(['/settings/premium']);\n            return;\n        }\n\n        this.loading = false;\n    }\n\n    async reinstate() {\n        if (this.loading) {\n            return;\n        }\n\n        if (this.usingInAppPurchase) {\n            this.platformUtilsService.showDialog(this.i18nService.t('manageSubscriptionFromStore'),\n                this.i18nService.t('cancelSubscription'), null, null, 'warning');\n            return;\n        }\n\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('reinstateConfirmation'),\n            this.i18nService.t('reinstateSubscription'), this.i18nService.t('yes'), this.i18nService.t('cancel'));\n        if (!confirmed) {\n            return;\n        }\n\n        try {\n            this.reinstatePromise = this.apiService.postReinstatePremium();\n            await this.reinstatePromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('reinstated'));\n            this.load();\n        } catch { }\n    }\n\n    async cancel() {\n        if (this.loading) {\n            return;\n        }\n\n        if (this.usingInAppPurchase) {\n            this.platformUtilsService.showDialog(this.i18nService.t('manageSubscriptionFromStore'),\n                this.i18nService.t('cancelSubscription'), null, null, 'warning');\n            return;\n        }\n\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('cancelConfirmation'),\n            this.i18nService.t('cancelSubscription'), this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return;\n        }\n\n        try {\n            this.cancelPromise = this.apiService.postCancelPremium();\n            await this.cancelPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('canceledSubscription'));\n            this.load();\n        } catch { }\n    }\n\n    downloadLicense() {\n        if (this.loading) {\n            return;\n        }\n\n        const licenseString = JSON.stringify(this.sub.license, null, 2);\n        this.platformUtilsService.saveFile(window, licenseString, null, 'bitwarden_premium_license.json');\n    }\n\n    updateLicense() {\n        if (this.loading) {\n            return;\n        }\n        this.showUpdateLicense = true;\n    }\n\n    closeUpdateLicense(load: boolean) {\n        this.showUpdateLicense = false;\n        if (load) {\n            this.load();\n        }\n    }\n\n    adjustStorage(add: boolean) {\n        if (this.usingInAppPurchase) {\n            this.platformUtilsService.showDialog(this.i18nService.t('cannotPerformInAppPurchase'),\n                this.i18nService.t(add ? 'addStorage' : 'removeStorage'), null, null, 'warning');\n            return;\n        }\n        this.adjustStorageAdd = add;\n        this.showAdjustStorage = true;\n    }\n\n    closeStorage(load: boolean) {\n        this.showAdjustStorage = false;\n        if (load) {\n            this.load();\n        }\n    }\n\n    get subscriptionMarkedForCancel() {\n        return this.subscription != null && !this.subscription.cancelled && this.subscription.cancelAtEndDate;\n    }\n\n    get subscription() {\n        return this.sub != null ? this.sub.subscription : null;\n    }\n\n    get nextInvoice() {\n        return this.sub != null ? this.sub.upcomingInvoice : null;\n    }\n\n    get storagePercentage() {\n        return this.sub != null && this.sub.maxStorageGb ?\n            +(100 * (this.sub.storageGb / this.sub.maxStorageGb)).toFixed(2) : 0;\n    }\n\n    get storageProgressWidth() {\n        return this.storagePercentage < 5 ? 5 : 0;\n    }\n\n    get usingInAppPurchase() {\n        return this.sub != null ? this.sub.usingInAppPurchase : false;\n    }\n}\n","<div class=\"page-header\">\n    <h1>\n        {{'premiumMembership' | i18n}}\n        <small *ngIf=\"firstLoaded && loading\">\n            <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n        </small>\n    </h1>\n</div>\n<ng-container *ngIf=\"!firstLoaded && loading\">\n    <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n    <span class=\"sr-only\">{{'loading' | i18n}}</span>\n</ng-container>\n<ng-container *ngIf=\"sub\">\n    <app-callout type=\"warning\" title=\"{{'canceled' | i18n}}\" *ngIf=\"subscription && subscription.cancelled\">\n        {{'subscriptionCanceled' | i18n}}</app-callout>\n    <app-callout type=\"warning\" title=\"{{'pendingCancellation' | i18n}}\" *ngIf=\"subscriptionMarkedForCancel\">\n        <p>{{'subscriptionPendingCanceled' | i18n}}</p>\n        <button #reinstateBtn type=\"button\" class=\"btn btn-outline-secondary btn-submit\" (click)=\"reinstate()\"\n            [appApiAction]=\"reinstatePromise\" [disabled]=\"reinstateBtn.loading\">\n            <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>{{'reinstateSubscription' | i18n}}</span>\n        </button>\n    </app-callout>\n    <dl *ngIf=\"selfHosted\">\n        <dt>{{'expiration' | i18n}}</dt>\n        <dd *ngIf=\"sub.expiration\">{{sub.expiration | date:'mediumDate'}}</dd>\n        <dd *ngIf=\"!sub.expiration\">{{'neverExpires' | i18n}}</dd>\n    </dl>\n    <div class=\"row\" *ngIf=\"!selfHosted\">\n        <div class=\"col-4\">\n            <dl>\n                <dt>{{'status' | i18n}}</dt>\n                <dd>\n                    <span class=\"text-capitalize\">{{(subscription && subscription.status) || '-'}}</span>\n                    <span class=\"badge badge-warning\"\n                        *ngIf=\"subscriptionMarkedForCancel\">{{'pendingCancellation' | i18n}}</span>\n                </dd>\n                <dt>{{'nextCharge' | i18n}}</dt>\n                <dd>{{nextInvoice ? ((nextInvoice.date | date: 'mediumDate') + ', ' + (nextInvoice.amount | currency:'$')) :\n                    '-'}}\n                </dd>\n            </dl>\n        </div>\n        <div class=\"col-8\" *ngIf=\"subscription\">\n            <strong class=\"d-block mb-1\">{{'details' | i18n}}</strong>\n            <table class=\"table\">\n                <tbody>\n                    <tr *ngFor=\"let i of subscription.items\">\n                        <td>\n                            {{i.name}} {{i.quantity > 1 ? '&times;' + i.quantity : ''}} @ {{i.amount | currency:'$'}}\n                        </td>\n                        <td>\n                            {{(i.quantity * i.amount) | currency:'$'}} /{{i.interval | i18n}}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <ng-container *ngIf=\"selfHosted\">\n        <div>\n            <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"updateLicense()\">\n                {{'updateLicense' | i18n}}\n            </button>\n            <a href=\"https://vault.bitwarden.com/#/settings/subscription\" target=\"_blank\" rel=\"noopener\"\n                class=\"btn btn-outline-secondary\">\n                {{'manageSubscription' | i18n}}\n            </a>\n        </div>\n        <div class=\"card mt-3\" *ngIf=\"showUpdateLicense\">\n            <div class=\"card-body\">\n                <button type=\"button\" class=\"close\" appA11yTitle=\"{{'cancel' | i18n}}\"\n                    (click)=\"closeUpdateLicense(false)\"><span aria-hidden=\"true\">&times;</span></button>\n                <h3 class=\"card-body-header\">{{'updateLicense' | i18n}}</h3>\n                <app-update-license (onUpdated)=\"closeUpdateLicense(true)\" (onCanceled)=\"closeUpdateLicense(false)\">\n                </app-update-license>\n            </div>\n        </div>\n    </ng-container>\n    <ng-container *ngIf=\"!selfHosted\">\n        <div class=\"d-flex\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"downloadLicense()\"\n                *ngIf=\"!subscription || !subscription.cancelled\">\n                {{'downloadLicense' | i18n}}\n            </button>\n            <button #cancelBtn type=\"button\" class=\"btn btn-outline-danger btn-submit ml-auto\" (click)=\"cancel()\"\n                [appApiAction]=\"cancelPromise\" [disabled]=\"cancelBtn.loading\"\n                *ngIf=\"subscription && !subscription.cancelled && !subscriptionMarkedForCancel\">\n                <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                <span>{{'cancelSubscription' | i18n}}</span>\n            </button>\n        </div>\n        <h2 class=\"spaced-header\">{{'storage' | i18n}}</h2>\n        <p>{{'subscriptionStorage' | i18n : sub.maxStorageGb || 0 : sub.storageName || '0 MB'}}</p>\n        <div class=\"progress\">\n            <div class=\"progress-bar bg-success\" role=\"progressbar\" [ngStyle]=\"{width: storageProgressWidth + '%' }\"\n                [attr.aria-valuenow]=\"storagePercentage\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n                {{(storagePercentage / 100) | percent}}</div>\n        </div>\n        <ng-container *ngIf=\"subscription && !subscription.cancelled && !subscriptionMarkedForCancel\">\n            <div class=\"mt-3\">\n                <div class=\"d-flex\" *ngIf=\"!showAdjustStorage\">\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"adjustStorage(true)\">\n                        {{'addStorage' | i18n}}\n                    </button>\n                    <button type=\"button\" class=\"ml-1 btn btn-outline-secondary\" (click)=\"adjustStorage(false)\">\n                        {{'removeStorage' | i18n}}\n                    </button>\n                </div>\n                <app-adjust-storage [storageGbPrice]=\"4\" [add]=\"adjustStorageAdd\" (onAdjusted)=\"closeStorage(true)\"\n                    (onCanceled)=\"closeStorage(false)\" *ngIf=\"showAdjustStorage\"></app-adjust-storage>\n            </div>\n        </ng-container>\n    </ng-container>\n</ng-container>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { AuditService } from 'jslib/abstractions/audit.service';\nimport { UserService } from 'jslib/abstractions/user.service';\nimport { BreachAccountResponse } from 'jslib/models/response/breachAccountResponse';\n\n@Component({\n    selector: 'app-breach-report',\n    templateUrl: 'breach-report.component.html',\n})\nexport class BreachReportComponent implements OnInit {\n    error = false;\n    username: string;\n    checkedUsername: string;\n    breachedAccounts: BreachAccountResponse[] = [];\n    formPromise: Promise<BreachAccountResponse[]>;\n\n    constructor(private auditService: AuditService, private userService: UserService) { }\n\n    async ngOnInit() {\n        this.username = await this.userService.getEmail();\n    }\n\n    async submit() {\n        this.error = false;\n        this.username = this.username.toLowerCase();\n        try {\n            this.formPromise = this.auditService.breachedAccounts(this.username);\n            this.breachedAccounts = await this.formPromise;\n        } catch {\n            this.error = true;\n        }\n        this.checkedUsername = this.username;\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'dataBreachReport' | i18n}}</h1>\n</div>\n<p>{{'breachDesc' | i18n}}</p>\n<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n    <div class=\"row\">\n        <div class=\"form-group col-6\">\n            <label for=\"username\">{{'username' | i18n}}</label>\n            <input id=\"username\" type=\"text\" name=\"Username\" class=\"form-control\" [(ngModel)]=\"username\" required>\n            <small class=\"form-text text-muted\">{{'breachCheckUsernameEmail' | i18n}}</small>\n        </div>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n        <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n        <span>{{'checkBreaches' | i18n}}</span>\n    </button>\n</form>\n<div class=\"mt-4\" *ngIf=\"!form.loading && checkedUsername\">\n    <p *ngIf=\"error\">{{'reportError' | i18n}}...</p>\n    <ng-container *ngIf=\"!error\">\n        <app-callout type=\"success\" title=\"{{'goodNews' | i18n}}\" *ngIf=\"!breachedAccounts.length\">\n            {{'breachUsernameNotFound' | i18n : checkedUsername}}\n        </app-callout>\n        <app-callout type=\"danger\" title=\"{{'breachFound' | i18n}}\" *ngIf=\"breachedAccounts.length\">\n            {{'breachUsernameFound' | i18n : checkedUsername : breachedAccounts.length}}\n        </app-callout>\n        <ul class=\"list-group list-group-breach\" *ngIf=\"breachedAccounts.length\">\n            <li *ngFor=\"let a of breachedAccounts\" class=\"list-group-item min-height-fix\">\n                <div class=\"row\">\n                    <div class=\"col-2 text-center\">\n                        <img [src]=\"a.logoPath\" alt=\"\" class=\"img-fluid\">\n                    </div>\n                    <div class=\"col-7\">\n                        <h3 class=\"text-lg\">{{a.title}}</h3>\n                        <p [innerHTML]=\"a.description\"></p>\n                        <p class=\"mb-1\">{{'compromisedData' | i18n}}:</p>\n                        <ul>\n                            <li *ngFor=\"let d of a.dataClasses\">{{d}}</li>\n                        </ul>\n                    </div>\n                    <div class=\"col-3\">\n                        <dl>\n                            <dt>{{'website' | i18n}}</dt>\n                            <dd>{{a.domain}}</dd>\n                            <dt>{{'affectedUsers' | i18n}}</dt>\n                            <dd>{{a.pwnCount | number}}</dd>\n                            <dt>{{'breachOccurred' | i18n}}</dt>\n                            <dd>{{a.breachDate | date: 'mediumDate'}}</dd>\n                            <dt>{{'breachReported' | i18n}}</dt>\n                            <dd>{{a.addedDate | date: 'mediumDate'}}</dd>\n                        </dl>\n                    </div>\n                </div>\n            </li>\n        </ul>\n    </ng-container>\n</div>\n","import {\n    Component,\n    ComponentFactoryResolver,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport {\n    PasswordGeneratorComponent as BasePasswordGeneratorComponent,\n} from 'jslib/angular/components/password-generator.component';\n\nimport { ModalComponent } from '../modal.component';\nimport { PasswordGeneratorHistoryComponent } from './password-generator-history.component';\n\n@Component({\n    selector: 'app-password-generator',\n    templateUrl: 'password-generator.component.html',\n})\nexport class PasswordGeneratorComponent extends BasePasswordGeneratorComponent {\n    @ViewChild('historyTemplate', { read: ViewContainerRef, static: true }) historyModalRef: ViewContainerRef;\n\n    private modal: ModalComponent = null;\n\n    constructor(passwordGenerationService: PasswordGenerationService, platformUtilsService: PlatformUtilsService,\n        i18nService: I18nService, private componentFactoryResolver: ComponentFactoryResolver) {\n        super(passwordGenerationService, platformUtilsService, i18nService, window);\n    }\n\n    history() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.historyModalRef.createComponent(factory).instance;\n        this.modal.show<PasswordGeneratorHistoryComponent>(PasswordGeneratorHistoryComponent, this.historyModalRef);\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    lengthChanged() {\n        document.getElementById('length').focus();\n    }\n\n    minNumberChanged() {\n        document.getElementById('min-number').focus();\n    }\n\n    minSpecialChanged() {\n        document.getElementById('min-special').focus();\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'passwordGenerator' | i18n}}</h1>\n</div>\n<app-callout type=\"info\" *ngIf=\"enforcedPolicyOptions?.inEffect()\">\n    {{'passwordGeneratorPolicyInEffect' | i18n}}\n</app-callout>\n<div class=\"card card-password bg-light my-4\">\n    <div class=\"card-body\">\n        <div class=\"password-wrapper\" [innerHTML]=\"password | colorPassword\" appSelectCopy></div>\n    </div>\n</div>\n<div class=\"form-group\">\n    <div class=\"form-check form-check-inline\">\n        <input id=\"generate-password\" name=\"type\" value=\"password\" class=\"form-check-input\" type=\"radio\"\n            (change)=\"saveOptions()\" [(ngModel)]=\"options.type\">\n        <label for=\"generate-password\" class=\"form-check-label\">{{'password' | i18n}}</label>\n    </div>\n    <div class=\"form-check form-check-inline\">\n        <input id=\"generate-passphrase\" name=\"type\" value=\"passphrase\" class=\"form-check-input\" type=\"radio\"\n            (change)=\"saveOptions()\" [(ngModel)]=\"options.type\">\n        <label for=\"generate-passphrase\" class=\"form-check-label\">{{'passphrase' | i18n}}</label>\n    </div>\n</div>\n<ng-container *ngIf=\"options.type === 'passphrase'\">\n    <div class=\"row\">\n        <div class=\"form-group col-4\">\n            <label for=\"num-words\">{{'numWords' | i18n}}</label>\n            <input id=\"num-words\" class=\"form-control\" type=\"number\" min=\"3\" max=\"20\" [(ngModel)]=\"options.numWords\"\n                (blur)=\"saveOptions()\">\n        </div>\n        <div class=\"form-group col-4\">\n            <label for=\"word-separator\">{{'wordSeparator' | i18n}}</label>\n            <input id=\"word-separator\" class=\"form-control\" type=\"text\" maxlength=\"1\"\n                [(ngModel)]=\"options.wordSeparator\" (blur)=\"saveOptions()\">\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <div class=\"form-check\">\n            <input id=\"capitalize\" class=\"form-check-input\" type=\"checkbox\" (change)=\"saveOptions()\"\n                [(ngModel)]=\"options.capitalize\" [disabled]=\"enforcedPolicyOptions?.capitalize\">\n            <label for=\"capitalize\" class=\"form-check-label\">{{'capitalize' | i18n}}</label>\n        </div>\n        <div class=\"form-check\">\n            <input id=\"include-number\" class=\"form-check-input\" type=\"checkbox\" (change)=\"saveOptions()\"\n                [(ngModel)]=\"options.includeNumber\" [disabled]=\"enforcedPolicyOptions?.includeNumber\">\n            <label for=\"include-number\" class=\"form-check-label\">{{'includeNumber' | i18n}}</label>\n        </div>\n    </div>\n</ng-container>\n<ng-container *ngIf=\"options.type === 'password'\">\n    <div class=\"row\">\n        <div class=\"form-group col-4\">\n            <label for=\"length\">{{'length' | i18n}}</label>\n            <input id=\"length\" class=\"form-control\" type=\"number\" min=\"5\" max=\"128\" [(ngModel)]=\"options.length\"\n                (blur)=\"saveOptions()\" (change)=\"lengthChanged()\">\n        </div>\n        <div class=\"form-group col-4\">\n            <label for=\"min-number\">{{'minNumbers' | i18n}}</label>\n            <input id=\"min-number\" class=\"form-control\" type=\"number\" min=\"0\" max=\"9\" (blur)=\"saveOptions()\"\n                [(ngModel)]=\"options.minNumber\" (change)=\"minNumberChanged()\">\n        </div>\n        <div class=\"form-group col-4\">\n            <label for=\"min-special\">{{'minSpecial' | i18n}}</label>\n            <input id=\"min-special\" class=\"form-control\" type=\"number\" min=\"0\" max=\"9\" (blur)=\"saveOptions()\"\n                [(ngModel)]=\"options.minSpecial\" (change)=\"minSpecialChanged()\">\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <div class=\"form-check\">\n            <input id=\"uppercase\" class=\"form-check-input\" type=\"checkbox\" (change)=\"saveOptions()\"\n                [(ngModel)]=\"options.uppercase\" [disabled]=\"enforcedPolicyOptions?.useUppercase\">\n            <label for=\"uppercase\" class=\"form-check-label\">A-Z</label>\n        </div>\n        <div class=\"form-check\">\n            <input id=\"lowercase\" class=\"form-check-input\" type=\"checkbox\" (change)=\"saveOptions()\"\n                [(ngModel)]=\"options.lowercase\" [disabled]=\"enforcedPolicyOptions?.useLowercase\">\n            <label for=\"lowercase\" class=\"form-check-label\">a-z</label>\n        </div>\n        <div class=\"form-check\">\n            <input id=\"numbers\" class=\"form-check-input\" type=\"checkbox\" (change)=\"saveOptions()\"\n                [(ngModel)]=\"options.number\" [disabled]=\"enforcedPolicyOptions?.useNumbers\">\n            <label for=\"numbers\" class=\"form-check-label\">0-9</label>\n        </div>\n        <div class=\"form-check\">\n            <input id=\"special\" class=\"form-check-input\" type=\"checkbox\" (change)=\"saveOptions()\"\n                [(ngModel)]=\"options.special\" [disabled]=\"enforcedPolicyOptions?.useSpecial\">\n            <label for=\"special\" class=\"form-check-label\">!@#$%^&amp;*</label>\n        </div>\n        <div class=\"form-check\">\n            <input id=\"ambiguous\" class=\"form-check-input\" type=\"checkbox\" (change)=\"saveOptions()\"\n                [(ngModel)]=\"avoidAmbiguous\">\n            <label for=\"ambiguous\" class=\"form-check-label\">{{'ambiguous' | i18n}}</label>\n        </div>\n    </div>\n</ng-container>\n<div class=\"d-flex\">\n    <div>\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"regenerate()\">\n            {{'regeneratePassword' | i18n}}\n        </button>\n        <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"copy()\">\n            {{'copyPassword' | i18n}}\n        </button>\n    </div>\n    <div class=\"ml-auto\">\n        <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"history()\"\n            appA11yTitle=\"{{'passwordHistory' | i18n}}\">\n            <i class=\"fa fa-clock-o fa-lg\" aria-hidden=\"true\"></i>\n        </button>\n    </div>\n</div>\n<ng-template #historyTemplate></ng-template>\n","import { Component } from '@angular/core';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport {\n    PasswordGeneratorHistoryComponent as BasePasswordGeneratorHistoryComponent,\n} from 'jslib/angular/components/password-generator-history.component';\n\n@Component({\n    selector: 'app-password-generator-history',\n    templateUrl: 'password-generator-history.component.html',\n})\nexport class PasswordGeneratorHistoryComponent extends BasePasswordGeneratorHistoryComponent {\n    constructor(passwordGenerationService: PasswordGenerationService, platformUtilsService: PlatformUtilsService,\n        i18nService: I18nService) {\n        super(passwordGenerationService, platformUtilsService, i18nService, window);\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"passHistoryTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"passHistoryTitle\">{{'passwordHistory' | i18n}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <ul class=\"list-group list-group-flush\" *ngIf=\"history.length\">\n                <li class=\"list-group-item d-flex\" *ngFor=\"let h of history\">\n                    <div class=\"password-row\">\n                        <div class=\"text-monospace password-wrapper\" [innerHTML]=\"h.password | colorPassword\"\n                            appSelectCopy></div>\n                        <small class=\"text-muted\">{{h.date | date:'medium'}}</small>\n                    </div>\n                    <div class=\"ml-auto\">\n                        <button class=\"btn btn-link\" appA11yTitle=\"{{'copyPassword' | i18n}}\"\n                            (click)=\"copy(h.password)\">\n                            <i class=\"fa fa-lg fa-clone\" aria-hidden=\"true\"></i>\n                        </button>\n                    </div>\n                </li>\n            </ul>\n            <div class=\"modal-body\" *ngIf=\"!history.length\">\n                {{'noPasswordsInList' | i18n}}\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">\n                    {{'close' | i18n}}\n                </button>\n                <div class=\"ml-auto\">\n                    <button type=\"button\" (click)=\"clear()\" class=\"btn btn-outline-danger\"\n                        appA11yTitle=\"{{'clear' | i18n}}\">\n                        <i class=\"fa fa-trash-o fa-lg fa-fw\" aria-hidden=\"true\"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\n@Component({\n    selector: 'app-tools',\n    templateUrl: 'tools.component.html',\n})\nexport class ToolsComponent implements OnInit {\n    canAccessPremium = false;\n\n    constructor(private userService: UserService, private messagingService: MessagingService) { }\n\n    async ngOnInit() {\n        this.canAccessPremium = await this.userService.canAccessPremium();\n    }\n\n    premiumRequired() {\n        if (!this.canAccessPremium) {\n            this.messagingService.send('premiumRequired');\n            return;\n        }\n    }\n}\n","<div class=\"container page-content\">\n    <div class=\"row\">\n        <div class=\"col-3\">\n            <div class=\"card mb-4\">\n                <div class=\"card-header\">{{'tools' | i18n}}</div>\n                <div class=\"list-group list-group-flush\">\n                    <a routerLink=\"generator\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'passwordGenerator' | i18n}}\n                    </a>\n                    <a routerLink=\"import\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'importData' | i18n}}\n                    </a>\n                    <a routerLink=\"export\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'exportVault' | i18n}}\n                    </a>\n                </div>\n            </div>\n            <div class=\"card\">\n                <div class=\"card-header d-flex\">\n                    {{'reports' | i18n}}\n                    <div class=\"ml-auto\">\n                        <a href=\"#\" appStopClick class=\"badge badge-primary\" *ngIf=\"!canAccessPremium\"\n                            (click)=\"premiumRequired()\">\n                            {{'premium' | i18n}}\n                        </a>\n                    </div>\n                </div>\n                <div class=\"list-group list-group-flush\">\n                    <a routerLink=\"exposed-passwords-report\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'exposedPasswordsReport' | i18n}}\n                    </a>\n                    <a routerLink=\"reused-passwords-report\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'reusedPasswordsReport' | i18n}}\n                    </a>\n                    <a routerLink=\"weak-passwords-report\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'weakPasswordsReport' | i18n}}\n                    </a>\n                    <a routerLink=\"unsecured-websites-report\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'unsecuredWebsitesReport' | i18n}}\n                    </a>\n                    <a routerLink=\"inactive-two-factor-report\" class=\"list-group-item\" routerLinkActive=\"active\">\n                        {{'inactive2faReport' | i18n}}\n                    </a>\n                    <a routerLink=\"breach-report\" class=\"list-group-item d-flex\" routerLinkActive=\"active\">\n                        {{'dataBreachReport' | i18n}}\n                        <div class=\"ml-auto\">\n                            <span class=\"badge badge-success\" *ngIf=\"!canAccessPremium\">\n                                {{'free' | i18n | uppercase}}\n                            </span>\n                        </div>\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-9\">\n            <router-outlet></router-outlet>\n        </div>\n    </div>\n</div>\n","import {\n    ChangeDetectorRef,\n    Component,\n    ComponentFactoryResolver,\n    NgZone,\n    OnDestroy,\n    OnInit,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { ModalComponent } from '../modal.component';\n\nimport { OrganizationsComponent } from '../settings/organizations.component';\nimport { UpdateKeyComponent } from '../settings/update-key.component';\nimport { AddEditComponent } from './add-edit.component';\nimport { AttachmentsComponent } from './attachments.component';\nimport { CiphersComponent } from './ciphers.component';\nimport { CollectionsComponent } from './collections.component';\nimport { FolderAddEditComponent } from './folder-add-edit.component';\nimport { GroupingsComponent } from './groupings.component';\nimport { ShareComponent } from './share.component';\n\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\nimport { TokenService } from 'jslib/abstractions/token.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nconst BroadcasterSubscriptionId = 'VaultComponent';\n\n@Component({\n    selector: 'app-vault',\n    templateUrl: 'vault.component.html',\n})\nexport class VaultComponent implements OnInit, OnDestroy {\n    @ViewChild(GroupingsComponent, { static: true }) groupingsComponent: GroupingsComponent;\n    @ViewChild(CiphersComponent, { static: true }) ciphersComponent: CiphersComponent;\n    @ViewChild(OrganizationsComponent, { static: true }) organizationsComponent: OrganizationsComponent;\n    @ViewChild('attachments', { read: ViewContainerRef, static: true }) attachmentsModalRef: ViewContainerRef;\n    @ViewChild('folderAddEdit', { read: ViewContainerRef, static: true }) folderAddEditModalRef: ViewContainerRef;\n    @ViewChild('cipherAddEdit', { read: ViewContainerRef, static: true }) cipherAddEditModalRef: ViewContainerRef;\n    @ViewChild('share', { read: ViewContainerRef, static: true }) shareModalRef: ViewContainerRef;\n    @ViewChild('collections', { read: ViewContainerRef, static: true }) collectionsModalRef: ViewContainerRef;\n    @ViewChild('updateKeyTemplate', { read: ViewContainerRef, static: true }) updateKeyModalRef: ViewContainerRef;\n\n    favorites: boolean = false;\n    type: CipherType = null;\n    folderId: string = null;\n    collectionId: string = null;\n    showVerifyEmail = false;\n    showBrowserOutdated = false;\n    showUpdateKey = false;\n    showPremiumCallout = false;\n    deleted: boolean = false;\n    trashCleanupWarning: string = null;\n\n    modal: ModalComponent = null;\n\n    constructor(private syncService: SyncService, private route: ActivatedRoute,\n        private router: Router, private changeDetectorRef: ChangeDetectorRef,\n        private i18nService: I18nService, private componentFactoryResolver: ComponentFactoryResolver,\n        private tokenService: TokenService, private cryptoService: CryptoService,\n        private messagingService: MessagingService, private userService: UserService,\n        private platformUtilsService: PlatformUtilsService, private broadcasterService: BroadcasterService,\n        private ngZone: NgZone) { }\n\n    async ngOnInit() {\n        this.showVerifyEmail = !(await this.tokenService.getEmailVerified());\n        this.showBrowserOutdated = window.navigator.userAgent.indexOf('MSIE') !== -1;\n        this.trashCleanupWarning = this.i18nService.t(\n            this.platformUtilsService.isSelfHost() ? 'trashCleanupWarningSelfHosted' : 'trashCleanupWarning'\n        );\n\n        const queryParamsSub = this.route.queryParams.subscribe(async params => {\n            await this.syncService.fullSync(false);\n\n            this.showUpdateKey = !(await this.cryptoService.hasEncKey());\n            const canAccessPremium = await this.userService.canAccessPremium();\n            this.showPremiumCallout = !this.showVerifyEmail && !canAccessPremium &&\n                !this.platformUtilsService.isSelfHost();\n\n            await Promise.all([\n                this.groupingsComponent.load(),\n                this.organizationsComponent.load(),\n            ]);\n\n            if (params == null) {\n                this.groupingsComponent.selectedAll = true;\n                await this.ciphersComponent.reload();\n            } else {\n                if (params.deleted) {\n                    this.groupingsComponent.selectedTrash = true;\n                    await this.filterDeleted();\n                } else if (params.favorites) {\n                    this.groupingsComponent.selectedFavorites = true;\n                    await this.filterFavorites();\n                } else if (params.type) {\n                    const t = parseInt(params.type, null);\n                    this.groupingsComponent.selectedType = t;\n                    await this.filterCipherType(t);\n                } else if (params.folderId) {\n                    this.groupingsComponent.selectedFolder = true;\n                    this.groupingsComponent.selectedFolderId = params.folderId;\n                    await this.filterFolder(params.folderId);\n                } else if (params.collectionId) {\n                    this.groupingsComponent.selectedCollectionId = params.collectionId;\n                    await this.filterCollection(params.collectionId);\n                } else {\n                    this.groupingsComponent.selectedAll = true;\n                    await this.ciphersComponent.reload();\n                }\n            }\n\n            this.broadcasterService.subscribe(BroadcasterSubscriptionId, (message: any) => {\n                this.ngZone.run(async () => {\n                    switch (message.command) {\n                        case 'syncCompleted':\n                            if (message.successfully) {\n                                await Promise.all([\n                                    this.groupingsComponent.load(),\n                                    this.organizationsComponent.load(),\n                                    this.ciphersComponent.load(this.ciphersComponent.filter),\n                                ]);\n                                this.changeDetectorRef.detectChanges();\n                            }\n                            break;\n                    }\n                });\n            });\n\n            if (queryParamsSub != null) {\n                queryParamsSub.unsubscribe();\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);\n    }\n\n    async clearGroupingFilters() {\n        this.ciphersComponent.showAddNew = true;\n        this.groupingsComponent.searchPlaceholder = this.i18nService.t('searchVault');\n        await this.ciphersComponent.reload();\n        this.clearFilters();\n        this.go();\n    }\n\n    async filterFavorites() {\n        this.ciphersComponent.showAddNew = true;\n        this.groupingsComponent.searchPlaceholder = this.i18nService.t('searchFavorites');\n        await this.ciphersComponent.reload(c => c.favorite);\n        this.clearFilters();\n        this.favorites = true;\n        this.go();\n    }\n\n    async filterDeleted() {\n        this.ciphersComponent.showAddNew = false;\n        this.ciphersComponent.deleted = true;\n        this.groupingsComponent.searchPlaceholder = this.i18nService.t('searchTrash');\n        await this.ciphersComponent.reload(null, true);\n        this.clearFilters();\n        this.deleted = true;\n        this.go();\n    }\n\n    async filterCipherType(type: CipherType) {\n        this.ciphersComponent.showAddNew = true;\n        this.groupingsComponent.searchPlaceholder = this.i18nService.t('searchType');\n        await this.ciphersComponent.reload(c => c.type === type);\n        this.clearFilters();\n        this.type = type;\n        this.go();\n    }\n\n    async filterFolder(folderId: string) {\n        this.ciphersComponent.showAddNew = true;\n        folderId = folderId === 'none' ? null : folderId;\n        this.groupingsComponent.searchPlaceholder = this.i18nService.t('searchFolder');\n        await this.ciphersComponent.reload(c => c.folderId === folderId);\n        this.clearFilters();\n        this.folderId = folderId == null ? 'none' : folderId;\n        this.go();\n    }\n\n    async filterCollection(collectionId: string) {\n        this.ciphersComponent.showAddNew = true;\n        this.groupingsComponent.searchPlaceholder = this.i18nService.t('searchCollection');\n        await this.ciphersComponent.reload(c => c.collectionIds != null &&\n            c.collectionIds.indexOf(collectionId) > -1);\n        this.clearFilters();\n        this.collectionId = collectionId;\n        this.go();\n    }\n\n    filterSearchText(searchText: string) {\n        this.ciphersComponent.searchText = searchText;\n        this.ciphersComponent.search(200);\n    }\n\n    async editCipherAttachments(cipher: CipherView) {\n        const canAccessPremium = await this.userService.canAccessPremium();\n        if (cipher.organizationId == null && !canAccessPremium) {\n            this.messagingService.send('premiumRequired');\n            return;\n        } else if (cipher.organizationId != null) {\n            const org = await this.userService.getOrganization(cipher.organizationId);\n            if (org != null && (org.maxStorageGb == null || org.maxStorageGb === 0)) {\n                this.messagingService.send('upgradeOrganization', { organizationId: cipher.organizationId });\n                return;\n            }\n        }\n\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.attachmentsModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<AttachmentsComponent>(AttachmentsComponent, this.attachmentsModalRef);\n\n        childComponent.cipherId = cipher.id;\n        let madeAttachmentChanges = false;\n        childComponent.onUploadedAttachment.subscribe(() => madeAttachmentChanges = true);\n        childComponent.onDeletedAttachment.subscribe(() => madeAttachmentChanges = true);\n        childComponent.onReuploadedAttachment.subscribe(() => madeAttachmentChanges = true);\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n            if (madeAttachmentChanges) {\n                await this.ciphersComponent.refresh();\n            }\n            madeAttachmentChanges = false;\n        });\n    }\n\n    shareCipher(cipher: CipherView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.shareModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<ShareComponent>(ShareComponent, this.shareModalRef);\n\n        childComponent.cipherId = cipher.id;\n        childComponent.onSharedCipher.subscribe(async () => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    editCipherCollections(cipher: CipherView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.collectionsModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<CollectionsComponent>(CollectionsComponent, this.collectionsModalRef);\n\n        childComponent.cipherId = cipher.id;\n        childComponent.onSavedCollections.subscribe(async () => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    async addFolder() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.folderAddEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<FolderAddEditComponent>(\n            FolderAddEditComponent, this.folderAddEditModalRef);\n\n        childComponent.folderId = null;\n        childComponent.onSavedFolder.subscribe(async () => {\n            this.modal.close();\n            await this.groupingsComponent.loadFolders();\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    async editFolder(folderId: string) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.folderAddEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<FolderAddEditComponent>(\n            FolderAddEditComponent, this.folderAddEditModalRef);\n\n        childComponent.folderId = folderId;\n        childComponent.onSavedFolder.subscribe(async () => {\n            this.modal.close();\n            await this.groupingsComponent.loadFolders();\n        });\n        childComponent.onDeletedFolder.subscribe(async () => {\n            this.modal.close();\n            await this.groupingsComponent.loadFolders();\n            await this.filterFolder('none');\n            this.groupingsComponent.selectedFolderId = null;\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    addCipher() {\n        const component = this.editCipher(null);\n        component.type = this.type;\n        component.folderId = this.folderId === 'none' ? null : this.folderId;\n        if (this.collectionId != null) {\n            const collection = this.groupingsComponent.collections.filter(c => c.id === this.collectionId);\n            if (collection.length > 0) {\n                component.organizationId = collection[0].organizationId;\n                component.collectionIds = [this.collectionId];\n            }\n        }\n    }\n\n    editCipher(cipher: CipherView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.cipherAddEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<AddEditComponent>(\n            AddEditComponent, this.cipherAddEditModalRef);\n\n        childComponent.cipherId = cipher == null ? null : cipher.id;\n        childComponent.onSavedCipher.subscribe(async (c: CipherView) => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n        childComponent.onDeletedCipher.subscribe(async (c: CipherView) => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n        childComponent.onRestoredCipher.subscribe(async (c: CipherView) => {\n            this.modal.close();\n            await this.ciphersComponent.refresh();\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n\n        return childComponent;\n    }\n\n    cloneCipher(cipher: CipherView) {\n        const component = this.editCipher(cipher);\n        component.cloneMode = true;\n    }\n\n    updateKey() {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.updateKeyModalRef.createComponent(factory).instance;\n        this.modal.show<UpdateKeyComponent>(UpdateKeyComponent, this.updateKeyModalRef);\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    private clearFilters() {\n        this.folderId = null;\n        this.collectionId = null;\n        this.favorites = false;\n        this.type = null;\n        this.deleted = false;\n    }\n\n    private go(queryParams: any = null) {\n        if (queryParams == null) {\n            queryParams = {\n                favorites: this.favorites ? true : null,\n                type: this.type,\n                folderId: this.folderId,\n                collectionId: this.collectionId,\n                deleted: this.deleted ? true : null,\n            };\n        }\n\n        this.router.navigate([], {\n            relativeTo: this.route,\n            queryParams: queryParams,\n            replaceUrl: true,\n        });\n    }\n}\n","<div class=\"container page-content\">\n    <div class=\"row\">\n        <div class=\"col-3\">\n            <app-vault-groupings (onAllClicked)=\"clearGroupingFilters()\" (onFavoritesClicked)=\"filterFavorites()\"\n                (onCipherTypeClicked)=\"filterCipherType($event)\" (onFolderClicked)=\"filterFolder($event.id)\"\n                (onAddFolder)=\"addFolder()\" (onEditFolder)=\"editFolder($event.id)\"\n                (onCollectionClicked)=\"filterCollection($event.id)\" (onSearchTextChanged)=\"filterSearchText($event)\"\n                (onTrashClicked)=\"filterDeleted()\">\n            </app-vault-groupings>\n        </div>\n        <div class=\"col-6\">\n            <div class=\"page-header d-flex\">\n                <h1>\n                    {{'myVault' | i18n}}\n                    <small #actionSpinner [appApiAction]=\"ciphersComponent.actionPromise\">\n                        <ng-container *ngIf=\"actionSpinner.loading\">\n                            <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\"\n                                aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'loading' | i18n}}</span>\n                        </ng-container>\n                    </small>\n                </h1>\n                <div class=\"ml-auto d-flex\">\n                    <app-vault-bulk-actions [ciphersComponent]=\"ciphersComponent\" [modal]=\"modal\" [deleted]=\"deleted\">\n                    </app-vault-bulk-actions>\n                    <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" (click)=\"addCipher()\" *ngIf=\"!deleted\">\n                        <i class=\"fa fa-plus fa-fw\" aria-hidden=\"true\"></i>{{'addItem' | i18n}}\n                    </button>\n                </div>\n            </div>\n            <app-callout type=\"warning\" *ngIf=\"deleted\" icon=\"fa-warning\">\n                {{trashCleanupWarning}}\n            </app-callout>\n            <app-vault-ciphers (onCipherClicked)=\"editCipher($event)\"\n                (onAttachmentsClicked)=\"editCipherAttachments($event)\" (onAddCipher)=\"addCipher()\"\n                (onShareClicked)=\"shareCipher($event)\" (onCollectionsClicked)=\"editCipherCollections($event)\"\n                (onCloneClicked)=\"cloneCipher($event)\">\n            </app-vault-ciphers>\n        </div>\n        <div class=\"col-3\">\n            <div class=\"card border-warning mb-4\" *ngIf=\"showUpdateKey\">\n                <div class=\"card-header bg-warning text-white\">\n                    <i class=\"fa fa-warning fa-fw\" aria-hidden=\"true\"></i> {{'updateKeyTitle' | i18n}}\n                </div>\n                <div class=\"card-body\">\n                    <p>{{'updateEncryptionKeyShortDesc' | i18n}}</p>\n                    <button class=\"btn btn-block btn-outline-secondary\" type=\"button\" (click)=\"updateKey()\">\n                        {{'updateEncryptionKey' | i18n}}\n                    </button>\n                </div>\n            </div>\n            <app-verify-email *ngIf=\"showVerifyEmail\" class=\"d-block mb-4\"></app-verify-email>\n            <app-send-info class=\"d-block mb-4\"></app-send-info>\n            <div class=\"card border-warning mb-4\" *ngIf=\"showBrowserOutdated\">\n                <div class=\"card-header bg-warning text-white\">\n                    <i class=\"fa fa-warning fa-fw\" aria-hidden=\"true\"></i> {{'updateBrowser' | i18n}}\n                </div>\n                <div class=\"card-body\">\n                    <p>{{'updateBrowserDesc' | i18n}}</p>\n                    <a class=\"btn btn-block btn-outline-secondary\" target=\"_blank\"\n                        href=\"https://browser-update.org/update-browser.html\" rel=\"noopener\">\n                        {{'updateBrowser' | i18n}}\n                    </a>\n                </div>\n            </div>\n            <div class=\"card border-success mb-4\" *ngIf=\"showPremiumCallout\">\n                <div class=\"card-header bg-success text-white\">\n                    <i class=\"fa fa-star fa-fw\" aria-hidden=\"true\"></i> {{'goPremium' | i18n}}\n                </div>\n                <div class=\"card-body\">\n                    <p>{{'premiumUpgradeUnlockFeatures' | i18n}}</p>\n                    <a class=\"btn btn-block btn-outline-secondary\" routerLink=\"/settings/premium\">\n                        {{'goPremium' | i18n}}\n                    </a>\n                </div>\n            </div>\n            <div class=\"card\">\n                <div class=\"card-header d-flex\">\n                    {{'organizations' | i18n}}\n                    <a class=\"ml-auto\" href=\"https://help.bitwarden.com/article/what-is-an-organization/\"\n                        target=\"_blank\" rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\">\n                        <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                    </a>\n                </div>\n                <div class=\"card-body\">\n                    <app-organizations [vault]=\"true\"></app-organizations>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<ng-template #attachments></ng-template>\n<ng-template #folderAddEdit></ng-template>\n<ng-template #cipherAddEdit></ng-template>\n<ng-template #share></ng-template>\n<ng-template #collections></ng-template>\n<ng-template #updateKeyTemplate></ng-template>\n","import { Component } from '@angular/core';\n\nimport {\n    Toast,\n    ToasterService,\n} from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\n\nimport { EncString } from 'jslib/models/domain/encString';\n\nimport { CipherWithIdRequest } from 'jslib/models/request/cipherWithIdRequest';\nimport { FolderWithIdRequest } from 'jslib/models/request/folderWithIdRequest';\nimport { UpdateKeyRequest } from 'jslib/models/request/updateKeyRequest';\n\n@Component({\n    selector: 'app-update-key',\n    templateUrl: 'update-key.component.html',\n})\nexport class UpdateKeyComponent {\n    masterPassword: string;\n    formPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService, private cryptoService: CryptoService,\n        private messagingService: MessagingService, private syncService: SyncService,\n        private folderService: FolderService, private cipherService: CipherService) { }\n\n    async submit() {\n        const hasEncKey = await this.cryptoService.hasEncKey();\n        if (hasEncKey) {\n            return;\n        }\n\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        try {\n            this.formPromise = this.makeRequest().then(request => {\n                return this.apiService.postAccountKey(request);\n            });\n            await this.formPromise;\n            const toast: Toast = {\n                type: 'success',\n                title: this.i18nService.t('keyUpdated'),\n                body: this.i18nService.t('logBackInOthersToo'),\n                timeout: 15000,\n            };\n            this.toasterService.popAsync(toast);\n            this.messagingService.send('logout');\n        } catch { }\n    }\n\n    private async makeRequest(): Promise<UpdateKeyRequest> {\n        const key = await this.cryptoService.getKey();\n        const encKey = await this.cryptoService.makeEncKey(key);\n        const privateKey = await this.cryptoService.getPrivateKey();\n        let encPrivateKey: EncString = null;\n        if (privateKey != null) {\n            encPrivateKey = await this.cryptoService.encrypt(privateKey, encKey[0]);\n        }\n        const request = new UpdateKeyRequest();\n        request.privateKey = encPrivateKey != null ? encPrivateKey.encryptedString : null;\n        request.key = encKey[1].encryptedString;\n        request.masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n\n        await this.syncService.fullSync(true);\n\n        const folders = await this.folderService.getAllDecrypted();\n        for (let i = 0; i < folders.length; i++) {\n            if (folders[i].id == null) {\n                continue;\n            }\n            const folder = await this.folderService.encrypt(folders[i], encKey[0]);\n            request.folders.push(new FolderWithIdRequest(folder));\n        }\n\n        const ciphers = await this.cipherService.getAllDecrypted();\n        for (let i = 0; i < ciphers.length; i++) {\n            if (ciphers[i].organizationId != null) {\n                continue;\n            }\n            const cipher = await this.cipherService.encrypt(ciphers[i], encKey[0]);\n            request.ciphers.push(new CipherWithIdRequest(cipher));\n        }\n\n        return request;\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"updateEncKeyTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"updateEncKeyTitle\">{{'updateEncryptionKey' | i18n}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>{{'updateEncryptionKeyShortDesc' | i18n}} {{'updateEncryptionKeyDesc' | i18n}}\n                    <a href=\"https://help.bitwarden.com/article/update-encryption-key/\" target=\"_blank\"\n                        rel=\"noopener\">{{'learnMore' | i18n}}</a>\n                </p>\n                <app-callout type=\"warning\">{{'updateEncryptionKeyWarning' | i18n}}</app-callout>\n                <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                <input id=\"masterPassword\" type=\"password\" name=\"MasterPasswordHash\" class=\"form-control\"\n                    [(ngModel)]=\"masterPassword\" required appAutofocus appInputVerbatim>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'updateEncryptionKey' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'close' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import { Component } from '@angular/core';\n\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport {\n    FolderAddEditComponent as BaseFolderAddEditComponent,\n} from 'jslib/angular/components/folder-add-edit.component';\n\n@Component({\n    selector: 'app-folder-add-edit',\n    templateUrl: 'folder-add-edit.component.html',\n})\nexport class FolderAddEditComponent extends BaseFolderAddEditComponent {\n    constructor(folderService: FolderService, i18nService: I18nService,\n        platformUtilsService: PlatformUtilsService) {\n        super(folderService, i18nService, platformUtilsService);\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"folderAddEditTitle\">\n    <div class=\"modal-dialog modal-sm\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"folderAddEditTitle\">{{title}}</h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <label for=\"name\">{{'name' | i18n}}</label>\n                <input id=\"name\" class=\"form-control\" type=\"text\" name=\"Name\" [(ngModel)]=\"folder.name\" required\n                    appAutofocus>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n                <div class=\"ml-auto\">\n                    <button #deleteBtn type=\"button\" (click)=\"delete()\" class=\"btn btn-outline-danger\"\n                        appA11yTitle=\"{{'delete' | i18n}}\" *ngIf=\"editMode\" [disabled]=\"deleteBtn.loading\"\n                        [appApiAction]=\"deletePromise\">\n                        <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\" aria-hidden=\"true\"></i>\n                        <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\"\n                            title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    </button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    OnDestroy,\n} from '@angular/core';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { CollectionView } from 'jslib/models/view/collectionView';\n\nimport { ShareComponent as BaseShareComponent } from 'jslib/angular/components/share.component';\n\n@Component({\n    selector: 'app-vault-share',\n    templateUrl: 'share.component.html',\n})\nexport class ShareComponent extends BaseShareComponent implements OnDestroy {\n    constructor(collectionService: CollectionService, platformUtilsService: PlatformUtilsService,\n        i18nService: I18nService, userService: UserService,\n        cipherService: CipherService) {\n        super(collectionService, platformUtilsService, i18nService, userService, cipherService);\n    }\n\n    ngOnDestroy() {\n        this.selectAll(false);\n    }\n\n    check(c: CollectionView, select?: boolean) {\n        (c as any).checked = select == null ? !(c as any).checked : select;\n    }\n\n    selectAll(select: boolean) {\n        const collections = select ? this.collections : this.writeableCollections;\n        collections.forEach(c => this.check(c, select));\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"shareTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"shareTitle\">\n                    {{'share' | i18n}}\n                    <small *ngIf=\"cipher\">{{cipher.name}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"!organizations || !organizations.length\">\n                {{'noOrganizationsList' | i18n}}\n            </div>\n            <div class=\"modal-body\" *ngIf=\"organizations && organizations.length\">\n                <p>{{'shareDesc' | i18n}}</p>\n                <div class=\"form-group\">\n                    <label for=\"organization\">{{'organization' | i18n}}</label>\n                    <select id=\"organization\" name=\"OrganizationId\" [(ngModel)]=\"organizationId\" class=\"form-control\"\n                        (change)=\"filterCollections()\">\n                        <option *ngFor=\"let o of organizations\" [ngValue]=\"o.id\">{{o.name}}</option>\n                    </select>\n                </div>\n                <div class=\"d-flex\">\n                    <h3>{{'collections' | i18n}}</h3>\n                    <div class=\"ml-auto d-flex\" *ngIf=\"collections && collections.length\">\n                        <button type=\"button\" (click)=\"selectAll(true)\" class=\"btn btn-link btn-sm py-0\">\n                            {{'selectAll' | i18n}}\n                        </button>\n                        <button type=\"button\" (click)=\"selectAll(false)\" class=\"btn btn-link btn-sm py-0\">\n                            {{'unselectAll' | i18n}}\n                        </button>\n                    </div>\n                </div>\n                <div *ngIf=\"!collections || !collections.length\">\n                    {{'noCollectionsInList' | i18n}}\n                </div>\n                <table class=\"table table-hover table-list mb-0\" *ngIf=\"collections && collections.length\">\n                    <tbody>\n                        <tr *ngFor=\"let c of collections; let i = index\" (click)=\"check(c)\">\n                            <td class=\"table-list-checkbox\">\n                                <input type=\"checkbox\" [(ngModel)]=\"c.checked\" name=\"Collection[{{i}}].Checked\"\n                                    appStopProp>\n                            </td>\n                            <td>\n                                {{c.name}}\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit manual\" [disabled]=\"form.loading || !canSave\"\n                    [ngClass]=\"{loading:form.loading}\" *ngIf=\"organizations && organizations.length\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <a href=\"#\" routerLink=\"/settings/create-organization\" class=\"btn btn-primary\"\n                    *ngIf=\"!organizations || !organizations.length\">\n                    {{'newOrganization' | i18n}}\n                </a>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app-send-info',\n    templateUrl: 'send-info.component.html',\n})\nexport class SendInfoComponent { }\n","<div class=\"card border-primary\">\n    <div class=\"card-header bg-primary text-white\">\n        <i class=\"fa fa-paper-plane-o fa-fw\" aria-hidden=\"true\"></i>\n        <a class=\"text-white\" href=\"/#/sends\">Bitwarden Send</a>\n    </div>\n    <div class=\"card-body\">\n            {{'sendVaultCardProductDesc' | i18n}}\n            <a href=\"https://www.bitwarden.com/products/send?source=web-vault\" target=\"_blank\">{{'sendVaultCardLearnMore' |\n                i18n}}</a>,\n            {{'sendVaultCardSee' | i18n}}\n            <a href=\"https://www.youtube.com/watch?v=AFtPP9bcuYM\" target=\"_blank\">{{'sendVaultCardHowItWorks' | i18n}}</a>,\n            {{'sendVaultCardOr' | i18n}}\n            <a href=\"/#/sends\">{{'sendVaultCardTryItNow' | i18n}}</a>.\n    </div>\n</div>\n","import { Component } from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\n@Component({\n    selector: 'app-verify-email',\n    templateUrl: 'verify-email.component.html',\n})\nexport class VerifyEmailComponent {\n    actionPromise: Promise<any>;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService) { }\n\n    async send() {\n        if (this.actionPromise != null) {\n            return;\n        }\n        try {\n            this.actionPromise = this.apiService.postAccountVerifyEmail();\n            await this.actionPromise;\n            this.toasterService.popAsync('success', null, this.i18nService.t('checkInboxForVerification'));\n        } catch { }\n        this.actionPromise = null;\n    }\n}\n","<div class=\"card border-warning\">\n    <div class=\"card-header bg-warning text-white\">\n        <i class=\"fa fa-envelope-o fa-fw\" aria-hidden=\"true\"></i> {{'verifyEmail' | i18n}}\n    </div>\n    <div class=\"card-body\">\n        <p>{{'verifyEmailDesc' | i18n}}</p>\n        <button type=\"button\" class=\"btn btn-block btn-outline-secondary btn-submit\" #sendBtn\n            [appApiAction]=\"actionPromise\" [disabled]=\"sendBtn.loading\" (click)=\"send()\">\n            <i class=\"fa fa-spin fa-spinner\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n            <span>\n                {{'sendEmail' | i18n}}\n            </span>\n        </button>\n    </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport {\n    ActivatedRouteSnapshot,\n    CanActivate,\n    Router,\n} from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\n@Injectable()\nexport class OrganizationGuardService implements CanActivate {\n    constructor(private userService: UserService, private router: Router,\n        private toasterService: ToasterService, private i18nService: I18nService) { }\n\n    async canActivate(route: ActivatedRouteSnapshot) {\n        const org = await this.userService.getOrganization(route.params.organizationId);\n        if (org == null) {\n            this.router.navigate(['/']);\n            return false;\n        }\n        if (!org.isOwner && !org.enabled) {\n            this.toasterService.popAsync('error', null, this.i18nService.t('organizationIsDisabled'));\n            this.router.navigate(['/']);\n            return false;\n        }\n\n        return true;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {\n    ActivatedRouteSnapshot,\n    CanActivate,\n    Router,\n} from '@angular/router';\n\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { Permissions } from 'jslib/enums/permissions';\n\n@Injectable()\nexport class OrganizationTypeGuardService implements CanActivate {\n    constructor(private userService: UserService, private router: Router) { }\n\n    async canActivate(route: ActivatedRouteSnapshot) {\n        const org = await this.userService.getOrganization(route.params.organizationId);\n        const permissions = route.data == null ? null : route.data.permissions as Permissions[];\n\n        if (\n            (permissions.indexOf(Permissions.AccessBusinessPortal) !== -1 && org.canAccessBusinessPortal) ||\n            (permissions.indexOf(Permissions.AccessEventLogs) !== -1 && org.canAccessEventLogs) ||\n            (permissions.indexOf(Permissions.AccessImportExport) !== -1 && org.canAccessImportExport) ||\n            (permissions.indexOf(Permissions.AccessReports) !== -1 && org.canAccessReports) ||\n            (permissions.indexOf(Permissions.ManageAllCollections) !== -1 && org.canManageAllCollections) ||\n            (permissions.indexOf(Permissions.ManageAssignedCollections) !== -1 && org.canManageAssignedCollections) ||\n            (permissions.indexOf(Permissions.ManageGroups) !== -1 && org.canManageGroups) ||\n            (permissions.indexOf(Permissions.ManageOrganization) !== -1 && org.isOwner) ||\n            (permissions.indexOf(Permissions.ManagePolicies) !== -1 && org.canManagePolicies) ||\n            (permissions.indexOf(Permissions.ManageUsers) !== -1 && org.canManageUsers)\n        ) {\n            return true;\n        }\n\n        this.router.navigate(['/organizations', org.id]);\n        return false;\n    }\n}\n","export enum Permissions {\n    AccessBusinessPortal,\n    AccessEventLogs,\n    AccessImportExport,\n    AccessReports,\n    ManageAllCollections,\n    ManageAssignedCollections,\n    ManageGroups,\n    ManageOrganization,\n    ManagePolicies,\n    ManageUsers,\n}\n","import { Injectable } from '@angular/core';\nimport {\n    ActivatedRouteSnapshot,\n    CanActivate,\n    Router,\n    RouterStateSnapshot,\n} from '@angular/router';\n\nimport { MessagingService } from '../../abstractions/messaging.service';\nimport { UserService } from '../../abstractions/user.service';\nimport { VaultTimeoutService } from '../../abstractions/vaultTimeout.service';\n\n@Injectable()\nexport class AuthGuardService implements CanActivate {\n    constructor(private vaultTimeoutService: VaultTimeoutService, private userService: UserService,\n        private router: Router, private messagingService: MessagingService) { }\n\n    async canActivate(route: ActivatedRouteSnapshot, routerState: RouterStateSnapshot) {\n        const isAuthed = await this.userService.isAuthenticated();\n        if (!isAuthed) {\n            this.messagingService.send('authBlocked');\n            return false;\n        }\n\n        const locked = await this.vaultTimeoutService.isLocked();\n        if (locked) {\n            if (routerState != null) {\n                this.messagingService.send('lockedUrl', { url: routerState.url });\n            }\n            this.router.navigate(['lock'], { queryParams: { promptBiometric: true }});\n            return false;\n        }\n\n        return true;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {\n    CanActivate,\n    Router,\n} from '@angular/router';\n\nimport { UserService } from '../../abstractions/user.service';\nimport { VaultTimeoutService } from '../../abstractions/vaultTimeout.service';\n\n@Injectable()\nexport class LockGuardService implements CanActivate {\n    constructor(private vaultTimeoutService: VaultTimeoutService, private userService: UserService,\n        private router: Router) { }\n\n    async canActivate() {\n        const locked = await this.vaultTimeoutService.isLocked();\n        if (!locked) {\n            const isAuthed = await this.userService.isAuthenticated();\n            if (!isAuthed) {\n                this.router.navigate(['login']);\n            } else {\n                this.router.navigate(['vault']);\n            }\n            return false;\n        }\n\n        return true;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {\n    CanActivate,\n    Router,\n} from '@angular/router';\n\nimport { UserService } from '../../abstractions/user.service';\nimport { VaultTimeoutService } from '../../abstractions/vaultTimeout.service';\n\n@Injectable()\nexport class UnauthGuardService implements CanActivate {\n    constructor(private vaultTimeoutService: VaultTimeoutService, private userService: UserService,\n        private router: Router) { }\n\n    async canActivate() {\n        const isAuthed = await this.userService.isAuthenticated();\n        if (isAuthed) {\n            const locked = await this.vaultTimeoutService.isLocked();\n            if (locked) {\n                this.router.navigate(['lock']);\n            } else {\n                this.router.navigate(['vault']);\n            }\n            return false;\n        }\n\n        return true;\n    }\n}\n","import {\n    Component,\n    ComponentFactoryResolver,\n    OnInit,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\n\nimport { CipherData } from 'jslib/models/data';\nimport { Cipher, SymmetricCryptoKey } from 'jslib/models/domain';\nimport { EmergencyAccessViewResponse } from 'jslib/models/response/emergencyAccessResponse';\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { ModalComponent } from '../modal.component';\n\nimport { EmergencyAccessAttachmentsComponent } from './emergency-access-attachments.component';\nimport { EmergencyAddEditComponent } from './emergency-add-edit.component';\n\n@Component({\n    selector: 'emergency-access-view',\n    templateUrl: 'emergency-access-view.component.html',\n})\nexport class EmergencyAccessViewComponent implements OnInit {\n    @ViewChild('cipherAddEdit', { read: ViewContainerRef, static: true }) cipherAddEditModalRef: ViewContainerRef;\n    @ViewChild('attachments', { read: ViewContainerRef, static: true }) attachmentsModalRef: ViewContainerRef;\n\n    id: string;\n    ciphers: CipherView[] = [];\n\n    private modal: ModalComponent = null;\n\n    constructor(private cipherService: CipherService, private cryptoService: CryptoService,\n        private componentFactoryResolver: ComponentFactoryResolver, private router: Router,\n        private route: ActivatedRoute, private apiService: ApiService) { }\n\n    ngOnInit() {\n        this.route.params.subscribe(qParams => {\n            if (qParams.id == null) {\n                return this.router.navigate(['settings/emergency-access']);\n            }\n\n            this.id = qParams.id;\n\n            this.load();\n        });\n    }\n\n    selectCipher(cipher: CipherView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.cipherAddEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<EmergencyAddEditComponent>(EmergencyAddEditComponent, this.cipherAddEditModalRef);\n\n        childComponent.cipherId = cipher == null ? null : cipher.id;\n        childComponent.cipher = cipher;\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n\n        return childComponent;\n    }\n\n    async load() {\n        const response = await this.apiService.postEmergencyAccessView(this.id);\n        this.ciphers = await this.getAllCiphers(response);\n    }\n\n    async viewAttachments(cipher: CipherView) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.attachmentsModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<EmergencyAccessAttachmentsComponent>(EmergencyAccessAttachmentsComponent, this.attachmentsModalRef);\n\n        childComponent.cipher = cipher;\n        childComponent.emergencyAccessId = this.id;\n\n        this.modal.onClosed.subscribe(async () => {\n            this.modal = null;\n        });\n    }\n\n    protected async getAllCiphers(response: EmergencyAccessViewResponse): Promise<CipherView[]> {\n        const ciphers = response.ciphers;\n\n        const decCiphers: CipherView[] = [];\n        const oldKeyBuffer = await this.cryptoService.rsaDecrypt(response.keyEncrypted);\n        const oldEncKey = new SymmetricCryptoKey(oldKeyBuffer);\n\n        const promises: any[] = [];\n        ciphers.forEach(cipherResponse => {\n            const cipherData = new CipherData(cipherResponse);\n            const cipher = new Cipher(cipherData);\n            promises.push(cipher.decrypt(oldEncKey).then(c => decCiphers.push(c)));\n        });\n\n        await Promise.all(promises);\n        decCiphers.sort(this.cipherService.getLocaleSortingFunction());\n\n        return decCiphers;\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'vault' | i18n}}</h1>\n</div>\n<div class=\"mt-4\">\n    <ng-container *ngIf=\"ciphers.length\">\n        <table class=\"table table-hover table-list table-ciphers\">\n            <tbody>\n                <tr *ngFor=\"let c of ciphers\">\n                    <td class=\"table-list-icon\">\n                        <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n                    </td>\n                    <td class=\"reduced-lh wrap\">\n                        <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{'editItem' | i18n}}\">{{c.name}}</a>\n                        <ng-container *ngIf=\"!organization && c.organizationId\">\n                            <i class=\"fa fa-share-alt\" appStopProp title=\"{{'shared' | i18n}}\" aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'shared' | i18n}}</span>\n                        </ng-container>\n                        <ng-container *ngIf=\"c.hasAttachments\">\n                            <i class=\"fa fa-paperclip\" appStopProp title=\"{{'attachments' | i18n}}\"\n                                aria-hidden=\"true\"></i>\n                            <span class=\"sr-only\">{{'attachments' | i18n}}</span>\n                        </ng-container>\n                        <br>\n                        <small>{{c.subTitle}}</small>\n                    </td>\n                    <td class=\"table-list-options\">\n                        <div class=\"dropdown\" appListDropdown *ngIf=\"c.hasAttachments\">\n                            <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\"\n                                data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\n                                appA11yTitle=\"{{'options' | i18n}}\">\n                                <i class=\"fa fa-cog fa-lg\" aria-hidden=\"true\"></i>\n                            </button>\n                            <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenuButton\">\n                                <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"viewAttachments(c)\">\n                                    <i class=\"fa fa-fw fa-paperclip\" aria-hidden=\"true\"></i>\n                                    {{'attachments' | i18n}}\n                                </a>\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n<ng-template #attachments></ng-template>\n","import { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport class EncryptedObject {\n    iv: ArrayBuffer;\n    data: ArrayBuffer;\n    mac: ArrayBuffer;\n    key: SymmetricCryptoKey;\n}\n","export class EnvironmentUrls {\n    base: string;\n    api: string;\n    identity: string;\n    events: string;\n}\n","export class GeneratedPasswordHistory {\n    password: string;\n    date: number;\n\n    constructor(password: string, date: number) {\n        this.password = password;\n        this.date = date;\n    }\n}\n","import { Component } from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { AttachmentView } from 'jslib/models/view/attachmentView';\n\nimport { AttachmentsComponent as BaseAttachmentsComponent } from 'jslib/angular/components/attachments.component';\n\n@Component({\n    selector: 'emergency-access-attachments',\n    templateUrl: '../vault/attachments.component.html',\n})\nexport class EmergencyAccessAttachmentsComponent extends BaseAttachmentsComponent {\n    viewOnly = true;\n    canAccessAttachments = true;\n\n    constructor(cipherService: CipherService, i18nService: I18nService,\n        cryptoService: CryptoService, userService: UserService,\n        platformUtilsService: PlatformUtilsService, apiService: ApiService) {\n        super(cipherService, i18nService, cryptoService, userService, platformUtilsService, apiService, window);\n    }\n\n    protected async init() {\n        // Do nothing since cipher is already decoded\n    }\n\n    protected showFixOldAttachments(attachment: AttachmentView) {\n        return false;\n    }\n}\n","import { Component } from '@angular/core';\n\nimport { AuditService } from 'jslib/abstractions/audit.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { EventService } from 'jslib/abstractions/event.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { TotpService } from 'jslib/abstractions/totp.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { Cipher } from 'jslib/models/domain/cipher';\n\nimport { AddEditComponent as BaseAddEditComponent } from '../vault/add-edit.component';\n\n@Component({\n    selector: 'app-org-vault-add-edit',\n    templateUrl: '../vault/add-edit.component.html',\n})\nexport class EmergencyAddEditComponent extends BaseAddEditComponent {\n    originalCipher: Cipher = null;\n    viewOnly = true;\n\n    constructor(cipherService: CipherService, folderService: FolderService,\n        i18nService: I18nService, platformUtilsService: PlatformUtilsService,\n        auditService: AuditService, stateService: StateService,\n        userService: UserService, collectionService: CollectionService,\n        totpService: TotpService, passwordGenerationService: PasswordGenerationService,\n        messagingService: MessagingService, eventService: EventService, policyService: PolicyService) {\n        super(cipherService, folderService, i18nService, platformUtilsService, auditService, stateService,\n            userService, collectionService, totpService, passwordGenerationService, messagingService,\n            eventService, policyService);\n    }\n\n    async load() {\n        this.title = this.i18nService.t('viewItem');\n    }\n\n    protected async loadCipher() {\n        return Promise.resolve(this.originalCipher);\n    }\n}\n","import { Component, ComponentFactoryResolver, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { EmergencyAccessStatusType } from 'jslib/enums/emergencyAccessStatusType';\nimport { EmergencyAccessType } from 'jslib/enums/emergencyAccessType';\nimport { Utils } from 'jslib/misc/utils';\nimport { EmergencyAccessConfirmRequest } from 'jslib/models/request/emergencyAccessConfirmRequest';\nimport { EmergencyAccessGranteeDetailsResponse, EmergencyAccessGrantorDetailsResponse } from 'jslib/models/response/emergencyAccessResponse';\nimport { ConstantsService } from 'jslib/services/constants.service';\n\nimport { ModalComponent } from '../modal.component';\nimport { EmergencyAccessAddEditComponent } from './emergency-access-add-edit.component';\nimport { EmergencyAccessConfirmComponent } from './emergency-access-confirm.component';\nimport { EmergencyAccessTakeoverComponent } from './emergency-access-takeover.component';\n\n@Component({\n    selector: 'emergency-access',\n    templateUrl: 'emergency-access.component.html',\n})\nexport class EmergencyAccessComponent implements OnInit {\n    @ViewChild('addEdit', { read: ViewContainerRef, static: true }) addEditModalRef: ViewContainerRef;\n    @ViewChild('takeoverTemplate', { read: ViewContainerRef, static: true}) takeoverModalRef: ViewContainerRef;\n    @ViewChild('confirmTemplate', { read: ViewContainerRef, static: true }) confirmModalRef: ViewContainerRef;\n\n    canAccessPremium: boolean;\n    trustedContacts: EmergencyAccessGranteeDetailsResponse[];\n    grantedContacts: EmergencyAccessGrantorDetailsResponse[];\n    emergencyAccessType = EmergencyAccessType;\n    emergencyAccessStatusType = EmergencyAccessStatusType;\n    actionPromise: Promise<any>;\n    isOrganizationOwner: boolean;\n\n    private modal: ModalComponent = null;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private componentFactoryResolver: ComponentFactoryResolver,\n        private platformUtilsService: PlatformUtilsService,\n        private toasterService: ToasterService, private cryptoService: CryptoService,\n        private storageService: StorageService, private userService: UserService,\n        private messagingService: MessagingService) { }\n\n    async ngOnInit() {\n        this.canAccessPremium = await this.userService.canAccessPremium();\n        const orgs = await this.userService.getAllOrganizations();\n        this.isOrganizationOwner = orgs.some(o => o.isOwner);\n        this.load();\n    }\n\n    async load() {\n        this.trustedContacts = (await this.apiService.getEmergencyAccessTrusted()).data;\n        this.grantedContacts = (await this.apiService.getEmergencyAccessGranted()).data;\n    }\n\n    async premiumRequired() {\n        if (!this.canAccessPremium) {\n            this.messagingService.send('premiumRequired');\n            return;\n        }\n    }\n\n    edit(details: EmergencyAccessGranteeDetailsResponse) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.addEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<EmergencyAccessAddEditComponent>(\n            EmergencyAccessAddEditComponent, this.addEditModalRef);\n\n        childComponent.name = details?.name ?? details?.email;\n        childComponent.emergencyAccessId = details?.id;\n        childComponent.readOnly = !this.canAccessPremium;\n        childComponent.onSaved.subscribe(() => {\n            this.modal.close();\n            this.load();\n        });\n        childComponent.onDeleted.subscribe(() => {\n            this.modal.close();\n            this.remove(details);\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    invite() {\n        this.edit(null);\n    }\n\n    async reinvite(contact: EmergencyAccessGranteeDetailsResponse) {\n        if (this.actionPromise != null) {\n            return;\n        }\n        this.actionPromise = this.apiService.postEmergencyAccessReinvite(contact.id);\n        await this.actionPromise;\n        this.toasterService.popAsync('success', null, this.i18nService.t('hasBeenReinvited', contact.email));\n        this.actionPromise = null;\n    }\n\n    async confirm(contact: EmergencyAccessGranteeDetailsResponse) {\n        function updateUser() {\n            contact.status = EmergencyAccessStatusType.Confirmed;\n        }\n\n        if (this.actionPromise != null) {\n            return;\n        }\n\n        const autoConfirm = await this.storageService.get<boolean>(ConstantsService.autoConfirmFingerprints);\n        if (autoConfirm == null || !autoConfirm) {\n            if (this.modal != null) {\n                this.modal.close();\n            }\n\n            const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n            this.modal = this.confirmModalRef.createComponent(factory).instance;\n            const childComponent = this.modal.show<EmergencyAccessConfirmComponent>(\n                EmergencyAccessConfirmComponent, this.confirmModalRef);\n\n            childComponent.name = contact?.name ?? contact?.email;\n            childComponent.emergencyAccessId = contact.id;\n            childComponent.userId = contact?.granteeId;\n            childComponent.onConfirmed.subscribe(async () => {\n                this.modal.close();\n\n                childComponent.formPromise = this.doConfirmation(contact);\n                await childComponent.formPromise;\n\n                updateUser();\n                this.toasterService.popAsync('success', null, this.i18nService.t('hasBeenConfirmed', contact.name || contact.email));\n            });\n\n            this.modal.onClosed.subscribe(() => {\n                this.modal = null;\n            });\n            return;\n        }\n\n        this.actionPromise = this.doConfirmation(contact);\n        await this.actionPromise;\n        updateUser();\n\n        this.toasterService.popAsync('success', null, this.i18nService.t('hasBeenConfirmed', contact.name || contact.email));\n        this.actionPromise = null;\n    }\n\n    async remove(details: EmergencyAccessGranteeDetailsResponse | EmergencyAccessGrantorDetailsResponse) {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('removeUserConfirmation'), details.name || details.email,\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            await this.apiService.deleteEmergencyAccess(details.id);\n            this.toasterService.popAsync('success', null, this.i18nService.t('removedUserId', details.name || details.email));\n\n            if (details instanceof EmergencyAccessGranteeDetailsResponse) {\n                this.removeGrantee(details);\n            } else {\n                this.removeGrantor(details);\n            }\n        } catch { }\n    }\n\n    async requestAccess(details: EmergencyAccessGrantorDetailsResponse) {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('requestAccessConfirmation', details.waitTimeDays.toString()),\n            details.name || details.email,\n            this.i18nService.t('requestAccess'),\n            this.i18nService.t('no'),\n            'warning',\n        );\n\n        if (!confirmed) {\n            return false;\n        }\n\n        await this.apiService.postEmergencyAccessInitiate(details.id);\n\n        details.status = EmergencyAccessStatusType.RecoveryInitiated;\n        this.toasterService.popAsync('success', null, this.i18nService.t('requestSent', details.name || details.email));\n    }\n\n    async approve(details: EmergencyAccessGranteeDetailsResponse) {\n        const type = this.i18nService.t(details.type === EmergencyAccessType.View ? 'view' : 'takeover');\n\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('approveAccessConfirmation', details.name || details.email, type),\n            details.name || details.email,\n            this.i18nService.t('approve'),\n            this.i18nService.t('no'),\n            'warning',\n        );\n\n        if (!confirmed) {\n            return false;\n        }\n\n        await this.apiService.postEmergencyAccessApprove(details.id);\n        details.status = EmergencyAccessStatusType.RecoveryApproved;\n\n        this.toasterService.popAsync('success', null, this.i18nService.t('emergencyApproved', details.name || details.email));\n    }\n\n    async reject(details: EmergencyAccessGranteeDetailsResponse) {\n        await this.apiService.postEmergencyAccessReject(details.id);\n        details.status = EmergencyAccessStatusType.Confirmed;\n\n        this.toasterService.popAsync('success', null, this.i18nService.t('emergencyRejected', details.name || details.email));\n    }\n\n    async takeover(details: EmergencyAccessGrantorDetailsResponse) {\n        if (this.modal != null) {\n            this.modal.close();\n        }\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(ModalComponent);\n        this.modal = this.addEditModalRef.createComponent(factory).instance;\n        const childComponent = this.modal.show<EmergencyAccessTakeoverComponent>(\n            EmergencyAccessTakeoverComponent, this.takeoverModalRef);\n\n        childComponent.name = details != null ? details.name || details.email : null;\n        childComponent.email = details.email;\n        childComponent.emergencyAccessId = details != null ? details.id : null;\n\n        childComponent.onDone.subscribe(() => {\n            this.modal.close();\n            this.toasterService.popAsync('success', null, this.i18nService.t('passwordResetFor', details.name || details.email));\n        });\n\n        this.modal.onClosed.subscribe(() => {\n            this.modal = null;\n        });\n    }\n\n    private removeGrantee(details: EmergencyAccessGranteeDetailsResponse) {\n        const index = this.trustedContacts.indexOf(details);\n        if (index > -1) {\n            this.trustedContacts.splice(index, 1);\n        }\n    }\n\n    private removeGrantor(details: EmergencyAccessGrantorDetailsResponse) {\n        const index = this.grantedContacts.indexOf(details);\n        if (index > -1) {\n            this.grantedContacts.splice(index, 1);\n        }\n    }\n\n    // Encrypt the master password hash using the grantees public key, and send it to bitwarden for escrow.\n    private async doConfirmation(details: EmergencyAccessGranteeDetailsResponse) {\n        const encKey = await this.cryptoService.getEncKey();\n        const publicKeyResponse = await this.apiService.getUserPublicKey(details.granteeId);\n        const publicKey = Utils.fromB64ToArray(publicKeyResponse.publicKey);\n\n        try {\n            // tslint:disable-next-line\n            console.log('User\\'s fingerprint: ' +\n                (await this.cryptoService.getFingerprint(details.granteeId, publicKey.buffer)).join('-'));\n        } catch { }\n\n        const encryptedKey = await this.cryptoService.rsaEncrypt(encKey.key, publicKey.buffer);\n        const request = new EmergencyAccessConfirmRequest();\n        request.key = encryptedKey.encryptedString;\n        await this.apiService.postEmergencyAccessConfirm(details.id, request);\n    }\n}\n","<div class=\"page-header\">\n    <h1>{{'emergencyAccess' | i18n}}</h1>\n</div>\n<p>\n    {{'emergencyAccessDesc' | i18n}}\n    <a href=\"https://bitwarden.com/help/article/emergency-access/\" target=\"_blank\" rel=\"noopener\">\n        {{'learnMore' | i18n}}.\n    </a>\n</p>\n\n<p *ngIf=\"isOrganizationOwner\">\n    <b>{{'warning' | i18n }}:</b> {{'emergencyAccessOwnerWarning' | i18n}}\n</p>\n\n<div class=\"page-header d-flex\">\n    <h2>\n        {{'trustedEmergencyContacts' | i18n}}\n        <a href=\"#\" appStopClick class=\"badge badge-primary\" *ngIf=\"!canAccessPremium\" (click)=\"premiumRequired()\">\n            {{'premium' | i18n}}\n        </a>\n    </h2>\n    <div class=\"ml-auto d-flex\">\n        <button class=\"btn btn-sm btn-outline-primary ml-3\" type=\"button\" (click)=\"invite()\" [disabled]=\"!canAccessPremium\">\n            <i aria-hidden=\"true\" class=\"fa fa-plus fa-fw\"></i>\n            {{'addEmergencyContact' |i18n}}\n        </button>\n    </div>\n</div>\n\n<table class=\"table table-hover table-list mb-0\" *ngIf=\"trustedContacts && trustedContacts.length\">\n    <tbody>\n        <tr *ngFor=\"let c of trustedContacts; let i = index\">\n            <td width=\"30\">\n                <app-avatar [data]=\"c.name || c.email\" [email]=\"c.email\" size=\"25\" [circle]=\"true\"\n                    [fontSize]=\"14\"></app-avatar>\n            </td>\n            <td>\n                <a href=\"#\" appStopClick (click)=\"edit(c)\">{{c.email}}</a>\n                <span class=\"badge badge-secondary\"\n                    *ngIf=\"c.status === emergencyAccessStatusType.Invited\">{{'invited' | i18n}}</span>\n                <span class=\"badge badge-warning\"\n                    *ngIf=\"c.status === emergencyAccessStatusType.Accepted\">{{'accepted' | i18n}}</span>\n                <span class=\"badge badge-warning\"\n                    *ngIf=\"c.status === emergencyAccessStatusType.RecoveryInitiated\">{{'emergencyAccessRecoveryInitiated' | i18n}}</span>\n                <span class=\"badge badge-success\"\n                    *ngIf=\"c.status === emergencyAccessStatusType.RecoveryApproved\">{{'emergencyAccessRecoveryApproved' | i18n}}</span>\n                \n                <span class=\"badge badge-primary\"\n                    *ngIf=\"c.type === emergencyAccessType.View\">{{'view' | i18n}}</span>\n                <span class=\"badge badge-primary\"\n                    *ngIf=\"c.type === emergencyAccessType.Takeover\">{{'takeover' | i18n}}</span>\n\n                <small class=\"text-muted d-block\" *ngIf=\"c.name\">{{c.name}}</small>\n            </td>\n            <td class=\"table-list-options\">\n                <div class=\"dropdown\" appListDropdown>\n                    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\"\n                        data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\n                        appA11yTitle=\"{{'options' | i18n}}\">\n                        <i class=\"fa fa-cog fa-lg\" aria-hidden=\"true\"></i>\n                    </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\">\n                        <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"reinvite(c)\"\n                            *ngIf=\"c.status === emergencyAccessStatusType.Invited\">\n                            <i class=\"fa fa-fw fa-envelope-o\" aria-hidden=\"true\"></i>\n                            {{'resendInvitation' | i18n}}\n                        </a>\n                        <a class=\"dropdown-item text-success\" href=\"#\" appStopClick (click)=\"confirm(c)\"\n                            *ngIf=\"c.status === emergencyAccessStatusType.Accepted\">\n                            <i class=\"fa fa-fw fa-check\" aria-hidden=\"true\"></i>\n                            {{'confirm' | i18n}}\n                        </a>\n                        <a class=\"dropdown-item text-success\" href=\"#\" appStopClick (click)=\"approve(c)\"\n                            *ngIf=\"c.status === emergencyAccessStatusType.RecoveryInitiated\">\n                            <i class=\"fa fa-fw fa-check\" aria-hidden=\"true\"></i>\n                            {{'approve' | i18n}}\n                        </a>\n                        <a class=\"dropdown-item text-warning\" href=\"#\" appStopClick (click)=\"reject(c)\"\n                            *ngIf=\"c.status === emergencyAccessStatusType.RecoveryInitiated || c.status === emergencyAccessStatusType.RecoveryApproved\">\n                            <i class=\"fa fa-fw fa-remove\" aria-hidden=\"true\"></i>\n                            {{'reject' | i18n}}\n                        </a>\n                        <a class=\"dropdown-item text-danger\" href=\"#\" appStopClick (click)=\"remove(c)\">\n                            <i class=\"fa fa-fw fa-remove\" aria-hidden=\"true\"></i>\n                            {{'remove' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </td>\n        </tr>\n    </tbody>\n</table>\n\n<p *ngIf=\"!trustedContacts || !trustedContacts.length\">{{'noTrustedContacts' | i18n}}</p>\n\n<div class=\"page-header spaced-header\">\n    <h2>{{'designatedEmergencyContacts' | i18n}}</h2>\n</div>\n\n<table class=\"table table-hover table-list mb-0\" *ngIf=\"grantedContacts && grantedContacts.length\">\n    <tbody>\n        <tr *ngFor=\"let c of grantedContacts; let i = index\">\n            <td width=\"30\">\n                <app-avatar [data]=\"c.name || c.email\" [email]=\"c.email\" size=\"25\" [circle]=\"true\"\n                    [fontSize]=\"14\"></app-avatar>\n            </td>\n            <td>\n                <span>{{c.email}}</span>\n                <span class=\"badge badge-secondary\"\n                    *ngIf=\"c.status === emergencyAccessStatusType.Invited\">{{'invited' | i18n}}</span>\n                <span class=\"badge badge-warning\"\n                    *ngIf=\"c.status === emergencyAccessStatusType.Accepted\">{{'accepted' | i18n}}</span>\n                <span class=\"badge badge-warning\"\n                    *ngIf=\"c.status === emergencyAccessStatusType.RecoveryInitiated\">{{'emergencyAccessRecoveryInitiated' | i18n}}</span>\n                <span class=\"badge badge-success\"\n                    *ngIf=\"c.status === emergencyAccessStatusType.RecoveryApproved\">{{'emergencyAccessRecoveryApproved' | i18n}}</span>\n                \n                <span class=\"badge badge-primary\"\n                    *ngIf=\"c.type === emergencyAccessType.View\">{{'view' | i18n}}</span>\n                <span class=\"badge badge-primary\"\n                    *ngIf=\"c.type === emergencyAccessType.Takeover\">{{'takeover' | i18n}}</span>\n\n                <small class=\"text-muted d-block\" *ngIf=\"c.name\">{{c.name}}</small>\n            </td>\n            <td class=\"table-list-options\">\n                <div class=\"dropdown\" appListDropdown>\n                    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\"\n                        data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\n                        appA11yTitle=\"{{'options' | i18n}}\">\n                        <i class=\"fa fa-cog fa-lg\" aria-hidden=\"true\"></i>\n                    </button>\n                    <div class=\"dropdown-menu dropdown-menu-right\">\n                        <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"requestAccess(c)\"\n                            *ngIf=\"c.status === emergencyAccessStatusType.Confirmed\">\n                            <i class=\"fa fa-fw fa-envelope-o\" aria-hidden=\"true\"></i>\n                            {{'requestAccess' | i18n}}\n                        </a>\n                        <a class=\"dropdown-item\" href=\"#\" appStopClick (click)=\"takeover(c)\"\n                            *ngIf=\"c.status === emergencyAccessStatusType.RecoveryApproved && c.type === emergencyAccessType.Takeover\">\n                            <i class=\"fa fa-fw fa-key\" aria-hidden=\"true\"></i>\n                            {{'takeover' | i18n}}\n                        </a>\n                        <a class=\"dropdown-item\" [routerLink]=\"c.id\"\n                            *ngIf=\"c.status === emergencyAccessStatusType.RecoveryApproved && c.type === emergencyAccessType.View\">\n                            <i class=\"fa fa-fw fa-eye\" aria-hidden=\"true\"></i>\n                            {{'view' | i18n}}\n                        </a>\n                        <a class=\"dropdown-item text-danger\" href=\"#\" appStopClick (click)=\"remove(c)\">\n                            <i class=\"fa fa-fw fa-remove\" aria-hidden=\"true\"></i>\n                            {{'remove' | i18n}}\n                        </a>\n                    </div>\n                </div>\n            </td>\n        </tr>\n    </tbody>\n</table>\n\n<p *ngIf=\"!grantedContacts || !grantedContacts.length\">{{'noGrantedAccess' | i18n}}</p>\n\n<ng-template #addEdit></ng-template>\n<ng-template #takeoverTemplate></ng-template>\n<ng-template #confirmTemplate></ng-template>\n","export enum EmergencyAccessType\n{\n    View = 0,\n    Takeover = 1,\n}\n","import { EmergencyAccessStatusType } from '../../enums/emergencyAccessStatusType';\nimport { EmergencyAccessType } from '../../enums/emergencyAccessType';\nimport { KdfType } from '../../enums/kdfType';\nimport { BaseResponse } from './baseResponse';\nimport { CipherResponse } from './cipherResponse';\n\nexport class EmergencyAccessGranteeDetailsResponse extends BaseResponse {\n    id: string;\n    granteeId: string;\n    name: string;\n    email: string;\n    type: EmergencyAccessType;\n    status: EmergencyAccessStatusType;\n    waitTimeDays: number;\n    creationDate: string;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.granteeId = this.getResponseProperty('GranteeId');\n        this.name = this.getResponseProperty('Name');\n        this.email = this.getResponseProperty('Email');\n        this.type = this.getResponseProperty('Type');\n        this.status = this.getResponseProperty('Status');\n        this.waitTimeDays = this.getResponseProperty('WaitTimeDays');\n        this.creationDate = this.getResponseProperty('CreationDate');\n    }\n}\n\nexport class EmergencyAccessGrantorDetailsResponse extends BaseResponse {\n    id: string;\n    grantorId: string;\n    name: string;\n    email: string;\n    type: EmergencyAccessType;\n    status: EmergencyAccessStatusType;\n    waitTimeDays: number;\n    creationDate: string;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.grantorId = this.getResponseProperty('GrantorId');\n        this.name = this.getResponseProperty('Name');\n        this.email = this.getResponseProperty('Email');\n        this.type = this.getResponseProperty('Type');\n        this.status = this.getResponseProperty('Status');\n        this.waitTimeDays = this.getResponseProperty('WaitTimeDays');\n        this.creationDate = this.getResponseProperty('CreationDate');\n    }\n}\n\nexport class EmergencyAccessTakeoverResponse extends BaseResponse {\n    keyEncrypted: string;\n    kdf: KdfType;\n    kdfIterations: number;\n\n    constructor(response: any) {\n        super(response);\n\n        this.keyEncrypted = this.getResponseProperty('KeyEncrypted');\n        this.kdf = this.getResponseProperty('Kdf');\n        this.kdfIterations = this.getResponseProperty('KdfIterations');\n    }\n}\n\nexport class EmergencyAccessViewResponse extends BaseResponse {\n    keyEncrypted: string;\n    ciphers: CipherResponse[] = [];\n\n    constructor(response: any) {\n        super(response);\n\n        this.keyEncrypted = this.getResponseProperty('KeyEncrypted');\n\n        const ciphers = this.getResponseProperty('Ciphers');\n        if (ciphers != null) {\n            this.ciphers = ciphers.map((c: any) => new CipherResponse(c));\n        }\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\n\nimport { EmergencyAccessType } from 'jslib/enums/emergencyAccessType';\nimport { EmergencyAccessInviteRequest } from 'jslib/models/request/emergencyAccessInviteRequest';\nimport { EmergencyAccessUpdateRequest } from 'jslib/models/request/emergencyAccessUpdateRequest';\n\n@Component({\n    selector: 'emergency-access-add-edit',\n    templateUrl: 'emergency-access-add-edit.component.html',\n})\nexport class EmergencyAccessAddEditComponent implements OnInit {\n    @Input() name: string;\n    @Input() emergencyAccessId: string;\n    @Output() onSaved = new EventEmitter();\n    @Output() onDeleted = new EventEmitter();\n\n    loading = true;\n    readOnly: boolean = false;\n    editMode: boolean = false;\n    title: string;\n    email: string;\n    type: EmergencyAccessType = EmergencyAccessType.View;\n\n    formPromise: Promise<any>;\n\n    emergencyAccessType = EmergencyAccessType;\n    waitTimes: { name: string; value: number; }[];\n    waitTime: number;\n\n    constructor(private apiService: ApiService, private i18nService: I18nService,\n        private toasterService: ToasterService) { }\n\n    async ngOnInit() {\n        this.editMode = this.loading = this.emergencyAccessId != null;\n\n        this.waitTimes = [\n            { name: this.i18nService.t('oneDay'), value: 1 },\n            { name: this.i18nService.t('days', '2'), value: 2 },\n            { name: this.i18nService.t('days', '7'), value: 7 },\n            { name: this.i18nService.t('days', '14'), value: 14 },\n            { name: this.i18nService.t('days', '30'), value: 30 },\n            { name: this.i18nService.t('days', '90'), value: 90 },\n        ];\n\n        if (this.editMode) {\n            this.editMode = true;\n            this.title = this.i18nService.t('editEmergencyContact');\n            try {\n                const emergencyAccess = await this.apiService.getEmergencyAccess(this.emergencyAccessId);\n                this.type = emergencyAccess.type;\n                this.waitTime = emergencyAccess.waitTimeDays;\n            } catch { }\n        } else {\n            this.title = this.i18nService.t('inviteEmergencyContact');\n            this.waitTime = this.waitTimes[2].value;\n        }\n\n        this.loading = false;\n    }\n\n    async submit() {\n        try {\n            if (this.editMode) {\n                const request = new EmergencyAccessUpdateRequest();\n                request.type = this.type;\n                request.waitTimeDays = this.waitTime;\n\n                this.formPromise = this.apiService.putEmergencyAccess(this.emergencyAccessId, request);\n            } else {\n                const request = new EmergencyAccessInviteRequest();\n                request.email = this.email.trim();\n                request.type = this.type;\n                request.waitTimeDays = this.waitTime;\n\n                this.formPromise = this.apiService.postEmergencyAccessInvite(request);\n            }\n\n            await this.formPromise;\n            this.toasterService.popAsync('success', null,\n                this.i18nService.t(this.editMode ? 'editedUserId' : 'invitedUsers', this.name));\n            this.onSaved.emit();\n        } catch { }\n    }\n\n    async delete() {\n        this.onDeleted.emit();\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"userAddEditTitle\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"userAddEditTitle\">\n                    <span class=\"badge badge-primary\" *ngIf=\"readOnly\">{{'premium' | i18n}}</span>\n                    {{title}}\n                    <small class=\"text-muted\" *ngIf=\"name\">{{name}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"loading\">\n                <i class=\"fa fa-spinner fa-spin text-muted\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                <span class=\"sr-only\">{{'loading' | i18n}}</span>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"!loading\">\n                <ng-container *ngIf=\"!editMode\">\n                    <p>{{'inviteEmergencyContactDesc' | i18n}}</p>\n                    <div class=\"form-group mb-4\">\n                        <label for=\"email\">{{'email' | i18n}}</label>\n                        <input id=\"email\" class=\"form-control\" type=\"text\" name=\"Email\" [(ngModel)]=\"email\" required>\n                    </div>\n                </ng-container>\n                <h3>\n                    {{'userAccess' | i18n}}\n                    <a target=\"_blank\" rel=\"noopener\" appA11yTitle=\"{{'learnMore' | i18n}}\"\n                        href=\"https://bitwarden.com/help/article/emergency-access/#user-access\">\n                        <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n                    </a>\n                </h3>\n                <div class=\"form-check mt-2 form-check-block\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"userType\" id=\"emergencyTypeView\"\n                        [value]=\"emergencyAccessType.View\" [(ngModel)]=\"type\">\n                    <label class=\"form-check-label\" for=\"emergencyTypeView\">\n                        {{'view' | i18n}}\n                        <small>{{'viewDesc' | i18n}}</small>\n                    </label>\n                </div>\n                <div class=\"form-check mt-2 form-check-block\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"userType\" id=\"emergencyTypeTakeover\"\n                        [value]=\"emergencyAccessType.Takeover\" [(ngModel)]=\"type\" [disabled]=\"readOnly\">\n                    <label class=\"form-check-label\" for=\"emergencyTypeTakeover\">\n                        {{'takeover' | i18n}}\n                        <small>{{'takeoverDesc' | i18n}}</small>\n                    </label>\n                </div>\n                <div class=\"form-group col-6 mt-4\">\n                    <label for=\"waitTime\">{{'waitTime' | i18n}}</label>\n                    <select id=\"waitTime\" name=\"waitTime\" [(ngModel)]=\"waitTime\" class=\"form-control\" [disabled]=\"readOnly\">\n                        <option *ngFor=\"let o of waitTimes\" [ngValue]=\"o.value\">{{o.name}}</option>\n                    </select>\n                    <small class=\"text-muted\">{{'waitTimeDesc' | i18n}}</small>\n                </div>\n            </div>\n            <div class=\"modal-footer\">\n                <button #submitBtn type=\"submit\" class=\"btn btn-primary\" \n                    [disabled]=\"loading || submitBtn.loading || readOnly\" [appApiAction]=\"formPromise\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\" \n                        *ngIf=\"loading || submitBtn.loading\"></i>\n                    <span *ngIf=\"!loading && !submitBtn.loading\">{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n                <div class=\"ml-auto\">\n                    <button #deleteBtn type=\"button\" (click)=\"delete()\" class=\"btn btn-outline-danger\"\n                        appA11yTitle=\"{{'delete' | i18n}}\" *ngIf=\"editMode\" [disabled]=\"deleteBtn.loading\"\n                        [appApiAction]=\"deletePromise\">\n                        <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\" aria-hidden=\"true\"></i>\n                        <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\"\n                            title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    </button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ConstantsService } from 'jslib/services/constants.service';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\n\nimport { Utils } from 'jslib/misc/utils';\n\n@Component({\n    selector: 'emergency-access-confirm',\n    templateUrl: 'emergency-access-confirm.component.html',\n})\nexport class EmergencyAccessConfirmComponent implements OnInit {\n    @Input() name: string;\n    @Input() userId: string;\n    @Input() emergencyAccessId: string;\n    @Input() formPromise: Promise<any>;\n    @Output() onConfirmed = new EventEmitter();\n\n    dontAskAgain = false;\n    loading = true;\n    fingerprint: string;\n\n    constructor(private apiService: ApiService, private cryptoService: CryptoService,\n        private storageService: StorageService) { }\n\n    async ngOnInit() {\n        try {\n            const publicKeyResponse = await this.apiService.getUserPublicKey(this.userId);\n            if (publicKeyResponse != null) {\n                const publicKey = Utils.fromB64ToArray(publicKeyResponse.publicKey);\n                const fingerprint = await this.cryptoService.getFingerprint(this.userId, publicKey.buffer);\n                if (fingerprint != null) {\n                    this.fingerprint = fingerprint.join('-');\n                }\n            }\n        } catch { }\n        this.loading = false;\n    }\n\n    async submit() {\n        if (this.loading) {\n            return;\n        }\n\n        if (this.dontAskAgain) {\n            await this.storageService.save(ConstantsService.autoConfirmFingerprints, true);\n        }\n\n        try {\n            this.onConfirmed.emit();\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"confirmUserTitle\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"confirmUserTitle\">\n                    {{'confirmUser' | i18n}}\n                    <small class=\"text-muted\" *ngIf=\"name\">{{name}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <p>\n                    {{'fingerprintEnsureIntegrityVerify' | i18n}}\n                    <a href=\"https://help.bitwarden.com/article/fingerprint-phrase/\" target=\"_blank\" rel=\"noopener\">\n                        {{'learnMore' | i18n}}</a>\n                </p>\n                <p><code>{{fingerprint}}</code></p>\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"dontAskAgain\" name=\"DontAskAgain\"\n                        [(ngModel)]=\"dontAskAgain\">\n                    <label class=\"form-check-label\" for=\"dontAskAgain\">\n                        {{'dontAskFingerprintAgain' | i18n}}\n                    </label>\n                </div>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'confirm' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { UserService } from 'jslib/abstractions/user.service';\nimport { ChangePasswordComponent } from 'jslib/angular/components/change-password.component';\n\nimport { KdfType } from 'jslib/enums/kdfType';\nimport { PolicyData } from 'jslib/models/data/policyData';\nimport { Policy } from 'jslib/models/domain/policy';\nimport { SymmetricCryptoKey } from 'jslib/models/domain/symmetricCryptoKey';\nimport { EmergencyAccessPasswordRequest } from 'jslib/models/request/emergencyAccessPasswordRequest';\nimport { ListResponse } from 'jslib/models/response';\nimport { EmergencyAccessTakeoverResponse } from 'jslib/models/response/emergencyAccessResponse';\nimport { PolicyResponse } from 'jslib/models/response/policyResponse';\n\n@Component({\n    selector: 'emergency-access-takeover',\n    templateUrl: 'emergency-access-takeover.component.html',\n})\nexport class EmergencyAccessTakeoverComponent extends ChangePasswordComponent implements OnInit {\n    @Output() onDone = new EventEmitter();\n    @Input() emergencyAccessId: string;\n    @Input() name: string;\n    @Input() email: string;\n    @Input() kdf: KdfType;\n    @Input() kdfIterations: number;\n\n    formPromise: Promise<any>;\n\n    constructor(i18nService: I18nService, cryptoService: CryptoService,\n        messagingService: MessagingService, userService: UserService,\n        passwordGenerationService: PasswordGenerationService,\n        platformUtilsService: PlatformUtilsService, policyService: PolicyService,\n        private apiService: ApiService, private toasterService: ToasterService) {\n        super(i18nService, cryptoService, messagingService, userService, passwordGenerationService,\n            platformUtilsService, policyService);\n    }\n\n    async ngOnInit() {\n        const response = await this.apiService.getEmergencyGrantorPolicies(this.emergencyAccessId);\n        if (response.data != null && response.data.length > 0) {\n            const policies = response.data.map((policyResponse: PolicyResponse) => new Policy(new PolicyData(policyResponse)));\n            this.enforcedPolicyOptions = await this.policyService.getMasterPasswordPolicyOptions(policies);\n        }\n     }\n\n    async submit() {\n        if (!await this.strongPassword()) {\n            return;\n        }\n\n        const takeoverResponse = await this.apiService.postEmergencyAccessTakeover(this.emergencyAccessId);\n\n        const oldKeyBuffer = await this.cryptoService.rsaDecrypt(takeoverResponse.keyEncrypted);\n        const oldEncKey = new SymmetricCryptoKey(oldKeyBuffer);\n\n        if (oldEncKey == null) {\n            this.toasterService.popAsync('error', this.i18nService.t('errorOccurred'), this.i18nService.t('unexpectedError'));\n            return;\n        }\n\n        const key = await this.cryptoService.makeKey(this.masterPassword, this.email, takeoverResponse.kdf, takeoverResponse.kdfIterations);\n        const masterPasswordHash = await this.cryptoService.hashPassword(this.masterPassword, key);\n\n        const encKey = await this.cryptoService.remakeEncKey(key, oldEncKey);\n\n        const request = new EmergencyAccessPasswordRequest();\n        request.newMasterPasswordHash = masterPasswordHash;\n        request.key = encKey[1].encryptedString;\n\n        this.apiService.postEmergencyAccessPassword(this.emergencyAccessId, request);\n\n        try {\n            this.onDone.emit();\n        } catch { }\n    }\n}\n","<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"userAddEditTitle\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <form class=\"modal-content\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\" ngNativeValidate>\n            <div class=\"modal-header\">\n                <h2 class=\"modal-title\" id=\"userAddEditTitle\">\n                    {{'takeover' | i18n}}\n                    <small class=\"text-muted\" *ngIf=\"name\">{{name}}</small>\n                </h2>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" appA11yTitle=\"{{'close' | i18n}}\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <app-callout type=\"warning\">{{'loggedOutWarning' | i18n}}</app-callout>\n                <app-callout type=\"info\" *ngIf=\"enforcedPolicyOptions\">\n                    {{'masterPasswordPolicyInEffect' | i18n}}\n                    <ul class=\"mb-0\">\n                        <li *ngIf=\"enforcedPolicyOptions?.minComplexity > 0\">\n                            {{'policyInEffectMinComplexity' | i18n : getPasswordScoreAlertDisplay()}}\n                        </li>\n                        <li *ngIf=\"enforcedPolicyOptions?.minLength > 0\">\n                            {{'policyInEffectMinLength' | i18n : enforcedPolicyOptions?.minLength.toString()}}\n                        </li>\n                        <li *ngIf=\"enforcedPolicyOptions?.requireUpper\">\n                            {{'policyInEffectUppercase' | i18n}}</li>\n                        <li *ngIf=\"enforcedPolicyOptions?.requireLower\">\n                            {{'policyInEffectLowercase' | i18n}}</li>\n                        <li *ngIf=\"enforcedPolicyOptions?.requireNumbers\">\n                            {{'policyInEffectNumbers' | i18n}}</li>\n                        <li *ngIf=\"enforcedPolicyOptions?.requireSpecial\">\n                            {{'policyInEffectSpecial' | i18n : '!@#$%^&*'}}</li>\n                    </ul>\n                </app-callout>\n                <div class=\"row\">\n                    <div class=\"col-6\">\n                        <div class=\"form-group\">\n                            <label for=\"masterPassword\">{{'newMasterPass' | i18n}}</label>\n                            <input id=\"masterPassword\" type=\"password\" name=\"NewMasterPasswordHash\" class=\"form-control mb-1\"\n                                [(ngModel)]=\"masterPassword\" (input)=\"updatePasswordStrength()\" required appInputVerbatim\n                                autocomplete=\"new-password\">\n                            <app-password-strength [score]=\"masterPasswordScore\" [showText]=\"true\"></app-password-strength>\n                        </div>\n                    </div>\n                    <div class=\"col-6\">\n                        <div class=\"form-group\">\n                            <label for=\"masterPasswordRetype\">{{'confirmNewMasterPass' | i18n}}</label>\n                            <input id=\"masterPasswordRetype\" type=\"password\" name=\"MasterPasswordRetype\"\n                                class=\"form-control\" [(ngModel)]=\"masterPasswordRetype\" required appInputVerbatim\n                                autocomplete=\"new-password\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" class=\"btn btn-primary btn-submit\" [disabled]=\"form.loading\">\n                    <i class=\"fa fa-spinner fa-spin\" title=\"{{'loading' | i18n}}\" aria-hidden=\"true\"></i>\n                    <span>{{'save' | i18n}}</span>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">{{'cancel' | i18n}}</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import { DeviceType } from '../enums/deviceType';\nimport { PolicyType } from '../enums/policyType';\n\nimport { ApiService as ApiServiceAbstraction } from '../abstractions/api.service';\nimport { PlatformUtilsService } from '../abstractions/platformUtils.service';\nimport { TokenService } from '../abstractions/token.service';\n\nimport { EnvironmentUrls } from '../models/domain/environmentUrls';\n\nimport { AttachmentRequest } from '../models/request/attachmentRequest';\nimport { BitPayInvoiceRequest } from '../models/request/bitPayInvoiceRequest';\nimport { CipherBulkDeleteRequest } from '../models/request/cipherBulkDeleteRequest';\nimport { CipherBulkMoveRequest } from '../models/request/cipherBulkMoveRequest';\nimport { CipherBulkShareRequest } from '../models/request/cipherBulkShareRequest';\nimport { CipherCollectionsRequest } from '../models/request/cipherCollectionsRequest';\nimport { CipherCreateRequest } from '../models/request/cipherCreateRequest';\nimport { CipherRequest } from '../models/request/cipherRequest';\nimport { CipherShareRequest } from '../models/request/cipherShareRequest';\nimport { CollectionRequest } from '../models/request/collectionRequest';\nimport { DeleteRecoverRequest } from '../models/request/deleteRecoverRequest';\nimport { EmailRequest } from '../models/request/emailRequest';\nimport { EmailTokenRequest } from '../models/request/emailTokenRequest';\nimport { EmergencyAccessAcceptRequest } from '../models/request/emergencyAccessAcceptRequest';\nimport { EmergencyAccessConfirmRequest } from '../models/request/emergencyAccessConfirmRequest';\nimport { EmergencyAccessInviteRequest } from '../models/request/emergencyAccessInviteRequest';\nimport { EmergencyAccessPasswordRequest } from '../models/request/emergencyAccessPasswordRequest';\nimport { EmergencyAccessUpdateRequest } from '../models/request/emergencyAccessUpdateRequest';\nimport { EventRequest } from '../models/request/eventRequest';\nimport { FolderRequest } from '../models/request/folderRequest';\nimport { GroupRequest } from '../models/request/groupRequest';\nimport { IapCheckRequest } from '../models/request/iapCheckRequest';\nimport { ImportCiphersRequest } from '../models/request/importCiphersRequest';\nimport { ImportDirectoryRequest } from '../models/request/importDirectoryRequest';\nimport { ImportOrganizationCiphersRequest } from '../models/request/importOrganizationCiphersRequest';\nimport { KdfRequest } from '../models/request/kdfRequest';\nimport { KeysRequest } from '../models/request/keysRequest';\nimport { OrganizationCreateRequest } from '../models/request/organizationCreateRequest';\nimport { OrganizationTaxInfoUpdateRequest } from '../models/request/organizationTaxInfoUpdateRequest';\nimport { OrganizationUpdateRequest } from '../models/request/organizationUpdateRequest';\nimport { OrganizationUpgradeRequest } from '../models/request/organizationUpgradeRequest';\nimport { OrganizationUserAcceptRequest } from '../models/request/organizationUserAcceptRequest';\nimport { OrganizationUserConfirmRequest } from '../models/request/organizationUserConfirmRequest';\nimport { OrganizationUserInviteRequest } from '../models/request/organizationUserInviteRequest';\nimport { OrganizationUserResetPasswordEnrollmentRequest } from '../models/request/organizationUserResetPasswordEnrollmentRequest';\nimport { OrganizationUserUpdateGroupsRequest } from '../models/request/organizationUserUpdateGroupsRequest';\nimport { OrganizationUserUpdateRequest } from '../models/request/organizationUserUpdateRequest';\nimport { PasswordHintRequest } from '../models/request/passwordHintRequest';\nimport { PasswordRequest } from '../models/request/passwordRequest';\nimport { PasswordVerificationRequest } from '../models/request/passwordVerificationRequest';\nimport { PaymentRequest } from '../models/request/paymentRequest';\nimport { PolicyRequest } from '../models/request/policyRequest';\nimport { PreloginRequest } from '../models/request/preloginRequest';\nimport { RegisterRequest } from '../models/request/registerRequest';\nimport { SeatRequest } from '../models/request/seatRequest';\nimport { SelectionReadOnlyRequest } from '../models/request/selectionReadOnlyRequest';\nimport { SendAccessRequest } from '../models/request/sendAccessRequest';\nimport { SendRequest } from '../models/request/sendRequest';\nimport { SetPasswordRequest } from '../models/request/setPasswordRequest';\nimport { StorageRequest } from '../models/request/storageRequest';\nimport { TaxInfoUpdateRequest } from '../models/request/taxInfoUpdateRequest';\nimport { TokenRequest } from '../models/request/tokenRequest';\nimport { TwoFactorEmailRequest } from '../models/request/twoFactorEmailRequest';\nimport { TwoFactorProviderRequest } from '../models/request/twoFactorProviderRequest';\nimport { TwoFactorRecoveryRequest } from '../models/request/twoFactorRecoveryRequest';\nimport { UpdateDomainsRequest } from '../models/request/updateDomainsRequest';\nimport { UpdateKeyRequest } from '../models/request/updateKeyRequest';\nimport { UpdateProfileRequest } from '../models/request/updateProfileRequest';\nimport { UpdateTwoFactorAuthenticatorRequest } from '../models/request/updateTwoFactorAuthenticatorRequest';\nimport { UpdateTwoFactorDuoRequest } from '../models/request/updateTwoFactorDuoRequest';\nimport { UpdateTwoFactorEmailRequest } from '../models/request/updateTwoFactorEmailRequest';\nimport { UpdateTwoFactorWebAuthnDeleteRequest } from '../models/request/updateTwoFactorWebAuthnDeleteRequest';\nimport { UpdateTwoFactorWebAuthnRequest } from '../models/request/updateTwoFactorWebAuthnRequest';\nimport { UpdateTwoFactorYubioOtpRequest } from '../models/request/updateTwoFactorYubioOtpRequest';\nimport { VerifyBankRequest } from '../models/request/verifyBankRequest';\nimport { VerifyDeleteRecoverRequest } from '../models/request/verifyDeleteRecoverRequest';\nimport { VerifyEmailRequest } from '../models/request/verifyEmailRequest';\n\nimport { Utils } from '../misc/utils';\nimport { ApiKeyResponse } from '../models/response/apiKeyResponse';\nimport { AttachmentResponse } from '../models/response/attachmentResponse';\nimport { AttachmentUploadDataResponse } from '../models/response/attachmentUploadDataResponse';\nimport { BillingResponse } from '../models/response/billingResponse';\nimport { BreachAccountResponse } from '../models/response/breachAccountResponse';\nimport { CipherResponse } from '../models/response/cipherResponse';\nimport {\n    CollectionGroupDetailsResponse,\n    CollectionResponse,\n} from '../models/response/collectionResponse';\nimport { DomainsResponse } from '../models/response/domainsResponse';\nimport {\n    EmergencyAccessGranteeDetailsResponse,\n    EmergencyAccessGrantorDetailsResponse,\n    EmergencyAccessTakeoverResponse,\n    EmergencyAccessViewResponse\n} from '../models/response/emergencyAccessResponse';\nimport { ErrorResponse } from '../models/response/errorResponse';\nimport { EventResponse } from '../models/response/eventResponse';\nimport { FolderResponse } from '../models/response/folderResponse';\nimport {\n    GroupDetailsResponse,\n    GroupResponse,\n} from '../models/response/groupResponse';\nimport { IdentityTokenResponse } from '../models/response/identityTokenResponse';\nimport { IdentityTwoFactorResponse } from '../models/response/identityTwoFactorResponse';\nimport { ListResponse } from '../models/response/listResponse';\nimport { OrganizationResponse } from '../models/response/organizationResponse';\nimport { OrganizationSubscriptionResponse } from '../models/response/organizationSubscriptionResponse';\nimport {\n    OrganizationUserDetailsResponse,\n    OrganizationUserUserDetailsResponse,\n} from '../models/response/organizationUserResponse';\nimport { PaymentResponse } from '../models/response/paymentResponse';\nimport { PlanResponse } from '../models/response/planResponse';\nimport { PolicyResponse } from '../models/response/policyResponse';\nimport { PreloginResponse } from '../models/response/preloginResponse';\nimport { ProfileResponse } from '../models/response/profileResponse';\nimport { SelectionReadOnlyResponse } from '../models/response/selectionReadOnlyResponse';\nimport { SendAccessResponse } from '../models/response/sendAccessResponse';\nimport { SendFileDownloadDataResponse } from '../models/response/sendFileDownloadDataResponse';\nimport { SendFileUploadDataResponse } from '../models/response/sendFileUploadDataResponse';\nimport { SendResponse } from '../models/response/sendResponse';\nimport { SubscriptionResponse } from '../models/response/subscriptionResponse';\nimport { SyncResponse } from '../models/response/syncResponse';\nimport { TaxInfoResponse } from '../models/response/taxInfoResponse';\nimport { TaxRateResponse } from '../models/response/taxRateResponse';\nimport { TwoFactorAuthenticatorResponse } from '../models/response/twoFactorAuthenticatorResponse';\nimport { TwoFactorDuoResponse } from '../models/response/twoFactorDuoResponse';\nimport { TwoFactorEmailResponse } from '../models/response/twoFactorEmailResponse';\nimport { TwoFactorProviderResponse } from '../models/response/twoFactorProviderResponse';\nimport { TwoFactorRecoverResponse } from '../models/response/twoFactorRescoverResponse';\nimport { TwoFactorWebAuthnResponse } from '../models/response/twoFactorWebAuthnResponse';\nimport { ChallengeResponse } from '../models/response/twoFactorWebAuthnResponse';\nimport { TwoFactorYubiKeyResponse } from '../models/response/twoFactorYubiKeyResponse';\nimport { UserKeyResponse } from '../models/response/userKeyResponse';\n\nimport { SendAccessView } from '../models/view/sendAccessView';\n\nexport class ApiService implements ApiServiceAbstraction {\n    urlsSet: boolean = false;\n    apiBaseUrl: string;\n    identityBaseUrl: string;\n    eventsBaseUrl: string;\n\n    private device: DeviceType;\n    private deviceType: string;\n    private isWebClient = false;\n    private isDesktopClient = false;\n    private usingBaseUrl = false;\n\n    constructor(private tokenService: TokenService, private platformUtilsService: PlatformUtilsService,\n        private logoutCallback: (expired: boolean) => Promise<void>, private customUserAgent: string = null) {\n        this.device = platformUtilsService.getDevice();\n        this.deviceType = this.device.toString();\n        this.isWebClient = this.device === DeviceType.IEBrowser || this.device === DeviceType.ChromeBrowser ||\n            this.device === DeviceType.EdgeBrowser || this.device === DeviceType.FirefoxBrowser ||\n            this.device === DeviceType.OperaBrowser || this.device === DeviceType.SafariBrowser ||\n            this.device === DeviceType.UnknownBrowser || this.device === DeviceType.VivaldiBrowser;\n        this.isDesktopClient = this.device === DeviceType.WindowsDesktop || this.device === DeviceType.MacOsDesktop ||\n            this.device === DeviceType.LinuxDesktop;\n    }\n\n    setUrls(urls: EnvironmentUrls): void {\n        this.urlsSet = true;\n\n        if (urls.base != null) {\n            this.usingBaseUrl = true;\n            this.apiBaseUrl = urls.base + '/api';\n            this.identityBaseUrl = urls.base + '/identity';\n            this.eventsBaseUrl = urls.base + '/events';\n            return;\n        }\n\n        this.apiBaseUrl = urls.api;\n        this.identityBaseUrl = urls.identity;\n        this.eventsBaseUrl = urls.events;\n\n        // Production\n        if (this.apiBaseUrl == null) {\n            this.apiBaseUrl = 'https://api.bitwarden.com';\n        }\n        if (this.identityBaseUrl == null) {\n            this.identityBaseUrl = 'https://identity.bitwarden.com';\n        }\n        if (this.eventsBaseUrl == null) {\n            this.eventsBaseUrl = 'https://events.bitwarden.com';\n        }\n    }\n\n    // Auth APIs\n\n    async postIdentityToken(request: TokenRequest): Promise<IdentityTokenResponse | IdentityTwoFactorResponse> {\n        const headers = new Headers({\n            'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n            'Accept': 'application/json',\n            'Device-Type': this.deviceType,\n        });\n        if (this.customUserAgent != null) {\n            headers.set('User-Agent', this.customUserAgent);\n        }\n        const response = await this.fetch(new Request(this.identityBaseUrl + '/connect/token', {\n            body: this.qsStringify(request.toIdentityToken(request.clientId ?? this.platformUtilsService.identityClientId)),\n            credentials: this.getCredentials(),\n            cache: 'no-store',\n            headers: headers,\n            method: 'POST',\n        }));\n\n        let responseJson: any = null;\n        if (this.isJsonResponse(response)) {\n            responseJson = await response.json();\n        }\n\n        if (responseJson != null) {\n            if (response.status === 200) {\n                return new IdentityTokenResponse(responseJson);\n            } else if (response.status === 400 && responseJson.TwoFactorProviders2 &&\n                Object.keys(responseJson.TwoFactorProviders2).length) {\n                await this.tokenService.clearTwoFactorToken(request.email);\n                return new IdentityTwoFactorResponse(responseJson);\n            }\n        }\n\n        return Promise.reject(new ErrorResponse(responseJson, response.status, true));\n    }\n\n    async refreshIdentityToken(): Promise<any> {\n        try {\n            await this.doRefreshToken();\n        } catch (e) {\n            return Promise.reject(null);\n        }\n    }\n\n    // Account APIs\n\n    async getProfile(): Promise<ProfileResponse> {\n        const r = await this.send('GET', '/accounts/profile', null, true, true);\n        return new ProfileResponse(r);\n    }\n\n    async getUserBilling(): Promise<BillingResponse> {\n        const r = await this.send('GET', '/accounts/billing', null, true, true);\n        return new BillingResponse(r);\n    }\n\n    async getUserSubscription(): Promise<SubscriptionResponse> {\n        const r = await this.send('GET', '/accounts/subscription', null, true, true);\n        return new SubscriptionResponse(r);\n    }\n\n    async getTaxInfo(): Promise<TaxInfoResponse> {\n        const r = await this.send('GET', '/accounts/tax', null, true, true);\n        return new TaxInfoResponse(r);\n    }\n\n    async putProfile(request: UpdateProfileRequest): Promise<ProfileResponse> {\n        const r = await this.send('PUT', '/accounts/profile', request, true, true);\n        return new ProfileResponse(r);\n    }\n\n    putTaxInfo(request: TaxInfoUpdateRequest): Promise<any> {\n        return this.send('PUT', '/accounts/tax', request, true, false);\n    }\n\n    async postPrelogin(request: PreloginRequest): Promise<PreloginResponse> {\n        const r = await this.send('POST', '/accounts/prelogin', request, false, true);\n        return new PreloginResponse(r);\n    }\n\n    postEmailToken(request: EmailTokenRequest): Promise<any> {\n        return this.send('POST', '/accounts/email-token', request, true, false);\n    }\n\n    postEmail(request: EmailRequest): Promise<any> {\n        return this.send('POST', '/accounts/email', request, true, false);\n    }\n\n    postPassword(request: PasswordRequest): Promise<any> {\n        return this.send('POST', '/accounts/password', request, true, false);\n    }\n\n    setPassword(request: SetPasswordRequest): Promise<any> {\n        return this.send('POST', '/accounts/set-password', request, true, false);\n    }\n\n    postSecurityStamp(request: PasswordVerificationRequest): Promise<any> {\n        return this.send('POST', '/accounts/security-stamp', request, true, false);\n    }\n\n    deleteAccount(request: PasswordVerificationRequest): Promise<any> {\n        return this.send('DELETE', '/accounts', request, true, false);\n    }\n\n    async getAccountRevisionDate(): Promise<number> {\n        const r = await this.send('GET', '/accounts/revision-date', null, true, true);\n        return r as number;\n    }\n\n    postPasswordHint(request: PasswordHintRequest): Promise<any> {\n        return this.send('POST', '/accounts/password-hint', request, false, false);\n    }\n\n    postRegister(request: RegisterRequest): Promise<any> {\n        return this.send('POST', '/accounts/register', request, false, false);\n    }\n\n    async postPremium(data: FormData): Promise<PaymentResponse> {\n        const r = await this.send('POST', '/accounts/premium', data, true, true);\n        return new PaymentResponse(r);\n    }\n\n    async postIapCheck(request: IapCheckRequest): Promise<any> {\n        return this.send('POST', '/accounts/iap-check', request, true, false);\n    }\n\n    postReinstatePremium(): Promise<any> {\n        return this.send('POST', '/accounts/reinstate-premium', null, true, false);\n    }\n\n    postCancelPremium(): Promise<any> {\n        return this.send('POST', '/accounts/cancel-premium', null, true, false);\n    }\n\n    async postAccountStorage(request: StorageRequest): Promise<PaymentResponse> {\n        const r = await this.send('POST', '/accounts/storage', request, true, true);\n        return new PaymentResponse(r);\n    }\n\n    postAccountPayment(request: PaymentRequest): Promise<any> {\n        return this.send('POST', '/accounts/payment', request, true, false);\n    }\n\n    postAccountLicense(data: FormData): Promise<any> {\n        return this.send('POST', '/accounts/license', data, true, false);\n    }\n\n    postAccountKeys(request: KeysRequest): Promise<any> {\n        return this.send('POST', '/accounts/keys', request, true, false);\n    }\n\n    postAccountKey(request: UpdateKeyRequest): Promise<any> {\n        return this.send('POST', '/accounts/key', request, true, false);\n    }\n\n    postAccountVerifyEmail(): Promise<any> {\n        return this.send('POST', '/accounts/verify-email', null, true, false);\n    }\n\n    postAccountVerifyEmailToken(request: VerifyEmailRequest): Promise<any> {\n        return this.send('POST', '/accounts/verify-email-token', request, false, false);\n    }\n\n    postAccountVerifyPassword(request: PasswordVerificationRequest): Promise<any> {\n        return this.send('POST', '/accounts/verify-password', request, true, false);\n    }\n\n    postAccountRecoverDelete(request: DeleteRecoverRequest): Promise<any> {\n        return this.send('POST', '/accounts/delete-recover', request, false, false);\n    }\n\n    postAccountRecoverDeleteToken(request: VerifyDeleteRecoverRequest): Promise<any> {\n        return this.send('POST', '/accounts/delete-recover-token', request, false, false);\n    }\n\n    postAccountKdf(request: KdfRequest): Promise<any> {\n        return this.send('POST', '/accounts/kdf', request, true, false);\n    }\n\n    async getEnterprisePortalSignInToken(): Promise<string> {\n        const r = await this.send('GET', '/accounts/enterprise-portal-signin-token', null, true, true);\n        return r as string;\n    }\n\n    async deleteSsoUser(organizationId: string): Promise<any> {\n        return this.send('DELETE', '/accounts/sso/' + organizationId, null, true, false);\n    }\n\n    async getSsoUserIdentifier(): Promise<string> {\n        return this.send('GET', '/accounts/sso/user-identifier', null, true, true);\n    }\n\n    async postUserApiKey(id: string, request: PasswordVerificationRequest): Promise<ApiKeyResponse> {\n        const r = await this.send('POST', '/accounts/api-key', request, true, true);\n        return new ApiKeyResponse(r);\n    }\n\n    async postUserRotateApiKey(id: string, request: PasswordVerificationRequest): Promise<ApiKeyResponse> {\n        const r = await this.send('POST', '/accounts/rotate-api-key', request, true, true);\n        return new ApiKeyResponse(r);\n    }\n\n    // Folder APIs\n\n    async getFolder(id: string): Promise<FolderResponse> {\n        const r = await this.send('GET', '/folders/' + id, null, true, true);\n        return new FolderResponse(r);\n    }\n\n    async postFolder(request: FolderRequest): Promise<FolderResponse> {\n        const r = await this.send('POST', '/folders', request, true, true);\n        return new FolderResponse(r);\n    }\n\n    async putFolder(id: string, request: FolderRequest): Promise<FolderResponse> {\n        const r = await this.send('PUT', '/folders/' + id, request, true, true);\n        return new FolderResponse(r);\n    }\n\n    deleteFolder(id: string): Promise<any> {\n        return this.send('DELETE', '/folders/' + id, null, true, false);\n    }\n\n    // Send APIs\n\n    async getSend(id: string): Promise<SendResponse> {\n        const r = await this.send('GET', '/sends/' + id, null, true, true);\n        return new SendResponse(r);\n    }\n\n    async postSendAccess(id: string, request: SendAccessRequest, apiUrl?: string): Promise<SendAccessResponse> {\n        const r = await this.send('POST', '/sends/access/' + id, request, false, true, apiUrl);\n        return new SendAccessResponse(r);\n    }\n\n\n    async getSendFileDownloadData(send: SendAccessView, request: SendAccessRequest, apiUrl?: string): Promise<SendFileDownloadDataResponse> {\n        const r = await this.send('POST', '/sends/' + send.id + '/access/file/' + send.file.id, request, false, true, apiUrl);\n        return new SendFileDownloadDataResponse(r);\n    }\n\n    async getSends(): Promise<ListResponse<SendResponse>> {\n        const r = await this.send('GET', '/sends', null, true, true);\n        return new ListResponse(r, SendResponse);\n    }\n\n    async postSend(request: SendRequest): Promise<SendResponse> {\n        const r = await this.send('POST', '/sends', request, true, true);\n        return new SendResponse(r);\n    }\n\n    async postFileTypeSend(request: SendRequest): Promise<SendFileUploadDataResponse> {\n        const r = await this.send('POST', '/sends/file/v2', request, true, true);\n        return new SendFileUploadDataResponse(r);\n    }\n\n    async renewSendFileUploadUrl(sendId: string, fileId: string): Promise<SendFileUploadDataResponse> {\n        const r = await this.send('GET', '/sends/' + sendId + '/file/' + fileId, null, true, true);\n        return new SendFileUploadDataResponse(r);\n    }\n\n    postSendFile(sendId: string, fileId: string, data: FormData): Promise<any> {\n        return this.send('POST', '/sends/' + sendId + '/file/' + fileId, data, true, false);\n    }\n\n    /**\n     * @deprecated Mar 25 2021: This method has been deprecated in favor of direct uploads.\n     * This method still exists for backward compatibility with old server versions.\n     */\n    async postSendFileLegacy(data: FormData): Promise<SendResponse> {\n        const r = await this.send('POST', '/sends/file', data, true, true);\n        return new SendResponse(r);\n    }\n\n    async putSend(id: string, request: SendRequest): Promise<SendResponse> {\n        const r = await this.send('PUT', '/sends/' + id, request, true, true);\n        return new SendResponse(r);\n    }\n\n    async putSendRemovePassword(id: string): Promise<SendResponse> {\n        const r = await this.send('PUT', '/sends/' + id + '/remove-password', null, true, true);\n        return new SendResponse(r);\n    }\n\n    deleteSend(id: string): Promise<any> {\n        return this.send('DELETE', '/sends/' + id, null, true, false);\n    }\n\n    // Cipher APIs\n\n    async getCipher(id: string): Promise<CipherResponse> {\n        const r = await this.send('GET', '/ciphers/' + id, null, true, true);\n        return new CipherResponse(r);\n    }\n\n    async getCipherAdmin(id: string): Promise<CipherResponse> {\n        const r = await this.send('GET', '/ciphers/' + id + '/admin', null, true, true);\n        return new CipherResponse(r);\n    }\n\n    async getCiphersOrganization(organizationId: string): Promise<ListResponse<CipherResponse>> {\n        const r = await this.send('GET', '/ciphers/organization-details?organizationId=' + organizationId,\n            null, true, true);\n        return new ListResponse(r, CipherResponse);\n    }\n\n    async postCipher(request: CipherRequest): Promise<CipherResponse> {\n        const r = await this.send('POST', '/ciphers', request, true, true);\n        return new CipherResponse(r);\n    }\n\n    async postCipherCreate(request: CipherCreateRequest): Promise<CipherResponse> {\n        const r = await this.send('POST', '/ciphers/create', request, true, true);\n        return new CipherResponse(r);\n    }\n\n    async postCipherAdmin(request: CipherCreateRequest): Promise<CipherResponse> {\n        const r = await this.send('POST', '/ciphers/admin', request, true, true);\n        return new CipherResponse(r);\n    }\n\n    async putCipher(id: string, request: CipherRequest): Promise<CipherResponse> {\n        const r = await this.send('PUT', '/ciphers/' + id, request, true, true);\n        return new CipherResponse(r);\n    }\n\n    async putCipherAdmin(id: string, request: CipherRequest): Promise<CipherResponse> {\n        const r = await this.send('PUT', '/ciphers/' + id + '/admin', request, true, true);\n        return new CipherResponse(r);\n    }\n\n    deleteCipher(id: string): Promise<any> {\n        return this.send('DELETE', '/ciphers/' + id, null, true, false);\n    }\n\n    deleteCipherAdmin(id: string): Promise<any> {\n        return this.send('DELETE', '/ciphers/' + id + '/admin', null, true, false);\n    }\n\n    deleteManyCiphers(request: CipherBulkDeleteRequest): Promise<any> {\n        return this.send('DELETE', '/ciphers', request, true, false);\n    }\n\n    deleteManyCiphersAdmin(request: CipherBulkDeleteRequest): Promise<any> {\n        return this.send('DELETE', '/ciphers/admin', request, true, false);\n    }\n\n    putMoveCiphers(request: CipherBulkMoveRequest): Promise<any> {\n        return this.send('PUT', '/ciphers/move', request, true, false);\n    }\n\n    async putShareCipher(id: string, request: CipherShareRequest): Promise<CipherResponse> {\n        const r = await this.send('PUT', '/ciphers/' + id + '/share', request, true, true);\n        return new CipherResponse(r);\n    }\n\n    putShareCiphers(request: CipherBulkShareRequest): Promise<any> {\n        return this.send('PUT', '/ciphers/share', request, true, false);\n    }\n\n    putCipherCollections(id: string, request: CipherCollectionsRequest): Promise<any> {\n        return this.send('PUT', '/ciphers/' + id + '/collections', request, true, false);\n    }\n\n    putCipherCollectionsAdmin(id: string, request: CipherCollectionsRequest): Promise<any> {\n        return this.send('PUT', '/ciphers/' + id + '/collections-admin', request, true, false);\n    }\n\n    postPurgeCiphers(request: PasswordVerificationRequest, organizationId: string = null): Promise<any> {\n        let path = '/ciphers/purge';\n        if (organizationId != null) {\n            path += '?organizationId=' + organizationId;\n        }\n        return this.send('POST', path, request, true, false);\n    }\n\n    postImportCiphers(request: ImportCiphersRequest): Promise<any> {\n        return this.send('POST', '/ciphers/import', request, true, false);\n    }\n\n    postImportOrganizationCiphers(organizationId: string, request: ImportOrganizationCiphersRequest): Promise<any> {\n        return this.send('POST', '/ciphers/import-organization?organizationId=' + organizationId, request, true, false);\n    }\n\n    putDeleteCipher(id: string): Promise<any> {\n        return this.send('PUT', '/ciphers/' + id + '/delete', null, true, false);\n    }\n\n    putDeleteCipherAdmin(id: string): Promise<any> {\n        return this.send('PUT', '/ciphers/' + id + '/delete-admin', null, true, false);\n    }\n\n    putDeleteManyCiphers(request: CipherBulkDeleteRequest): Promise<any> {\n        return this.send('PUT', '/ciphers/delete', request, true, false);\n    }\n\n    putDeleteManyCiphersAdmin(request: CipherBulkDeleteRequest): Promise<any> {\n        return this.send('PUT', '/ciphers/delete-admin', request, true, false);\n    }\n\n    async putRestoreCipher(id: string): Promise<CipherResponse> {\n        const r = await this.send('PUT', '/ciphers/' + id + '/restore', null, true, true);\n        return new CipherResponse(r);\n    }\n\n    async putRestoreCipherAdmin(id: string): Promise<CipherResponse> {\n        const r = await this.send('PUT', '/ciphers/' + id + '/restore-admin', null, true, true);\n        return new CipherResponse(r);\n    }\n\n    async putRestoreManyCiphers(request: CipherBulkDeleteRequest): Promise<ListResponse<CipherResponse>> {\n        const r = await this.send('PUT', '/ciphers/restore', request, true, true);\n        return new ListResponse<CipherResponse>(r, CipherResponse);\n    }\n\n    // Attachments APIs\n\n    async getAttachmentData(cipherId: string, attachmentId: string, emergencyAccessId?: string): Promise<AttachmentResponse> {\n        const path = (emergencyAccessId != null ?\n            '/emergency-access/' + emergencyAccessId + '/' :\n            '/ciphers/') + cipherId + '/attachment/' + attachmentId;\n        const r = await this.send('GET', path, null, true, true);\n        return new AttachmentResponse(r);\n    }\n\n    async postCipherAttachment(id: string, request: AttachmentRequest): Promise<AttachmentUploadDataResponse> {\n        const r = await this.send('POST', '/ciphers/' + id + '/attachment/v2', request, true, true);\n        return new AttachmentUploadDataResponse(r);\n    }\n\n    /**\n     * @deprecated Mar 25 2021: This method has been deprecated in favor of direct uploads.\n     * This method still exists for backward compatibility with old server versions.\n     */\n    async postCipherAttachmentLegacy(id: string, data: FormData): Promise<CipherResponse> {\n        const r = await this.send('POST', '/ciphers/' + id + '/attachment', data, true, true);\n        return new CipherResponse(r);\n    }\n\n    /**\n     * @deprecated Mar 25 2021: This method has been deprecated in favor of direct uploads.\n     * This method still exists for backward compatibility with old server versions.\n     */\n    async postCipherAttachmentAdminLegacy(id: string, data: FormData): Promise<CipherResponse> {\n        const r = await this.send('POST', '/ciphers/' + id + '/attachment-admin', data, true, true);\n        return new CipherResponse(r);\n    }\n\n    deleteCipherAttachment(id: string, attachmentId: string): Promise<any> {\n        return this.send('DELETE', '/ciphers/' + id + '/attachment/' + attachmentId, null, true, false);\n    }\n\n    deleteCipherAttachmentAdmin(id: string, attachmentId: string): Promise<any> {\n        return this.send('DELETE', '/ciphers/' + id + '/attachment/' + attachmentId + '/admin', null, true, false);\n    }\n\n    postShareCipherAttachment(id: string, attachmentId: string, data: FormData,\n        organizationId: string): Promise<any> {\n        return this.send('POST', '/ciphers/' + id + '/attachment/' +\n            attachmentId + '/share?organizationId=' + organizationId, data, true, false);\n    }\n\n    async renewAttachmentUploadUrl(id: string, attachmentId: string): Promise<AttachmentUploadDataResponse> {\n        const r = await this.send('GET', '/ciphers/' + id + '/attachment/' + attachmentId + '/renew', null, true, true);\n        return new AttachmentUploadDataResponse(r);\n    }\n\n    postAttachmentFile(id: string, attachmentId: string, data: FormData): Promise<any> {\n        return this.send('POST', '/ciphers/' + id + '/attachment/' + attachmentId, data, true, false);\n    }\n\n    // Collections APIs\n\n    async getCollectionDetails(organizationId: string, id: string): Promise<CollectionGroupDetailsResponse> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/collections/' + id + '/details',\n            null, true, true);\n        return new CollectionGroupDetailsResponse(r);\n    }\n\n    async getUserCollections(): Promise<ListResponse<CollectionResponse>> {\n        const r = await this.send('GET', '/collections', null, true, true);\n        return new ListResponse(r, CollectionResponse);\n    }\n\n    async getCollections(organizationId: string): Promise<ListResponse<CollectionResponse>> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/collections', null, true, true);\n        return new ListResponse(r, CollectionResponse);\n    }\n\n    async getCollectionUsers(organizationId: string, id: string): Promise<SelectionReadOnlyResponse[]> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/collections/' + id + '/users',\n            null, true, true);\n        return r.map((dr: any) => new SelectionReadOnlyResponse(dr));\n    }\n\n    async postCollection(organizationId: string, request: CollectionRequest): Promise<CollectionResponse> {\n        const r = await this.send('POST', '/organizations/' + organizationId + '/collections', request, true, true);\n        return new CollectionResponse(r);\n    }\n\n    async putCollection(organizationId: string, id: string, request: CollectionRequest): Promise<CollectionResponse> {\n        const r = await this.send('PUT', '/organizations/' + organizationId + '/collections/' + id,\n            request, true, true);\n        return new CollectionResponse(r);\n    }\n\n    async putCollectionUsers(organizationId: string, id: string, request: SelectionReadOnlyRequest[]): Promise<any> {\n        await this.send('PUT', '/organizations/' + organizationId + '/collections/' + id + '/users',\n            request, true, false);\n    }\n\n    deleteCollection(organizationId: string, id: string): Promise<any> {\n        return this.send('DELETE', '/organizations/' + organizationId + '/collections/' + id, null, true, false);\n    }\n\n    deleteCollectionUser(organizationId: string, id: string, organizationUserId: string): Promise<any> {\n        return this.send('DELETE',\n            '/organizations/' + organizationId + '/collections/' + id + '/user/' + organizationUserId,\n            null, true, false);\n    }\n\n    // Groups APIs\n\n    async getGroupDetails(organizationId: string, id: string): Promise<GroupDetailsResponse> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/groups/' + id + '/details',\n            null, true, true);\n        return new GroupDetailsResponse(r);\n    }\n\n    async getGroups(organizationId: string): Promise<ListResponse<GroupResponse>> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/groups', null, true, true);\n        return new ListResponse(r, GroupResponse);\n    }\n\n    async getGroupUsers(organizationId: string, id: string): Promise<string[]> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/groups/' + id + '/users',\n            null, true, true);\n        return r;\n    }\n\n    async postGroup(organizationId: string, request: GroupRequest): Promise<GroupResponse> {\n        const r = await this.send('POST', '/organizations/' + organizationId + '/groups', request, true, true);\n        return new GroupResponse(r);\n    }\n\n    async putGroup(organizationId: string, id: string, request: GroupRequest): Promise<GroupResponse> {\n        const r = await this.send('PUT', '/organizations/' + organizationId + '/groups/' + id, request, true, true);\n        return new GroupResponse(r);\n    }\n\n    async putGroupUsers(organizationId: string, id: string, request: string[]): Promise<any> {\n        await this.send('PUT', '/organizations/' + organizationId + '/groups/' + id + '/users', request, true, false);\n    }\n\n    deleteGroup(organizationId: string, id: string): Promise<any> {\n        return this.send('DELETE', '/organizations/' + organizationId + '/groups/' + id, null, true, false);\n    }\n\n    deleteGroupUser(organizationId: string, id: string, organizationUserId: string): Promise<any> {\n        return this.send('DELETE',\n            '/organizations/' + organizationId + '/groups/' + id + '/user/' + organizationUserId, null, true, false);\n    }\n\n    // Policy APIs\n\n    async getPolicy(organizationId: string, type: PolicyType): Promise<PolicyResponse> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/policies/' + type, null, true, true);\n        return new PolicyResponse(r);\n    }\n\n    async getPolicies(organizationId: string): Promise<ListResponse<PolicyResponse>> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/policies', null, true, true);\n        return new ListResponse(r, PolicyResponse);\n    }\n\n    async getPoliciesByToken(organizationId: string, token: string, email: string, organizationUserId: string):\n        Promise<ListResponse<PolicyResponse>> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/policies/token?' +\n            'token=' + encodeURIComponent(token) + '&email=' + encodeURIComponent(email) +\n            '&organizationUserId=' + organizationUserId, null, false, true);\n        return new ListResponse(r, PolicyResponse);\n    }\n\n    async putPolicy(organizationId: string, type: PolicyType, request: PolicyRequest): Promise<PolicyResponse> {\n        const r = await this.send('PUT', '/organizations/' + organizationId + '/policies/' + type, request, true, true);\n        return new PolicyResponse(r);\n    }\n\n    // Organization User APIs\n\n    async getOrganizationUser(organizationId: string, id: string): Promise<OrganizationUserDetailsResponse> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/users/' + id, null, true, true);\n        return new OrganizationUserDetailsResponse(r);\n    }\n\n    async getOrganizationUserGroups(organizationId: string, id: string): Promise<string[]> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/users/' + id + '/groups',\n            null, true, true);\n        return r;\n    }\n\n    async getOrganizationUsers(organizationId: string): Promise<ListResponse<OrganizationUserUserDetailsResponse>> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/users', null, true, true);\n        return new ListResponse(r, OrganizationUserUserDetailsResponse);\n    }\n\n    postOrganizationUserInvite(organizationId: string, request: OrganizationUserInviteRequest): Promise<any> {\n        return this.send('POST', '/organizations/' + organizationId + '/users/invite', request, true, false);\n    }\n\n    postOrganizationUserReinvite(organizationId: string, id: string): Promise<any> {\n        return this.send('POST', '/organizations/' + organizationId + '/users/' + id + '/reinvite', null, true, false);\n    }\n\n    postOrganizationUserAccept(organizationId: string, id: string,\n        request: OrganizationUserAcceptRequest): Promise<any> {\n        return this.send('POST', '/organizations/' + organizationId + '/users/' + id + '/accept', request, true, false);\n    }\n\n    postOrganizationUserConfirm(organizationId: string, id: string,\n        request: OrganizationUserConfirmRequest): Promise<any> {\n        return this.send('POST', '/organizations/' + organizationId + '/users/' + id + '/confirm',\n            request, true, false);\n    }\n\n    putOrganizationUser(organizationId: string, id: string, request: OrganizationUserUpdateRequest): Promise<any> {\n        return this.send('PUT', '/organizations/' + organizationId + '/users/' + id, request, true, false);\n    }\n\n    putOrganizationUserGroups(organizationId: string, id: string,\n        request: OrganizationUserUpdateGroupsRequest): Promise<any> {\n        return this.send('PUT', '/organizations/' + organizationId + '/users/' + id + '/groups', request, true, false);\n    }\n\n    putOrganizationUserResetPasswordEnrollment(organizationId: string, userId: string,\n        request: OrganizationUserResetPasswordEnrollmentRequest): Promise<any> {\n        return this.send('PUT', '/organizations/' + organizationId + '/users/' + userId + '/reset-password-enrollment',\n            request, true, false);\n    }\n\n    deleteOrganizationUser(organizationId: string, id: string): Promise<any> {\n        return this.send('DELETE', '/organizations/' + organizationId + '/users/' + id, null, true, false);\n    }\n\n    // Plan APIs\n\n    async getPlans(): Promise<ListResponse<PlanResponse>> {\n        const r = await this.send('GET', '/plans/', null, true, true);\n        return new ListResponse(r, PlanResponse);\n    }\n\n    async postImportDirectory(organizationId: string, request: ImportDirectoryRequest): Promise<any> {\n        return this.send('POST', '/organizations/' + organizationId + '/import', request, true, false);\n    }\n\n    async getTaxRates(): Promise<ListResponse<TaxRateResponse>> {\n        const r = await this.send('GET', '/plans/sales-tax-rates/', null, true, true);\n        return new ListResponse(r, TaxRateResponse);\n    }\n\n    // Settings APIs\n\n    async getSettingsDomains(): Promise<DomainsResponse> {\n        const r = await this.send('GET', '/settings/domains', null, true, true);\n        return new DomainsResponse(r);\n    }\n\n    async putSettingsDomains(request: UpdateDomainsRequest): Promise<DomainsResponse> {\n        const r = await this.send('PUT', '/settings/domains', request, true, true);\n        return new DomainsResponse(r);\n    }\n\n    // Sync APIs\n\n    async getSync(): Promise<SyncResponse> {\n        const path = this.isDesktopClient || this.isWebClient ? '/sync?excludeDomains=true' : '/sync';\n        const r = await this.send('GET', path, null, true, true);\n        return new SyncResponse(r);\n    }\n\n    // Two-factor APIs\n\n    async getTwoFactorProviders(): Promise<ListResponse<TwoFactorProviderResponse>> {\n        const r = await this.send('GET', '/two-factor', null, true, true);\n        return new ListResponse(r, TwoFactorProviderResponse);\n    }\n\n    async getTwoFactorOrganizationProviders(organizationId: string): Promise<ListResponse<TwoFactorProviderResponse>> {\n        const r = await this.send('GET', '/organizations/' + organizationId + '/two-factor', null, true, true);\n        return new ListResponse(r, TwoFactorProviderResponse);\n    }\n\n    async getTwoFactorAuthenticator(request: PasswordVerificationRequest): Promise<TwoFactorAuthenticatorResponse> {\n        const r = await this.send('POST', '/two-factor/get-authenticator', request, true, true);\n        return new TwoFactorAuthenticatorResponse(r);\n    }\n\n    async getTwoFactorEmail(request: PasswordVerificationRequest): Promise<TwoFactorEmailResponse> {\n        const r = await this.send('POST', '/two-factor/get-email', request, true, true);\n        return new TwoFactorEmailResponse(r);\n    }\n\n    async getTwoFactorDuo(request: PasswordVerificationRequest): Promise<TwoFactorDuoResponse> {\n        const r = await this.send('POST', '/two-factor/get-duo', request, true, true);\n        return new TwoFactorDuoResponse(r);\n    }\n\n    async getTwoFactorOrganizationDuo(organizationId: string,\n        request: PasswordVerificationRequest): Promise<TwoFactorDuoResponse> {\n        const r = await this.send('POST', '/organizations/' + organizationId + '/two-factor/get-duo',\n            request, true, true);\n        return new TwoFactorDuoResponse(r);\n    }\n\n    async getTwoFactorYubiKey(request: PasswordVerificationRequest): Promise<TwoFactorYubiKeyResponse> {\n        const r = await this.send('POST', '/two-factor/get-yubikey', request, true, true);\n        return new TwoFactorYubiKeyResponse(r);\n    }\n\n    async getTwoFactorWebAuthn(request: PasswordVerificationRequest): Promise<TwoFactorWebAuthnResponse> {\n        const r = await this.send('POST', '/two-factor/get-webauthn', request, true, true);\n        return new TwoFactorWebAuthnResponse(r);\n    }\n\n    async getTwoFactorWebAuthnChallenge(request: PasswordVerificationRequest): Promise<ChallengeResponse> {\n        const r = await this.send('POST', '/two-factor/get-webauthn-challenge', request, true, true);\n        return new ChallengeResponse(r);\n    }\n\n    async getTwoFactorRecover(request: PasswordVerificationRequest): Promise<TwoFactorRecoverResponse> {\n        const r = await this.send('POST', '/two-factor/get-recover', request, true, true);\n        return new TwoFactorRecoverResponse(r);\n    }\n\n    async putTwoFactorAuthenticator(\n        request: UpdateTwoFactorAuthenticatorRequest): Promise<TwoFactorAuthenticatorResponse> {\n        const r = await this.send('PUT', '/two-factor/authenticator', request, true, true);\n        return new TwoFactorAuthenticatorResponse(r);\n    }\n\n    async putTwoFactorEmail(request: UpdateTwoFactorEmailRequest): Promise<TwoFactorEmailResponse> {\n        const r = await this.send('PUT', '/two-factor/email', request, true, true);\n        return new TwoFactorEmailResponse(r);\n    }\n\n    async putTwoFactorDuo(request: UpdateTwoFactorDuoRequest): Promise<TwoFactorDuoResponse> {\n        const r = await this.send('PUT', '/two-factor/duo', request, true, true);\n        return new TwoFactorDuoResponse(r);\n    }\n\n    async putTwoFactorOrganizationDuo(organizationId: string,\n        request: UpdateTwoFactorDuoRequest): Promise<TwoFactorDuoResponse> {\n        const r = await this.send('PUT', '/organizations/' + organizationId + '/two-factor/duo', request, true, true);\n        return new TwoFactorDuoResponse(r);\n    }\n\n    async putTwoFactorYubiKey(request: UpdateTwoFactorYubioOtpRequest): Promise<TwoFactorYubiKeyResponse> {\n        const r = await this.send('PUT', '/two-factor/yubikey', request, true, true);\n        return new TwoFactorYubiKeyResponse(r);\n    }\n\n    async putTwoFactorWebAuthn(request: UpdateTwoFactorWebAuthnRequest): Promise<TwoFactorWebAuthnResponse> {\n        const response = request.deviceResponse.response as AuthenticatorAttestationResponse;\n        const data: any = Object.assign({}, request);\n\n        data.deviceResponse = {\n            id: request.deviceResponse.id,\n            rawId: btoa(request.deviceResponse.id),\n            type: request.deviceResponse.type,\n            extensions: request.deviceResponse.getClientExtensionResults(),\n            response: {\n                AttestationObject: Utils.fromBufferToB64(response.attestationObject),\n                clientDataJson: Utils.fromBufferToB64(response.clientDataJSON),\n            },\n        };\n\n        const r = await this.send('PUT', '/two-factor/webauthn', data, true, true);\n        return new TwoFactorWebAuthnResponse(r);\n    }\n\n    async deleteTwoFactorWebAuthn(request: UpdateTwoFactorWebAuthnDeleteRequest): Promise<TwoFactorWebAuthnResponse> {\n        const r = await this.send('DELETE', '/two-factor/webauthn', request, true, true);\n        return new TwoFactorWebAuthnResponse(r);\n    }\n\n    async putTwoFactorDisable(request: TwoFactorProviderRequest): Promise<TwoFactorProviderResponse> {\n        const r = await this.send('PUT', '/two-factor/disable', request, true, true);\n        return new TwoFactorProviderResponse(r);\n    }\n\n    async putTwoFactorOrganizationDisable(organizationId: string,\n        request: TwoFactorProviderRequest): Promise<TwoFactorProviderResponse> {\n        const r = await this.send('PUT', '/organizations/' + organizationId + '/two-factor/disable',\n            request, true, true);\n        return new TwoFactorProviderResponse(r);\n    }\n\n    postTwoFactorRecover(request: TwoFactorRecoveryRequest): Promise<any> {\n        return this.send('POST', '/two-factor/recover', request, false, false);\n    }\n\n    postTwoFactorEmailSetup(request: TwoFactorEmailRequest): Promise<any> {\n        return this.send('POST', '/two-factor/send-email', request, true, false);\n    }\n\n    postTwoFactorEmail(request: TwoFactorEmailRequest): Promise<any> {\n        return this.send('POST', '/two-factor/send-email-login', request, false, false);\n    }\n\n    // Emergency Access APIs\n\n    async getEmergencyAccessTrusted(): Promise<ListResponse<EmergencyAccessGranteeDetailsResponse>> {\n        const r = await this.send('GET', '/emergency-access/trusted', null, true, true);\n        return new ListResponse(r, EmergencyAccessGranteeDetailsResponse);\n    }\n\n    async getEmergencyAccessGranted(): Promise<ListResponse<EmergencyAccessGrantorDetailsResponse>> {\n        const r = await this.send('GET', '/emergency-access/granted', null, true, true);\n        return new ListResponse(r, EmergencyAccessGrantorDetailsResponse);\n    }\n\n    async getEmergencyAccess(id: string): Promise<EmergencyAccessGranteeDetailsResponse> {\n        const r = await this.send('GET', '/emergency-access/' + id, null, true, true);\n        return new EmergencyAccessGranteeDetailsResponse(r);\n    }\n\n    async getEmergencyGrantorPolicies(id: string): Promise<ListResponse<PolicyResponse>> {\n        const r = await this.send('GET', '/emergency-access/' + id + '/policies', null, true, true);\n        return new ListResponse(r, PolicyResponse);\n    }\n\n    putEmergencyAccess(id: string, request: EmergencyAccessUpdateRequest): Promise<any> {\n        return this.send('PUT', '/emergency-access/' + id, request, true, false);\n    }\n\n    deleteEmergencyAccess(id: string): Promise<any> {\n        return this.send('DELETE', '/emergency-access/' + id, null, true, false);\n    }\n\n    postEmergencyAccessInvite(request: EmergencyAccessInviteRequest): Promise<any> {\n        return this.send('POST', '/emergency-access/invite', request, true, false);\n    }\n\n    postEmergencyAccessReinvite(id: string): Promise<any> {\n        return this.send('POST', '/emergency-access/' + id + '/reinvite', null, true, false);\n    }\n\n    postEmergencyAccessAccept(id: string, request: EmergencyAccessAcceptRequest): Promise<any> {\n        return this.send('POST', '/emergency-access/' + id + '/accept', request, true, false);\n    }\n\n    postEmergencyAccessConfirm(id: string, request: EmergencyAccessConfirmRequest): Promise<any> {\n        return this.send('POST', '/emergency-access/' + id + '/confirm', request, true, false);\n    }\n\n    postEmergencyAccessInitiate(id: string): Promise<any> {\n        return this.send('POST', '/emergency-access/' + id + '/initiate', null, true, false);\n    }\n\n    postEmergencyAccessApprove(id: string): Promise<any> {\n        return this.send('POST', '/emergency-access/' + id + '/approve', null, true, false);\n    }\n\n    postEmergencyAccessReject(id: string): Promise<any> {\n        return this.send('POST', '/emergency-access/' + id + '/reject', null, true, false);\n    }\n\n    async postEmergencyAccessTakeover(id: string): Promise<EmergencyAccessTakeoverResponse> {\n        const r = await this.send('POST', '/emergency-access/' + id + '/takeover', null, true, true);\n        return new EmergencyAccessTakeoverResponse(r);\n    }\n\n    async postEmergencyAccessPassword(id: string, request: EmergencyAccessPasswordRequest): Promise<any> {\n        const r = await this.send('POST', '/emergency-access/' + id + '/password', request, true, true);\n    }\n\n    async postEmergencyAccessView(id: string): Promise<EmergencyAccessViewResponse> {\n        const r = await this.send('POST', '/emergency-access/' + id + '/view', null, true, true);\n        return new EmergencyAccessViewResponse(r);\n    }\n\n    // Organization APIs\n\n    async getOrganization(id: string): Promise<OrganizationResponse> {\n        const r = await this.send('GET', '/organizations/' + id, null, true, true);\n        return new OrganizationResponse(r);\n    }\n\n    async getOrganizationBilling(id: string): Promise<BillingResponse> {\n        const r = await this.send('GET', '/organizations/' + id + '/billing', null, true, true);\n        return new BillingResponse(r);\n    }\n\n    async getOrganizationSubscription(id: string): Promise<OrganizationSubscriptionResponse> {\n        const r = await this.send('GET', '/organizations/' + id + '/subscription', null, true, true);\n        return new OrganizationSubscriptionResponse(r);\n    }\n\n    async getOrganizationLicense(id: string, installationId: string): Promise<any> {\n        return this.send('GET', '/organizations/' + id + '/license?installationId=' + installationId,\n            null, true, true);\n    }\n\n    async getOrganizationTaxInfo(id: string): Promise<TaxInfoResponse> {\n        const r = await this.send('GET', '/organizations/' + id + '/tax', null, true, true);\n        return new TaxInfoResponse(r);\n    }\n\n    async postOrganization(request: OrganizationCreateRequest): Promise<OrganizationResponse> {\n        const r = await this.send('POST', '/organizations', request, true, true);\n        return new OrganizationResponse(r);\n    }\n\n    async putOrganization(id: string, request: OrganizationUpdateRequest): Promise<OrganizationResponse> {\n        const r = await this.send('PUT', '/organizations/' + id, request, true, true);\n        return new OrganizationResponse(r);\n    }\n\n    async putOrganizationTaxInfo(id: string, request: OrganizationTaxInfoUpdateRequest): Promise<any> {\n        return this.send('PUT', '/organizations/' + id + '/tax', request, true, false);\n    }\n\n    postLeaveOrganization(id: string): Promise<any> {\n        return this.send('POST', '/organizations/' + id + '/leave', null, true, false);\n    }\n\n    async postOrganizationLicense(data: FormData): Promise<OrganizationResponse> {\n        const r = await this.send('POST', '/organizations/license', data, true, true);\n        return new OrganizationResponse(r);\n    }\n\n    async postOrganizationLicenseUpdate(id: string, data: FormData): Promise<any> {\n        return this.send('POST', '/organizations/' + id + '/license', data, true, false);\n    }\n\n    async postOrganizationApiKey(id: string, request: PasswordVerificationRequest): Promise<ApiKeyResponse> {\n        const r = await this.send('POST', '/organizations/' + id + '/api-key', request, true, true);\n        return new ApiKeyResponse(r);\n    }\n\n    async postOrganizationRotateApiKey(id: string, request: PasswordVerificationRequest): Promise<ApiKeyResponse> {\n        const r = await this.send('POST', '/organizations/' + id + '/rotate-api-key', request, true, true);\n        return new ApiKeyResponse(r);\n    }\n\n    async postOrganizationUpgrade(id: string, request: OrganizationUpgradeRequest): Promise<PaymentResponse> {\n        const r = await this.send('POST', '/organizations/' + id + '/upgrade', request, true, true);\n        return new PaymentResponse(r);\n    }\n\n    async postOrganizationSeat(id: string, request: SeatRequest): Promise<PaymentResponse> {\n        const r = await this.send('POST', '/organizations/' + id + '/seat', request, true, true);\n        return new PaymentResponse(r);\n    }\n\n    async postOrganizationStorage(id: string, request: StorageRequest): Promise<PaymentResponse> {\n        const r = await this.send('POST', '/organizations/' + id + '/storage', request, true, true);\n        return new PaymentResponse(r);\n    }\n\n    postOrganizationPayment(id: string, request: PaymentRequest): Promise<any> {\n        return this.send('POST', '/organizations/' + id + '/payment', request, true, false);\n    }\n\n    postOrganizationVerifyBank(id: string, request: VerifyBankRequest): Promise<any> {\n        return this.send('POST', '/organizations/' + id + '/verify-bank', request, true, false);\n    }\n\n    postOrganizationCancel(id: string): Promise<any> {\n        return this.send('POST', '/organizations/' + id + '/cancel', null, true, false);\n    }\n\n    postOrganizationReinstate(id: string): Promise<any> {\n        return this.send('POST', '/organizations/' + id + '/reinstate', null, true, false);\n    }\n\n    deleteOrganization(id: string, request: PasswordVerificationRequest): Promise<any> {\n        return this.send('DELETE', '/organizations/' + id, request, true, false);\n    }\n\n    // Event APIs\n\n    async getEvents(start: string, end: string, token: string): Promise<ListResponse<EventResponse>> {\n        const r = await this.send('GET', this.addEventParameters('/events', start, end, token), null, true, true);\n        return new ListResponse(r, EventResponse);\n    }\n\n    async getEventsCipher(id: string, start: string, end: string,\n        token: string): Promise<ListResponse<EventResponse>> {\n        const r = await this.send('GET', this.addEventParameters('/ciphers/' + id + '/events', start, end, token),\n            null, true, true);\n        return new ListResponse(r, EventResponse);\n    }\n\n    async getEventsOrganization(id: string, start: string, end: string,\n        token: string): Promise<ListResponse<EventResponse>> {\n        const r = await this.send('GET', this.addEventParameters('/organizations/' + id + '/events', start, end, token),\n            null, true, true);\n        return new ListResponse(r, EventResponse);\n    }\n\n    async getEventsOrganizationUser(organizationId: string, id: string,\n        start: string, end: string, token: string): Promise<ListResponse<EventResponse>> {\n        const r = await this.send('GET',\n            this.addEventParameters('/organizations/' + organizationId + '/users/' + id + '/events', start, end, token),\n            null, true, true);\n        return new ListResponse(r, EventResponse);\n    }\n\n    async postEventsCollect(request: EventRequest[]): Promise<any> {\n        const authHeader = await this.getActiveBearerToken();\n        const headers = new Headers({\n            'Device-Type': this.deviceType,\n            'Authorization': 'Bearer ' + authHeader,\n            'Content-Type': 'application/json; charset=utf-8',\n        });\n        if (this.customUserAgent != null) {\n            headers.set('User-Agent', this.customUserAgent);\n        }\n        const response = await this.fetch(new Request(this.eventsBaseUrl + '/collect', {\n            cache: 'no-store',\n            credentials: this.getCredentials(),\n            method: 'POST',\n            body: JSON.stringify(request),\n            headers: headers,\n        }));\n        if (response.status !== 200) {\n            return Promise.reject('Event post failed.');\n        }\n    }\n\n    // User APIs\n\n    async getUserPublicKey(id: string): Promise<UserKeyResponse> {\n        const r = await this.send('GET', '/users/' + id + '/public-key', null, true, true);\n        return new UserKeyResponse(r);\n    }\n\n    // HIBP APIs\n\n    async getHibpBreach(username: string): Promise<BreachAccountResponse[]> {\n        const r = await this.send('GET', '/hibp/breach?username=' + username, null, true, true);\n        return r.map((a: any) => new BreachAccountResponse(a));\n    }\n\n    // Misc\n\n    async postBitPayInvoice(request: BitPayInvoiceRequest): Promise<string> {\n        const r = await this.send('POST', '/bitpay-invoice', request, true, true);\n        return r as string;\n    }\n\n    async postSetupPayment(): Promise<string> {\n        const r = await this.send('POST', '/setup-payment', null, true, true);\n        return r as string;\n    }\n\n    // Helpers\n\n    async getActiveBearerToken(): Promise<string> {\n        let accessToken = await this.tokenService.getToken();\n        if (this.tokenService.tokenNeedsRefresh()) {\n            const tokenResponse = await this.doRefreshToken();\n            accessToken = tokenResponse.accessToken;\n        }\n        return accessToken;\n    }\n\n    fetch(request: Request): Promise<Response> {\n        if (request.method === 'GET') {\n            request.headers.set('Cache-Control', 'no-store');\n            request.headers.set('Pragma', 'no-cache');\n        }\n        return this.nativeFetch(request);\n    }\n\n    nativeFetch(request: Request): Promise<Response> {\n        return fetch(request);\n    }\n\n    async preValidateSso(identifier: string): Promise<boolean> {\n        if (identifier == null || identifier === '') {\n            throw new Error('Organization Identifier was not provided.');\n        }\n        const headers = new Headers({\n            'Accept': 'application/json',\n            'Device-Type': this.deviceType,\n        });\n        if (this.customUserAgent != null) {\n            headers.set('User-Agent', this.customUserAgent);\n        }\n\n        const path = `/account/prevalidate?domainHint=${encodeURIComponent(identifier)}`;\n        const response = await this.fetch(new Request(this.identityBaseUrl + path, {\n            cache: 'no-store',\n            credentials: this.getCredentials(),\n            headers: headers,\n            method: 'GET',\n        }));\n\n        if (response.status === 200) {\n            return true;\n        } else {\n            const error = await this.handleError(response, false, true);\n            return Promise.reject(error);\n        }\n    }\n\n    private async send(method: 'GET' | 'POST' | 'PUT' | 'DELETE', path: string, body: any,\n        authed: boolean, hasResponse: boolean, apiUrl?: string): Promise<any> {\n        apiUrl = Utils.isNullOrWhitespace(apiUrl) ? this.apiBaseUrl : apiUrl;\n        const headers = new Headers({\n            'Device-Type': this.deviceType,\n        });\n        if (this.customUserAgent != null) {\n            headers.set('User-Agent', this.customUserAgent);\n        }\n\n        const requestInit: RequestInit = {\n            cache: 'no-store',\n            credentials: this.getCredentials(),\n            method: method,\n        };\n\n        if (authed) {\n            const authHeader = await this.getActiveBearerToken();\n            headers.set('Authorization', 'Bearer ' + authHeader);\n        }\n        if (body != null) {\n            if (typeof body === 'string') {\n                requestInit.body = body;\n                headers.set('Content-Type', 'application/x-www-form-urlencoded; charset=utf-8');\n            } else if (typeof body === 'object') {\n                if (body instanceof FormData) {\n                    requestInit.body = body;\n                } else {\n                    headers.set('Content-Type', 'application/json; charset=utf-8');\n                    requestInit.body = JSON.stringify(body);\n                }\n            }\n        }\n        if (hasResponse) {\n            headers.set('Accept', 'application/json');\n        }\n\n        requestInit.headers = headers;\n        const response = await this.fetch(new Request(apiUrl + path, requestInit));\n\n        if (hasResponse && response.status === 200) {\n            const responseJson = await response.json();\n            return responseJson;\n        } else if (response.status !== 200) {\n            const error = await this.handleError(response, false, authed);\n            return Promise.reject(error);\n        }\n    }\n\n    private async handleError(response: Response, tokenError: boolean, authed: boolean): Promise<ErrorResponse> {\n        if (authed && ((tokenError && response.status === 400) || response.status === 401 || response.status === 403)) {\n            await this.logoutCallback(true);\n            return null;\n        }\n\n        let responseJson: any = null;\n        if (this.isJsonResponse(response)) {\n            responseJson = await response.json();\n        } else if (this.isTextResponse(response)) {\n            responseJson = { Message: await response.text() };\n        }\n\n        return new ErrorResponse(responseJson, response.status, tokenError);\n    }\n\n    private async doRefreshToken(): Promise<IdentityTokenResponse> {\n        const refreshToken = await this.tokenService.getRefreshToken();\n        if (refreshToken == null || refreshToken === '') {\n            throw new Error();\n        }\n        const headers = new Headers({\n            'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n            'Accept': 'application/json',\n            'Device-Type': this.deviceType,\n        });\n        if (this.customUserAgent != null) {\n            headers.set('User-Agent', this.customUserAgent);\n        }\n\n        const decodedToken = this.tokenService.decodeToken();\n        const response = await this.fetch(new Request(this.identityBaseUrl + '/connect/token', {\n            body: this.qsStringify({\n                grant_type: 'refresh_token',\n                client_id: decodedToken.client_id,\n                refresh_token: refreshToken,\n            }),\n            cache: 'no-store',\n            credentials: this.getCredentials(),\n            headers: headers,\n            method: 'POST',\n        }));\n\n        if (response.status === 200) {\n            const responseJson = await response.json();\n            const tokenResponse = new IdentityTokenResponse(responseJson);\n            await this.tokenService.setTokens(tokenResponse.accessToken, tokenResponse.refreshToken);\n            return tokenResponse;\n        } else {\n            const error = await this.handleError(response, true, true);\n            return Promise.reject(error);\n        }\n    }\n\n    private qsStringify(params: any): string {\n        return Object.keys(params).map(key => {\n            return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);\n        }).join('&');\n    }\n\n    private getCredentials(): RequestCredentials {\n        if (!this.isWebClient || this.usingBaseUrl) {\n            return 'include';\n        }\n        return undefined;\n    }\n\n    private addEventParameters(base: string, start: string, end: string, token: string) {\n        if (start != null) {\n            base += ('?start=' + start);\n        }\n        if (end != null) {\n            base += (base.indexOf('?') > -1 ? '&' : '?');\n            base += ('end=' + end);\n        }\n        if (token != null) {\n            base += (base.indexOf('?') > -1 ? '&' : '?');\n            base += ('continuationToken=' + token);\n        }\n        return base;\n    }\n\n    private isJsonResponse(response: Response): boolean {\n        const typeHeader = response.headers.get('content-type');\n        return typeHeader != null && typeHeader.indexOf('application/json') > -1;\n    }\n\n    private isTextResponse(response: Response): boolean {\n        const typeHeader = response.headers.get('content-type');\n        return typeHeader != null && typeHeader.indexOf('text') > -1;\n    }\n}\n","import { BaseResponse } from './baseResponse';\nimport { PlanResponse } from './planResponse';\n\nimport { PlanType } from '../../enums/planType';\n\nexport class OrganizationResponse extends BaseResponse {\n    id: string;\n    identifier: string;\n    name: string;\n    businessName: string;\n    businessAddress1: string;\n    businessAddress2: string;\n    businessAddress3: string;\n    businessCountry: string;\n    businessTaxNumber: string;\n    billingEmail: string;\n    plan: PlanResponse;\n    planType: PlanType;\n    seats: number;\n    maxCollections: number;\n    maxStorageGb: number;\n    useGroups: boolean;\n    useDirectory: boolean;\n    useEvents: boolean;\n    useTotp: boolean;\n    use2fa: boolean;\n    useApi: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.identifier = this.getResponseProperty('Identifier');\n        this.name = this.getResponseProperty('Name');\n        this.businessName = this.getResponseProperty('BusinessName');\n        this.businessAddress1 = this.getResponseProperty('BusinessAddress1');\n        this.businessAddress2 = this.getResponseProperty('BusinessAddress2');\n        this.businessAddress3 = this.getResponseProperty('BusinessAddress3');\n        this.businessCountry = this.getResponseProperty('BusinessCountry');\n        this.businessTaxNumber = this.getResponseProperty('BusinessTaxNumber');\n        this.billingEmail = this.getResponseProperty('BillingEmail');\n        const plan = this.getResponseProperty('Plan');\n        this.plan = plan == null ? null : new PlanResponse(plan);\n        this.planType = this.getResponseProperty('PlanType');\n        this.seats = this.getResponseProperty('Seats');\n        this.maxCollections = this.getResponseProperty('MaxCollections');\n        this.maxStorageGb = this.getResponseProperty('MaxStorageGb');\n        this.useGroups = this.getResponseProperty('UseGroups');\n        this.useDirectory = this.getResponseProperty('UseDirectory');\n        this.useEvents = this.getResponseProperty('UseEvents');\n        this.useTotp = this.getResponseProperty('UseTotp');\n        this.use2fa = this.getResponseProperty('Use2fa');\n        this.useApi = this.getResponseProperty('UseApi');\n    }\n}\n","import { PlanType } from '../../enums/planType';\nimport { ProductType } from '../../enums/productType';\n\nimport { BaseResponse } from './baseResponse';\n\nexport class PlanResponse extends BaseResponse {\n    type: PlanType;\n    product: ProductType;\n    name: string;\n    isAnnual: boolean;\n    nameLocalizationKey: string;\n    descriptionLocalizationKey: string;\n    canBeUsedByBusiness: boolean;\n    baseSeats: number;\n    baseStorageGb: number;\n    maxCollections: number;\n    maxUsers: number;\n\n    hasAdditionalSeatsOption: boolean;\n    maxAdditionalSeats: number;\n    hasAdditionalStorageOption: boolean;\n    maxAdditionalStorage: number;\n    hasPremiumAccessOption: boolean;\n    trialPeriodDays: number;\n\n    hasSelfHost: boolean;\n    hasPolicies: boolean;\n    hasGroups: boolean;\n    hasDirectory: boolean;\n    hasEvents: boolean;\n    hasTotp: boolean;\n    has2fa: boolean;\n    hasApi: boolean;\n    hasSso: boolean;\n    usersGetPremium: boolean;\n\n    upgradeSortOrder: number;\n    displaySortOrder: number;\n    legacyYear: number;\n    disabled: boolean;\n\n    stripePlanId: string;\n    stripeSeatPlanId: string;\n    stripeStoragePlanId: string;\n    stripePremiumAccessPlanId: string;\n    basePrice: number;\n    seatPrice: number;\n    additionalStoragePricePerGb: number;\n    premiumAccessOptionPrice: number;\n\n    constructor(response: any) {\n        super(response);\n        this.type = this.getResponseProperty('Type');\n        this.product = this.getResponseProperty('Product');\n        this.name = this.getResponseProperty('Name');\n        this.isAnnual = this.getResponseProperty('IsAnnual');\n        this.nameLocalizationKey = this.getResponseProperty('NameLocalizationKey');\n        this.descriptionLocalizationKey = this.getResponseProperty('DescriptionLocalizationKey');\n        this.canBeUsedByBusiness = this.getResponseProperty('CanBeUsedByBusiness');\n        this.baseSeats = this.getResponseProperty('BaseSeats');\n        this.baseStorageGb = this.getResponseProperty('BaseStorageGb');\n        this.maxCollections = this.getResponseProperty('MaxCollections');\n        this.maxUsers = this.getResponseProperty('MaxUsers');\n        this.hasAdditionalSeatsOption = this.getResponseProperty('HasAdditionalSeatsOption');\n        this.maxAdditionalSeats = this.getResponseProperty('MaxAdditionalSeats');\n        this.hasAdditionalStorageOption = this.getResponseProperty('HasAdditionalStorageOption');\n        this.maxAdditionalStorage = this.getResponseProperty('MaxAdditionalStorage');\n        this.hasPremiumAccessOption = this.getResponseProperty('HasPremiumAccessOption');\n        this.trialPeriodDays = this.getResponseProperty('TrialPeriodDays');\n        this.hasSelfHost = this.getResponseProperty('HasSelfHost');\n        this.hasPolicies = this.getResponseProperty('HasPolicies');\n        this.hasGroups = this.getResponseProperty('HasGroups');\n        this.hasDirectory = this.getResponseProperty('HasDirectory');\n        this.hasEvents = this.getResponseProperty('HasEvents');\n        this.hasTotp = this.getResponseProperty('HasTotp');\n        this.has2fa = this.getResponseProperty('Has2fa');\n        this.hasApi = this.getResponseProperty('HasApi');\n        this.hasSso = this.getResponseProperty('HasSso');\n        this.usersGetPremium = this.getResponseProperty('UsersGetPremium');\n        this.upgradeSortOrder = this.getResponseProperty('UpgradeSortOrder');\n        this.displaySortOrder = this.getResponseProperty('SortOrder');\n        this.legacyYear = this.getResponseProperty('LegacyYear');\n        this.disabled = this.getResponseProperty('Disabled');\n        this.stripePlanId = this.getResponseProperty('StripePlanId');\n        this.stripeSeatPlanId = this.getResponseProperty('StripeSeatPlanId');\n        this.stripeStoragePlanId = this.getResponseProperty('StripeStoragePlanId');\n        this.stripePremiumAccessPlanId = this.getResponseProperty('StripePremiumAccessPlanId');\n        this.basePrice = this.getResponseProperty('BasePrice');\n        this.seatPrice = this.getResponseProperty('SeatPrice');\n        this.additionalStoragePricePerGb = this.getResponseProperty('AdditionalStoragePricePerGb');\n        this.premiumAccessOptionPrice = this.getResponseProperty('PremiumAccessOptionPrice');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class SubscriptionResponse extends BaseResponse {\n    storageName: string;\n    storageGb: number;\n    maxStorageGb: number;\n    subscription: BillingSubscriptionResponse;\n    upcomingInvoice: BillingSubscriptionUpcomingInvoiceResponse;\n    license: any;\n    expiration: string;\n    usingInAppPurchase: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.storageName = this.getResponseProperty('StorageName');\n        this.storageGb = this.getResponseProperty('StorageGb');\n        this.maxStorageGb = this.getResponseProperty('MaxStorageGb');\n        this.license = this.getResponseProperty('License');\n        this.expiration = this.getResponseProperty('Expiration');\n        this.usingInAppPurchase = this.getResponseProperty('UsingInAppPurchase');\n        const subscription = this.getResponseProperty('Subscription');\n        const upcomingInvoice = this.getResponseProperty('UpcomingInvoice');\n        this.subscription = subscription == null ? null : new BillingSubscriptionResponse(subscription);\n        this.upcomingInvoice = upcomingInvoice == null ? null :\n            new BillingSubscriptionUpcomingInvoiceResponse(upcomingInvoice);\n    }\n}\n\nexport class BillingSubscriptionResponse extends BaseResponse {\n    trialStartDate: string;\n    trialEndDate: string;\n    periodStartDate: string;\n    periodEndDate: string;\n    cancelledDate: string;\n    cancelAtEndDate: boolean;\n    status: string;\n    cancelled: boolean;\n    items: BillingSubscriptionItemResponse[] = [];\n\n    constructor(response: any) {\n        super(response);\n        this.trialEndDate = this.getResponseProperty('TrialStartDate');\n        this.trialEndDate = this.getResponseProperty('TrialEndDate');\n        this.periodStartDate = this.getResponseProperty('PeriodStartDate');\n        this.periodEndDate = this.getResponseProperty('PeriodEndDate');\n        this.cancelledDate = this.getResponseProperty('CancelledDate');\n        this.cancelAtEndDate = this.getResponseProperty('CancelAtEndDate');\n        this.status = this.getResponseProperty('Status');\n        this.cancelled = this.getResponseProperty('Cancelled');\n        const items = this.getResponseProperty('Items');\n        if (items != null) {\n            this.items = items.map((i: any) => new BillingSubscriptionItemResponse(i));\n        }\n    }\n}\n\nexport class BillingSubscriptionItemResponse extends BaseResponse {\n    name: string;\n    amount: number;\n    quantity: number;\n    interval: string;\n\n    constructor(response: any) {\n        super(response);\n        this.name = this.getResponseProperty('Name');\n        this.amount = this.getResponseProperty('Amount');\n        this.quantity = this.getResponseProperty('Quantity');\n        this.interval = this.getResponseProperty('Interval');\n    }\n}\n\nexport class BillingSubscriptionUpcomingInvoiceResponse extends BaseResponse {\n    date: string;\n    amount: number;\n\n    constructor(response: any) {\n        super(response);\n        this.date = this.getResponseProperty('Date');\n        this.amount = this.getResponseProperty('Amount');\n    }\n}\n","import { Utils } from '../../misc/utils';\nimport { BaseResponse } from './baseResponse';\n\nexport class TwoFactorWebAuthnResponse extends BaseResponse {\n    enabled: boolean;\n    keys: KeyResponse[];\n\n    constructor(response: any) {\n        super(response);\n        this.enabled = this.getResponseProperty('Enabled');\n        const keys = this.getResponseProperty('Keys');\n        this.keys = keys == null ? null : keys.map((k: any) => new KeyResponse(k));\n    }\n}\n\nexport class KeyResponse extends BaseResponse {\n    name: string;\n    id: number;\n    migrated: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.name = this.getResponseProperty('Name');\n        this.id = this.getResponseProperty('Id');\n        this.migrated = this.getResponseProperty('Migrated');\n    }\n}\n\nexport class ChallengeResponse extends BaseResponse implements PublicKeyCredentialCreationOptions {\n    attestation?: AttestationConveyancePreference;\n    authenticatorSelection?: AuthenticatorSelectionCriteria;\n    challenge: BufferSource;\n    excludeCredentials?: PublicKeyCredentialDescriptor[];\n    extensions?: AuthenticationExtensionsClientInputs;\n    pubKeyCredParams: PublicKeyCredentialParameters[];\n    rp: PublicKeyCredentialRpEntity;\n    timeout?: number;\n    user: PublicKeyCredentialUserEntity;\n\n    constructor(response: any) {\n        super(response);\n        this.attestation = this.getResponseProperty('attestation');\n        this.authenticatorSelection = this.getResponseProperty('authenticatorSelection');\n        this.challenge = Utils.fromUrlB64ToArray(this.getResponseProperty('challenge'));\n        this.excludeCredentials = this.getResponseProperty('excludeCredentials').map((c: any) => {\n            c.id = Utils.fromUrlB64ToArray(c.id).buffer;\n            return c;\n        });\n        this.extensions = this.getResponseProperty('extensions');\n        this.pubKeyCredParams = this.getResponseProperty('pubKeyCredParams');\n        this.rp = this.getResponseProperty('rp');\n        this.timeout = this.getResponseProperty('timeout');\n\n        const user = this.getResponseProperty('user');\n        user.id = Utils.fromUrlB64ToArray(user.id);\n\n        this.user = user;\n    }\n}\n","import { Utils } from '../misc/utils';\n\nimport { AppIdService as AppIdServiceAbstraction } from '../abstractions/appId.service';\nimport { StorageService } from '../abstractions/storage.service';\n\nexport class AppIdService implements AppIdServiceAbstraction {\n    constructor(private storageService: StorageService) {\n    }\n\n    getAppId(): Promise<string> {\n        return this.makeAndGetAppId('appId');\n    }\n\n    getAnonymousAppId(): Promise<string> {\n        return this.makeAndGetAppId('anonymousAppId');\n    }\n\n    private async makeAndGetAppId(key: string) {\n        const existingId = await this.storageService.get<string>(key);\n        if (existingId != null) {\n            return existingId;\n        }\n\n        const guid = Utils.newGuid();\n        await this.storageService.save(key, guid);\n        return guid;\n    }\n}\n","import { ApiService } from '../abstractions/api.service';\nimport { AuditService as AuditServiceAbstraction } from '../abstractions/audit.service';\nimport { CryptoFunctionService } from '../abstractions/cryptoFunction.service';\n\nimport { throttle } from '../misc/throttle';\nimport { Utils } from '../misc/utils';\n\nimport { BreachAccountResponse } from '../models/response/breachAccountResponse';\nimport { ErrorResponse } from '../models/response/errorResponse';\n\nconst PwnedPasswordsApi = 'https://api.pwnedpasswords.com/range/';\n\nexport class AuditService implements AuditServiceAbstraction {\n    constructor(private cryptoFunctionService: CryptoFunctionService, private apiService: ApiService) { }\n\n    @throttle(100, () => 'passwordLeaked')\n    async passwordLeaked(password: string): Promise<number> {\n        const hashBytes = await this.cryptoFunctionService.hash(password, 'sha1');\n        const hash = Utils.fromBufferToHex(hashBytes).toUpperCase();\n        const hashStart = hash.substr(0, 5);\n        const hashEnding = hash.substr(5);\n\n        const response = await this.apiService.nativeFetch(new Request(PwnedPasswordsApi + hashStart));\n        const leakedHashes = await response.text();\n        const match = leakedHashes.split(/\\r?\\n/).find(v => {\n            return v.split(':')[0] === hashEnding;\n        });\n\n        return match != null ? parseInt(match.split(':')[1], 10) : 0;\n    }\n\n    async breachedAccounts(username: string): Promise<BreachAccountResponse[]> {\n        try {\n            return await this.apiService.getHibpBreach(username);\n        } catch (e) {\n            const error = e as ErrorResponse;\n            if (error.statusCode === 404) {\n                return [];\n            }\n            throw new Error();\n        }\n    }\n}\n","import { CipherType } from '../enums/cipherType';\nimport { FieldType } from '../enums/fieldType';\nimport { UriMatchType } from '../enums/uriMatchType';\n\nimport { CipherData } from '../models/data/cipherData';\n\nimport { Attachment } from '../models/domain/attachment';\nimport { Card } from '../models/domain/card';\nimport { Cipher } from '../models/domain/cipher';\nimport Domain from '../models/domain/domainBase';\nimport { EncArrayBuffer } from '../models/domain/encArrayBuffer';\nimport { EncString } from '../models/domain/encString';\nimport { Field } from '../models/domain/field';\nimport { Identity } from '../models/domain/identity';\nimport { Login } from '../models/domain/login';\nimport { LoginUri } from '../models/domain/loginUri';\nimport { Password } from '../models/domain/password';\nimport { SecureNote } from '../models/domain/secureNote';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nimport { AttachmentRequest } from '../models/request/attachmentRequest';\nimport { CipherBulkDeleteRequest } from '../models/request/cipherBulkDeleteRequest';\nimport { CipherBulkMoveRequest } from '../models/request/cipherBulkMoveRequest';\nimport { CipherBulkRestoreRequest } from '../models/request/cipherBulkRestoreRequest';\nimport { CipherBulkShareRequest } from '../models/request/cipherBulkShareRequest';\nimport { CipherCollectionsRequest } from '../models/request/cipherCollectionsRequest';\nimport { CipherCreateRequest } from '../models/request/cipherCreateRequest';\nimport { CipherRequest } from '../models/request/cipherRequest';\nimport { CipherShareRequest } from '../models/request/cipherShareRequest';\n\nimport { CipherResponse } from '../models/response/cipherResponse';\nimport { ErrorResponse } from '../models/response/errorResponse';\n\nimport { AttachmentView } from '../models/view/attachmentView';\nimport { CipherView } from '../models/view/cipherView';\nimport { FieldView } from '../models/view/fieldView';\nimport { PasswordHistoryView } from '../models/view/passwordHistoryView';\nimport { View } from '../models/view/view';\n\nimport { SortedCiphersCache } from '../models/domain/sortedCiphersCache';\n\nimport { ApiService } from '../abstractions/api.service';\nimport { CipherService as CipherServiceAbstraction } from '../abstractions/cipher.service';\nimport { CryptoService } from '../abstractions/crypto.service';\nimport { FileUploadService } from '../abstractions/fileUpload.service';\nimport { I18nService } from '../abstractions/i18n.service';\nimport { SearchService } from '../abstractions/search.service';\nimport { SettingsService } from '../abstractions/settings.service';\nimport { StorageService } from '../abstractions/storage.service';\nimport { UserService } from '../abstractions/user.service';\n\nimport { ConstantsService } from './constants.service';\n\nimport { sequentialize } from '../misc/sequentialize';\nimport { Utils } from '../misc/utils';\n\nconst Keys = {\n    ciphersPrefix: 'ciphers_',\n    localData: 'sitesLocalData',\n    neverDomains: 'neverDomains',\n};\n\nconst DomainMatchBlacklist = new Map<string, Set<string>>([\n    ['google.com', new Set(['script.google.com'])],\n]);\n\nexport class CipherService implements CipherServiceAbstraction {\n    // tslint:disable-next-line\n    _decryptedCipherCache: CipherView[];\n\n    private sortedCiphersCache: SortedCiphersCache = new SortedCiphersCache(this.sortCiphersByLastUsed);\n\n    constructor(private cryptoService: CryptoService, private userService: UserService,\n        private settingsService: SettingsService, private apiService: ApiService,\n        private fileUploadService: FileUploadService, private storageService: StorageService,\n        private i18nService: I18nService, private searchService: () => SearchService) {\n    }\n\n    get decryptedCipherCache() {\n        return this._decryptedCipherCache;\n    }\n    set decryptedCipherCache(value: CipherView[]) {\n        this._decryptedCipherCache = value;\n        if (this.searchService != null) {\n            if (value == null) {\n                this.searchService().clearIndex();\n            } else {\n                this.searchService().indexCiphers();\n            }\n        }\n    }\n\n    clearCache(): void {\n        this.decryptedCipherCache = null;\n        this.sortedCiphersCache.clear();\n    }\n\n    async encrypt(model: CipherView, key?: SymmetricCryptoKey, originalCipher: Cipher = null): Promise<Cipher> {\n        // Adjust password history\n        if (model.id != null) {\n            if (originalCipher == null) {\n                originalCipher = await this.get(model.id);\n            }\n            if (originalCipher != null) {\n                const existingCipher = await originalCipher.decrypt();\n                model.passwordHistory = existingCipher.passwordHistory || [];\n                if (model.type === CipherType.Login && existingCipher.type === CipherType.Login) {\n                    if (existingCipher.login.password != null && existingCipher.login.password !== '' &&\n                        existingCipher.login.password !== model.login.password) {\n                        const ph = new PasswordHistoryView();\n                        ph.password = existingCipher.login.password;\n                        ph.lastUsedDate = model.login.passwordRevisionDate = new Date();\n                        model.passwordHistory.splice(0, 0, ph);\n                    } else {\n                        model.login.passwordRevisionDate = existingCipher.login.passwordRevisionDate;\n                    }\n                }\n                if (existingCipher.hasFields) {\n                    const existingHiddenFields = existingCipher.fields.filter(f => f.type === FieldType.Hidden &&\n                        f.name != null && f.name !== '' && f.value != null && f.value !== '');\n                    const hiddenFields = model.fields == null ? [] :\n                        model.fields.filter(f => f.type === FieldType.Hidden && f.name != null && f.name !== '');\n                    existingHiddenFields.forEach(ef => {\n                        const matchedField = hiddenFields.find(f => f.name === ef.name);\n                        if (matchedField == null || matchedField.value !== ef.value) {\n                            const ph = new PasswordHistoryView();\n                            ph.password = ef.name + ': ' + ef.value;\n                            ph.lastUsedDate = new Date();\n                            model.passwordHistory.splice(0, 0, ph);\n                        }\n                    });\n                }\n            }\n            if (model.passwordHistory != null && model.passwordHistory.length === 0) {\n                model.passwordHistory = null;\n            } else if (model.passwordHistory != null && model.passwordHistory.length > 5) {\n                // only save last 5 history\n                model.passwordHistory = model.passwordHistory.slice(0, 5);\n            }\n        }\n\n        const cipher = new Cipher();\n        cipher.id = model.id;\n        cipher.folderId = model.folderId;\n        cipher.favorite = model.favorite;\n        cipher.organizationId = model.organizationId;\n        cipher.type = model.type;\n        cipher.collectionIds = model.collectionIds;\n        cipher.revisionDate = model.revisionDate;\n\n        if (key == null && cipher.organizationId != null) {\n            key = await this.cryptoService.getOrgKey(cipher.organizationId);\n            if (key == null) {\n                throw new Error('Cannot encrypt cipher for organization. No key.');\n            }\n        }\n        await Promise.all([\n            this.encryptObjProperty(model, cipher, {\n                name: null,\n                notes: null,\n            }, key),\n            this.encryptCipherData(cipher, model, key),\n            this.encryptFields(model.fields, key).then(fields => {\n                cipher.fields = fields;\n            }),\n            this.encryptPasswordHistories(model.passwordHistory, key).then(ph => {\n                cipher.passwordHistory = ph;\n            }),\n            this.encryptAttachments(model.attachments, key).then(attachments => {\n                cipher.attachments = attachments;\n            }),\n        ]);\n\n        return cipher;\n    }\n\n    async encryptAttachments(attachmentsModel: AttachmentView[], key: SymmetricCryptoKey): Promise<Attachment[]> {\n        if (attachmentsModel == null || attachmentsModel.length === 0) {\n            return null;\n        }\n\n        const promises: Promise<any>[] = [];\n        const encAttachments: Attachment[] = [];\n        attachmentsModel.forEach(async model => {\n            const attachment = new Attachment();\n            attachment.id = model.id;\n            attachment.size = model.size;\n            attachment.sizeName = model.sizeName;\n            attachment.url = model.url;\n            const promise = this.encryptObjProperty(model, attachment, {\n                fileName: null,\n            }, key).then(async () => {\n                if (model.key != null) {\n                    attachment.key = await this.cryptoService.encrypt(model.key.key, key);\n                }\n                encAttachments.push(attachment);\n            });\n            promises.push(promise);\n        });\n\n        await Promise.all(promises);\n        return encAttachments;\n    }\n\n    async encryptFields(fieldsModel: FieldView[], key: SymmetricCryptoKey): Promise<Field[]> {\n        if (!fieldsModel || !fieldsModel.length) {\n            return null;\n        }\n\n        const self = this;\n        const encFields: Field[] = [];\n        await fieldsModel.reduce((promise, field) => {\n            return promise.then(() => {\n                return self.encryptField(field, key);\n            }).then((encField: Field) => {\n                encFields.push(encField);\n            });\n        }, Promise.resolve());\n\n        return encFields;\n    }\n\n    async encryptField(fieldModel: FieldView, key: SymmetricCryptoKey): Promise<Field> {\n        const field = new Field();\n        field.type = fieldModel.type;\n        // normalize boolean type field values\n        if (fieldModel.type === FieldType.Boolean && fieldModel.value !== 'true') {\n            fieldModel.value = 'false';\n        }\n\n        await this.encryptObjProperty(fieldModel, field, {\n            name: null,\n            value: null,\n        }, key);\n\n        return field;\n    }\n\n    async encryptPasswordHistories(phModels: PasswordHistoryView[], key: SymmetricCryptoKey): Promise<Password[]> {\n        if (!phModels || !phModels.length) {\n            return null;\n        }\n\n        const self = this;\n        const encPhs: Password[] = [];\n        await phModels.reduce((promise, ph) => {\n            return promise.then(() => {\n                return self.encryptPasswordHistory(ph, key);\n            }).then((encPh: Password) => {\n                encPhs.push(encPh);\n            });\n        }, Promise.resolve());\n\n        return encPhs;\n    }\n\n    async encryptPasswordHistory(phModel: PasswordHistoryView, key: SymmetricCryptoKey): Promise<Password> {\n        const ph = new Password();\n        ph.lastUsedDate = phModel.lastUsedDate;\n\n        await this.encryptObjProperty(phModel, ph, {\n            password: null,\n        }, key);\n\n        return ph;\n    }\n\n    async get(id: string): Promise<Cipher> {\n        const userId = await this.userService.getUserId();\n        const localData = await this.storageService.get<any>(Keys.localData);\n        const ciphers = await this.storageService.get<{ [id: string]: CipherData; }>(\n            Keys.ciphersPrefix + userId);\n        if (ciphers == null || !ciphers.hasOwnProperty(id)) {\n            return null;\n        }\n\n        return new Cipher(ciphers[id], false, localData ? localData[id] : null);\n    }\n\n    async getAll(): Promise<Cipher[]> {\n        const userId = await this.userService.getUserId();\n        const localData = await this.storageService.get<any>(Keys.localData);\n        const ciphers = await this.storageService.get<{ [id: string]: CipherData; }>(\n            Keys.ciphersPrefix + userId);\n        const response: Cipher[] = [];\n        for (const id in ciphers) {\n            if (ciphers.hasOwnProperty(id)) {\n                response.push(new Cipher(ciphers[id], false, localData ? localData[id] : null));\n            }\n        }\n        return response;\n    }\n\n    @sequentialize(() => 'getAllDecrypted')\n    async getAllDecrypted(): Promise<CipherView[]> {\n        if (this.decryptedCipherCache != null) {\n            const userId = await this.userService.getUserId();\n            if ((this.searchService().indexedEntityId ?? userId) !== userId)\n            {\n                await this.searchService().indexCiphers(userId, this.decryptedCipherCache);\n            }\n            return this.decryptedCipherCache;\n        }\n\n        const decCiphers: CipherView[] = [];\n        const hasKey = await this.cryptoService.hasKey();\n        if (!hasKey) {\n            throw new Error('No key.');\n        }\n\n        const promises: any[] = [];\n        const ciphers = await this.getAll();\n        ciphers.forEach(cipher => {\n            promises.push(cipher.decrypt().then(c => decCiphers.push(c)));\n        });\n\n        await Promise.all(promises);\n        decCiphers.sort(this.getLocaleSortingFunction());\n        this.decryptedCipherCache = decCiphers;\n        return this.decryptedCipherCache;\n    }\n\n    async getAllDecryptedForGrouping(groupingId: string, folder: boolean = true): Promise<CipherView[]> {\n        const ciphers = await this.getAllDecrypted();\n\n        return ciphers.filter(cipher => {\n            if (cipher.isDeleted) {\n                return false;\n            }\n            if (folder && cipher.folderId === groupingId) {\n                return true;\n            } else if (!folder && cipher.collectionIds != null && cipher.collectionIds.indexOf(groupingId) > -1) {\n                return true;\n            }\n\n            return false;\n        });\n    }\n\n    async getAllDecryptedForUrl(url: string, includeOtherTypes?: CipherType[],\n        defaultMatch: UriMatchType = null): Promise<CipherView[]> {\n        if (url == null && includeOtherTypes == null) {\n            return Promise.resolve([]);\n        }\n\n        const domain = Utils.getDomain(url);\n        const eqDomainsPromise = domain == null ? Promise.resolve([]) :\n            this.settingsService.getEquivalentDomains().then((eqDomains: any[][]) => {\n                let matches: any[] = [];\n                eqDomains.forEach(eqDomain => {\n                    if (eqDomain.length && eqDomain.indexOf(domain) >= 0) {\n                        matches = matches.concat(eqDomain);\n                    }\n                });\n\n                if (!matches.length) {\n                    matches.push(domain);\n                }\n\n                return matches;\n            });\n\n        const result = await Promise.all([eqDomainsPromise, this.getAllDecrypted()]);\n        const matchingDomains = result[0];\n        const ciphers = result[1];\n\n        if (defaultMatch == null) {\n            defaultMatch = await this.storageService.get<UriMatchType>(ConstantsService.defaultUriMatch);\n            if (defaultMatch == null) {\n                defaultMatch = UriMatchType.Domain;\n            }\n        }\n\n        return ciphers.filter(cipher => {\n            if (cipher.deletedDate != null) {\n                return false;\n            }\n            if (includeOtherTypes != null && includeOtherTypes.indexOf(cipher.type) > -1) {\n                return true;\n            }\n\n            if (url != null && cipher.type === CipherType.Login && cipher.login.uris != null) {\n                for (let i = 0; i < cipher.login.uris.length; i++) {\n                    const u = cipher.login.uris[i];\n                    if (u.uri == null) {\n                        continue;\n                    }\n\n                    const match = u.match == null ? defaultMatch : u.match;\n                    switch (match) {\n                        case UriMatchType.Domain:\n                            if (domain != null && u.domain != null && matchingDomains.indexOf(u.domain) > -1) {\n                                if (DomainMatchBlacklist.has(u.domain)) {\n                                    const domainUrlHost = Utils.getHost(url);\n                                    if (!DomainMatchBlacklist.get(u.domain).has(domainUrlHost)) {\n                                        return true;\n                                    }\n                                } else {\n                                    return true;\n                                }\n                            }\n                            break;\n                        case UriMatchType.Host:\n                            const urlHost = Utils.getHost(url);\n                            if (urlHost != null && urlHost === Utils.getHost(u.uri)) {\n                                return true;\n                            }\n                            break;\n                        case UriMatchType.Exact:\n                            if (url === u.uri) {\n                                return true;\n                            }\n                            break;\n                        case UriMatchType.StartsWith:\n                            if (url.startsWith(u.uri)) {\n                                return true;\n                            }\n                            break;\n                        case UriMatchType.RegularExpression:\n                            try {\n                                const regex = new RegExp(u.uri, 'i');\n                                if (regex.test(url)) {\n                                    return true;\n                                }\n                            } catch { }\n                            break;\n                        case UriMatchType.Never:\n                        default:\n                            break;\n                    }\n                }\n            }\n\n            return false;\n        });\n    }\n\n    async getAllFromApiForOrganization(organizationId: string): Promise<CipherView[]> {\n        const ciphers = await this.apiService.getCiphersOrganization(organizationId);\n        if (ciphers != null && ciphers.data != null && ciphers.data.length) {\n            const decCiphers: CipherView[] = [];\n            const promises: any[] = [];\n            ciphers.data.forEach(r => {\n                const data = new CipherData(r);\n                const cipher = new Cipher(data);\n                promises.push(cipher.decrypt().then(c => decCiphers.push(c)));\n            });\n            await Promise.all(promises);\n            decCiphers.sort(this.getLocaleSortingFunction());\n            return decCiphers;\n        } else {\n            return [];\n        }\n    }\n\n    async getLastUsedForUrl(url: string): Promise<CipherView> {\n        return this.getCipherForUrl(url, true, false);\n    }\n\n    async getLastLaunchedForUrl(url: string): Promise<CipherView> {\n        return this.getCipherForUrl(url, false, true);\n    }\n\n    async getNextCipherForUrl(url: string): Promise<CipherView> {\n        return this.getCipherForUrl(url, false, false);\n    }\n\n    updateLastUsedIndexForUrl(url: string) {\n        this.sortedCiphersCache.updateLastUsedIndex(url);\n    }\n\n    async updateLastUsedDate(id: string): Promise<void> {\n        let ciphersLocalData = await this.storageService.get<any>(Keys.localData);\n        if (!ciphersLocalData) {\n            ciphersLocalData = {};\n        }\n\n        if (ciphersLocalData[id]) {\n            ciphersLocalData[id].lastUsedDate = new Date().getTime();\n        } else {\n            ciphersLocalData[id] = {\n                lastUsedDate: new Date().getTime(),\n            };\n        }\n\n        await this.storageService.save(Keys.localData, ciphersLocalData);\n\n        if (this.decryptedCipherCache == null) {\n            return;\n        }\n\n        for (let i = 0; i < this.decryptedCipherCache.length; i++) {\n            const cached = this.decryptedCipherCache[i];\n            if (cached.id === id) {\n                cached.localData = ciphersLocalData[id];\n                break;\n            }\n        }\n    }\n\n    async updateLastLaunchedDate(id: string): Promise<void> {\n        let ciphersLocalData = await this.storageService.get<any>(Keys.localData);\n        if (!ciphersLocalData) {\n            ciphersLocalData = {};\n        }\n\n        if (ciphersLocalData[id]) {\n            ciphersLocalData[id].lastLaunched = new Date().getTime();\n        } else {\n            ciphersLocalData[id] = {\n                lastUsedDate: new Date().getTime(),\n            };\n        }\n\n        await this.storageService.save(Keys.localData, ciphersLocalData);\n\n        if (this.decryptedCipherCache == null) {\n            return;\n        }\n\n        for (let i = 0; i < this.decryptedCipherCache.length; i++) {\n            const cached = this.decryptedCipherCache[i];\n            if (cached.id === id) {\n                cached.localData = ciphersLocalData[id];\n                break;\n            }\n        }\n    }\n\n    async saveNeverDomain(domain: string): Promise<void> {\n        if (domain == null) {\n            return;\n        }\n\n        let domains = await this.storageService.get<{ [id: string]: any; }>(Keys.neverDomains);\n        if (!domains) {\n            domains = {};\n        }\n        domains[domain] = null;\n        await this.storageService.save(Keys.neverDomains, domains);\n    }\n\n    async saveWithServer(cipher: Cipher): Promise<any> {\n        let response: CipherResponse;\n        if (cipher.id == null) {\n            if (cipher.collectionIds != null) {\n                const request = new CipherCreateRequest(cipher);\n                response = await this.apiService.postCipherCreate(request);\n            } else {\n                const request = new CipherRequest(cipher);\n                response = await this.apiService.postCipher(request);\n            }\n            cipher.id = response.id;\n        } else {\n            const request = new CipherRequest(cipher);\n            response = await this.apiService.putCipher(cipher.id, request);\n        }\n\n        const userId = await this.userService.getUserId();\n        const data = new CipherData(response, userId, cipher.collectionIds);\n        await this.upsert(data);\n    }\n\n    async shareWithServer(cipher: CipherView, organizationId: string, collectionIds: string[]): Promise<any> {\n        const attachmentPromises: Promise<any>[] = [];\n        if (cipher.attachments != null) {\n            cipher.attachments.forEach(attachment => {\n                if (attachment.key == null) {\n                    attachmentPromises.push(this.shareAttachmentWithServer(attachment, cipher.id, organizationId));\n                }\n            });\n        }\n        await Promise.all(attachmentPromises);\n\n        cipher.organizationId = organizationId;\n        cipher.collectionIds = collectionIds;\n        const encCipher = await this.encrypt(cipher);\n        const request = new CipherShareRequest(encCipher);\n        const response = await this.apiService.putShareCipher(cipher.id, request);\n        const userId = await this.userService.getUserId();\n        const data = new CipherData(response, userId, collectionIds);\n        await this.upsert(data);\n    }\n\n    async shareManyWithServer(ciphers: CipherView[], organizationId: string, collectionIds: string[]): Promise<any> {\n        const promises: Promise<any>[] = [];\n        const encCiphers: Cipher[] = [];\n        for (const cipher of ciphers) {\n            cipher.organizationId = organizationId;\n            cipher.collectionIds = collectionIds;\n            promises.push(this.encrypt(cipher).then(c => {\n                encCiphers.push(c);\n            }));\n        }\n        await Promise.all(promises);\n        const request = new CipherBulkShareRequest(encCiphers, collectionIds);\n        await this.apiService.putShareCiphers(request);\n        const userId = await this.userService.getUserId();\n        await this.upsert(encCiphers.map(c => c.toCipherData(userId)));\n    }\n\n    saveAttachmentWithServer(cipher: Cipher, unencryptedFile: any, admin = false): Promise<Cipher> {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.readAsArrayBuffer(unencryptedFile);\n            reader.onload = async (evt: any) => {\n                try {\n                    const cData = await this.saveAttachmentRawWithServer(cipher,\n                        unencryptedFile.name, evt.target.result, admin);\n                    resolve(cData);\n                } catch (e) {\n                    reject(e);\n                }\n            };\n            reader.onerror = evt => {\n                reject('Error reading file.');\n            };\n        });\n    }\n\n    async saveAttachmentRawWithServer(cipher: Cipher, filename: string,\n        data: ArrayBuffer, admin = false): Promise<Cipher> {\n        const key = await this.cryptoService.getOrgKey(cipher.organizationId);\n        const encFileName = await this.cryptoService.encrypt(filename, key);\n\n        const dataEncKey = await this.cryptoService.makeEncKey(key);\n        const encData = await this.cryptoService.encryptToBytes(data, dataEncKey[0]);\n\n        const request: AttachmentRequest = {\n            key: dataEncKey[1].encryptedString,\n            fileName: encFileName.encryptedString,\n            fileSize: encData.buffer.byteLength,\n            adminRequest: admin,\n        };\n\n        let response: CipherResponse;\n        try {\n            const uploadDataResponse = await this.apiService.postCipherAttachment(cipher.id, request);\n            response = admin ? uploadDataResponse.cipherMiniResponse : uploadDataResponse.cipherResponse;\n            await this.fileUploadService.uploadCipherAttachment(admin, uploadDataResponse, filename, encData);\n        } catch (e) {\n            if (e instanceof ErrorResponse && (e as ErrorResponse).statusCode === 404 || (e as ErrorResponse).statusCode === 405) {\n                response = await this.legacyServerAttachmentFileUpload(admin, cipher.id, encFileName, encData, dataEncKey[1]);\n            } else if (e instanceof ErrorResponse) {\n                throw new Error((e as ErrorResponse).getSingleMessage());\n            } else {\n                throw e;\n            }\n        }\n\n        const userId = await this.userService.getUserId();\n        const cData = new CipherData(response, userId, cipher.collectionIds);\n        if (!admin) {\n            await this.upsert(cData);\n        }\n        return new Cipher(cData);\n    }\n\n    /**\n     * @deprecated Mar 25 2021: This method has been deprecated in favor of direct uploads.\n     * This method still exists for backward compatibility with old server versions.\n     */\n    async legacyServerAttachmentFileUpload(admin: boolean, cipherId: string, encFileName: EncString,\n        encData: EncArrayBuffer, key: EncString) {\n        const fd = new FormData();\n        try {\n            const blob = new Blob([encData.buffer], { type: 'application/octet-stream' });\n            fd.append('key', key.encryptedString);\n            fd.append('data', blob, encFileName.encryptedString);\n        } catch (e) {\n            if (Utils.isNode && !Utils.isBrowser) {\n                fd.append('key', key.encryptedString);\n                fd.append('data', Buffer.from(encData.buffer) as any, {\n                    filepath: encFileName.encryptedString,\n                    contentType: 'application/octet-stream',\n                } as any);\n            } else {\n                throw e;\n            }\n        }\n\n        let response: CipherResponse;\n        try {\n            if (admin) {\n                response = await this.apiService.postCipherAttachmentAdminLegacy(cipherId, fd);\n            } else {\n                response = await this.apiService.postCipherAttachmentLegacy(cipherId, fd);\n            }\n        } catch (e) {\n            throw new Error((e as ErrorResponse).getSingleMessage());\n        }\n\n        return response;\n    }\n\n    async saveCollectionsWithServer(cipher: Cipher): Promise<any> {\n        const request = new CipherCollectionsRequest(cipher.collectionIds);\n        await this.apiService.putCipherCollections(cipher.id, request);\n        const userId = await this.userService.getUserId();\n        const data = cipher.toCipherData(userId);\n        await this.upsert(data);\n    }\n\n    async upsert(cipher: CipherData | CipherData[]): Promise<any> {\n        const userId = await this.userService.getUserId();\n        let ciphers = await this.storageService.get<{ [id: string]: CipherData; }>(\n            Keys.ciphersPrefix + userId);\n        if (ciphers == null) {\n            ciphers = {};\n        }\n\n        if (cipher instanceof CipherData) {\n            const c = cipher as CipherData;\n            ciphers[c.id] = c;\n        } else {\n            (cipher as CipherData[]).forEach(c => {\n                ciphers[c.id] = c;\n            });\n        }\n\n        await this.storageService.save(Keys.ciphersPrefix + userId, ciphers);\n        this.decryptedCipherCache = null;\n    }\n\n    async replace(ciphers: { [id: string]: CipherData; }): Promise<any> {\n        const userId = await this.userService.getUserId();\n        await this.storageService.save(Keys.ciphersPrefix + userId, ciphers);\n        this.decryptedCipherCache = null;\n    }\n\n    async clear(userId: string): Promise<any> {\n        await this.storageService.remove(Keys.ciphersPrefix + userId);\n        this.clearCache();\n    }\n\n    async moveManyWithServer(ids: string[], folderId: string): Promise<any> {\n        await this.apiService.putMoveCiphers(new CipherBulkMoveRequest(ids, folderId));\n\n        const userId = await this.userService.getUserId();\n        let ciphers = await this.storageService.get<{ [id: string]: CipherData; }>(\n            Keys.ciphersPrefix + userId);\n        if (ciphers == null) {\n            ciphers = {};\n        }\n\n        ids.forEach(id => {\n            if (ciphers.hasOwnProperty(id)) {\n                ciphers[id].folderId = folderId;\n            }\n        });\n\n        await this.storageService.save(Keys.ciphersPrefix + userId, ciphers);\n        this.decryptedCipherCache = null;\n    }\n\n    async delete(id: string | string[]): Promise<any> {\n        const userId = await this.userService.getUserId();\n        const ciphers = await this.storageService.get<{ [id: string]: CipherData; }>(\n            Keys.ciphersPrefix + userId);\n        if (ciphers == null) {\n            return;\n        }\n\n        if (typeof id === 'string') {\n            if (ciphers[id] == null) {\n                return;\n            }\n            delete ciphers[id];\n        } else {\n            (id as string[]).forEach(i => {\n                delete ciphers[i];\n            });\n        }\n\n        await this.storageService.save(Keys.ciphersPrefix + userId, ciphers);\n        this.decryptedCipherCache = null;\n    }\n\n    async deleteWithServer(id: string): Promise<any> {\n        await this.apiService.deleteCipher(id);\n        await this.delete(id);\n    }\n\n    async deleteManyWithServer(ids: string[]): Promise<any> {\n        await this.apiService.deleteManyCiphers(new CipherBulkDeleteRequest(ids));\n        await this.delete(ids);\n    }\n\n    async deleteAttachment(id: string, attachmentId: string): Promise<void> {\n        const userId = await this.userService.getUserId();\n        const ciphers = await this.storageService.get<{ [id: string]: CipherData; }>(\n            Keys.ciphersPrefix + userId);\n\n        if (ciphers == null || !ciphers.hasOwnProperty(id) || ciphers[id].attachments == null) {\n            return;\n        }\n\n        for (let i = 0; i < ciphers[id].attachments.length; i++) {\n            if (ciphers[id].attachments[i].id === attachmentId) {\n                ciphers[id].attachments.splice(i, 1);\n            }\n        }\n\n        await this.storageService.save(Keys.ciphersPrefix + userId, ciphers);\n        this.decryptedCipherCache = null;\n    }\n\n    async deleteAttachmentWithServer(id: string, attachmentId: string): Promise<void> {\n        try {\n            await this.apiService.deleteCipherAttachment(id, attachmentId);\n        } catch (e) {\n            return Promise.reject((e as ErrorResponse).getSingleMessage());\n        }\n        await this.deleteAttachment(id, attachmentId);\n    }\n\n    sortCiphersByLastUsed(a: CipherView, b: CipherView): number {\n        const aLastUsed = a.localData && a.localData.lastUsedDate ? a.localData.lastUsedDate as number : null;\n        const bLastUsed = b.localData && b.localData.lastUsedDate ? b.localData.lastUsedDate as number : null;\n\n        const bothNotNull = aLastUsed != null && bLastUsed != null;\n        if (bothNotNull && aLastUsed < bLastUsed) {\n            return 1;\n        }\n        if (aLastUsed != null && bLastUsed == null) {\n            return -1;\n        }\n\n        if (bothNotNull && aLastUsed > bLastUsed) {\n            return -1;\n        }\n        if (bLastUsed != null && aLastUsed == null) {\n            return 1;\n        }\n\n        return 0;\n    }\n\n    sortCiphersByLastUsedThenName(a: CipherView, b: CipherView): number {\n        const result = this.sortCiphersByLastUsed(a, b);\n        if (result !== 0) {\n            return result;\n        }\n\n        return this.getLocaleSortingFunction()(a, b);\n    }\n\n    getLocaleSortingFunction(): (a: CipherView, b: CipherView) => number {\n        return (a, b) => {\n            let aName = a.name;\n            let bName = b.name;\n\n            if (aName == null && bName != null) {\n                return -1;\n            }\n            if (aName != null && bName == null) {\n                return 1;\n            }\n            if (aName == null && bName == null) {\n                return 0;\n            }\n\n            const result = this.i18nService.collator ? this.i18nService.collator.compare(aName, bName) :\n                aName.localeCompare(bName);\n\n            if (result !== 0 || a.type !== CipherType.Login || b.type !== CipherType.Login) {\n                return result;\n            }\n\n            if (a.login.username != null) {\n                aName += a.login.username;\n            }\n\n            if (b.login.username != null) {\n                bName += b.login.username;\n            }\n\n            return this.i18nService.collator ? this.i18nService.collator.compare(aName, bName) :\n                aName.localeCompare(bName);\n        };\n    }\n\n    async softDelete(id: string | string[]): Promise<any> {\n        const userId = await this.userService.getUserId();\n        const ciphers = await this.storageService.get<{ [id: string]: CipherData; }>(\n            Keys.ciphersPrefix + userId);\n        if (ciphers == null) {\n            return;\n        }\n\n        const setDeletedDate = (cipherId: string) => {\n            if (ciphers[cipherId] == null) {\n                return;\n            }\n            ciphers[cipherId].deletedDate = new Date().toISOString();\n        };\n\n        if (typeof id === 'string') {\n            setDeletedDate(id);\n        } else {\n            (id as string[]).forEach(setDeletedDate);\n        }\n\n        await this.storageService.save(Keys.ciphersPrefix + userId, ciphers);\n        this.decryptedCipherCache = null;\n    }\n\n    async softDeleteWithServer(id: string): Promise<any> {\n        await this.apiService.putDeleteCipher(id);\n        await this.softDelete(id);\n    }\n\n    async softDeleteManyWithServer(ids: string[]): Promise<any> {\n        await this.apiService.putDeleteManyCiphers(new CipherBulkDeleteRequest(ids));\n        await this.softDelete(ids);\n    }\n\n    async restore(cipher: { id: string, revisionDate: string; } | { id: string, revisionDate: string; }[]) {\n        const userId = await this.userService.getUserId();\n        const ciphers = await this.storageService.get<{ [id: string]: CipherData; }>(\n            Keys.ciphersPrefix + userId);\n        if (ciphers == null) {\n            return;\n        }\n\n        const clearDeletedDate = (c: { id: string, revisionDate: string; }) => {\n            if (ciphers[c.id] == null) {\n                return;\n            }\n            ciphers[c.id].deletedDate = null;\n            ciphers[c.id].revisionDate = c.revisionDate;\n        };\n\n\n        if (cipher.constructor.name === 'Array') {\n            (cipher as { id: string, revisionDate: string; }[]).forEach(clearDeletedDate);\n        } else {\n            clearDeletedDate(cipher as { id: string, revisionDate: string; });\n        }\n\n        await this.storageService.save(Keys.ciphersPrefix + userId, ciphers);\n        this.decryptedCipherCache = null;\n    }\n\n    async restoreWithServer(id: string): Promise<any> {\n        const response = await this.apiService.putRestoreCipher(id);\n        await this.restore({ id: id, revisionDate: response.revisionDate });\n    }\n\n    async restoreManyWithServer(ids: string[]): Promise<any> {\n        const response = await this.apiService.putRestoreManyCiphers(new CipherBulkRestoreRequest(ids));\n        const restores: { id: string, revisionDate: string; }[] = [];\n        for (const cipher of response.data) {\n            restores.push({ id: cipher.id, revisionDate: cipher.revisionDate });\n        }\n        await this.restore(restores);\n    }\n\n    // Helpers\n\n    private async shareAttachmentWithServer(attachmentView: AttachmentView, cipherId: string,\n        organizationId: string): Promise<any> {\n        const attachmentResponse = await this.apiService.nativeFetch(\n            new Request(attachmentView.url, { cache: 'no-store' }));\n        if (attachmentResponse.status !== 200) {\n            throw Error('Failed to download attachment: ' + attachmentResponse.status.toString());\n        }\n\n        const buf = await attachmentResponse.arrayBuffer();\n        const decBuf = await this.cryptoService.decryptFromBytes(buf, null);\n        const key = await this.cryptoService.getOrgKey(organizationId);\n        const encFileName = await this.cryptoService.encrypt(attachmentView.fileName, key);\n\n        const dataEncKey = await this.cryptoService.makeEncKey(key);\n        const encData = await this.cryptoService.encryptToBytes(decBuf, dataEncKey[0]);\n\n        const fd = new FormData();\n        try {\n            const blob = new Blob([encData.buffer], { type: 'application/octet-stream' });\n            fd.append('key', dataEncKey[1].encryptedString);\n            fd.append('data', blob, encFileName.encryptedString);\n        } catch (e) {\n            if (Utils.isNode && !Utils.isBrowser) {\n                fd.append('key', dataEncKey[1].encryptedString);\n                fd.append('data', Buffer.from(encData.buffer) as any, {\n                    filepath: encFileName.encryptedString,\n                    contentType: 'application/octet-stream',\n                } as any);\n            } else {\n                throw e;\n            }\n        }\n\n        try {\n            await this.apiService.postShareCipherAttachment(cipherId, attachmentView.id, fd, organizationId);\n        } catch (e) {\n            throw new Error((e as ErrorResponse).getSingleMessage());\n        }\n    }\n\n    private async encryptObjProperty<V extends View, D extends Domain>(model: V, obj: D,\n        map: any, key: SymmetricCryptoKey): Promise<void> {\n        const promises = [];\n        const self = this;\n\n        for (const prop in map) {\n            if (!map.hasOwnProperty(prop)) {\n                continue;\n            }\n\n            // tslint:disable-next-line\n            (function (theProp, theObj) {\n                const p = Promise.resolve().then(() => {\n                    const modelProp = (model as any)[(map[theProp] || theProp)];\n                    if (modelProp && modelProp !== '') {\n                        return self.cryptoService.encrypt(modelProp, key);\n                    }\n                    return null;\n                }).then((val: EncString) => {\n                    (theObj as any)[theProp] = val;\n                });\n                promises.push(p);\n            })(prop, obj);\n        }\n\n        await Promise.all(promises);\n    }\n\n    private async encryptCipherData(cipher: Cipher, model: CipherView, key: SymmetricCryptoKey) {\n        switch (cipher.type) {\n            case CipherType.Login:\n                cipher.login = new Login();\n                cipher.login.passwordRevisionDate = model.login.passwordRevisionDate;\n                await this.encryptObjProperty(model.login, cipher.login, {\n                    username: null,\n                    password: null,\n                    totp: null,\n                }, key);\n\n                if (model.login.uris != null) {\n                    cipher.login.uris = [];\n                    for (let i = 0; i < model.login.uris.length; i++) {\n                        const loginUri = new LoginUri();\n                        loginUri.match = model.login.uris[i].match;\n                        await this.encryptObjProperty(model.login.uris[i], loginUri, {\n                            uri: null,\n                        }, key);\n                        cipher.login.uris.push(loginUri);\n                    }\n                }\n                return;\n            case CipherType.SecureNote:\n                cipher.secureNote = new SecureNote();\n                cipher.secureNote.type = model.secureNote.type;\n                return;\n            case CipherType.Card:\n                cipher.card = new Card();\n                await this.encryptObjProperty(model.card, cipher.card, {\n                    cardholderName: null,\n                    brand: null,\n                    number: null,\n                    expMonth: null,\n                    expYear: null,\n                    code: null,\n                }, key);\n                return;\n            case CipherType.Identity:\n                cipher.identity = new Identity();\n                await this.encryptObjProperty(model.identity, cipher.identity, {\n                    title: null,\n                    firstName: null,\n                    middleName: null,\n                    lastName: null,\n                    address1: null,\n                    address2: null,\n                    address3: null,\n                    city: null,\n                    state: null,\n                    postalCode: null,\n                    country: null,\n                    company: null,\n                    email: null,\n                    phone: null,\n                    ssn: null,\n                    username: null,\n                    passportNumber: null,\n                    licenseNumber: null,\n                }, key);\n                return;\n            default:\n                throw new Error('Unknown cipher type.');\n        }\n    }\n\n    private async getCipherForUrl(url: string, lastUsed: boolean, lastLaunched: boolean): Promise<CipherView> {\n        if (!this.sortedCiphersCache.isCached(url)) {\n            const ciphers = await this.getAllDecryptedForUrl(url);\n            if (!ciphers) {\n                return null;\n            }\n            this.sortedCiphersCache.addCiphers(url, ciphers);\n        }\n\n        if (lastLaunched) {\n            return this.sortedCiphersCache.getLastLaunched(url);\n        } else if (lastUsed) {\n            return this.sortedCiphersCache.getLastUsed(url);\n        } else {\n            return this.sortedCiphersCache.getNext(url);\n        }\n    }\n}\n","/**\n * Use as a Decorator on async functions, it will prevent multiple 'active' calls as the same time\n *\n * If a promise was returned from a previous call to this function, that hasn't yet resolved it will\n * be returned, instead of calling the original function again\n *\n * Results are not cached, once the promise has returned, the next call will result in a fresh call\n *\n * Read more at https://github.com/bitwarden/jslib/pull/7\n */\nexport function sequentialize(cacheKey: (args: any[]) => string) {\n    return (target: any, propertyKey: string | symbol, descriptor: PropertyDescriptor) => {\n        const originalMethod: () => Promise<any> = descriptor.value;\n        const caches = new Map<any, Map<string, Promise<any>>>();\n\n        const getCache = (obj: any) => {\n            let cache = caches.get(obj);\n            if (cache != null) {\n                return cache;\n            }\n            cache = new Map<string, Promise<any>>();\n            caches.set(obj, cache);\n            return cache;\n        };\n\n        return {\n            value: function(...args: any[]) {\n                const cache = getCache(this);\n                const argsCacheKey = cacheKey(args);\n                let response = cache.get(argsCacheKey);\n                if (response != null) {\n                    return response;\n                }\n\n                const onFinally = () => {\n                    cache.delete(argsCacheKey);\n                    if (cache.size === 0) {\n                        caches.delete(this);\n                    }\n                };\n                response = originalMethod.apply(this, args).then((val: any) => {\n                    onFinally();\n                    return val;\n                }).catch((err: any) => {\n                    onFinally();\n                    throw err;\n                });\n\n                cache.set(argsCacheKey, response);\n                return response;\n            },\n        };\n    };\n}\n","import { CollectionData } from '../models/data/collectionData';\n\nimport { Collection } from '../models/domain/collection';\nimport { TreeNode } from '../models/domain/treeNode';\n\nimport { CollectionView } from '../models/view/collectionView';\n\nimport { CollectionService as CollectionServiceAbstraction } from '../abstractions/collection.service';\nimport { CryptoService } from '../abstractions/crypto.service';\nimport { I18nService } from '../abstractions/i18n.service';\nimport { StorageService } from '../abstractions/storage.service';\nimport { UserService } from '../abstractions/user.service';\n\nimport { ServiceUtils } from '../misc/serviceUtils';\nimport { Utils } from '../misc/utils';\n\nconst Keys = {\n    collectionsPrefix: 'collections_',\n};\nconst NestingDelimiter = '/';\n\nexport class CollectionService implements CollectionServiceAbstraction {\n    decryptedCollectionCache: CollectionView[];\n\n    constructor(private cryptoService: CryptoService, private userService: UserService,\n        private storageService: StorageService, private i18nService: I18nService) {\n    }\n\n    clearCache(): void {\n        this.decryptedCollectionCache = null;\n    }\n\n    async encrypt(model: CollectionView): Promise<Collection> {\n        if (model.organizationId == null) {\n            throw new Error('Collection has no organization id.');\n        }\n        const key = await this.cryptoService.getOrgKey(model.organizationId);\n        if (key == null) {\n            throw new Error('No key for this collection\\'s organization.');\n        }\n        const collection = new Collection();\n        collection.id = model.id;\n        collection.organizationId = model.organizationId;\n        collection.readOnly = model.readOnly;\n        collection.name = await this.cryptoService.encrypt(model.name, key);\n        return collection;\n    }\n\n    async decryptMany(collections: Collection[]): Promise<CollectionView[]> {\n        if (collections == null) {\n            return [];\n        }\n        const decCollections: CollectionView[] = [];\n        const promises: Promise<any>[] = [];\n        collections.forEach(collection => {\n            promises.push(collection.decrypt().then(c => decCollections.push(c)));\n        });\n        await Promise.all(promises);\n        return decCollections.sort(Utils.getSortFunction(this.i18nService, 'name'));\n    }\n\n    async get(id: string): Promise<Collection> {\n        const userId = await this.userService.getUserId();\n        const collections = await this.storageService.get<{ [id: string]: CollectionData; }>(\n            Keys.collectionsPrefix + userId);\n        if (collections == null || !collections.hasOwnProperty(id)) {\n            return null;\n        }\n\n        return new Collection(collections[id]);\n    }\n\n    async getAll(): Promise<Collection[]> {\n        const userId = await this.userService.getUserId();\n        const collections = await this.storageService.get<{ [id: string]: CollectionData; }>(\n            Keys.collectionsPrefix + userId);\n        const response: Collection[] = [];\n        for (const id in collections) {\n            if (collections.hasOwnProperty(id)) {\n                response.push(new Collection(collections[id]));\n            }\n        }\n        return response;\n    }\n\n    async getAllDecrypted(): Promise<CollectionView[]> {\n        if (this.decryptedCollectionCache != null) {\n            return this.decryptedCollectionCache;\n        }\n\n        const hasKey = await this.cryptoService.hasKey();\n        if (!hasKey) {\n            throw new Error('No key.');\n        }\n\n        const collections = await this.getAll();\n        this.decryptedCollectionCache = await this.decryptMany(collections);\n        return this.decryptedCollectionCache;\n    }\n\n    async getAllNested(collections: CollectionView[] = null): Promise<TreeNode<CollectionView>[]> {\n        if (collections == null) {\n            collections = await this.getAllDecrypted();\n        }\n        const nodes: TreeNode<CollectionView>[] = [];\n        collections.forEach(c => {\n            const collectionCopy = new CollectionView();\n            collectionCopy.id = c.id;\n            collectionCopy.organizationId = c.organizationId;\n            const parts = c.name != null ? c.name.replace(/^\\/+|\\/+$/g, '').split(NestingDelimiter) : [];\n            ServiceUtils.nestedTraverse(nodes, 0, parts, collectionCopy, null, NestingDelimiter);\n        });\n        return nodes;\n    }\n\n    async getNested(id: string): Promise<TreeNode<CollectionView>> {\n        const collections = await this.getAllNested();\n        return ServiceUtils.getTreeNodeObject(collections, id) as TreeNode<CollectionView>;\n    }\n\n    async upsert(collection: CollectionData | CollectionData[]): Promise<any> {\n        const userId = await this.userService.getUserId();\n        let collections = await this.storageService.get<{ [id: string]: CollectionData; }>(\n            Keys.collectionsPrefix + userId);\n        if (collections == null) {\n            collections = {};\n        }\n\n        if (collection instanceof CollectionData) {\n            const c = collection as CollectionData;\n            collections[c.id] = c;\n        } else {\n            (collection as CollectionData[]).forEach(c => {\n                collections[c.id] = c;\n            });\n        }\n\n        await this.storageService.save(Keys.collectionsPrefix + userId, collections);\n        this.decryptedCollectionCache = null;\n    }\n\n    async replace(collections: { [id: string]: CollectionData; }): Promise<any> {\n        const userId = await this.userService.getUserId();\n        await this.storageService.save(Keys.collectionsPrefix + userId, collections);\n        this.decryptedCollectionCache = null;\n    }\n\n    async clear(userId: string): Promise<any> {\n        await this.storageService.remove(Keys.collectionsPrefix + userId);\n        this.decryptedCollectionCache = null;\n    }\n\n    async delete(id: string | string[]): Promise<any> {\n        const userId = await this.userService.getUserId();\n        const collections = await this.storageService.get<{ [id: string]: CollectionData; }>(\n            Keys.collectionsPrefix + userId);\n        if (collections == null) {\n            return;\n        }\n\n        if (typeof id === 'string') {\n            const i = id as string;\n            delete collections[id];\n        } else {\n            (id as string[]).forEach(i => {\n                delete collections[i];\n            });\n        }\n\n        await this.storageService.save(Keys.collectionsPrefix + userId, collections);\n        this.decryptedCollectionCache = null;\n    }\n}\n","import {\n    ITreeNodeObject,\n    TreeNode,\n} from '../models/domain/treeNode';\n\nexport class ServiceUtils {\n    static nestedTraverse(nodeTree: TreeNode<ITreeNodeObject>[], partIndex: number, parts: string[],\n        obj: ITreeNodeObject, parent: ITreeNodeObject, delimiter: string) {\n        if (parts.length <= partIndex) {\n            return;\n        }\n\n        const end = partIndex === parts.length - 1;\n        const partName = parts[partIndex];\n\n        for (let i = 0; i < nodeTree.length; i++) {\n            if (nodeTree[i].node.name !== parts[partIndex]) {\n                continue;\n            }\n            if (end && nodeTree[i].node.id !== obj.id) {\n                // Another node with the same name.\n                nodeTree.push(new TreeNode(obj, partName, parent));\n                return;\n            }\n            ServiceUtils.nestedTraverse(nodeTree[i].children, partIndex + 1, parts,\n                obj, nodeTree[i].node, delimiter);\n            return;\n        }\n\n        if (nodeTree.filter(n => n.node.name === partName).length === 0) {\n            if (end) {\n                nodeTree.push(new TreeNode(obj, partName, parent));\n                return;\n            }\n            const newPartName = parts[partIndex] + delimiter + parts[partIndex + 1];\n            ServiceUtils.nestedTraverse(nodeTree, 0, [newPartName, ...parts.slice(partIndex + 2)],\n                obj, parent, delimiter);\n        }\n    }\n\n    static getTreeNodeObject(nodeTree: TreeNode<ITreeNodeObject>[], id: string): TreeNode<ITreeNodeObject> {\n        for (let i = 0; i < nodeTree.length; i++) {\n            if (nodeTree[i].node.id === id) {\n                return nodeTree[i];\n            } else if (nodeTree[i].children != null) {\n                const node = ServiceUtils.getTreeNodeObject(nodeTree[i].children, id);\n                if (node !== null) {\n                    return node;\n                }\n            }\n        }\n        return null;\n    }\n}\n","import { CryptoService } from '../abstractions/crypto.service';\n\nexport class ContainerService {\n    constructor(private cryptoService: CryptoService) {\n    }\n\n    // deprecated, use attachToGlobal instead\n    attachToWindow(win: any) {\n        this.attachToGlobal(win);\n    }\n\n    attachToGlobal(global: any) {\n        if (!global.bitwardenContainerService) {\n            global.bitwardenContainerService = this;\n        }\n    }\n\n    getCryptoService(): CryptoService {\n        return this.cryptoService;\n    }\n}\n","import * as bigInt from 'big-integer';\n\nimport { EncryptionType } from '../enums/encryptionType';\nimport { KdfType } from '../enums/kdfType';\n\nimport { EncArrayBuffer } from '../models/domain/encArrayBuffer';\nimport { EncryptedObject } from '../models/domain/encryptedObject';\nimport { EncString } from '../models/domain/encString';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\nimport { ProfileOrganizationResponse } from '../models/response/profileOrganizationResponse';\n\nimport { CryptoService as CryptoServiceAbstraction } from '../abstractions/crypto.service';\nimport { CryptoFunctionService } from '../abstractions/cryptoFunction.service';\nimport { LogService } from '../abstractions/log.service';\nimport { PlatformUtilsService } from '../abstractions/platformUtils.service';\nimport { StorageService } from '../abstractions/storage.service';\n\nimport { ConstantsService } from './constants.service';\n\nimport { sequentialize } from '../misc/sequentialize';\nimport { Utils } from '../misc/utils';\nimport { EEFLongWordList } from '../misc/wordlist';\n\nconst Keys = {\n    key: 'key', // Master Key\n    encOrgKeys: 'encOrgKeys',\n    encPrivateKey: 'encPrivateKey',\n    encKey: 'encKey', // Generated Symmetric Key\n    keyHash: 'keyHash',\n};\n\nexport class CryptoService implements CryptoServiceAbstraction {\n    private key: SymmetricCryptoKey;\n    private encKey: SymmetricCryptoKey;\n    private legacyEtmKey: SymmetricCryptoKey;\n    private keyHash: string;\n    private publicKey: ArrayBuffer;\n    private privateKey: ArrayBuffer;\n    private orgKeys: Map<string, SymmetricCryptoKey>;\n\n    constructor(private storageService: StorageService, private secureStorageService: StorageService,\n        private cryptoFunctionService: CryptoFunctionService, private platformUtilService: PlatformUtilsService,\n        private logService: LogService) {\n    }\n\n    async setKey(key: SymmetricCryptoKey): Promise<any> {\n        this.key = key;\n\n        const option = await this.storageService.get<number>(ConstantsService.vaultTimeoutKey);\n        const biometric = await this.storageService.get<boolean>(ConstantsService.biometricUnlockKey);\n        if (option != null && !(biometric && this.platformUtilService.supportsSecureStorage())) {\n            // if we have a lock option set, we do not store the key\n            return;\n        }\n\n        return this.secureStorageService.save(Keys.key, key.keyB64);\n    }\n\n    setKeyHash(keyHash: string): Promise<{}> {\n        this.keyHash = keyHash;\n        return this.storageService.save(Keys.keyHash, keyHash);\n    }\n\n    async setEncKey(encKey: string): Promise<{}> {\n        if (encKey == null) {\n            return;\n        }\n\n        await this.storageService.save(Keys.encKey, encKey);\n        this.encKey = null;\n    }\n\n    async setEncPrivateKey(encPrivateKey: string): Promise<{}> {\n        if (encPrivateKey == null) {\n            return;\n        }\n\n        await this.storageService.save(Keys.encPrivateKey, encPrivateKey);\n        this.privateKey = null;\n    }\n\n    setOrgKeys(orgs: ProfileOrganizationResponse[]): Promise<{}> {\n        const orgKeys: any = {};\n        orgs.forEach(org => {\n            orgKeys[org.id] = org.key;\n        });\n\n        this.orgKeys = null;\n        return this.storageService.save(Keys.encOrgKeys, orgKeys);\n    }\n\n    async getKey(): Promise<SymmetricCryptoKey> {\n        if (this.key != null) {\n            return this.key;\n        }\n\n        const key = await this.secureStorageService.get<string>(Keys.key);\n        if (key != null) {\n            this.key = new SymmetricCryptoKey(Utils.fromB64ToArray(key).buffer);\n        }\n\n        return key == null ? null : this.key;\n    }\n\n    async getKeyHash(): Promise<string> {\n        if (this.keyHash != null) {\n            return this.keyHash;\n        }\n\n        const keyHash = await this.storageService.get<string>(Keys.keyHash);\n        if (keyHash != null) {\n            this.keyHash = keyHash;\n        }\n\n        return keyHash == null ? null : this.keyHash;\n    }\n\n    @sequentialize(() => 'getEncKey')\n    async getEncKey(key: SymmetricCryptoKey = null): Promise<SymmetricCryptoKey> {\n        if (this.encKey != null) {\n            return this.encKey;\n        }\n\n        const encKey = await this.storageService.get<string>(Keys.encKey);\n        if (encKey == null) {\n            return null;\n        }\n\n        if (key == null) {\n            key = await this.getKey();\n        }\n        if (key == null) {\n            return null;\n        }\n\n        let decEncKey: ArrayBuffer;\n        const encKeyCipher = new EncString(encKey);\n        if (encKeyCipher.encryptionType === EncryptionType.AesCbc256_B64) {\n            decEncKey = await this.decryptToBytes(encKeyCipher, key);\n        } else if (encKeyCipher.encryptionType === EncryptionType.AesCbc256_HmacSha256_B64) {\n            const newKey = await this.stretchKey(key);\n            decEncKey = await this.decryptToBytes(encKeyCipher, newKey);\n        } else {\n            throw new Error('Unsupported encKey type.');\n        }\n\n        if (decEncKey == null) {\n            return null;\n        }\n        this.encKey = new SymmetricCryptoKey(decEncKey);\n        return this.encKey;\n    }\n\n    async getPublicKey(): Promise<ArrayBuffer> {\n        if (this.publicKey != null) {\n            return this.publicKey;\n        }\n\n        const privateKey = await this.getPrivateKey();\n        if (privateKey == null) {\n            return null;\n        }\n\n        this.publicKey = await this.cryptoFunctionService.rsaExtractPublicKey(privateKey);\n        return this.publicKey;\n    }\n\n    async getPrivateKey(): Promise<ArrayBuffer> {\n        if (this.privateKey != null) {\n            return this.privateKey;\n        }\n\n        const encPrivateKey = await this.storageService.get<string>(Keys.encPrivateKey);\n        if (encPrivateKey == null) {\n            return null;\n        }\n\n        this.privateKey = await this.decryptToBytes(new EncString(encPrivateKey), null);\n        return this.privateKey;\n    }\n\n    async getFingerprint(userId: string, publicKey?: ArrayBuffer): Promise<string[]> {\n        if (publicKey == null) {\n            publicKey = await this.getPublicKey();\n        }\n        if (publicKey === null) {\n            throw new Error('No public key available.');\n        }\n        const keyFingerprint = await this.cryptoFunctionService.hash(publicKey, 'sha256');\n        const userFingerprint = await this.cryptoFunctionService.hkdfExpand(keyFingerprint, userId, 32, 'sha256');\n        return this.hashPhrase(userFingerprint);\n    }\n\n    @sequentialize(() => 'getOrgKeys')\n    async getOrgKeys(): Promise<Map<string, SymmetricCryptoKey>> {\n        if (this.orgKeys != null && this.orgKeys.size > 0) {\n            return this.orgKeys;\n        }\n\n        const encOrgKeys = await this.storageService.get<any>(Keys.encOrgKeys);\n        if (encOrgKeys == null) {\n            return null;\n        }\n\n        const orgKeys: Map<string, SymmetricCryptoKey> = new Map<string, SymmetricCryptoKey>();\n        let setKey = false;\n\n        for (const orgId in encOrgKeys) {\n            if (!encOrgKeys.hasOwnProperty(orgId)) {\n                continue;\n            }\n\n            const decValue = await this.rsaDecrypt(encOrgKeys[orgId]);\n            orgKeys.set(orgId, new SymmetricCryptoKey(decValue));\n            setKey = true;\n        }\n\n        if (setKey) {\n            this.orgKeys = orgKeys;\n        }\n\n        return this.orgKeys;\n    }\n\n    async getOrgKey(orgId: string): Promise<SymmetricCryptoKey> {\n        if (orgId == null) {\n            return null;\n        }\n\n        const orgKeys = await this.getOrgKeys();\n        if (orgKeys == null || !orgKeys.has(orgId)) {\n            return null;\n        }\n\n        return orgKeys.get(orgId);\n    }\n\n    async hasKey(): Promise<boolean> {\n        return (await this.getKey()) != null;\n    }\n\n    async hasEncKey(): Promise<boolean> {\n        const encKey = await this.storageService.get<string>(Keys.encKey);\n        return encKey != null;\n    }\n\n    clearKey(): Promise<any> {\n        this.key = this.legacyEtmKey = null;\n        return this.secureStorageService.remove(Keys.key);\n    }\n\n    clearKeyHash(): Promise<any> {\n        this.keyHash = null;\n        return this.storageService.remove(Keys.keyHash);\n    }\n\n    clearEncKey(memoryOnly?: boolean): Promise<any> {\n        this.encKey = null;\n        if (memoryOnly) {\n            return Promise.resolve();\n        }\n        return this.storageService.remove(Keys.encKey);\n    }\n\n    clearKeyPair(memoryOnly?: boolean): Promise<any> {\n        this.privateKey = null;\n        this.publicKey = null;\n        if (memoryOnly) {\n            return Promise.resolve();\n        }\n        return this.storageService.remove(Keys.encPrivateKey);\n    }\n\n    clearOrgKeys(memoryOnly?: boolean): Promise<any> {\n        this.orgKeys = null;\n        if (memoryOnly) {\n            return Promise.resolve();\n        }\n        return this.storageService.remove(Keys.encOrgKeys);\n    }\n\n    clearPinProtectedKey(): Promise<any> {\n        return this.storageService.remove(ConstantsService.pinProtectedKey);\n    }\n\n    clearKeys(): Promise<any> {\n        return Promise.all([\n            this.clearKey(),\n            this.clearKeyHash(),\n            this.clearOrgKeys(),\n            this.clearEncKey(),\n            this.clearKeyPair(),\n            this.clearPinProtectedKey(),\n        ]);\n    }\n\n    async toggleKey(): Promise<any> {\n        const key = await this.getKey();\n        const option = await this.storageService.get(ConstantsService.vaultTimeoutKey);\n        const biometric = await this.storageService.get(ConstantsService.biometricUnlockKey);\n        if ((!biometric && this.platformUtilService.supportsSecureStorage()) && (option != null || option === 0)) {\n            // if we have a lock option set, clear the key\n            await this.clearKey();\n            this.key = key;\n            return;\n        }\n\n        await this.setKey(key);\n    }\n\n    async makeKey(password: string, salt: string, kdf: KdfType, kdfIterations: number):\n        Promise<SymmetricCryptoKey> {\n        let key: ArrayBuffer = null;\n        if (kdf == null || kdf === KdfType.PBKDF2_SHA256) {\n            if (kdfIterations == null) {\n                kdfIterations = 5000;\n            } else if (kdfIterations < 5000) {\n                throw new Error('PBKDF2 iteration minimum is 5000.');\n            }\n            key = await this.cryptoFunctionService.pbkdf2(password, salt, 'sha256', kdfIterations);\n        } else {\n            throw new Error('Unknown Kdf.');\n        }\n        return new SymmetricCryptoKey(key);\n    }\n\n    async makeKeyFromPin(pin: string, salt: string, kdf: KdfType, kdfIterations: number,\n        protectedKeyCs: EncString = null):\n        Promise<SymmetricCryptoKey> {\n        if (protectedKeyCs == null) {\n            const pinProtectedKey = await this.storageService.get<string>(ConstantsService.pinProtectedKey);\n            if (pinProtectedKey == null) {\n                throw new Error('No PIN protected key found.');\n            }\n            protectedKeyCs = new EncString(pinProtectedKey);\n        }\n        const pinKey = await this.makePinKey(pin, salt, kdf, kdfIterations);\n        const decKey = await this.decryptToBytes(protectedKeyCs, pinKey);\n        return new SymmetricCryptoKey(decKey);\n    }\n\n    async makeShareKey(): Promise<[EncString, SymmetricCryptoKey]> {\n        const shareKey = await this.cryptoFunctionService.randomBytes(64);\n        const publicKey = await this.getPublicKey();\n        const encShareKey = await this.rsaEncrypt(shareKey, publicKey);\n        return [encShareKey, new SymmetricCryptoKey(shareKey)];\n    }\n\n    async makeKeyPair(key?: SymmetricCryptoKey): Promise<[string, EncString]> {\n        const keyPair = await this.cryptoFunctionService.rsaGenerateKeyPair(2048);\n        const publicB64 = Utils.fromBufferToB64(keyPair[0]);\n        const privateEnc = await this.encrypt(keyPair[1], key);\n        return [publicB64, privateEnc];\n    }\n\n    async makePinKey(pin: string, salt: string, kdf: KdfType, kdfIterations: number): Promise<SymmetricCryptoKey> {\n        const pinKey = await this.makeKey(pin, salt, kdf, kdfIterations);\n        return await this.stretchKey(pinKey);\n    }\n\n    async makeSendKey(keyMaterial: ArrayBuffer): Promise<SymmetricCryptoKey> {\n        const sendKey = await this.cryptoFunctionService.hkdf(keyMaterial, 'bitwarden-send', 'send', 64, 'sha256');\n        return new SymmetricCryptoKey(sendKey);\n    }\n\n    async hashPassword(password: string, key: SymmetricCryptoKey): Promise<string> {\n        if (key == null) {\n            key = await this.getKey();\n        }\n        if (password == null || key == null) {\n            throw new Error('Invalid parameters.');\n        }\n\n        const hash = await this.cryptoFunctionService.pbkdf2(key.key, password, 'sha256', 1);\n        return Utils.fromBufferToB64(hash);\n    }\n\n    async makeEncKey(key: SymmetricCryptoKey): Promise<[SymmetricCryptoKey, EncString]> {\n        const theKey = await this.getKeyForEncryption(key);\n        const encKey = await this.cryptoFunctionService.randomBytes(64);\n        return this.buildEncKey(theKey, encKey);\n    }\n\n    async remakeEncKey(key: SymmetricCryptoKey, encKey?: SymmetricCryptoKey): Promise<[SymmetricCryptoKey, EncString]> {\n        if (encKey == null) {\n            encKey = await this.getEncKey();\n        }\n        return this.buildEncKey(key, encKey.key);\n    }\n\n    async encrypt(plainValue: string | ArrayBuffer, key?: SymmetricCryptoKey): Promise<EncString> {\n        if (plainValue == null) {\n            return Promise.resolve(null);\n        }\n\n        let plainBuf: ArrayBuffer;\n        if (typeof (plainValue) === 'string') {\n            plainBuf = Utils.fromUtf8ToArray(plainValue).buffer;\n        } else {\n            plainBuf = plainValue;\n        }\n\n        const encObj = await this.aesEncrypt(plainBuf, key);\n        const iv = Utils.fromBufferToB64(encObj.iv);\n        const data = Utils.fromBufferToB64(encObj.data);\n        const mac = encObj.mac != null ? Utils.fromBufferToB64(encObj.mac) : null;\n        return new EncString(encObj.key.encType, data, iv, mac);\n    }\n\n    async encryptToBytes(plainValue: ArrayBuffer, key?: SymmetricCryptoKey): Promise<EncArrayBuffer> {\n        const encValue = await this.aesEncrypt(plainValue, key);\n        let macLen = 0;\n        if (encValue.mac != null) {\n            macLen = encValue.mac.byteLength;\n        }\n\n        const encBytes = new Uint8Array(1 + encValue.iv.byteLength + macLen + encValue.data.byteLength);\n        encBytes.set([encValue.key.encType]);\n        encBytes.set(new Uint8Array(encValue.iv), 1);\n        if (encValue.mac != null) {\n            encBytes.set(new Uint8Array(encValue.mac), 1 + encValue.iv.byteLength);\n        }\n\n        encBytes.set(new Uint8Array(encValue.data), 1 + encValue.iv.byteLength + macLen);\n        return new EncArrayBuffer(encBytes.buffer);\n    }\n\n    async rsaEncrypt(data: ArrayBuffer, publicKey?: ArrayBuffer): Promise<EncString> {\n        if (publicKey == null) {\n            publicKey = await this.getPublicKey();\n        }\n        if (publicKey == null) {\n            throw new Error('Public key unavailable.');\n        }\n\n        const encBytes = await this.cryptoFunctionService.rsaEncrypt(data, publicKey, 'sha1');\n        return new EncString(EncryptionType.Rsa2048_OaepSha1_B64, Utils.fromBufferToB64(encBytes));\n    }\n\n    async rsaDecrypt(encValue: string): Promise<ArrayBuffer> {\n        const headerPieces = encValue.split('.');\n        let encType: EncryptionType = null;\n        let encPieces: string[];\n\n        if (headerPieces.length === 1) {\n            encType = EncryptionType.Rsa2048_OaepSha256_B64;\n            encPieces = [headerPieces[0]];\n        } else if (headerPieces.length === 2) {\n            try {\n                encType = parseInt(headerPieces[0], null);\n                encPieces = headerPieces[1].split('|');\n            } catch (e) { }\n        }\n\n        switch (encType) {\n            case EncryptionType.Rsa2048_OaepSha256_B64:\n            case EncryptionType.Rsa2048_OaepSha1_B64:\n            // HmacSha256 types are deprecated\n            case EncryptionType.Rsa2048_OaepSha256_HmacSha256_B64:\n            case EncryptionType.Rsa2048_OaepSha1_HmacSha256_B64:\n                break;\n            default:\n                throw new Error('encType unavailable.');\n        }\n\n        if (encPieces == null || encPieces.length <= 0) {\n            throw new Error('encPieces unavailable.');\n        }\n\n        const data = Utils.fromB64ToArray(encPieces[0]).buffer;\n        const privateKey = await this.getPrivateKey();\n        if (privateKey == null) {\n            throw new Error('No private key.');\n        }\n\n        let alg: 'sha1' | 'sha256' = 'sha1';\n        switch (encType) {\n            case EncryptionType.Rsa2048_OaepSha256_B64:\n            case EncryptionType.Rsa2048_OaepSha256_HmacSha256_B64:\n                alg = 'sha256';\n                break;\n            case EncryptionType.Rsa2048_OaepSha1_B64:\n            case EncryptionType.Rsa2048_OaepSha1_HmacSha256_B64:\n                break;\n            default:\n                throw new Error('encType unavailable.');\n        }\n\n        return this.cryptoFunctionService.rsaDecrypt(data, privateKey, alg);\n    }\n\n    async decryptToBytes(encString: EncString, key?: SymmetricCryptoKey): Promise<ArrayBuffer> {\n        const iv = Utils.fromB64ToArray(encString.iv).buffer;\n        const data = Utils.fromB64ToArray(encString.data).buffer;\n        const mac = encString.mac ? Utils.fromB64ToArray(encString.mac).buffer : null;\n        const decipher = await this.aesDecryptToBytes(encString.encryptionType, data, iv, mac, key);\n        if (decipher == null) {\n            return null;\n        }\n\n        return decipher;\n    }\n\n    async decryptToUtf8(encString: EncString, key?: SymmetricCryptoKey): Promise<string> {\n        return await this.aesDecryptToUtf8(encString.encryptionType, encString.data,\n            encString.iv, encString.mac, key);\n    }\n\n    async decryptFromBytes(encBuf: ArrayBuffer, key: SymmetricCryptoKey): Promise<ArrayBuffer> {\n        if (encBuf == null) {\n            throw new Error('no encBuf.');\n        }\n\n        const encBytes = new Uint8Array(encBuf);\n        const encType = encBytes[0];\n        let ctBytes: Uint8Array = null;\n        let ivBytes: Uint8Array = null;\n        let macBytes: Uint8Array = null;\n\n        switch (encType) {\n            case EncryptionType.AesCbc128_HmacSha256_B64:\n            case EncryptionType.AesCbc256_HmacSha256_B64:\n                if (encBytes.length <= 49) { // 1 + 16 + 32 + ctLength\n                    return null;\n                }\n\n                ivBytes = encBytes.slice(1, 17);\n                macBytes = encBytes.slice(17, 49);\n                ctBytes = encBytes.slice(49);\n                break;\n            case EncryptionType.AesCbc256_B64:\n                if (encBytes.length <= 17) { // 1 + 16 + ctLength\n                    return null;\n                }\n\n                ivBytes = encBytes.slice(1, 17);\n                ctBytes = encBytes.slice(17);\n                break;\n            default:\n                return null;\n        }\n\n        return await this.aesDecryptToBytes(encType, ctBytes.buffer, ivBytes.buffer,\n            macBytes != null ? macBytes.buffer : null, key);\n    }\n\n    // EFForg/OpenWireless\n    // ref https://github.com/EFForg/OpenWireless/blob/master/app/js/diceware.js\n    async randomNumber(min: number, max: number): Promise<number> {\n        let rval = 0;\n        const range = max - min + 1;\n        const bitsNeeded = Math.ceil(Math.log2(range));\n        if (bitsNeeded > 53) {\n            throw new Error('We cannot generate numbers larger than 53 bits.');\n        }\n\n        const bytesNeeded = Math.ceil(bitsNeeded / 8);\n        const mask = Math.pow(2, bitsNeeded) - 1;\n        // 7776 -> (2^13 = 8192) -1 == 8191 or 0x00001111 11111111\n\n        // Fill a byte array with N random numbers\n        const byteArray = new Uint8Array(await this.cryptoFunctionService.randomBytes(bytesNeeded));\n\n        let p = (bytesNeeded - 1) * 8;\n        for (let i = 0; i < bytesNeeded; i++) {\n            rval += byteArray[i] * Math.pow(2, p);\n            p -= 8;\n        }\n\n        // Use & to apply the mask and reduce the number of recursive lookups\n        // tslint:disable-next-line\n        rval = rval & mask;\n\n        if (rval >= range) {\n            // Integer out of acceptable range\n            return this.randomNumber(min, max);\n        }\n\n        // Return an integer that falls within the range\n        return min + rval;\n    }\n\n    // Helpers\n\n    private async aesEncrypt(data: ArrayBuffer, key: SymmetricCryptoKey): Promise<EncryptedObject> {\n        const obj = new EncryptedObject();\n        obj.key = await this.getKeyForEncryption(key);\n        obj.iv = await this.cryptoFunctionService.randomBytes(16);\n        obj.data = await this.cryptoFunctionService.aesEncrypt(data, obj.iv, obj.key.encKey);\n\n        if (obj.key.macKey != null) {\n            const macData = new Uint8Array(obj.iv.byteLength + obj.data.byteLength);\n            macData.set(new Uint8Array(obj.iv), 0);\n            macData.set(new Uint8Array(obj.data), obj.iv.byteLength);\n            obj.mac = await this.cryptoFunctionService.hmac(macData.buffer, obj.key.macKey, 'sha256');\n        }\n\n        return obj;\n    }\n\n    private async aesDecryptToUtf8(encType: EncryptionType, data: string, iv: string, mac: string,\n        key: SymmetricCryptoKey): Promise<string> {\n        const keyForEnc = await this.getKeyForEncryption(key);\n        const theKey = this.resolveLegacyKey(encType, keyForEnc);\n\n        if (theKey.macKey != null && mac == null) {\n            this.logService.error('mac required.');\n            return null;\n        }\n\n        if (theKey.encType !== encType) {\n            this.logService.error('encType unavailable.');\n            return null;\n        }\n\n        const fastParams = this.cryptoFunctionService.aesDecryptFastParameters(data, iv, mac, theKey);\n        if (fastParams.macKey != null && fastParams.mac != null) {\n            const computedMac = await this.cryptoFunctionService.hmacFast(fastParams.macData,\n                fastParams.macKey, 'sha256');\n            const macsEqual = await this.cryptoFunctionService.compareFast(fastParams.mac, computedMac);\n            if (!macsEqual) {\n                this.logService.error('mac failed.');\n                return null;\n            }\n        }\n\n        return this.cryptoFunctionService.aesDecryptFast(fastParams);\n    }\n\n    private async aesDecryptToBytes(encType: EncryptionType, data: ArrayBuffer, iv: ArrayBuffer,\n        mac: ArrayBuffer, key: SymmetricCryptoKey): Promise<ArrayBuffer> {\n        const keyForEnc = await this.getKeyForEncryption(key);\n        const theKey = this.resolveLegacyKey(encType, keyForEnc);\n\n        if (theKey.macKey != null && mac == null) {\n            return null;\n        }\n\n        if (theKey.encType !== encType) {\n            return null;\n        }\n\n        if (theKey.macKey != null && mac != null) {\n            const macData = new Uint8Array(iv.byteLength + data.byteLength);\n            macData.set(new Uint8Array(iv), 0);\n            macData.set(new Uint8Array(data), iv.byteLength);\n            const computedMac = await this.cryptoFunctionService.hmac(macData.buffer, theKey.macKey, 'sha256');\n            if (computedMac === null) {\n                return null;\n            }\n\n            const macsMatch = await this.cryptoFunctionService.compare(mac, computedMac);\n            if (!macsMatch) {\n                this.logService.error('mac failed.');\n                return null;\n            }\n        }\n\n        return await this.cryptoFunctionService.aesDecrypt(data, iv, theKey.encKey);\n    }\n\n    private async getKeyForEncryption(key?: SymmetricCryptoKey): Promise<SymmetricCryptoKey> {\n        if (key != null) {\n            return key;\n        }\n\n        const encKey = await this.getEncKey();\n        if (encKey != null) {\n            return encKey;\n        }\n\n        return await this.getKey();\n    }\n\n    private resolveLegacyKey(encType: EncryptionType, key: SymmetricCryptoKey): SymmetricCryptoKey {\n        if (encType === EncryptionType.AesCbc128_HmacSha256_B64 &&\n            key.encType === EncryptionType.AesCbc256_B64) {\n            // Old encrypt-then-mac scheme, make a new key\n            if (this.legacyEtmKey == null) {\n                this.legacyEtmKey = new SymmetricCryptoKey(key.key, EncryptionType.AesCbc128_HmacSha256_B64);\n            }\n            return this.legacyEtmKey;\n        }\n\n        return key;\n    }\n\n    private async stretchKey(key: SymmetricCryptoKey): Promise<SymmetricCryptoKey> {\n        const newKey = new Uint8Array(64);\n        const encKey = await this.cryptoFunctionService.hkdfExpand(key.key, 'enc', 32, 'sha256');\n        const macKey = await this.cryptoFunctionService.hkdfExpand(key.key, 'mac', 32, 'sha256');\n        newKey.set(new Uint8Array(encKey));\n        newKey.set(new Uint8Array(macKey), 32);\n        return new SymmetricCryptoKey(newKey.buffer);\n    }\n\n    private async hashPhrase(hash: ArrayBuffer, minimumEntropy: number = 64) {\n        const entropyPerWord = Math.log(EEFLongWordList.length) / Math.log(2);\n        let numWords = Math.ceil(minimumEntropy / entropyPerWord);\n\n        const hashArr = Array.from(new Uint8Array(hash));\n        const entropyAvailable = hashArr.length * 4;\n        if (numWords * entropyPerWord > entropyAvailable) {\n            throw new Error('Output entropy of hash function is too small');\n        }\n\n        const phrase: string[] = [];\n        let hashNumber = bigInt.fromArray(hashArr, 256);\n        while (numWords--) {\n            const remainder = hashNumber.mod(EEFLongWordList.length);\n            hashNumber = hashNumber.divide(EEFLongWordList.length);\n            phrase.push(EEFLongWordList[remainder as any]);\n        }\n        return phrase;\n    }\n\n    private async buildEncKey(key: SymmetricCryptoKey, encKey: ArrayBuffer)\n        : Promise<[SymmetricCryptoKey, EncString]> {\n        let encKeyEnc: EncString = null;\n        if (key.key.byteLength === 32) {\n            const newKey = await this.stretchKey(key);\n            encKeyEnc = await this.encrypt(encKey, newKey);\n        } else if (key.key.byteLength === 64) {\n            encKeyEnc = await this.encrypt(encKey, key);\n        } else {\n            throw new Error('Invalid key size.');\n        }\n        return [new SymmetricCryptoKey(encKey), encKeyEnc];\n    }\n}\n","// EFF's Long Wordlist from https://www.eff.org/dice\nexport const EEFLongWordList = [\n    'abacus',\n    'abdomen',\n    'abdominal',\n    'abide',\n    'abiding',\n    'ability',\n    'ablaze',\n    'able',\n    'abnormal',\n    'abrasion',\n    'abrasive',\n    'abreast',\n    'abridge',\n    'abroad',\n    'abruptly',\n    'absence',\n    'absentee',\n    'absently',\n    'absinthe',\n    'absolute',\n    'absolve',\n    'abstain',\n    'abstract',\n    'absurd',\n    'accent',\n    'acclaim',\n    'acclimate',\n    'accompany',\n    'account',\n    'accuracy',\n    'accurate',\n    'accustom',\n    'acetone',\n    'achiness',\n    'aching',\n    'acid',\n    'acorn',\n    'acquaint',\n    'acquire',\n    'acre',\n    'acrobat',\n    'acronym',\n    'acting',\n    'action',\n    'activate',\n    'activator',\n    'active',\n    'activism',\n    'activist',\n    'activity',\n    'actress',\n    'acts',\n    'acutely',\n    'acuteness',\n    'aeration',\n    'aerobics',\n    'aerosol',\n    'aerospace',\n    'afar',\n    'affair',\n    'affected',\n    'affecting',\n    'affection',\n    'affidavit',\n    'affiliate',\n    'affirm',\n    'affix',\n    'afflicted',\n    'affluent',\n    'afford',\n    'affront',\n    'aflame',\n    'afloat',\n    'aflutter',\n    'afoot',\n    'afraid',\n    'afterglow',\n    'afterlife',\n    'aftermath',\n    'aftermost',\n    'afternoon',\n    'aged',\n    'ageless',\n    'agency',\n    'agenda',\n    'agent',\n    'aggregate',\n    'aghast',\n    'agile',\n    'agility',\n    'aging',\n    'agnostic',\n    'agonize',\n    'agonizing',\n    'agony',\n    'agreeable',\n    'agreeably',\n    'agreed',\n    'agreeing',\n    'agreement',\n    'aground',\n    'ahead',\n    'ahoy',\n    'aide',\n    'aids',\n    'aim',\n    'ajar',\n    'alabaster',\n    'alarm',\n    'albatross',\n    'album',\n    'alfalfa',\n    'algebra',\n    'algorithm',\n    'alias',\n    'alibi',\n    'alienable',\n    'alienate',\n    'aliens',\n    'alike',\n    'alive',\n    'alkaline',\n    'alkalize',\n    'almanac',\n    'almighty',\n    'almost',\n    'aloe',\n    'aloft',\n    'aloha',\n    'alone',\n    'alongside',\n    'aloof',\n    'alphabet',\n    'alright',\n    'although',\n    'altitude',\n    'alto',\n    'aluminum',\n    'alumni',\n    'always',\n    'amaretto',\n    'amaze',\n    'amazingly',\n    'amber',\n    'ambiance',\n    'ambiguity',\n    'ambiguous',\n    'ambition',\n    'ambitious',\n    'ambulance',\n    'ambush',\n    'amendable',\n    'amendment',\n    'amends',\n    'amenity',\n    'amiable',\n    'amicably',\n    'amid',\n    'amigo',\n    'amino',\n    'amiss',\n    'ammonia',\n    'ammonium',\n    'amnesty',\n    'amniotic',\n    'among',\n    'amount',\n    'amperage',\n    'ample',\n    'amplifier',\n    'amplify',\n    'amply',\n    'amuck',\n    'amulet',\n    'amusable',\n    'amused',\n    'amusement',\n    'amuser',\n    'amusing',\n    'anaconda',\n    'anaerobic',\n    'anagram',\n    'anatomist',\n    'anatomy',\n    'anchor',\n    'anchovy',\n    'ancient',\n    'android',\n    'anemia',\n    'anemic',\n    'aneurism',\n    'anew',\n    'angelfish',\n    'angelic',\n    'anger',\n    'angled',\n    'angler',\n    'angles',\n    'angling',\n    'angrily',\n    'angriness',\n    'anguished',\n    'angular',\n    'animal',\n    'animate',\n    'animating',\n    'animation',\n    'animator',\n    'anime',\n    'animosity',\n    'ankle',\n    'annex',\n    'annotate',\n    'announcer',\n    'annoying',\n    'annually',\n    'annuity',\n    'anointer',\n    'another',\n    'answering',\n    'antacid',\n    'antarctic',\n    'anteater',\n    'antelope',\n    'antennae',\n    'anthem',\n    'anthill',\n    'anthology',\n    'antibody',\n    'antics',\n    'antidote',\n    'antihero',\n    'antiquely',\n    'antiques',\n    'antiquity',\n    'antirust',\n    'antitoxic',\n    'antitrust',\n    'antiviral',\n    'antivirus',\n    'antler',\n    'antonym',\n    'antsy',\n    'anvil',\n    'anybody',\n    'anyhow',\n    'anymore',\n    'anyone',\n    'anyplace',\n    'anything',\n    'anytime',\n    'anyway',\n    'anywhere',\n    'aorta',\n    'apache',\n    'apostle',\n    'appealing',\n    'appear',\n    'appease',\n    'appeasing',\n    'appendage',\n    'appendix',\n    'appetite',\n    'appetizer',\n    'applaud',\n    'applause',\n    'apple',\n    'appliance',\n    'applicant',\n    'applied',\n    'apply',\n    'appointee',\n    'appraisal',\n    'appraiser',\n    'apprehend',\n    'approach',\n    'approval',\n    'approve',\n    'apricot',\n    'april',\n    'apron',\n    'aptitude',\n    'aptly',\n    'aqua',\n    'aqueduct',\n    'arbitrary',\n    'arbitrate',\n    'ardently',\n    'area',\n    'arena',\n    'arguable',\n    'arguably',\n    'argue',\n    'arise',\n    'armadillo',\n    'armband',\n    'armchair',\n    'armed',\n    'armful',\n    'armhole',\n    'arming',\n    'armless',\n    'armoire',\n    'armored',\n    'armory',\n    'armrest',\n    'army',\n    'aroma',\n    'arose',\n    'around',\n    'arousal',\n    'arrange',\n    'array',\n    'arrest',\n    'arrival',\n    'arrive',\n    'arrogance',\n    'arrogant',\n    'arson',\n    'art',\n    'ascend',\n    'ascension',\n    'ascent',\n    'ascertain',\n    'ashamed',\n    'ashen',\n    'ashes',\n    'ashy',\n    'aside',\n    'askew',\n    'asleep',\n    'asparagus',\n    'aspect',\n    'aspirate',\n    'aspire',\n    'aspirin',\n    'astonish',\n    'astound',\n    'astride',\n    'astrology',\n    'astronaut',\n    'astronomy',\n    'astute',\n    'atlantic',\n    'atlas',\n    'atom',\n    'atonable',\n    'atop',\n    'atrium',\n    'atrocious',\n    'atrophy',\n    'attach',\n    'attain',\n    'attempt',\n    'attendant',\n    'attendee',\n    'attention',\n    'attentive',\n    'attest',\n    'attic',\n    'attire',\n    'attitude',\n    'attractor',\n    'attribute',\n    'atypical',\n    'auction',\n    'audacious',\n    'audacity',\n    'audible',\n    'audibly',\n    'audience',\n    'audio',\n    'audition',\n    'augmented',\n    'august',\n    'authentic',\n    'author',\n    'autism',\n    'autistic',\n    'autograph',\n    'automaker',\n    'automated',\n    'automatic',\n    'autopilot',\n    'available',\n    'avalanche',\n    'avatar',\n    'avenge',\n    'avenging',\n    'avenue',\n    'average',\n    'aversion',\n    'avert',\n    'aviation',\n    'aviator',\n    'avid',\n    'avoid',\n    'await',\n    'awaken',\n    'award',\n    'aware',\n    'awhile',\n    'awkward',\n    'awning',\n    'awoke',\n    'awry',\n    'axis',\n    'babble',\n    'babbling',\n    'babied',\n    'baboon',\n    'backache',\n    'backboard',\n    'backboned',\n    'backdrop',\n    'backed',\n    'backer',\n    'backfield',\n    'backfire',\n    'backhand',\n    'backing',\n    'backlands',\n    'backlash',\n    'backless',\n    'backlight',\n    'backlit',\n    'backlog',\n    'backpack',\n    'backpedal',\n    'backrest',\n    'backroom',\n    'backshift',\n    'backside',\n    'backslid',\n    'backspace',\n    'backspin',\n    'backstab',\n    'backstage',\n    'backtalk',\n    'backtrack',\n    'backup',\n    'backward',\n    'backwash',\n    'backwater',\n    'backyard',\n    'bacon',\n    'bacteria',\n    'bacterium',\n    'badass',\n    'badge',\n    'badland',\n    'badly',\n    'badness',\n    'baffle',\n    'baffling',\n    'bagel',\n    'bagful',\n    'baggage',\n    'bagged',\n    'baggie',\n    'bagginess',\n    'bagging',\n    'baggy',\n    'bagpipe',\n    'baguette',\n    'baked',\n    'bakery',\n    'bakeshop',\n    'baking',\n    'balance',\n    'balancing',\n    'balcony',\n    'balmy',\n    'balsamic',\n    'bamboo',\n    'banana',\n    'banish',\n    'banister',\n    'banjo',\n    'bankable',\n    'bankbook',\n    'banked',\n    'banker',\n    'banking',\n    'banknote',\n    'bankroll',\n    'banner',\n    'bannister',\n    'banshee',\n    'banter',\n    'barbecue',\n    'barbed',\n    'barbell',\n    'barber',\n    'barcode',\n    'barge',\n    'bargraph',\n    'barista',\n    'baritone',\n    'barley',\n    'barmaid',\n    'barman',\n    'barn',\n    'barometer',\n    'barrack',\n    'barracuda',\n    'barrel',\n    'barrette',\n    'barricade',\n    'barrier',\n    'barstool',\n    'bartender',\n    'barterer',\n    'bash',\n    'basically',\n    'basics',\n    'basil',\n    'basin',\n    'basis',\n    'basket',\n    'batboy',\n    'batch',\n    'bath',\n    'baton',\n    'bats',\n    'battalion',\n    'battered',\n    'battering',\n    'battery',\n    'batting',\n    'battle',\n    'bauble',\n    'bazooka',\n    'blabber',\n    'bladder',\n    'blade',\n    'blah',\n    'blame',\n    'blaming',\n    'blanching',\n    'blandness',\n    'blank',\n    'blaspheme',\n    'blasphemy',\n    'blast',\n    'blatancy',\n    'blatantly',\n    'blazer',\n    'blazing',\n    'bleach',\n    'bleak',\n    'bleep',\n    'blemish',\n    'blend',\n    'bless',\n    'blighted',\n    'blimp',\n    'bling',\n    'blinked',\n    'blinker',\n    'blinking',\n    'blinks',\n    'blip',\n    'blissful',\n    'blitz',\n    'blizzard',\n    'bloated',\n    'bloating',\n    'blob',\n    'blog',\n    'bloomers',\n    'blooming',\n    'blooper',\n    'blot',\n    'blouse',\n    'blubber',\n    'bluff',\n    'bluish',\n    'blunderer',\n    'blunt',\n    'blurb',\n    'blurred',\n    'blurry',\n    'blurt',\n    'blush',\n    'blustery',\n    'boaster',\n    'boastful',\n    'boasting',\n    'boat',\n    'bobbed',\n    'bobbing',\n    'bobble',\n    'bobcat',\n    'bobsled',\n    'bobtail',\n    'bodacious',\n    'body',\n    'bogged',\n    'boggle',\n    'bogus',\n    'boil',\n    'bok',\n    'bolster',\n    'bolt',\n    'bonanza',\n    'bonded',\n    'bonding',\n    'bondless',\n    'boned',\n    'bonehead',\n    'boneless',\n    'bonelike',\n    'boney',\n    'bonfire',\n    'bonnet',\n    'bonsai',\n    'bonus',\n    'bony',\n    'boogeyman',\n    'boogieman',\n    'book',\n    'boondocks',\n    'booted',\n    'booth',\n    'bootie',\n    'booting',\n    'bootlace',\n    'bootleg',\n    'boots',\n    'boozy',\n    'borax',\n    'boring',\n    'borough',\n    'borrower',\n    'borrowing',\n    'boss',\n    'botanical',\n    'botanist',\n    'botany',\n    'botch',\n    'both',\n    'bottle',\n    'bottling',\n    'bottom',\n    'bounce',\n    'bouncing',\n    'bouncy',\n    'bounding',\n    'boundless',\n    'bountiful',\n    'bovine',\n    'boxcar',\n    'boxer',\n    'boxing',\n    'boxlike',\n    'boxy',\n    'breach',\n    'breath',\n    'breeches',\n    'breeching',\n    'breeder',\n    'breeding',\n    'breeze',\n    'breezy',\n    'brethren',\n    'brewery',\n    'brewing',\n    'briar',\n    'bribe',\n    'brick',\n    'bride',\n    'bridged',\n    'brigade',\n    'bright',\n    'brilliant',\n    'brim',\n    'bring',\n    'brink',\n    'brisket',\n    'briskly',\n    'briskness',\n    'bristle',\n    'brittle',\n    'broadband',\n    'broadcast',\n    'broaden',\n    'broadly',\n    'broadness',\n    'broadside',\n    'broadways',\n    'broiler',\n    'broiling',\n    'broken',\n    'broker',\n    'bronchial',\n    'bronco',\n    'bronze',\n    'bronzing',\n    'brook',\n    'broom',\n    'brought',\n    'browbeat',\n    'brownnose',\n    'browse',\n    'browsing',\n    'bruising',\n    'brunch',\n    'brunette',\n    'brunt',\n    'brush',\n    'brussels',\n    'brute',\n    'brutishly',\n    'bubble',\n    'bubbling',\n    'bubbly',\n    'buccaneer',\n    'bucked',\n    'bucket',\n    'buckle',\n    'buckshot',\n    'buckskin',\n    'bucktooth',\n    'buckwheat',\n    'buddhism',\n    'buddhist',\n    'budding',\n    'buddy',\n    'budget',\n    'buffalo',\n    'buffed',\n    'buffer',\n    'buffing',\n    'buffoon',\n    'buggy',\n    'bulb',\n    'bulge',\n    'bulginess',\n    'bulgur',\n    'bulk',\n    'bulldog',\n    'bulldozer',\n    'bullfight',\n    'bullfrog',\n    'bullhorn',\n    'bullion',\n    'bullish',\n    'bullpen',\n    'bullring',\n    'bullseye',\n    'bullwhip',\n    'bully',\n    'bunch',\n    'bundle',\n    'bungee',\n    'bunion',\n    'bunkbed',\n    'bunkhouse',\n    'bunkmate',\n    'bunny',\n    'bunt',\n    'busboy',\n    'bush',\n    'busily',\n    'busload',\n    'bust',\n    'busybody',\n    'buzz',\n    'cabana',\n    'cabbage',\n    'cabbie',\n    'cabdriver',\n    'cable',\n    'caboose',\n    'cache',\n    'cackle',\n    'cacti',\n    'cactus',\n    'caddie',\n    'caddy',\n    'cadet',\n    'cadillac',\n    'cadmium',\n    'cage',\n    'cahoots',\n    'cake',\n    'calamari',\n    'calamity',\n    'calcium',\n    'calculate',\n    'calculus',\n    'caliber',\n    'calibrate',\n    'calm',\n    'caloric',\n    'calorie',\n    'calzone',\n    'camcorder',\n    'cameo',\n    'camera',\n    'camisole',\n    'camper',\n    'campfire',\n    'camping',\n    'campsite',\n    'campus',\n    'canal',\n    'canary',\n    'cancel',\n    'candied',\n    'candle',\n    'candy',\n    'cane',\n    'canine',\n    'canister',\n    'cannabis',\n    'canned',\n    'canning',\n    'cannon',\n    'cannot',\n    'canola',\n    'canon',\n    'canopener',\n    'canopy',\n    'canteen',\n    'canyon',\n    'capable',\n    'capably',\n    'capacity',\n    'cape',\n    'capillary',\n    'capital',\n    'capitol',\n    'capped',\n    'capricorn',\n    'capsize',\n    'capsule',\n    'caption',\n    'captivate',\n    'captive',\n    'captivity',\n    'capture',\n    'caramel',\n    'carat',\n    'caravan',\n    'carbon',\n    'cardboard',\n    'carded',\n    'cardiac',\n    'cardigan',\n    'cardinal',\n    'cardstock',\n    'carefully',\n    'caregiver',\n    'careless',\n    'caress',\n    'caretaker',\n    'cargo',\n    'caring',\n    'carless',\n    'carload',\n    'carmaker',\n    'carnage',\n    'carnation',\n    'carnival',\n    'carnivore',\n    'carol',\n    'carpenter',\n    'carpentry',\n    'carpool',\n    'carport',\n    'carried',\n    'carrot',\n    'carrousel',\n    'carry',\n    'cartel',\n    'cartload',\n    'carton',\n    'cartoon',\n    'cartridge',\n    'cartwheel',\n    'carve',\n    'carving',\n    'carwash',\n    'cascade',\n    'case',\n    'cash',\n    'casing',\n    'casino',\n    'casket',\n    'cassette',\n    'casually',\n    'casualty',\n    'catacomb',\n    'catalog',\n    'catalyst',\n    'catalyze',\n    'catapult',\n    'cataract',\n    'catatonic',\n    'catcall',\n    'catchable',\n    'catcher',\n    'catching',\n    'catchy',\n    'caterer',\n    'catering',\n    'catfight',\n    'catfish',\n    'cathedral',\n    'cathouse',\n    'catlike',\n    'catnap',\n    'catnip',\n    'catsup',\n    'cattail',\n    'cattishly',\n    'cattle',\n    'catty',\n    'catwalk',\n    'caucasian',\n    'caucus',\n    'causal',\n    'causation',\n    'cause',\n    'causing',\n    'cauterize',\n    'caution',\n    'cautious',\n    'cavalier',\n    'cavalry',\n    'caviar',\n    'cavity',\n    'cedar',\n    'celery',\n    'celestial',\n    'celibacy',\n    'celibate',\n    'celtic',\n    'cement',\n    'census',\n    'ceramics',\n    'ceremony',\n    'certainly',\n    'certainty',\n    'certified',\n    'certify',\n    'cesarean',\n    'cesspool',\n    'chafe',\n    'chaffing',\n    'chain',\n    'chair',\n    'chalice',\n    'challenge',\n    'chamber',\n    'chamomile',\n    'champion',\n    'chance',\n    'change',\n    'channel',\n    'chant',\n    'chaos',\n    'chaperone',\n    'chaplain',\n    'chapped',\n    'chaps',\n    'chapter',\n    'character',\n    'charbroil',\n    'charcoal',\n    'charger',\n    'charging',\n    'chariot',\n    'charity',\n    'charm',\n    'charred',\n    'charter',\n    'charting',\n    'chase',\n    'chasing',\n    'chaste',\n    'chastise',\n    'chastity',\n    'chatroom',\n    'chatter',\n    'chatting',\n    'chatty',\n    'cheating',\n    'cheddar',\n    'cheek',\n    'cheer',\n    'cheese',\n    'cheesy',\n    'chef',\n    'chemicals',\n    'chemist',\n    'chemo',\n    'cherisher',\n    'cherub',\n    'chess',\n    'chest',\n    'chevron',\n    'chevy',\n    'chewable',\n    'chewer',\n    'chewing',\n    'chewy',\n    'chief',\n    'chihuahua',\n    'childcare',\n    'childhood',\n    'childish',\n    'childless',\n    'childlike',\n    'chili',\n    'chill',\n    'chimp',\n    'chip',\n    'chirping',\n    'chirpy',\n    'chitchat',\n    'chivalry',\n    'chive',\n    'chloride',\n    'chlorine',\n    'choice',\n    'chokehold',\n    'choking',\n    'chomp',\n    'chooser',\n    'choosing',\n    'choosy',\n    'chop',\n    'chosen',\n    'chowder',\n    'chowtime',\n    'chrome',\n    'chubby',\n    'chuck',\n    'chug',\n    'chummy',\n    'chump',\n    'chunk',\n    'churn',\n    'chute',\n    'cider',\n    'cilantro',\n    'cinch',\n    'cinema',\n    'cinnamon',\n    'circle',\n    'circling',\n    'circular',\n    'circulate',\n    'circus',\n    'citable',\n    'citadel',\n    'citation',\n    'citizen',\n    'citric',\n    'citrus',\n    'city',\n    'civic',\n    'civil',\n    'clad',\n    'claim',\n    'clambake',\n    'clammy',\n    'clamor',\n    'clamp',\n    'clamshell',\n    'clang',\n    'clanking',\n    'clapped',\n    'clapper',\n    'clapping',\n    'clarify',\n    'clarinet',\n    'clarity',\n    'clash',\n    'clasp',\n    'class',\n    'clatter',\n    'clause',\n    'clavicle',\n    'claw',\n    'clay',\n    'clean',\n    'clear',\n    'cleat',\n    'cleaver',\n    'cleft',\n    'clench',\n    'clergyman',\n    'clerical',\n    'clerk',\n    'clever',\n    'clicker',\n    'client',\n    'climate',\n    'climatic',\n    'cling',\n    'clinic',\n    'clinking',\n    'clip',\n    'clique',\n    'cloak',\n    'clobber',\n    'clock',\n    'clone',\n    'cloning',\n    'closable',\n    'closure',\n    'clothes',\n    'clothing',\n    'cloud',\n    'clover',\n    'clubbed',\n    'clubbing',\n    'clubhouse',\n    'clump',\n    'clumsily',\n    'clumsy',\n    'clunky',\n    'clustered',\n    'clutch',\n    'clutter',\n    'coach',\n    'coagulant',\n    'coastal',\n    'coaster',\n    'coasting',\n    'coastland',\n    'coastline',\n    'coat',\n    'coauthor',\n    'cobalt',\n    'cobbler',\n    'cobweb',\n    'cocoa',\n    'coconut',\n    'cod',\n    'coeditor',\n    'coerce',\n    'coexist',\n    'coffee',\n    'cofounder',\n    'cognition',\n    'cognitive',\n    'cogwheel',\n    'coherence',\n    'coherent',\n    'cohesive',\n    'coil',\n    'coke',\n    'cola',\n    'cold',\n    'coleslaw',\n    'coliseum',\n    'collage',\n    'collapse',\n    'collar',\n    'collected',\n    'collector',\n    'collide',\n    'collie',\n    'collision',\n    'colonial',\n    'colonist',\n    'colonize',\n    'colony',\n    'colossal',\n    'colt',\n    'coma',\n    'come',\n    'comfort',\n    'comfy',\n    'comic',\n    'coming',\n    'comma',\n    'commence',\n    'commend',\n    'comment',\n    'commerce',\n    'commode',\n    'commodity',\n    'commodore',\n    'common',\n    'commotion',\n    'commute',\n    'commuting',\n    'compacted',\n    'compacter',\n    'compactly',\n    'compactor',\n    'companion',\n    'company',\n    'compare',\n    'compel',\n    'compile',\n    'comply',\n    'component',\n    'composed',\n    'composer',\n    'composite',\n    'compost',\n    'composure',\n    'compound',\n    'compress',\n    'comprised',\n    'computer',\n    'computing',\n    'comrade',\n    'concave',\n    'conceal',\n    'conceded',\n    'concept',\n    'concerned',\n    'concert',\n    'conch',\n    'concierge',\n    'concise',\n    'conclude',\n    'concrete',\n    'concur',\n    'condense',\n    'condiment',\n    'condition',\n    'condone',\n    'conducive',\n    'conductor',\n    'conduit',\n    'cone',\n    'confess',\n    'confetti',\n    'confidant',\n    'confident',\n    'confider',\n    'confiding',\n    'configure',\n    'confined',\n    'confining',\n    'confirm',\n    'conflict',\n    'conform',\n    'confound',\n    'confront',\n    'confused',\n    'confusing',\n    'confusion',\n    'congenial',\n    'congested',\n    'congrats',\n    'congress',\n    'conical',\n    'conjoined',\n    'conjure',\n    'conjuror',\n    'connected',\n    'connector',\n    'consensus',\n    'consent',\n    'console',\n    'consoling',\n    'consonant',\n    'constable',\n    'constant',\n    'constrain',\n    'constrict',\n    'construct',\n    'consult',\n    'consumer',\n    'consuming',\n    'contact',\n    'container',\n    'contempt',\n    'contend',\n    'contented',\n    'contently',\n    'contents',\n    'contest',\n    'context',\n    'contort',\n    'contour',\n    'contrite',\n    'control',\n    'contusion',\n    'convene',\n    'convent',\n    'copartner',\n    'cope',\n    'copied',\n    'copier',\n    'copilot',\n    'coping',\n    'copious',\n    'copper',\n    'copy',\n    'coral',\n    'cork',\n    'cornball',\n    'cornbread',\n    'corncob',\n    'cornea',\n    'corned',\n    'corner',\n    'cornfield',\n    'cornflake',\n    'cornhusk',\n    'cornmeal',\n    'cornstalk',\n    'corny',\n    'coronary',\n    'coroner',\n    'corporal',\n    'corporate',\n    'corral',\n    'correct',\n    'corridor',\n    'corrode',\n    'corroding',\n    'corrosive',\n    'corsage',\n    'corset',\n    'cortex',\n    'cosigner',\n    'cosmetics',\n    'cosmic',\n    'cosmos',\n    'cosponsor',\n    'cost',\n    'cottage',\n    'cotton',\n    'couch',\n    'cough',\n    'could',\n    'countable',\n    'countdown',\n    'counting',\n    'countless',\n    'country',\n    'county',\n    'courier',\n    'covenant',\n    'cover',\n    'coveted',\n    'coveting',\n    'coyness',\n    'cozily',\n    'coziness',\n    'cozy',\n    'crabbing',\n    'crabgrass',\n    'crablike',\n    'crabmeat',\n    'cradle',\n    'cradling',\n    'crafter',\n    'craftily',\n    'craftsman',\n    'craftwork',\n    'crafty',\n    'cramp',\n    'cranberry',\n    'crane',\n    'cranial',\n    'cranium',\n    'crank',\n    'crate',\n    'crave',\n    'craving',\n    'crawfish',\n    'crawlers',\n    'crawling',\n    'crayfish',\n    'crayon',\n    'crazed',\n    'crazily',\n    'craziness',\n    'crazy',\n    'creamed',\n    'creamer',\n    'creamlike',\n    'crease',\n    'creasing',\n    'creatable',\n    'create',\n    'creation',\n    'creative',\n    'creature',\n    'credible',\n    'credibly',\n    'credit',\n    'creed',\n    'creme',\n    'creole',\n    'crepe',\n    'crept',\n    'crescent',\n    'crested',\n    'cresting',\n    'crestless',\n    'crevice',\n    'crewless',\n    'crewman',\n    'crewmate',\n    'crib',\n    'cricket',\n    'cried',\n    'crier',\n    'crimp',\n    'crimson',\n    'cringe',\n    'cringing',\n    'crinkle',\n    'crinkly',\n    'crisped',\n    'crisping',\n    'crisply',\n    'crispness',\n    'crispy',\n    'criteria',\n    'critter',\n    'croak',\n    'crock',\n    'crook',\n    'croon',\n    'crop',\n    'cross',\n    'crouch',\n    'crouton',\n    'crowbar',\n    'crowd',\n    'crown',\n    'crucial',\n    'crudely',\n    'crudeness',\n    'cruelly',\n    'cruelness',\n    'cruelty',\n    'crumb',\n    'crummiest',\n    'crummy',\n    'crumpet',\n    'crumpled',\n    'cruncher',\n    'crunching',\n    'crunchy',\n    'crusader',\n    'crushable',\n    'crushed',\n    'crusher',\n    'crushing',\n    'crust',\n    'crux',\n    'crying',\n    'cryptic',\n    'crystal',\n    'cubbyhole',\n    'cube',\n    'cubical',\n    'cubicle',\n    'cucumber',\n    'cuddle',\n    'cuddly',\n    'cufflink',\n    'culinary',\n    'culminate',\n    'culpable',\n    'culprit',\n    'cultivate',\n    'cultural',\n    'culture',\n    'cupbearer',\n    'cupcake',\n    'cupid',\n    'cupped',\n    'cupping',\n    'curable',\n    'curator',\n    'curdle',\n    'cure',\n    'curfew',\n    'curing',\n    'curled',\n    'curler',\n    'curliness',\n    'curling',\n    'curly',\n    'curry',\n    'curse',\n    'cursive',\n    'cursor',\n    'curtain',\n    'curtly',\n    'curtsy',\n    'curvature',\n    'curve',\n    'curvy',\n    'cushy',\n    'cusp',\n    'cussed',\n    'custard',\n    'custodian',\n    'custody',\n    'customary',\n    'customer',\n    'customize',\n    'customs',\n    'cut',\n    'cycle',\n    'cyclic',\n    'cycling',\n    'cyclist',\n    'cylinder',\n    'cymbal',\n    'cytoplasm',\n    'cytoplast',\n    'dab',\n    'dad',\n    'daffodil',\n    'dagger',\n    'daily',\n    'daintily',\n    'dainty',\n    'dairy',\n    'daisy',\n    'dallying',\n    'dance',\n    'dancing',\n    'dandelion',\n    'dander',\n    'dandruff',\n    'dandy',\n    'danger',\n    'dangle',\n    'dangling',\n    'daredevil',\n    'dares',\n    'daringly',\n    'darkened',\n    'darkening',\n    'darkish',\n    'darkness',\n    'darkroom',\n    'darling',\n    'darn',\n    'dart',\n    'darwinism',\n    'dash',\n    'dastardly',\n    'data',\n    'datebook',\n    'dating',\n    'daughter',\n    'daunting',\n    'dawdler',\n    'dawn',\n    'daybed',\n    'daybreak',\n    'daycare',\n    'daydream',\n    'daylight',\n    'daylong',\n    'dayroom',\n    'daytime',\n    'dazzler',\n    'dazzling',\n    'deacon',\n    'deafening',\n    'deafness',\n    'dealer',\n    'dealing',\n    'dealmaker',\n    'dealt',\n    'dean',\n    'debatable',\n    'debate',\n    'debating',\n    'debit',\n    'debrief',\n    'debtless',\n    'debtor',\n    'debug',\n    'debunk',\n    'decade',\n    'decaf',\n    'decal',\n    'decathlon',\n    'decay',\n    'deceased',\n    'deceit',\n    'deceiver',\n    'deceiving',\n    'december',\n    'decency',\n    'decent',\n    'deception',\n    'deceptive',\n    'decibel',\n    'decidable',\n    'decimal',\n    'decimeter',\n    'decipher',\n    'deck',\n    'declared',\n    'decline',\n    'decode',\n    'decompose',\n    'decorated',\n    'decorator',\n    'decoy',\n    'decrease',\n    'decree',\n    'dedicate',\n    'dedicator',\n    'deduce',\n    'deduct',\n    'deed',\n    'deem',\n    'deepen',\n    'deeply',\n    'deepness',\n    'deface',\n    'defacing',\n    'defame',\n    'default',\n    'defeat',\n    'defection',\n    'defective',\n    'defendant',\n    'defender',\n    'defense',\n    'defensive',\n    'deferral',\n    'deferred',\n    'defiance',\n    'defiant',\n    'defile',\n    'defiling',\n    'define',\n    'definite',\n    'deflate',\n    'deflation',\n    'deflator',\n    'deflected',\n    'deflector',\n    'defog',\n    'deforest',\n    'defraud',\n    'defrost',\n    'deftly',\n    'defuse',\n    'defy',\n    'degraded',\n    'degrading',\n    'degrease',\n    'degree',\n    'dehydrate',\n    'deity',\n    'dejected',\n    'delay',\n    'delegate',\n    'delegator',\n    'delete',\n    'deletion',\n    'delicacy',\n    'delicate',\n    'delicious',\n    'delighted',\n    'delirious',\n    'delirium',\n    'deliverer',\n    'delivery',\n    'delouse',\n    'delta',\n    'deluge',\n    'delusion',\n    'deluxe',\n    'demanding',\n    'demeaning',\n    'demeanor',\n    'demise',\n    'democracy',\n    'democrat',\n    'demote',\n    'demotion',\n    'demystify',\n    'denatured',\n    'deniable',\n    'denial',\n    'denim',\n    'denote',\n    'dense',\n    'density',\n    'dental',\n    'dentist',\n    'denture',\n    'deny',\n    'deodorant',\n    'deodorize',\n    'departed',\n    'departure',\n    'depict',\n    'deplete',\n    'depletion',\n    'deplored',\n    'deploy',\n    'deport',\n    'depose',\n    'depraved',\n    'depravity',\n    'deprecate',\n    'depress',\n    'deprive',\n    'depth',\n    'deputize',\n    'deputy',\n    'derail',\n    'deranged',\n    'derby',\n    'derived',\n    'desecrate',\n    'deserve',\n    'deserving',\n    'designate',\n    'designed',\n    'designer',\n    'designing',\n    'deskbound',\n    'desktop',\n    'deskwork',\n    'desolate',\n    'despair',\n    'despise',\n    'despite',\n    'destiny',\n    'destitute',\n    'destruct',\n    'detached',\n    'detail',\n    'detection',\n    'detective',\n    'detector',\n    'detention',\n    'detergent',\n    'detest',\n    'detonate',\n    'detonator',\n    'detoxify',\n    'detract',\n    'deuce',\n    'devalue',\n    'deviancy',\n    'deviant',\n    'deviate',\n    'deviation',\n    'deviator',\n    'device',\n    'devious',\n    'devotedly',\n    'devotee',\n    'devotion',\n    'devourer',\n    'devouring',\n    'devoutly',\n    'dexterity',\n    'dexterous',\n    'diabetes',\n    'diabetic',\n    'diabolic',\n    'diagnoses',\n    'diagnosis',\n    'diagram',\n    'dial',\n    'diameter',\n    'diaper',\n    'diaphragm',\n    'diary',\n    'dice',\n    'dicing',\n    'dictate',\n    'dictation',\n    'dictator',\n    'difficult',\n    'diffused',\n    'diffuser',\n    'diffusion',\n    'diffusive',\n    'dig',\n    'dilation',\n    'diligence',\n    'diligent',\n    'dill',\n    'dilute',\n    'dime',\n    'diminish',\n    'dimly',\n    'dimmed',\n    'dimmer',\n    'dimness',\n    'dimple',\n    'diner',\n    'dingbat',\n    'dinghy',\n    'dinginess',\n    'dingo',\n    'dingy',\n    'dining',\n    'dinner',\n    'diocese',\n    'dioxide',\n    'diploma',\n    'dipped',\n    'dipper',\n    'dipping',\n    'directed',\n    'direction',\n    'directive',\n    'directly',\n    'directory',\n    'direness',\n    'dirtiness',\n    'disabled',\n    'disagree',\n    'disallow',\n    'disarm',\n    'disarray',\n    'disaster',\n    'disband',\n    'disbelief',\n    'disburse',\n    'discard',\n    'discern',\n    'discharge',\n    'disclose',\n    'discolor',\n    'discount',\n    'discourse',\n    'discover',\n    'discuss',\n    'disdain',\n    'disengage',\n    'disfigure',\n    'disgrace',\n    'dish',\n    'disinfect',\n    'disjoin',\n    'disk',\n    'dislike',\n    'disliking',\n    'dislocate',\n    'dislodge',\n    'disloyal',\n    'dismantle',\n    'dismay',\n    'dismiss',\n    'dismount',\n    'disobey',\n    'disorder',\n    'disown',\n    'disparate',\n    'disparity',\n    'dispatch',\n    'dispense',\n    'dispersal',\n    'dispersed',\n    'disperser',\n    'displace',\n    'display',\n    'displease',\n    'disposal',\n    'dispose',\n    'disprove',\n    'dispute',\n    'disregard',\n    'disrupt',\n    'dissuade',\n    'distance',\n    'distant',\n    'distaste',\n    'distill',\n    'distinct',\n    'distort',\n    'distract',\n    'distress',\n    'district',\n    'distrust',\n    'ditch',\n    'ditto',\n    'ditzy',\n    'dividable',\n    'divided',\n    'dividend',\n    'dividers',\n    'dividing',\n    'divinely',\n    'diving',\n    'divinity',\n    'divisible',\n    'divisibly',\n    'division',\n    'divisive',\n    'divorcee',\n    'dizziness',\n    'dizzy',\n    'doable',\n    'docile',\n    'dock',\n    'doctrine',\n    'document',\n    'dodge',\n    'dodgy',\n    'doily',\n    'doing',\n    'dole',\n    'dollar',\n    'dollhouse',\n    'dollop',\n    'dolly',\n    'dolphin',\n    'domain',\n    'domelike',\n    'domestic',\n    'dominion',\n    'dominoes',\n    'donated',\n    'donation',\n    'donator',\n    'donor',\n    'donut',\n    'doodle',\n    'doorbell',\n    'doorframe',\n    'doorknob',\n    'doorman',\n    'doormat',\n    'doornail',\n    'doorpost',\n    'doorstep',\n    'doorstop',\n    'doorway',\n    'doozy',\n    'dork',\n    'dormitory',\n    'dorsal',\n    'dosage',\n    'dose',\n    'dotted',\n    'doubling',\n    'douche',\n    'dove',\n    'down',\n    'dowry',\n    'doze',\n    'drab',\n    'dragging',\n    'dragonfly',\n    'dragonish',\n    'dragster',\n    'drainable',\n    'drainage',\n    'drained',\n    'drainer',\n    'drainpipe',\n    'dramatic',\n    'dramatize',\n    'drank',\n    'drapery',\n    'drastic',\n    'draw',\n    'dreaded',\n    'dreadful',\n    'dreadlock',\n    'dreamboat',\n    'dreamily',\n    'dreamland',\n    'dreamless',\n    'dreamlike',\n    'dreamt',\n    'dreamy',\n    'drearily',\n    'dreary',\n    'drench',\n    'dress',\n    'drew',\n    'dribble',\n    'dried',\n    'drier',\n    'drift',\n    'driller',\n    'drilling',\n    'drinkable',\n    'drinking',\n    'dripping',\n    'drippy',\n    'drivable',\n    'driven',\n    'driver',\n    'driveway',\n    'driving',\n    'drizzle',\n    'drizzly',\n    'drone',\n    'drool',\n    'droop',\n    'drop-down',\n    'dropbox',\n    'dropkick',\n    'droplet',\n    'dropout',\n    'dropper',\n    'drove',\n    'drown',\n    'drowsily',\n    'drudge',\n    'drum',\n    'dry',\n    'dubbed',\n    'dubiously',\n    'duchess',\n    'duckbill',\n    'ducking',\n    'duckling',\n    'ducktail',\n    'ducky',\n    'duct',\n    'dude',\n    'duffel',\n    'dugout',\n    'duh',\n    'duke',\n    'duller',\n    'dullness',\n    'duly',\n    'dumping',\n    'dumpling',\n    'dumpster',\n    'duo',\n    'dupe',\n    'duplex',\n    'duplicate',\n    'duplicity',\n    'durable',\n    'durably',\n    'duration',\n    'duress',\n    'during',\n    'dusk',\n    'dust',\n    'dutiful',\n    'duty',\n    'duvet',\n    'dwarf',\n    'dweeb',\n    'dwelled',\n    'dweller',\n    'dwelling',\n    'dwindle',\n    'dwindling',\n    'dynamic',\n    'dynamite',\n    'dynasty',\n    'dyslexia',\n    'dyslexic',\n    'each',\n    'eagle',\n    'earache',\n    'eardrum',\n    'earflap',\n    'earful',\n    'earlobe',\n    'early',\n    'earmark',\n    'earmuff',\n    'earphone',\n    'earpiece',\n    'earplugs',\n    'earring',\n    'earshot',\n    'earthen',\n    'earthlike',\n    'earthling',\n    'earthly',\n    'earthworm',\n    'earthy',\n    'earwig',\n    'easeful',\n    'easel',\n    'easiest',\n    'easily',\n    'easiness',\n    'easing',\n    'eastbound',\n    'eastcoast',\n    'easter',\n    'eastward',\n    'eatable',\n    'eaten',\n    'eatery',\n    'eating',\n    'eats',\n    'ebay',\n    'ebony',\n    'ebook',\n    'ecard',\n    'eccentric',\n    'echo',\n    'eclair',\n    'eclipse',\n    'ecologist',\n    'ecology',\n    'economic',\n    'economist',\n    'economy',\n    'ecosphere',\n    'ecosystem',\n    'edge',\n    'edginess',\n    'edging',\n    'edgy',\n    'edition',\n    'editor',\n    'educated',\n    'education',\n    'educator',\n    'eel',\n    'effective',\n    'effects',\n    'efficient',\n    'effort',\n    'eggbeater',\n    'egging',\n    'eggnog',\n    'eggplant',\n    'eggshell',\n    'egomaniac',\n    'egotism',\n    'egotistic',\n    'either',\n    'eject',\n    'elaborate',\n    'elastic',\n    'elated',\n    'elbow',\n    'eldercare',\n    'elderly',\n    'eldest',\n    'electable',\n    'election',\n    'elective',\n    'elephant',\n    'elevate',\n    'elevating',\n    'elevation',\n    'elevator',\n    'eleven',\n    'elf',\n    'eligible',\n    'eligibly',\n    'eliminate',\n    'elite',\n    'elitism',\n    'elixir',\n    'elk',\n    'ellipse',\n    'elliptic',\n    'elm',\n    'elongated',\n    'elope',\n    'eloquence',\n    'eloquent',\n    'elsewhere',\n    'elude',\n    'elusive',\n    'elves',\n    'email',\n    'embargo',\n    'embark',\n    'embassy',\n    'embattled',\n    'embellish',\n    'ember',\n    'embezzle',\n    'emblaze',\n    'emblem',\n    'embody',\n    'embolism',\n    'emboss',\n    'embroider',\n    'emcee',\n    'emerald',\n    'emergency',\n    'emission',\n    'emit',\n    'emote',\n    'emoticon',\n    'emotion',\n    'empathic',\n    'empathy',\n    'emperor',\n    'emphases',\n    'emphasis',\n    'emphasize',\n    'emphatic',\n    'empirical',\n    'employed',\n    'employee',\n    'employer',\n    'emporium',\n    'empower',\n    'emptier',\n    'emptiness',\n    'empty',\n    'emu',\n    'enable',\n    'enactment',\n    'enamel',\n    'enchanted',\n    'enchilada',\n    'encircle',\n    'enclose',\n    'enclosure',\n    'encode',\n    'encore',\n    'encounter',\n    'encourage',\n    'encroach',\n    'encrust',\n    'encrypt',\n    'endanger',\n    'endeared',\n    'endearing',\n    'ended',\n    'ending',\n    'endless',\n    'endnote',\n    'endocrine',\n    'endorphin',\n    'endorse',\n    'endowment',\n    'endpoint',\n    'endurable',\n    'endurance',\n    'enduring',\n    'energetic',\n    'energize',\n    'energy',\n    'enforced',\n    'enforcer',\n    'engaged',\n    'engaging',\n    'engine',\n    'engorge',\n    'engraved',\n    'engraver',\n    'engraving',\n    'engross',\n    'engulf',\n    'enhance',\n    'enigmatic',\n    'enjoyable',\n    'enjoyably',\n    'enjoyer',\n    'enjoying',\n    'enjoyment',\n    'enlarged',\n    'enlarging',\n    'enlighten',\n    'enlisted',\n    'enquirer',\n    'enrage',\n    'enrich',\n    'enroll',\n    'enslave',\n    'ensnare',\n    'ensure',\n    'entail',\n    'entangled',\n    'entering',\n    'entertain',\n    'enticing',\n    'entire',\n    'entitle',\n    'entity',\n    'entomb',\n    'entourage',\n    'entrap',\n    'entree',\n    'entrench',\n    'entrust',\n    'entryway',\n    'entwine',\n    'enunciate',\n    'envelope',\n    'enviable',\n    'enviably',\n    'envious',\n    'envision',\n    'envoy',\n    'envy',\n    'enzyme',\n    'epic',\n    'epidemic',\n    'epidermal',\n    'epidermis',\n    'epidural',\n    'epilepsy',\n    'epileptic',\n    'epilogue',\n    'epiphany',\n    'episode',\n    'equal',\n    'equate',\n    'equation',\n    'equator',\n    'equinox',\n    'equipment',\n    'equity',\n    'equivocal',\n    'eradicate',\n    'erasable',\n    'erased',\n    'eraser',\n    'erasure',\n    'ergonomic',\n    'errand',\n    'errant',\n    'erratic',\n    'error',\n    'erupt',\n    'escalate',\n    'escalator',\n    'escapable',\n    'escapade',\n    'escapist',\n    'escargot',\n    'eskimo',\n    'esophagus',\n    'espionage',\n    'espresso',\n    'esquire',\n    'essay',\n    'essence',\n    'essential',\n    'establish',\n    'estate',\n    'esteemed',\n    'estimate',\n    'estimator',\n    'estranged',\n    'estrogen',\n    'etching',\n    'eternal',\n    'eternity',\n    'ethanol',\n    'ether',\n    'ethically',\n    'ethics',\n    'euphemism',\n    'evacuate',\n    'evacuee',\n    'evade',\n    'evaluate',\n    'evaluator',\n    'evaporate',\n    'evasion',\n    'evasive',\n    'even',\n    'everglade',\n    'evergreen',\n    'everybody',\n    'everyday',\n    'everyone',\n    'evict',\n    'evidence',\n    'evident',\n    'evil',\n    'evoke',\n    'evolution',\n    'evolve',\n    'exact',\n    'exalted',\n    'example',\n    'excavate',\n    'excavator',\n    'exceeding',\n    'exception',\n    'excess',\n    'exchange',\n    'excitable',\n    'exciting',\n    'exclaim',\n    'exclude',\n    'excluding',\n    'exclusion',\n    'exclusive',\n    'excretion',\n    'excretory',\n    'excursion',\n    'excusable',\n    'excusably',\n    'excuse',\n    'exemplary',\n    'exemplify',\n    'exemption',\n    'exerciser',\n    'exert',\n    'exes',\n    'exfoliate',\n    'exhale',\n    'exhaust',\n    'exhume',\n    'exile',\n    'existing',\n    'exit',\n    'exodus',\n    'exonerate',\n    'exorcism',\n    'exorcist',\n    'expand',\n    'expanse',\n    'expansion',\n    'expansive',\n    'expectant',\n    'expedited',\n    'expediter',\n    'expel',\n    'expend',\n    'expenses',\n    'expensive',\n    'expert',\n    'expire',\n    'expiring',\n    'explain',\n    'expletive',\n    'explicit',\n    'explode',\n    'exploit',\n    'explore',\n    'exploring',\n    'exponent',\n    'exporter',\n    'exposable',\n    'expose',\n    'exposure',\n    'express',\n    'expulsion',\n    'exquisite',\n    'extended',\n    'extending',\n    'extent',\n    'extenuate',\n    'exterior',\n    'external',\n    'extinct',\n    'extortion',\n    'extradite',\n    'extras',\n    'extrovert',\n    'extrude',\n    'extruding',\n    'exuberant',\n    'fable',\n    'fabric',\n    'fabulous',\n    'facebook',\n    'facecloth',\n    'facedown',\n    'faceless',\n    'facelift',\n    'faceplate',\n    'faceted',\n    'facial',\n    'facility',\n    'facing',\n    'facsimile',\n    'faction',\n    'factoid',\n    'factor',\n    'factsheet',\n    'factual',\n    'faculty',\n    'fade',\n    'fading',\n    'failing',\n    'falcon',\n    'fall',\n    'false',\n    'falsify',\n    'fame',\n    'familiar',\n    'family',\n    'famine',\n    'famished',\n    'fanatic',\n    'fancied',\n    'fanciness',\n    'fancy',\n    'fanfare',\n    'fang',\n    'fanning',\n    'fantasize',\n    'fantastic',\n    'fantasy',\n    'fascism',\n    'fastball',\n    'faster',\n    'fasting',\n    'fastness',\n    'faucet',\n    'favorable',\n    'favorably',\n    'favored',\n    'favoring',\n    'favorite',\n    'fax',\n    'feast',\n    'federal',\n    'fedora',\n    'feeble',\n    'feed',\n    'feel',\n    'feisty',\n    'feline',\n    'felt-tip',\n    'feminine',\n    'feminism',\n    'feminist',\n    'feminize',\n    'femur',\n    'fence',\n    'fencing',\n    'fender',\n    'ferment',\n    'fernlike',\n    'ferocious',\n    'ferocity',\n    'ferret',\n    'ferris',\n    'ferry',\n    'fervor',\n    'fester',\n    'festival',\n    'festive',\n    'festivity',\n    'fetal',\n    'fetch',\n    'fever',\n    'fiber',\n    'fiction',\n    'fiddle',\n    'fiddling',\n    'fidelity',\n    'fidgeting',\n    'fidgety',\n    'fifteen',\n    'fifth',\n    'fiftieth',\n    'fifty',\n    'figment',\n    'figure',\n    'figurine',\n    'filing',\n    'filled',\n    'filler',\n    'filling',\n    'film',\n    'filter',\n    'filth',\n    'filtrate',\n    'finale',\n    'finalist',\n    'finalize',\n    'finally',\n    'finance',\n    'financial',\n    'finch',\n    'fineness',\n    'finer',\n    'finicky',\n    'finished',\n    'finisher',\n    'finishing',\n    'finite',\n    'finless',\n    'finlike',\n    'fiscally',\n    'fit',\n    'five',\n    'flaccid',\n    'flagman',\n    'flagpole',\n    'flagship',\n    'flagstick',\n    'flagstone',\n    'flail',\n    'flakily',\n    'flaky',\n    'flame',\n    'flammable',\n    'flanked',\n    'flanking',\n    'flannels',\n    'flap',\n    'flaring',\n    'flashback',\n    'flashbulb',\n    'flashcard',\n    'flashily',\n    'flashing',\n    'flashy',\n    'flask',\n    'flatbed',\n    'flatfoot',\n    'flatly',\n    'flatness',\n    'flatten',\n    'flattered',\n    'flatterer',\n    'flattery',\n    'flattop',\n    'flatware',\n    'flatworm',\n    'flavored',\n    'flavorful',\n    'flavoring',\n    'flaxseed',\n    'fled',\n    'fleshed',\n    'fleshy',\n    'flick',\n    'flier',\n    'flight',\n    'flinch',\n    'fling',\n    'flint',\n    'flip',\n    'flirt',\n    'float',\n    'flock',\n    'flogging',\n    'flop',\n    'floral',\n    'florist',\n    'floss',\n    'flounder',\n    'flyable',\n    'flyaway',\n    'flyer',\n    'flying',\n    'flyover',\n    'flypaper',\n    'foam',\n    'foe',\n    'fog',\n    'foil',\n    'folic',\n    'folk',\n    'follicle',\n    'follow',\n    'fondling',\n    'fondly',\n    'fondness',\n    'fondue',\n    'font',\n    'food',\n    'fool',\n    'footage',\n    'football',\n    'footbath',\n    'footboard',\n    'footer',\n    'footgear',\n    'foothill',\n    'foothold',\n    'footing',\n    'footless',\n    'footman',\n    'footnote',\n    'footpad',\n    'footpath',\n    'footprint',\n    'footrest',\n    'footsie',\n    'footsore',\n    'footwear',\n    'footwork',\n    'fossil',\n    'foster',\n    'founder',\n    'founding',\n    'fountain',\n    'fox',\n    'foyer',\n    'fraction',\n    'fracture',\n    'fragile',\n    'fragility',\n    'fragment',\n    'fragrance',\n    'fragrant',\n    'frail',\n    'frame',\n    'framing',\n    'frantic',\n    'fraternal',\n    'frayed',\n    'fraying',\n    'frays',\n    'freckled',\n    'freckles',\n    'freebase',\n    'freebee',\n    'freebie',\n    'freedom',\n    'freefall',\n    'freehand',\n    'freeing',\n    'freeload',\n    'freely',\n    'freemason',\n    'freeness',\n    'freestyle',\n    'freeware',\n    'freeway',\n    'freewill',\n    'freezable',\n    'freezing',\n    'freight',\n    'french',\n    'frenzied',\n    'frenzy',\n    'frequency',\n    'frequent',\n    'fresh',\n    'fretful',\n    'fretted',\n    'friction',\n    'friday',\n    'fridge',\n    'fried',\n    'friend',\n    'frighten',\n    'frightful',\n    'frigidity',\n    'frigidly',\n    'frill',\n    'fringe',\n    'frisbee',\n    'frisk',\n    'fritter',\n    'frivolous',\n    'frolic',\n    'from',\n    'front',\n    'frostbite',\n    'frosted',\n    'frostily',\n    'frosting',\n    'frostlike',\n    'frosty',\n    'froth',\n    'frown',\n    'frozen',\n    'fructose',\n    'frugality',\n    'frugally',\n    'fruit',\n    'frustrate',\n    'frying',\n    'gab',\n    'gaffe',\n    'gag',\n    'gainfully',\n    'gaining',\n    'gains',\n    'gala',\n    'gallantly',\n    'galleria',\n    'gallery',\n    'galley',\n    'gallon',\n    'gallows',\n    'gallstone',\n    'galore',\n    'galvanize',\n    'gambling',\n    'game',\n    'gaming',\n    'gamma',\n    'gander',\n    'gangly',\n    'gangrene',\n    'gangway',\n    'gap',\n    'garage',\n    'garbage',\n    'garden',\n    'gargle',\n    'garland',\n    'garlic',\n    'garment',\n    'garnet',\n    'garnish',\n    'garter',\n    'gas',\n    'gatherer',\n    'gathering',\n    'gating',\n    'gauging',\n    'gauntlet',\n    'gauze',\n    'gave',\n    'gawk',\n    'gazing',\n    'gear',\n    'gecko',\n    'geek',\n    'geiger',\n    'gem',\n    'gender',\n    'generic',\n    'generous',\n    'genetics',\n    'genre',\n    'gentile',\n    'gentleman',\n    'gently',\n    'gents',\n    'geography',\n    'geologic',\n    'geologist',\n    'geology',\n    'geometric',\n    'geometry',\n    'geranium',\n    'gerbil',\n    'geriatric',\n    'germicide',\n    'germinate',\n    'germless',\n    'germproof',\n    'gestate',\n    'gestation',\n    'gesture',\n    'getaway',\n    'getting',\n    'getup',\n    'giant',\n    'gibberish',\n    'giblet',\n    'giddily',\n    'giddiness',\n    'giddy',\n    'gift',\n    'gigabyte',\n    'gigahertz',\n    'gigantic',\n    'giggle',\n    'giggling',\n    'giggly',\n    'gigolo',\n    'gilled',\n    'gills',\n    'gimmick',\n    'girdle',\n    'giveaway',\n    'given',\n    'giver',\n    'giving',\n    'gizmo',\n    'gizzard',\n    'glacial',\n    'glacier',\n    'glade',\n    'gladiator',\n    'gladly',\n    'glamorous',\n    'glamour',\n    'glance',\n    'glancing',\n    'glandular',\n    'glare',\n    'glaring',\n    'glass',\n    'glaucoma',\n    'glazing',\n    'gleaming',\n    'gleeful',\n    'glider',\n    'gliding',\n    'glimmer',\n    'glimpse',\n    'glisten',\n    'glitch',\n    'glitter',\n    'glitzy',\n    'gloater',\n    'gloating',\n    'gloomily',\n    'gloomy',\n    'glorified',\n    'glorifier',\n    'glorify',\n    'glorious',\n    'glory',\n    'gloss',\n    'glove',\n    'glowing',\n    'glowworm',\n    'glucose',\n    'glue',\n    'gluten',\n    'glutinous',\n    'glutton',\n    'gnarly',\n    'gnat',\n    'goal',\n    'goatskin',\n    'goes',\n    'goggles',\n    'going',\n    'goldfish',\n    'goldmine',\n    'goldsmith',\n    'golf',\n    'goliath',\n    'gonad',\n    'gondola',\n    'gone',\n    'gong',\n    'good',\n    'gooey',\n    'goofball',\n    'goofiness',\n    'goofy',\n    'google',\n    'goon',\n    'gopher',\n    'gore',\n    'gorged',\n    'gorgeous',\n    'gory',\n    'gosling',\n    'gossip',\n    'gothic',\n    'gotten',\n    'gout',\n    'gown',\n    'grab',\n    'graceful',\n    'graceless',\n    'gracious',\n    'gradation',\n    'graded',\n    'grader',\n    'gradient',\n    'grading',\n    'gradually',\n    'graduate',\n    'graffiti',\n    'grafted',\n    'grafting',\n    'grain',\n    'granddad',\n    'grandkid',\n    'grandly',\n    'grandma',\n    'grandpa',\n    'grandson',\n    'granite',\n    'granny',\n    'granola',\n    'grant',\n    'granular',\n    'grape',\n    'graph',\n    'grapple',\n    'grappling',\n    'grasp',\n    'grass',\n    'gratified',\n    'gratify',\n    'grating',\n    'gratitude',\n    'gratuity',\n    'gravel',\n    'graveness',\n    'graves',\n    'graveyard',\n    'gravitate',\n    'gravity',\n    'gravy',\n    'gray',\n    'grazing',\n    'greasily',\n    'greedily',\n    'greedless',\n    'greedy',\n    'green',\n    'greeter',\n    'greeting',\n    'grew',\n    'greyhound',\n    'grid',\n    'grief',\n    'grievance',\n    'grieving',\n    'grievous',\n    'grill',\n    'grimace',\n    'grimacing',\n    'grime',\n    'griminess',\n    'grimy',\n    'grinch',\n    'grinning',\n    'grip',\n    'gristle',\n    'grit',\n    'groggily',\n    'groggy',\n    'groin',\n    'groom',\n    'groove',\n    'grooving',\n    'groovy',\n    'grope',\n    'ground',\n    'grouped',\n    'grout',\n    'grove',\n    'grower',\n    'growing',\n    'growl',\n    'grub',\n    'grudge',\n    'grudging',\n    'grueling',\n    'gruffly',\n    'grumble',\n    'grumbling',\n    'grumbly',\n    'grumpily',\n    'grunge',\n    'grunt',\n    'guacamole',\n    'guidable',\n    'guidance',\n    'guide',\n    'guiding',\n    'guileless',\n    'guise',\n    'gulf',\n    'gullible',\n    'gully',\n    'gulp',\n    'gumball',\n    'gumdrop',\n    'gumminess',\n    'gumming',\n    'gummy',\n    'gurgle',\n    'gurgling',\n    'guru',\n    'gush',\n    'gusto',\n    'gusty',\n    'gutless',\n    'guts',\n    'gutter',\n    'guy',\n    'guzzler',\n    'gyration',\n    'habitable',\n    'habitant',\n    'habitat',\n    'habitual',\n    'hacked',\n    'hacker',\n    'hacking',\n    'hacksaw',\n    'had',\n    'haggler',\n    'haiku',\n    'half',\n    'halogen',\n    'halt',\n    'halved',\n    'halves',\n    'hamburger',\n    'hamlet',\n    'hammock',\n    'hamper',\n    'hamster',\n    'hamstring',\n    'handbag',\n    'handball',\n    'handbook',\n    'handbrake',\n    'handcart',\n    'handclap',\n    'handclasp',\n    'handcraft',\n    'handcuff',\n    'handed',\n    'handful',\n    'handgrip',\n    'handgun',\n    'handheld',\n    'handiness',\n    'handiwork',\n    'handlebar',\n    'handled',\n    'handler',\n    'handling',\n    'handmade',\n    'handoff',\n    'handpick',\n    'handprint',\n    'handrail',\n    'handsaw',\n    'handset',\n    'handsfree',\n    'handshake',\n    'handstand',\n    'handwash',\n    'handwork',\n    'handwoven',\n    'handwrite',\n    'handyman',\n    'hangnail',\n    'hangout',\n    'hangover',\n    'hangup',\n    'hankering',\n    'hankie',\n    'hanky',\n    'haphazard',\n    'happening',\n    'happier',\n    'happiest',\n    'happily',\n    'happiness',\n    'happy',\n    'harbor',\n    'hardcopy',\n    'hardcore',\n    'hardcover',\n    'harddisk',\n    'hardened',\n    'hardener',\n    'hardening',\n    'hardhat',\n    'hardhead',\n    'hardiness',\n    'hardly',\n    'hardness',\n    'hardship',\n    'hardware',\n    'hardwired',\n    'hardwood',\n    'hardy',\n    'harmful',\n    'harmless',\n    'harmonica',\n    'harmonics',\n    'harmonize',\n    'harmony',\n    'harness',\n    'harpist',\n    'harsh',\n    'harvest',\n    'hash',\n    'hassle',\n    'haste',\n    'hastily',\n    'hastiness',\n    'hasty',\n    'hatbox',\n    'hatchback',\n    'hatchery',\n    'hatchet',\n    'hatching',\n    'hatchling',\n    'hate',\n    'hatless',\n    'hatred',\n    'haunt',\n    'haven',\n    'hazard',\n    'hazelnut',\n    'hazily',\n    'haziness',\n    'hazing',\n    'hazy',\n    'headache',\n    'headband',\n    'headboard',\n    'headcount',\n    'headdress',\n    'headed',\n    'header',\n    'headfirst',\n    'headgear',\n    'heading',\n    'headlamp',\n    'headless',\n    'headlock',\n    'headphone',\n    'headpiece',\n    'headrest',\n    'headroom',\n    'headscarf',\n    'headset',\n    'headsman',\n    'headstand',\n    'headstone',\n    'headway',\n    'headwear',\n    'heap',\n    'heat',\n    'heave',\n    'heavily',\n    'heaviness',\n    'heaving',\n    'hedge',\n    'hedging',\n    'heftiness',\n    'hefty',\n    'helium',\n    'helmet',\n    'helper',\n    'helpful',\n    'helping',\n    'helpless',\n    'helpline',\n    'hemlock',\n    'hemstitch',\n    'hence',\n    'henchman',\n    'henna',\n    'herald',\n    'herbal',\n    'herbicide',\n    'herbs',\n    'heritage',\n    'hermit',\n    'heroics',\n    'heroism',\n    'herring',\n    'herself',\n    'hertz',\n    'hesitancy',\n    'hesitant',\n    'hesitate',\n    'hexagon',\n    'hexagram',\n    'hubcap',\n    'huddle',\n    'huddling',\n    'huff',\n    'hug',\n    'hula',\n    'hulk',\n    'hull',\n    'human',\n    'humble',\n    'humbling',\n    'humbly',\n    'humid',\n    'humiliate',\n    'humility',\n    'humming',\n    'hummus',\n    'humongous',\n    'humorist',\n    'humorless',\n    'humorous',\n    'humpback',\n    'humped',\n    'humvee',\n    'hunchback',\n    'hundredth',\n    'hunger',\n    'hungrily',\n    'hungry',\n    'hunk',\n    'hunter',\n    'hunting',\n    'huntress',\n    'huntsman',\n    'hurdle',\n    'hurled',\n    'hurler',\n    'hurling',\n    'hurray',\n    'hurricane',\n    'hurried',\n    'hurry',\n    'hurt',\n    'husband',\n    'hush',\n    'husked',\n    'huskiness',\n    'hut',\n    'hybrid',\n    'hydrant',\n    'hydrated',\n    'hydration',\n    'hydrogen',\n    'hydroxide',\n    'hyperlink',\n    'hypertext',\n    'hyphen',\n    'hypnoses',\n    'hypnosis',\n    'hypnotic',\n    'hypnotism',\n    'hypnotist',\n    'hypnotize',\n    'hypocrisy',\n    'hypocrite',\n    'ibuprofen',\n    'ice',\n    'iciness',\n    'icing',\n    'icky',\n    'icon',\n    'icy',\n    'idealism',\n    'idealist',\n    'idealize',\n    'ideally',\n    'idealness',\n    'identical',\n    'identify',\n    'identity',\n    'ideology',\n    'idiocy',\n    'idiom',\n    'idly',\n    'igloo',\n    'ignition',\n    'ignore',\n    'iguana',\n    'illicitly',\n    'illusion',\n    'illusive',\n    'image',\n    'imaginary',\n    'imagines',\n    'imaging',\n    'imbecile',\n    'imitate',\n    'imitation',\n    'immature',\n    'immerse',\n    'immersion',\n    'imminent',\n    'immobile',\n    'immodest',\n    'immorally',\n    'immortal',\n    'immovable',\n    'immovably',\n    'immunity',\n    'immunize',\n    'impaired',\n    'impale',\n    'impart',\n    'impatient',\n    'impeach',\n    'impeding',\n    'impending',\n    'imperfect',\n    'imperial',\n    'impish',\n    'implant',\n    'implement',\n    'implicate',\n    'implicit',\n    'implode',\n    'implosion',\n    'implosive',\n    'imply',\n    'impolite',\n    'important',\n    'importer',\n    'impose',\n    'imposing',\n    'impotence',\n    'impotency',\n    'impotent',\n    'impound',\n    'imprecise',\n    'imprint',\n    'imprison',\n    'impromptu',\n    'improper',\n    'improve',\n    'improving',\n    'improvise',\n    'imprudent',\n    'impulse',\n    'impulsive',\n    'impure',\n    'impurity',\n    'iodine',\n    'iodize',\n    'ion',\n    'ipad',\n    'iphone',\n    'ipod',\n    'irate',\n    'irk',\n    'iron',\n    'irregular',\n    'irrigate',\n    'irritable',\n    'irritably',\n    'irritant',\n    'irritate',\n    'islamic',\n    'islamist',\n    'isolated',\n    'isolating',\n    'isolation',\n    'isotope',\n    'issue',\n    'issuing',\n    'italicize',\n    'italics',\n    'item',\n    'itinerary',\n    'itunes',\n    'ivory',\n    'ivy',\n    'jab',\n    'jackal',\n    'jacket',\n    'jackknife',\n    'jackpot',\n    'jailbird',\n    'jailbreak',\n    'jailer',\n    'jailhouse',\n    'jalapeno',\n    'jam',\n    'janitor',\n    'january',\n    'jargon',\n    'jarring',\n    'jasmine',\n    'jaundice',\n    'jaunt',\n    'java',\n    'jawed',\n    'jawless',\n    'jawline',\n    'jaws',\n    'jaybird',\n    'jaywalker',\n    'jazz',\n    'jeep',\n    'jeeringly',\n    'jellied',\n    'jelly',\n    'jersey',\n    'jester',\n    'jet',\n    'jiffy',\n    'jigsaw',\n    'jimmy',\n    'jingle',\n    'jingling',\n    'jinx',\n    'jitters',\n    'jittery',\n    'job',\n    'jockey',\n    'jockstrap',\n    'jogger',\n    'jogging',\n    'john',\n    'joining',\n    'jokester',\n    'jokingly',\n    'jolliness',\n    'jolly',\n    'jolt',\n    'jot',\n    'jovial',\n    'joyfully',\n    'joylessly',\n    'joyous',\n    'joyride',\n    'joystick',\n    'jubilance',\n    'jubilant',\n    'judge',\n    'judgingly',\n    'judicial',\n    'judiciary',\n    'judo',\n    'juggle',\n    'juggling',\n    'jugular',\n    'juice',\n    'juiciness',\n    'juicy',\n    'jujitsu',\n    'jukebox',\n    'july',\n    'jumble',\n    'jumbo',\n    'jump',\n    'junction',\n    'juncture',\n    'june',\n    'junior',\n    'juniper',\n    'junkie',\n    'junkman',\n    'junkyard',\n    'jurist',\n    'juror',\n    'jury',\n    'justice',\n    'justifier',\n    'justify',\n    'justly',\n    'justness',\n    'juvenile',\n    'kabob',\n    'kangaroo',\n    'karaoke',\n    'karate',\n    'karma',\n    'kebab',\n    'keenly',\n    'keenness',\n    'keep',\n    'keg',\n    'kelp',\n    'kennel',\n    'kept',\n    'kerchief',\n    'kerosene',\n    'kettle',\n    'kick',\n    'kiln',\n    'kilobyte',\n    'kilogram',\n    'kilometer',\n    'kilowatt',\n    'kilt',\n    'kimono',\n    'kindle',\n    'kindling',\n    'kindly',\n    'kindness',\n    'kindred',\n    'kinetic',\n    'kinfolk',\n    'king',\n    'kinship',\n    'kinsman',\n    'kinswoman',\n    'kissable',\n    'kisser',\n    'kissing',\n    'kitchen',\n    'kite',\n    'kitten',\n    'kitty',\n    'kiwi',\n    'kleenex',\n    'knapsack',\n    'knee',\n    'knelt',\n    'knickers',\n    'knoll',\n    'koala',\n    'kooky',\n    'kosher',\n    'krypton',\n    'kudos',\n    'kung',\n    'labored',\n    'laborer',\n    'laboring',\n    'laborious',\n    'labrador',\n    'ladder',\n    'ladies',\n    'ladle',\n    'ladybug',\n    'ladylike',\n    'lagged',\n    'lagging',\n    'lagoon',\n    'lair',\n    'lake',\n    'lance',\n    'landed',\n    'landfall',\n    'landfill',\n    'landing',\n    'landlady',\n    'landless',\n    'landline',\n    'landlord',\n    'landmark',\n    'landmass',\n    'landmine',\n    'landowner',\n    'landscape',\n    'landside',\n    'landslide',\n    'language',\n    'lankiness',\n    'lanky',\n    'lantern',\n    'lapdog',\n    'lapel',\n    'lapped',\n    'lapping',\n    'laptop',\n    'lard',\n    'large',\n    'lark',\n    'lash',\n    'lasso',\n    'last',\n    'latch',\n    'late',\n    'lather',\n    'latitude',\n    'latrine',\n    'latter',\n    'latticed',\n    'launch',\n    'launder',\n    'laundry',\n    'laurel',\n    'lavender',\n    'lavish',\n    'laxative',\n    'lazily',\n    'laziness',\n    'lazy',\n    'lecturer',\n    'left',\n    'legacy',\n    'legal',\n    'legend',\n    'legged',\n    'leggings',\n    'legible',\n    'legibly',\n    'legislate',\n    'lego',\n    'legroom',\n    'legume',\n    'legwarmer',\n    'legwork',\n    'lemon',\n    'lend',\n    'length',\n    'lens',\n    'lent',\n    'leotard',\n    'lesser',\n    'letdown',\n    'lethargic',\n    'lethargy',\n    'letter',\n    'lettuce',\n    'level',\n    'leverage',\n    'levers',\n    'levitate',\n    'levitator',\n    'liability',\n    'liable',\n    'liberty',\n    'librarian',\n    'library',\n    'licking',\n    'licorice',\n    'lid',\n    'life',\n    'lifter',\n    'lifting',\n    'liftoff',\n    'ligament',\n    'likely',\n    'likeness',\n    'likewise',\n    'liking',\n    'lilac',\n    'lilly',\n    'lily',\n    'limb',\n    'limeade',\n    'limelight',\n    'limes',\n    'limit',\n    'limping',\n    'limpness',\n    'line',\n    'lingo',\n    'linguini',\n    'linguist',\n    'lining',\n    'linked',\n    'linoleum',\n    'linseed',\n    'lint',\n    'lion',\n    'lip',\n    'liquefy',\n    'liqueur',\n    'liquid',\n    'lisp',\n    'list',\n    'litigate',\n    'litigator',\n    'litmus',\n    'litter',\n    'little',\n    'livable',\n    'lived',\n    'lively',\n    'liver',\n    'livestock',\n    'lividly',\n    'living',\n    'lizard',\n    'lubricant',\n    'lubricate',\n    'lucid',\n    'luckily',\n    'luckiness',\n    'luckless',\n    'lucrative',\n    'ludicrous',\n    'lugged',\n    'lukewarm',\n    'lullaby',\n    'lumber',\n    'luminance',\n    'luminous',\n    'lumpiness',\n    'lumping',\n    'lumpish',\n    'lunacy',\n    'lunar',\n    'lunchbox',\n    'luncheon',\n    'lunchroom',\n    'lunchtime',\n    'lung',\n    'lurch',\n    'lure',\n    'luridness',\n    'lurk',\n    'lushly',\n    'lushness',\n    'luster',\n    'lustfully',\n    'lustily',\n    'lustiness',\n    'lustrous',\n    'lusty',\n    'luxurious',\n    'luxury',\n    'lying',\n    'lyrically',\n    'lyricism',\n    'lyricist',\n    'lyrics',\n    'macarena',\n    'macaroni',\n    'macaw',\n    'mace',\n    'machine',\n    'machinist',\n    'magazine',\n    'magenta',\n    'maggot',\n    'magical',\n    'magician',\n    'magma',\n    'magnesium',\n    'magnetic',\n    'magnetism',\n    'magnetize',\n    'magnifier',\n    'magnify',\n    'magnitude',\n    'magnolia',\n    'mahogany',\n    'maimed',\n    'majestic',\n    'majesty',\n    'majorette',\n    'majority',\n    'makeover',\n    'maker',\n    'makeshift',\n    'making',\n    'malformed',\n    'malt',\n    'mama',\n    'mammal',\n    'mammary',\n    'mammogram',\n    'manager',\n    'managing',\n    'manatee',\n    'mandarin',\n    'mandate',\n    'mandatory',\n    'mandolin',\n    'manger',\n    'mangle',\n    'mango',\n    'mangy',\n    'manhandle',\n    'manhole',\n    'manhood',\n    'manhunt',\n    'manicotti',\n    'manicure',\n    'manifesto',\n    'manila',\n    'mankind',\n    'manlike',\n    'manliness',\n    'manly',\n    'manmade',\n    'manned',\n    'mannish',\n    'manor',\n    'manpower',\n    'mantis',\n    'mantra',\n    'manual',\n    'many',\n    'map',\n    'marathon',\n    'marauding',\n    'marbled',\n    'marbles',\n    'marbling',\n    'march',\n    'mardi',\n    'margarine',\n    'margarita',\n    'margin',\n    'marigold',\n    'marina',\n    'marine',\n    'marital',\n    'maritime',\n    'marlin',\n    'marmalade',\n    'maroon',\n    'married',\n    'marrow',\n    'marry',\n    'marshland',\n    'marshy',\n    'marsupial',\n    'marvelous',\n    'marxism',\n    'mascot',\n    'masculine',\n    'mashed',\n    'mashing',\n    'massager',\n    'masses',\n    'massive',\n    'mastiff',\n    'matador',\n    'matchbook',\n    'matchbox',\n    'matcher',\n    'matching',\n    'matchless',\n    'material',\n    'maternal',\n    'maternity',\n    'math',\n    'mating',\n    'matriarch',\n    'matrimony',\n    'matrix',\n    'matron',\n    'matted',\n    'matter',\n    'maturely',\n    'maturing',\n    'maturity',\n    'mauve',\n    'maverick',\n    'maximize',\n    'maximum',\n    'maybe',\n    'mayday',\n    'mayflower',\n    'moaner',\n    'moaning',\n    'mobile',\n    'mobility',\n    'mobilize',\n    'mobster',\n    'mocha',\n    'mocker',\n    'mockup',\n    'modified',\n    'modify',\n    'modular',\n    'modulator',\n    'module',\n    'moisten',\n    'moistness',\n    'moisture',\n    'molar',\n    'molasses',\n    'mold',\n    'molecular',\n    'molecule',\n    'molehill',\n    'mollusk',\n    'mom',\n    'monastery',\n    'monday',\n    'monetary',\n    'monetize',\n    'moneybags',\n    'moneyless',\n    'moneywise',\n    'mongoose',\n    'mongrel',\n    'monitor',\n    'monkhood',\n    'monogamy',\n    'monogram',\n    'monologue',\n    'monopoly',\n    'monorail',\n    'monotone',\n    'monotype',\n    'monoxide',\n    'monsieur',\n    'monsoon',\n    'monstrous',\n    'monthly',\n    'monument',\n    'moocher',\n    'moodiness',\n    'moody',\n    'mooing',\n    'moonbeam',\n    'mooned',\n    'moonlight',\n    'moonlike',\n    'moonlit',\n    'moonrise',\n    'moonscape',\n    'moonshine',\n    'moonstone',\n    'moonwalk',\n    'mop',\n    'morale',\n    'morality',\n    'morally',\n    'morbidity',\n    'morbidly',\n    'morphine',\n    'morphing',\n    'morse',\n    'mortality',\n    'mortally',\n    'mortician',\n    'mortified',\n    'mortify',\n    'mortuary',\n    'mosaic',\n    'mossy',\n    'most',\n    'mothball',\n    'mothproof',\n    'motion',\n    'motivate',\n    'motivator',\n    'motive',\n    'motocross',\n    'motor',\n    'motto',\n    'mountable',\n    'mountain',\n    'mounted',\n    'mounting',\n    'mourner',\n    'mournful',\n    'mouse',\n    'mousiness',\n    'moustache',\n    'mousy',\n    'mouth',\n    'movable',\n    'move',\n    'movie',\n    'moving',\n    'mower',\n    'mowing',\n    'much',\n    'muck',\n    'mud',\n    'mug',\n    'mulberry',\n    'mulch',\n    'mule',\n    'mulled',\n    'mullets',\n    'multiple',\n    'multiply',\n    'multitask',\n    'multitude',\n    'mumble',\n    'mumbling',\n    'mumbo',\n    'mummified',\n    'mummify',\n    'mummy',\n    'mumps',\n    'munchkin',\n    'mundane',\n    'municipal',\n    'muppet',\n    'mural',\n    'murkiness',\n    'murky',\n    'murmuring',\n    'muscular',\n    'museum',\n    'mushily',\n    'mushiness',\n    'mushroom',\n    'mushy',\n    'music',\n    'musket',\n    'muskiness',\n    'musky',\n    'mustang',\n    'mustard',\n    'muster',\n    'mustiness',\n    'musty',\n    'mutable',\n    'mutate',\n    'mutation',\n    'mute',\n    'mutilated',\n    'mutilator',\n    'mutiny',\n    'mutt',\n    'mutual',\n    'muzzle',\n    'myself',\n    'myspace',\n    'mystified',\n    'mystify',\n    'myth',\n    'nacho',\n    'nag',\n    'nail',\n    'name',\n    'naming',\n    'nanny',\n    'nanometer',\n    'nape',\n    'napkin',\n    'napped',\n    'napping',\n    'nappy',\n    'narrow',\n    'nastily',\n    'nastiness',\n    'national',\n    'native',\n    'nativity',\n    'natural',\n    'nature',\n    'naturist',\n    'nautical',\n    'navigate',\n    'navigator',\n    'navy',\n    'nearby',\n    'nearest',\n    'nearly',\n    'nearness',\n    'neatly',\n    'neatness',\n    'nebula',\n    'nebulizer',\n    'nectar',\n    'negate',\n    'negation',\n    'negative',\n    'neglector',\n    'negligee',\n    'negligent',\n    'negotiate',\n    'nemeses',\n    'nemesis',\n    'neon',\n    'nephew',\n    'nerd',\n    'nervous',\n    'nervy',\n    'nest',\n    'net',\n    'neurology',\n    'neuron',\n    'neurosis',\n    'neurotic',\n    'neuter',\n    'neutron',\n    'never',\n    'next',\n    'nibble',\n    'nickname',\n    'nicotine',\n    'niece',\n    'nifty',\n    'nimble',\n    'nimbly',\n    'nineteen',\n    'ninetieth',\n    'ninja',\n    'nintendo',\n    'ninth',\n    'nuclear',\n    'nuclei',\n    'nucleus',\n    'nugget',\n    'nullify',\n    'number',\n    'numbing',\n    'numbly',\n    'numbness',\n    'numeral',\n    'numerate',\n    'numerator',\n    'numeric',\n    'numerous',\n    'nuptials',\n    'nursery',\n    'nursing',\n    'nurture',\n    'nutcase',\n    'nutlike',\n    'nutmeg',\n    'nutrient',\n    'nutshell',\n    'nuttiness',\n    'nutty',\n    'nuzzle',\n    'nylon',\n    'oaf',\n    'oak',\n    'oasis',\n    'oat',\n    'obedience',\n    'obedient',\n    'obituary',\n    'object',\n    'obligate',\n    'obliged',\n    'oblivion',\n    'oblivious',\n    'oblong',\n    'obnoxious',\n    'oboe',\n    'obscure',\n    'obscurity',\n    'observant',\n    'observer',\n    'observing',\n    'obsessed',\n    'obsession',\n    'obsessive',\n    'obsolete',\n    'obstacle',\n    'obstinate',\n    'obstruct',\n    'obtain',\n    'obtrusive',\n    'obtuse',\n    'obvious',\n    'occultist',\n    'occupancy',\n    'occupant',\n    'occupier',\n    'occupy',\n    'ocean',\n    'ocelot',\n    'octagon',\n    'octane',\n    'october',\n    'octopus',\n    'ogle',\n    'oil',\n    'oink',\n    'ointment',\n    'okay',\n    'old',\n    'olive',\n    'olympics',\n    'omega',\n    'omen',\n    'ominous',\n    'omission',\n    'omit',\n    'omnivore',\n    'onboard',\n    'oncoming',\n    'ongoing',\n    'onion',\n    'online',\n    'onlooker',\n    'only',\n    'onscreen',\n    'onset',\n    'onshore',\n    'onslaught',\n    'onstage',\n    'onto',\n    'onward',\n    'onyx',\n    'oops',\n    'ooze',\n    'oozy',\n    'opacity',\n    'opal',\n    'open',\n    'operable',\n    'operate',\n    'operating',\n    'operation',\n    'operative',\n    'operator',\n    'opium',\n    'opossum',\n    'opponent',\n    'oppose',\n    'opposing',\n    'opposite',\n    'oppressed',\n    'oppressor',\n    'opt',\n    'opulently',\n    'osmosis',\n    'other',\n    'otter',\n    'ouch',\n    'ought',\n    'ounce',\n    'outage',\n    'outback',\n    'outbid',\n    'outboard',\n    'outbound',\n    'outbreak',\n    'outburst',\n    'outcast',\n    'outclass',\n    'outcome',\n    'outdated',\n    'outdoors',\n    'outer',\n    'outfield',\n    'outfit',\n    'outflank',\n    'outgoing',\n    'outgrow',\n    'outhouse',\n    'outing',\n    'outlast',\n    'outlet',\n    'outline',\n    'outlook',\n    'outlying',\n    'outmatch',\n    'outmost',\n    'outnumber',\n    'outplayed',\n    'outpost',\n    'outpour',\n    'output',\n    'outrage',\n    'outrank',\n    'outreach',\n    'outright',\n    'outscore',\n    'outsell',\n    'outshine',\n    'outshoot',\n    'outsider',\n    'outskirts',\n    'outsmart',\n    'outsource',\n    'outspoken',\n    'outtakes',\n    'outthink',\n    'outward',\n    'outweigh',\n    'outwit',\n    'oval',\n    'ovary',\n    'oven',\n    'overact',\n    'overall',\n    'overarch',\n    'overbid',\n    'overbill',\n    'overbite',\n    'overblown',\n    'overboard',\n    'overbook',\n    'overbuilt',\n    'overcast',\n    'overcoat',\n    'overcome',\n    'overcook',\n    'overcrowd',\n    'overdraft',\n    'overdrawn',\n    'overdress',\n    'overdrive',\n    'overdue',\n    'overeager',\n    'overeater',\n    'overexert',\n    'overfed',\n    'overfeed',\n    'overfill',\n    'overflow',\n    'overfull',\n    'overgrown',\n    'overhand',\n    'overhang',\n    'overhaul',\n    'overhead',\n    'overhear',\n    'overheat',\n    'overhung',\n    'overjoyed',\n    'overkill',\n    'overlabor',\n    'overlaid',\n    'overlap',\n    'overlay',\n    'overload',\n    'overlook',\n    'overlord',\n    'overlying',\n    'overnight',\n    'overpass',\n    'overpay',\n    'overplant',\n    'overplay',\n    'overpower',\n    'overprice',\n    'overrate',\n    'overreach',\n    'overreact',\n    'override',\n    'overripe',\n    'overrule',\n    'overrun',\n    'overshoot',\n    'overshot',\n    'oversight',\n    'oversized',\n    'oversleep',\n    'oversold',\n    'overspend',\n    'overstate',\n    'overstay',\n    'overstep',\n    'overstock',\n    'overstuff',\n    'oversweet',\n    'overtake',\n    'overthrow',\n    'overtime',\n    'overtly',\n    'overtone',\n    'overture',\n    'overturn',\n    'overuse',\n    'overvalue',\n    'overview',\n    'overwrite',\n    'owl',\n    'oxford',\n    'oxidant',\n    'oxidation',\n    'oxidize',\n    'oxidizing',\n    'oxygen',\n    'oxymoron',\n    'oyster',\n    'ozone',\n    'paced',\n    'pacemaker',\n    'pacific',\n    'pacifier',\n    'pacifism',\n    'pacifist',\n    'pacify',\n    'padded',\n    'padding',\n    'paddle',\n    'paddling',\n    'padlock',\n    'pagan',\n    'pager',\n    'paging',\n    'pajamas',\n    'palace',\n    'palatable',\n    'palm',\n    'palpable',\n    'palpitate',\n    'paltry',\n    'pampered',\n    'pamperer',\n    'pampers',\n    'pamphlet',\n    'panama',\n    'pancake',\n    'pancreas',\n    'panda',\n    'pandemic',\n    'pang',\n    'panhandle',\n    'panic',\n    'panning',\n    'panorama',\n    'panoramic',\n    'panther',\n    'pantomime',\n    'pantry',\n    'pants',\n    'pantyhose',\n    'paparazzi',\n    'papaya',\n    'paper',\n    'paprika',\n    'papyrus',\n    'parabola',\n    'parachute',\n    'parade',\n    'paradox',\n    'paragraph',\n    'parakeet',\n    'paralegal',\n    'paralyses',\n    'paralysis',\n    'paralyze',\n    'paramedic',\n    'parameter',\n    'paramount',\n    'parasail',\n    'parasite',\n    'parasitic',\n    'parcel',\n    'parched',\n    'parchment',\n    'pardon',\n    'parish',\n    'parka',\n    'parking',\n    'parkway',\n    'parlor',\n    'parmesan',\n    'parole',\n    'parrot',\n    'parsley',\n    'parsnip',\n    'partake',\n    'parted',\n    'parting',\n    'partition',\n    'partly',\n    'partner',\n    'partridge',\n    'party',\n    'passable',\n    'passably',\n    'passage',\n    'passcode',\n    'passenger',\n    'passerby',\n    'passing',\n    'passion',\n    'passive',\n    'passivism',\n    'passover',\n    'passport',\n    'password',\n    'pasta',\n    'pasted',\n    'pastel',\n    'pastime',\n    'pastor',\n    'pastrami',\n    'pasture',\n    'pasty',\n    'patchwork',\n    'patchy',\n    'paternal',\n    'paternity',\n    'path',\n    'patience',\n    'patient',\n    'patio',\n    'patriarch',\n    'patriot',\n    'patrol',\n    'patronage',\n    'patronize',\n    'pauper',\n    'pavement',\n    'paver',\n    'pavestone',\n    'pavilion',\n    'paving',\n    'pawing',\n    'payable',\n    'payback',\n    'paycheck',\n    'payday',\n    'payee',\n    'payer',\n    'paying',\n    'payment',\n    'payphone',\n    'payroll',\n    'pebble',\n    'pebbly',\n    'pecan',\n    'pectin',\n    'peculiar',\n    'peddling',\n    'pediatric',\n    'pedicure',\n    'pedigree',\n    'pedometer',\n    'pegboard',\n    'pelican',\n    'pellet',\n    'pelt',\n    'pelvis',\n    'penalize',\n    'penalty',\n    'pencil',\n    'pendant',\n    'pending',\n    'penholder',\n    'penknife',\n    'pennant',\n    'penniless',\n    'penny',\n    'penpal',\n    'pension',\n    'pentagon',\n    'pentagram',\n    'pep',\n    'perceive',\n    'percent',\n    'perch',\n    'percolate',\n    'perennial',\n    'perfected',\n    'perfectly',\n    'perfume',\n    'periscope',\n    'perish',\n    'perjurer',\n    'perjury',\n    'perkiness',\n    'perky',\n    'perm',\n    'peroxide',\n    'perpetual',\n    'perplexed',\n    'persecute',\n    'persevere',\n    'persuaded',\n    'persuader',\n    'pesky',\n    'peso',\n    'pessimism',\n    'pessimist',\n    'pester',\n    'pesticide',\n    'petal',\n    'petite',\n    'petition',\n    'petri',\n    'petroleum',\n    'petted',\n    'petticoat',\n    'pettiness',\n    'petty',\n    'petunia',\n    'phantom',\n    'phobia',\n    'phoenix',\n    'phonebook',\n    'phoney',\n    'phonics',\n    'phoniness',\n    'phony',\n    'phosphate',\n    'photo',\n    'phrase',\n    'phrasing',\n    'placard',\n    'placate',\n    'placidly',\n    'plank',\n    'planner',\n    'plant',\n    'plasma',\n    'plaster',\n    'plastic',\n    'plated',\n    'platform',\n    'plating',\n    'platinum',\n    'platonic',\n    'platter',\n    'platypus',\n    'plausible',\n    'plausibly',\n    'playable',\n    'playback',\n    'player',\n    'playful',\n    'playgroup',\n    'playhouse',\n    'playing',\n    'playlist',\n    'playmaker',\n    'playmate',\n    'playoff',\n    'playpen',\n    'playroom',\n    'playset',\n    'plaything',\n    'playtime',\n    'plaza',\n    'pleading',\n    'pleat',\n    'pledge',\n    'plentiful',\n    'plenty',\n    'plethora',\n    'plexiglas',\n    'pliable',\n    'plod',\n    'plop',\n    'plot',\n    'plow',\n    'ploy',\n    'pluck',\n    'plug',\n    'plunder',\n    'plunging',\n    'plural',\n    'plus',\n    'plutonium',\n    'plywood',\n    'poach',\n    'pod',\n    'poem',\n    'poet',\n    'pogo',\n    'pointed',\n    'pointer',\n    'pointing',\n    'pointless',\n    'pointy',\n    'poise',\n    'poison',\n    'poker',\n    'poking',\n    'polar',\n    'police',\n    'policy',\n    'polio',\n    'polish',\n    'politely',\n    'polka',\n    'polo',\n    'polyester',\n    'polygon',\n    'polygraph',\n    'polymer',\n    'poncho',\n    'pond',\n    'pony',\n    'popcorn',\n    'pope',\n    'poplar',\n    'popper',\n    'poppy',\n    'popsicle',\n    'populace',\n    'popular',\n    'populate',\n    'porcupine',\n    'pork',\n    'porous',\n    'porridge',\n    'portable',\n    'portal',\n    'portfolio',\n    'porthole',\n    'portion',\n    'portly',\n    'portside',\n    'poser',\n    'posh',\n    'posing',\n    'possible',\n    'possibly',\n    'possum',\n    'postage',\n    'postal',\n    'postbox',\n    'postcard',\n    'posted',\n    'poster',\n    'posting',\n    'postnasal',\n    'posture',\n    'postwar',\n    'pouch',\n    'pounce',\n    'pouncing',\n    'pound',\n    'pouring',\n    'pout',\n    'powdered',\n    'powdering',\n    'powdery',\n    'power',\n    'powwow',\n    'pox',\n    'praising',\n    'prance',\n    'prancing',\n    'pranker',\n    'prankish',\n    'prankster',\n    'prayer',\n    'praying',\n    'preacher',\n    'preaching',\n    'preachy',\n    'preamble',\n    'precinct',\n    'precise',\n    'precision',\n    'precook',\n    'precut',\n    'predator',\n    'predefine',\n    'predict',\n    'preface',\n    'prefix',\n    'preflight',\n    'preformed',\n    'pregame',\n    'pregnancy',\n    'pregnant',\n    'preheated',\n    'prelaunch',\n    'prelaw',\n    'prelude',\n    'premiere',\n    'premises',\n    'premium',\n    'prenatal',\n    'preoccupy',\n    'preorder',\n    'prepaid',\n    'prepay',\n    'preplan',\n    'preppy',\n    'preschool',\n    'prescribe',\n    'preseason',\n    'preset',\n    'preshow',\n    'president',\n    'presoak',\n    'press',\n    'presume',\n    'presuming',\n    'preteen',\n    'pretended',\n    'pretender',\n    'pretense',\n    'pretext',\n    'pretty',\n    'pretzel',\n    'prevail',\n    'prevalent',\n    'prevent',\n    'preview',\n    'previous',\n    'prewar',\n    'prewashed',\n    'prideful',\n    'pried',\n    'primal',\n    'primarily',\n    'primary',\n    'primate',\n    'primer',\n    'primp',\n    'princess',\n    'print',\n    'prior',\n    'prism',\n    'prison',\n    'prissy',\n    'pristine',\n    'privacy',\n    'private',\n    'privatize',\n    'prize',\n    'proactive',\n    'probable',\n    'probably',\n    'probation',\n    'probe',\n    'probing',\n    'probiotic',\n    'problem',\n    'procedure',\n    'process',\n    'proclaim',\n    'procreate',\n    'procurer',\n    'prodigal',\n    'prodigy',\n    'produce',\n    'product',\n    'profane',\n    'profanity',\n    'professed',\n    'professor',\n    'profile',\n    'profound',\n    'profusely',\n    'progeny',\n    'prognosis',\n    'program',\n    'progress',\n    'projector',\n    'prologue',\n    'prolonged',\n    'promenade',\n    'prominent',\n    'promoter',\n    'promotion',\n    'prompter',\n    'promptly',\n    'prone',\n    'prong',\n    'pronounce',\n    'pronto',\n    'proofing',\n    'proofread',\n    'proofs',\n    'propeller',\n    'properly',\n    'property',\n    'proponent',\n    'proposal',\n    'propose',\n    'props',\n    'prorate',\n    'protector',\n    'protegee',\n    'proton',\n    'prototype',\n    'protozoan',\n    'protract',\n    'protrude',\n    'proud',\n    'provable',\n    'proved',\n    'proven',\n    'provided',\n    'provider',\n    'providing',\n    'province',\n    'proving',\n    'provoke',\n    'provoking',\n    'provolone',\n    'prowess',\n    'prowler',\n    'prowling',\n    'proximity',\n    'proxy',\n    'prozac',\n    'prude',\n    'prudishly',\n    'prune',\n    'pruning',\n    'pry',\n    'psychic',\n    'public',\n    'publisher',\n    'pucker',\n    'pueblo',\n    'pug',\n    'pull',\n    'pulmonary',\n    'pulp',\n    'pulsate',\n    'pulse',\n    'pulverize',\n    'puma',\n    'pumice',\n    'pummel',\n    'punch',\n    'punctual',\n    'punctuate',\n    'punctured',\n    'pungent',\n    'punisher',\n    'punk',\n    'pupil',\n    'puppet',\n    'puppy',\n    'purchase',\n    'pureblood',\n    'purebred',\n    'purely',\n    'pureness',\n    'purgatory',\n    'purge',\n    'purging',\n    'purifier',\n    'purify',\n    'purist',\n    'puritan',\n    'purity',\n    'purple',\n    'purplish',\n    'purposely',\n    'purr',\n    'purse',\n    'pursuable',\n    'pursuant',\n    'pursuit',\n    'purveyor',\n    'pushcart',\n    'pushchair',\n    'pusher',\n    'pushiness',\n    'pushing',\n    'pushover',\n    'pushpin',\n    'pushup',\n    'pushy',\n    'putdown',\n    'putt',\n    'puzzle',\n    'puzzling',\n    'pyramid',\n    'pyromania',\n    'python',\n    'quack',\n    'quadrant',\n    'quail',\n    'quaintly',\n    'quake',\n    'quaking',\n    'qualified',\n    'qualifier',\n    'qualify',\n    'quality',\n    'qualm',\n    'quantum',\n    'quarrel',\n    'quarry',\n    'quartered',\n    'quarterly',\n    'quarters',\n    'quartet',\n    'quench',\n    'query',\n    'quicken',\n    'quickly',\n    'quickness',\n    'quicksand',\n    'quickstep',\n    'quiet',\n    'quill',\n    'quilt',\n    'quintet',\n    'quintuple',\n    'quirk',\n    'quit',\n    'quiver',\n    'quizzical',\n    'quotable',\n    'quotation',\n    'quote',\n    'rabid',\n    'race',\n    'racing',\n    'racism',\n    'rack',\n    'racoon',\n    'radar',\n    'radial',\n    'radiance',\n    'radiantly',\n    'radiated',\n    'radiation',\n    'radiator',\n    'radio',\n    'radish',\n    'raffle',\n    'raft',\n    'rage',\n    'ragged',\n    'raging',\n    'ragweed',\n    'raider',\n    'railcar',\n    'railing',\n    'railroad',\n    'railway',\n    'raisin',\n    'rake',\n    'raking',\n    'rally',\n    'ramble',\n    'rambling',\n    'ramp',\n    'ramrod',\n    'ranch',\n    'rancidity',\n    'random',\n    'ranged',\n    'ranger',\n    'ranging',\n    'ranked',\n    'ranking',\n    'ransack',\n    'ranting',\n    'rants',\n    'rare',\n    'rarity',\n    'rascal',\n    'rash',\n    'rasping',\n    'ravage',\n    'raven',\n    'ravine',\n    'raving',\n    'ravioli',\n    'ravishing',\n    'reabsorb',\n    'reach',\n    'reacquire',\n    'reaction',\n    'reactive',\n    'reactor',\n    'reaffirm',\n    'ream',\n    'reanalyze',\n    'reappear',\n    'reapply',\n    'reappoint',\n    'reapprove',\n    'rearrange',\n    'rearview',\n    'reason',\n    'reassign',\n    'reassure',\n    'reattach',\n    'reawake',\n    'rebalance',\n    'rebate',\n    'rebel',\n    'rebirth',\n    'reboot',\n    'reborn',\n    'rebound',\n    'rebuff',\n    'rebuild',\n    'rebuilt',\n    'reburial',\n    'rebuttal',\n    'recall',\n    'recant',\n    'recapture',\n    'recast',\n    'recede',\n    'recent',\n    'recess',\n    'recharger',\n    'recipient',\n    'recital',\n    'recite',\n    'reckless',\n    'reclaim',\n    'recliner',\n    'reclining',\n    'recluse',\n    'reclusive',\n    'recognize',\n    'recoil',\n    'recollect',\n    'recolor',\n    'reconcile',\n    'reconfirm',\n    'reconvene',\n    'recopy',\n    'record',\n    'recount',\n    'recoup',\n    'recovery',\n    'recreate',\n    'rectal',\n    'rectangle',\n    'rectified',\n    'rectify',\n    'recycled',\n    'recycler',\n    'recycling',\n    'reemerge',\n    'reenact',\n    'reenter',\n    'reentry',\n    'reexamine',\n    'referable',\n    'referee',\n    'reference',\n    'refill',\n    'refinance',\n    'refined',\n    'refinery',\n    'refining',\n    'refinish',\n    'reflected',\n    'reflector',\n    'reflex',\n    'reflux',\n    'refocus',\n    'refold',\n    'reforest',\n    'reformat',\n    'reformed',\n    'reformer',\n    'reformist',\n    'refract',\n    'refrain',\n    'refreeze',\n    'refresh',\n    'refried',\n    'refueling',\n    'refund',\n    'refurbish',\n    'refurnish',\n    'refusal',\n    'refuse',\n    'refusing',\n    'refutable',\n    'refute',\n    'regain',\n    'regalia',\n    'regally',\n    'reggae',\n    'regime',\n    'region',\n    'register',\n    'registrar',\n    'registry',\n    'regress',\n    'regretful',\n    'regroup',\n    'regular',\n    'regulate',\n    'regulator',\n    'rehab',\n    'reheat',\n    'rehire',\n    'rehydrate',\n    'reimburse',\n    'reissue',\n    'reiterate',\n    'rejoice',\n    'rejoicing',\n    'rejoin',\n    'rekindle',\n    'relapse',\n    'relapsing',\n    'relatable',\n    'related',\n    'relation',\n    'relative',\n    'relax',\n    'relay',\n    'relearn',\n    'release',\n    'relenting',\n    'reliable',\n    'reliably',\n    'reliance',\n    'reliant',\n    'relic',\n    'relieve',\n    'relieving',\n    'relight',\n    'relish',\n    'relive',\n    'reload',\n    'relocate',\n    'relock',\n    'reluctant',\n    'rely',\n    'remake',\n    'remark',\n    'remarry',\n    'rematch',\n    'remedial',\n    'remedy',\n    'remember',\n    'reminder',\n    'remindful',\n    'remission',\n    'remix',\n    'remnant',\n    'remodeler',\n    'remold',\n    'remorse',\n    'remote',\n    'removable',\n    'removal',\n    'removed',\n    'remover',\n    'removing',\n    'rename',\n    'renderer',\n    'rendering',\n    'rendition',\n    'renegade',\n    'renewable',\n    'renewably',\n    'renewal',\n    'renewed',\n    'renounce',\n    'renovate',\n    'renovator',\n    'rentable',\n    'rental',\n    'rented',\n    'renter',\n    'reoccupy',\n    'reoccur',\n    'reopen',\n    'reorder',\n    'repackage',\n    'repacking',\n    'repaint',\n    'repair',\n    'repave',\n    'repaying',\n    'repayment',\n    'repeal',\n    'repeated',\n    'repeater',\n    'repent',\n    'rephrase',\n    'replace',\n    'replay',\n    'replica',\n    'reply',\n    'reporter',\n    'repose',\n    'repossess',\n    'repost',\n    'repressed',\n    'reprimand',\n    'reprint',\n    'reprise',\n    'reproach',\n    'reprocess',\n    'reproduce',\n    'reprogram',\n    'reps',\n    'reptile',\n    'reptilian',\n    'repugnant',\n    'repulsion',\n    'repulsive',\n    'repurpose',\n    'reputable',\n    'reputably',\n    'request',\n    'require',\n    'requisite',\n    'reroute',\n    'rerun',\n    'resale',\n    'resample',\n    'rescuer',\n    'reseal',\n    'research',\n    'reselect',\n    'reseller',\n    'resemble',\n    'resend',\n    'resent',\n    'reset',\n    'reshape',\n    'reshoot',\n    'reshuffle',\n    'residence',\n    'residency',\n    'resident',\n    'residual',\n    'residue',\n    'resigned',\n    'resilient',\n    'resistant',\n    'resisting',\n    'resize',\n    'resolute',\n    'resolved',\n    'resonant',\n    'resonate',\n    'resort',\n    'resource',\n    'respect',\n    'resubmit',\n    'result',\n    'resume',\n    'resupply',\n    'resurface',\n    'resurrect',\n    'retail',\n    'retainer',\n    'retaining',\n    'retake',\n    'retaliate',\n    'retention',\n    'rethink',\n    'retinal',\n    'retired',\n    'retiree',\n    'retiring',\n    'retold',\n    'retool',\n    'retorted',\n    'retouch',\n    'retrace',\n    'retract',\n    'retrain',\n    'retread',\n    'retreat',\n    'retrial',\n    'retrieval',\n    'retriever',\n    'retry',\n    'return',\n    'retying',\n    'retype',\n    'reunion',\n    'reunite',\n    'reusable',\n    'reuse',\n    'reveal',\n    'reveler',\n    'revenge',\n    'revenue',\n    'reverb',\n    'revered',\n    'reverence',\n    'reverend',\n    'reversal',\n    'reverse',\n    'reversing',\n    'reversion',\n    'revert',\n    'revisable',\n    'revise',\n    'revision',\n    'revisit',\n    'revivable',\n    'revival',\n    'reviver',\n    'reviving',\n    'revocable',\n    'revoke',\n    'revolt',\n    'revolver',\n    'revolving',\n    'reward',\n    'rewash',\n    'rewind',\n    'rewire',\n    'reword',\n    'rework',\n    'rewrap',\n    'rewrite',\n    'rhyme',\n    'ribbon',\n    'ribcage',\n    'rice',\n    'riches',\n    'richly',\n    'richness',\n    'rickety',\n    'ricotta',\n    'riddance',\n    'ridden',\n    'ride',\n    'riding',\n    'rifling',\n    'rift',\n    'rigging',\n    'rigid',\n    'rigor',\n    'rimless',\n    'rimmed',\n    'rind',\n    'rink',\n    'rinse',\n    'rinsing',\n    'riot',\n    'ripcord',\n    'ripeness',\n    'ripening',\n    'ripping',\n    'ripple',\n    'rippling',\n    'riptide',\n    'rise',\n    'rising',\n    'risk',\n    'risotto',\n    'ritalin',\n    'ritzy',\n    'rival',\n    'riverbank',\n    'riverbed',\n    'riverboat',\n    'riverside',\n    'riveter',\n    'riveting',\n    'roamer',\n    'roaming',\n    'roast',\n    'robbing',\n    'robe',\n    'robin',\n    'robotics',\n    'robust',\n    'rockband',\n    'rocker',\n    'rocket',\n    'rockfish',\n    'rockiness',\n    'rocking',\n    'rocklike',\n    'rockslide',\n    'rockstar',\n    'rocky',\n    'rogue',\n    'roman',\n    'romp',\n    'rope',\n    'roping',\n    'roster',\n    'rosy',\n    'rotten',\n    'rotting',\n    'rotunda',\n    'roulette',\n    'rounding',\n    'roundish',\n    'roundness',\n    'roundup',\n    'roundworm',\n    'routine',\n    'routing',\n    'rover',\n    'roving',\n    'royal',\n    'rubbed',\n    'rubber',\n    'rubbing',\n    'rubble',\n    'rubdown',\n    'ruby',\n    'ruckus',\n    'rudder',\n    'rug',\n    'ruined',\n    'rule',\n    'rumble',\n    'rumbling',\n    'rummage',\n    'rumor',\n    'runaround',\n    'rundown',\n    'runner',\n    'running',\n    'runny',\n    'runt',\n    'runway',\n    'rupture',\n    'rural',\n    'ruse',\n    'rush',\n    'rust',\n    'rut',\n    'sabbath',\n    'sabotage',\n    'sacrament',\n    'sacred',\n    'sacrifice',\n    'sadden',\n    'saddlebag',\n    'saddled',\n    'saddling',\n    'sadly',\n    'sadness',\n    'safari',\n    'safeguard',\n    'safehouse',\n    'safely',\n    'safeness',\n    'saffron',\n    'saga',\n    'sage',\n    'sagging',\n    'saggy',\n    'said',\n    'saint',\n    'sake',\n    'salad',\n    'salami',\n    'salaried',\n    'salary',\n    'saline',\n    'salon',\n    'saloon',\n    'salsa',\n    'salt',\n    'salutary',\n    'salute',\n    'salvage',\n    'salvaging',\n    'salvation',\n    'same',\n    'sample',\n    'sampling',\n    'sanction',\n    'sanctity',\n    'sanctuary',\n    'sandal',\n    'sandbag',\n    'sandbank',\n    'sandbar',\n    'sandblast',\n    'sandbox',\n    'sanded',\n    'sandfish',\n    'sanding',\n    'sandlot',\n    'sandpaper',\n    'sandpit',\n    'sandstone',\n    'sandstorm',\n    'sandworm',\n    'sandy',\n    'sanitary',\n    'sanitizer',\n    'sank',\n    'santa',\n    'sapling',\n    'sappiness',\n    'sappy',\n    'sarcasm',\n    'sarcastic',\n    'sardine',\n    'sash',\n    'sasquatch',\n    'sassy',\n    'satchel',\n    'satiable',\n    'satin',\n    'satirical',\n    'satisfied',\n    'satisfy',\n    'saturate',\n    'saturday',\n    'sauciness',\n    'saucy',\n    'sauna',\n    'savage',\n    'savanna',\n    'saved',\n    'savings',\n    'savior',\n    'savor',\n    'saxophone',\n    'say',\n    'scabbed',\n    'scabby',\n    'scalded',\n    'scalding',\n    'scale',\n    'scaling',\n    'scallion',\n    'scallop',\n    'scalping',\n    'scam',\n    'scandal',\n    'scanner',\n    'scanning',\n    'scant',\n    'scapegoat',\n    'scarce',\n    'scarcity',\n    'scarecrow',\n    'scared',\n    'scarf',\n    'scarily',\n    'scariness',\n    'scarring',\n    'scary',\n    'scavenger',\n    'scenic',\n    'schedule',\n    'schematic',\n    'scheme',\n    'scheming',\n    'schilling',\n    'schnapps',\n    'scholar',\n    'science',\n    'scientist',\n    'scion',\n    'scoff',\n    'scolding',\n    'scone',\n    'scoop',\n    'scooter',\n    'scope',\n    'scorch',\n    'scorebook',\n    'scorecard',\n    'scored',\n    'scoreless',\n    'scorer',\n    'scoring',\n    'scorn',\n    'scorpion',\n    'scotch',\n    'scoundrel',\n    'scoured',\n    'scouring',\n    'scouting',\n    'scouts',\n    'scowling',\n    'scrabble',\n    'scraggly',\n    'scrambled',\n    'scrambler',\n    'scrap',\n    'scratch',\n    'scrawny',\n    'screen',\n    'scribble',\n    'scribe',\n    'scribing',\n    'scrimmage',\n    'script',\n    'scroll',\n    'scrooge',\n    'scrounger',\n    'scrubbed',\n    'scrubber',\n    'scruffy',\n    'scrunch',\n    'scrutiny',\n    'scuba',\n    'scuff',\n    'sculptor',\n    'sculpture',\n    'scurvy',\n    'scuttle',\n    'secluded',\n    'secluding',\n    'seclusion',\n    'second',\n    'secrecy',\n    'secret',\n    'sectional',\n    'sector',\n    'secular',\n    'securely',\n    'security',\n    'sedan',\n    'sedate',\n    'sedation',\n    'sedative',\n    'sediment',\n    'seduce',\n    'seducing',\n    'segment',\n    'seismic',\n    'seizing',\n    'seldom',\n    'selected',\n    'selection',\n    'selective',\n    'selector',\n    'self',\n    'seltzer',\n    'semantic',\n    'semester',\n    'semicolon',\n    'semifinal',\n    'seminar',\n    'semisoft',\n    'semisweet',\n    'senate',\n    'senator',\n    'send',\n    'senior',\n    'senorita',\n    'sensation',\n    'sensitive',\n    'sensitize',\n    'sensually',\n    'sensuous',\n    'sepia',\n    'september',\n    'septic',\n    'septum',\n    'sequel',\n    'sequence',\n    'sequester',\n    'series',\n    'sermon',\n    'serotonin',\n    'serpent',\n    'serrated',\n    'serve',\n    'service',\n    'serving',\n    'sesame',\n    'sessions',\n    'setback',\n    'setting',\n    'settle',\n    'settling',\n    'setup',\n    'sevenfold',\n    'seventeen',\n    'seventh',\n    'seventy',\n    'severity',\n    'shabby',\n    'shack',\n    'shaded',\n    'shadily',\n    'shadiness',\n    'shading',\n    'shadow',\n    'shady',\n    'shaft',\n    'shakable',\n    'shakily',\n    'shakiness',\n    'shaking',\n    'shaky',\n    'shale',\n    'shallot',\n    'shallow',\n    'shame',\n    'shampoo',\n    'shamrock',\n    'shank',\n    'shanty',\n    'shape',\n    'shaping',\n    'share',\n    'sharpener',\n    'sharper',\n    'sharpie',\n    'sharply',\n    'sharpness',\n    'shawl',\n    'sheath',\n    'shed',\n    'sheep',\n    'sheet',\n    'shelf',\n    'shell',\n    'shelter',\n    'shelve',\n    'shelving',\n    'sherry',\n    'shield',\n    'shifter',\n    'shifting',\n    'shiftless',\n    'shifty',\n    'shimmer',\n    'shimmy',\n    'shindig',\n    'shine',\n    'shingle',\n    'shininess',\n    'shining',\n    'shiny',\n    'ship',\n    'shirt',\n    'shivering',\n    'shock',\n    'shone',\n    'shoplift',\n    'shopper',\n    'shopping',\n    'shoptalk',\n    'shore',\n    'shortage',\n    'shortcake',\n    'shortcut',\n    'shorten',\n    'shorter',\n    'shorthand',\n    'shortlist',\n    'shortly',\n    'shortness',\n    'shorts',\n    'shortwave',\n    'shorty',\n    'shout',\n    'shove',\n    'showbiz',\n    'showcase',\n    'showdown',\n    'shower',\n    'showgirl',\n    'showing',\n    'showman',\n    'shown',\n    'showoff',\n    'showpiece',\n    'showplace',\n    'showroom',\n    'showy',\n    'shrank',\n    'shrapnel',\n    'shredder',\n    'shredding',\n    'shrewdly',\n    'shriek',\n    'shrill',\n    'shrimp',\n    'shrine',\n    'shrink',\n    'shrivel',\n    'shrouded',\n    'shrubbery',\n    'shrubs',\n    'shrug',\n    'shrunk',\n    'shucking',\n    'shudder',\n    'shuffle',\n    'shuffling',\n    'shun',\n    'shush',\n    'shut',\n    'shy',\n    'siamese',\n    'siberian',\n    'sibling',\n    'siding',\n    'sierra',\n    'siesta',\n    'sift',\n    'sighing',\n    'silenced',\n    'silencer',\n    'silent',\n    'silica',\n    'silicon',\n    'silk',\n    'silliness',\n    'silly',\n    'silo',\n    'silt',\n    'silver',\n    'similarly',\n    'simile',\n    'simmering',\n    'simple',\n    'simplify',\n    'simply',\n    'sincere',\n    'sincerity',\n    'singer',\n    'singing',\n    'single',\n    'singular',\n    'sinister',\n    'sinless',\n    'sinner',\n    'sinuous',\n    'sip',\n    'siren',\n    'sister',\n    'sitcom',\n    'sitter',\n    'sitting',\n    'situated',\n    'situation',\n    'sixfold',\n    'sixteen',\n    'sixth',\n    'sixties',\n    'sixtieth',\n    'sixtyfold',\n    'sizable',\n    'sizably',\n    'size',\n    'sizing',\n    'sizzle',\n    'sizzling',\n    'skater',\n    'skating',\n    'skedaddle',\n    'skeletal',\n    'skeleton',\n    'skeptic',\n    'sketch',\n    'skewed',\n    'skewer',\n    'skid',\n    'skied',\n    'skier',\n    'skies',\n    'skiing',\n    'skilled',\n    'skillet',\n    'skillful',\n    'skimmed',\n    'skimmer',\n    'skimming',\n    'skimpily',\n    'skincare',\n    'skinhead',\n    'skinless',\n    'skinning',\n    'skinny',\n    'skintight',\n    'skipper',\n    'skipping',\n    'skirmish',\n    'skirt',\n    'skittle',\n    'skydiver',\n    'skylight',\n    'skyline',\n    'skype',\n    'skyrocket',\n    'skyward',\n    'slab',\n    'slacked',\n    'slacker',\n    'slacking',\n    'slackness',\n    'slacks',\n    'slain',\n    'slam',\n    'slander',\n    'slang',\n    'slapping',\n    'slapstick',\n    'slashed',\n    'slashing',\n    'slate',\n    'slather',\n    'slaw',\n    'sled',\n    'sleek',\n    'sleep',\n    'sleet',\n    'sleeve',\n    'slept',\n    'sliceable',\n    'sliced',\n    'slicer',\n    'slicing',\n    'slick',\n    'slider',\n    'slideshow',\n    'sliding',\n    'slighted',\n    'slighting',\n    'slightly',\n    'slimness',\n    'slimy',\n    'slinging',\n    'slingshot',\n    'slinky',\n    'slip',\n    'slit',\n    'sliver',\n    'slobbery',\n    'slogan',\n    'sloped',\n    'sloping',\n    'sloppily',\n    'sloppy',\n    'slot',\n    'slouching',\n    'slouchy',\n    'sludge',\n    'slug',\n    'slum',\n    'slurp',\n    'slush',\n    'sly',\n    'small',\n    'smartly',\n    'smartness',\n    'smasher',\n    'smashing',\n    'smashup',\n    'smell',\n    'smelting',\n    'smile',\n    'smilingly',\n    'smirk',\n    'smite',\n    'smith',\n    'smitten',\n    'smock',\n    'smog',\n    'smoked',\n    'smokeless',\n    'smokiness',\n    'smoking',\n    'smoky',\n    'smolder',\n    'smooth',\n    'smother',\n    'smudge',\n    'smudgy',\n    'smuggler',\n    'smuggling',\n    'smugly',\n    'smugness',\n    'snack',\n    'snagged',\n    'snaking',\n    'snap',\n    'snare',\n    'snarl',\n    'snazzy',\n    'sneak',\n    'sneer',\n    'sneeze',\n    'sneezing',\n    'snide',\n    'sniff',\n    'snippet',\n    'snipping',\n    'snitch',\n    'snooper',\n    'snooze',\n    'snore',\n    'snoring',\n    'snorkel',\n    'snort',\n    'snout',\n    'snowbird',\n    'snowboard',\n    'snowbound',\n    'snowcap',\n    'snowdrift',\n    'snowdrop',\n    'snowfall',\n    'snowfield',\n    'snowflake',\n    'snowiness',\n    'snowless',\n    'snowman',\n    'snowplow',\n    'snowshoe',\n    'snowstorm',\n    'snowsuit',\n    'snowy',\n    'snub',\n    'snuff',\n    'snuggle',\n    'snugly',\n    'snugness',\n    'speak',\n    'spearfish',\n    'spearhead',\n    'spearman',\n    'spearmint',\n    'species',\n    'specimen',\n    'specked',\n    'speckled',\n    'specks',\n    'spectacle',\n    'spectator',\n    'spectrum',\n    'speculate',\n    'speech',\n    'speed',\n    'spellbind',\n    'speller',\n    'spelling',\n    'spendable',\n    'spender',\n    'spending',\n    'spent',\n    'spew',\n    'sphere',\n    'spherical',\n    'sphinx',\n    'spider',\n    'spied',\n    'spiffy',\n    'spill',\n    'spilt',\n    'spinach',\n    'spinal',\n    'spindle',\n    'spinner',\n    'spinning',\n    'spinout',\n    'spinster',\n    'spiny',\n    'spiral',\n    'spirited',\n    'spiritism',\n    'spirits',\n    'spiritual',\n    'splashed',\n    'splashing',\n    'splashy',\n    'splatter',\n    'spleen',\n    'splendid',\n    'splendor',\n    'splice',\n    'splicing',\n    'splinter',\n    'splotchy',\n    'splurge',\n    'spoilage',\n    'spoiled',\n    'spoiler',\n    'spoiling',\n    'spoils',\n    'spoken',\n    'spokesman',\n    'sponge',\n    'spongy',\n    'sponsor',\n    'spoof',\n    'spookily',\n    'spooky',\n    'spool',\n    'spoon',\n    'spore',\n    'sporting',\n    'sports',\n    'sporty',\n    'spotless',\n    'spotlight',\n    'spotted',\n    'spotter',\n    'spotting',\n    'spotty',\n    'spousal',\n    'spouse',\n    'spout',\n    'sprain',\n    'sprang',\n    'sprawl',\n    'spray',\n    'spree',\n    'sprig',\n    'spring',\n    'sprinkled',\n    'sprinkler',\n    'sprint',\n    'sprite',\n    'sprout',\n    'spruce',\n    'sprung',\n    'spry',\n    'spud',\n    'spur',\n    'sputter',\n    'spyglass',\n    'squabble',\n    'squad',\n    'squall',\n    'squander',\n    'squash',\n    'squatted',\n    'squatter',\n    'squatting',\n    'squeak',\n    'squealer',\n    'squealing',\n    'squeamish',\n    'squeegee',\n    'squeeze',\n    'squeezing',\n    'squid',\n    'squiggle',\n    'squiggly',\n    'squint',\n    'squire',\n    'squirt',\n    'squishier',\n    'squishy',\n    'stability',\n    'stabilize',\n    'stable',\n    'stack',\n    'stadium',\n    'staff',\n    'stage',\n    'staging',\n    'stagnant',\n    'stagnate',\n    'stainable',\n    'stained',\n    'staining',\n    'stainless',\n    'stalemate',\n    'staleness',\n    'stalling',\n    'stallion',\n    'stamina',\n    'stammer',\n    'stamp',\n    'stand',\n    'stank',\n    'staple',\n    'stapling',\n    'starboard',\n    'starch',\n    'stardom',\n    'stardust',\n    'starfish',\n    'stargazer',\n    'staring',\n    'stark',\n    'starless',\n    'starlet',\n    'starlight',\n    'starlit',\n    'starring',\n    'starry',\n    'starship',\n    'starter',\n    'starting',\n    'startle',\n    'startling',\n    'startup',\n    'starved',\n    'starving',\n    'stash',\n    'state',\n    'static',\n    'statistic',\n    'statue',\n    'stature',\n    'status',\n    'statute',\n    'statutory',\n    'staunch',\n    'stays',\n    'steadfast',\n    'steadier',\n    'steadily',\n    'steadying',\n    'steam',\n    'steed',\n    'steep',\n    'steerable',\n    'steering',\n    'steersman',\n    'stegosaur',\n    'stellar',\n    'stem',\n    'stench',\n    'stencil',\n    'step',\n    'stereo',\n    'sterile',\n    'sterility',\n    'sterilize',\n    'sterling',\n    'sternness',\n    'sternum',\n    'stew',\n    'stick',\n    'stiffen',\n    'stiffly',\n    'stiffness',\n    'stifle',\n    'stifling',\n    'stillness',\n    'stilt',\n    'stimulant',\n    'stimulate',\n    'stimuli',\n    'stimulus',\n    'stinger',\n    'stingily',\n    'stinging',\n    'stingray',\n    'stingy',\n    'stinking',\n    'stinky',\n    'stipend',\n    'stipulate',\n    'stir',\n    'stitch',\n    'stock',\n    'stoic',\n    'stoke',\n    'stole',\n    'stomp',\n    'stonewall',\n    'stoneware',\n    'stonework',\n    'stoning',\n    'stony',\n    'stood',\n    'stooge',\n    'stool',\n    'stoop',\n    'stoplight',\n    'stoppable',\n    'stoppage',\n    'stopped',\n    'stopper',\n    'stopping',\n    'stopwatch',\n    'storable',\n    'storage',\n    'storeroom',\n    'storewide',\n    'storm',\n    'stout',\n    'stove',\n    'stowaway',\n    'stowing',\n    'straddle',\n    'straggler',\n    'strained',\n    'strainer',\n    'straining',\n    'strangely',\n    'stranger',\n    'strangle',\n    'strategic',\n    'strategy',\n    'stratus',\n    'straw',\n    'stray',\n    'streak',\n    'stream',\n    'street',\n    'strength',\n    'strenuous',\n    'strep',\n    'stress',\n    'stretch',\n    'strewn',\n    'stricken',\n    'strict',\n    'stride',\n    'strife',\n    'strike',\n    'striking',\n    'strive',\n    'striving',\n    'strobe',\n    'strode',\n    'stroller',\n    'strongbox',\n    'strongly',\n    'strongman',\n    'struck',\n    'structure',\n    'strudel',\n    'struggle',\n    'strum',\n    'strung',\n    'strut',\n    'stubbed',\n    'stubble',\n    'stubbly',\n    'stubborn',\n    'stucco',\n    'stuck',\n    'student',\n    'studied',\n    'studio',\n    'study',\n    'stuffed',\n    'stuffing',\n    'stuffy',\n    'stumble',\n    'stumbling',\n    'stump',\n    'stung',\n    'stunned',\n    'stunner',\n    'stunning',\n    'stunt',\n    'stupor',\n    'sturdily',\n    'sturdy',\n    'styling',\n    'stylishly',\n    'stylist',\n    'stylized',\n    'stylus',\n    'suave',\n    'subarctic',\n    'subatomic',\n    'subdivide',\n    'subdued',\n    'subduing',\n    'subfloor',\n    'subgroup',\n    'subheader',\n    'subject',\n    'sublease',\n    'sublet',\n    'sublevel',\n    'sublime',\n    'submarine',\n    'submerge',\n    'submersed',\n    'submitter',\n    'subpanel',\n    'subpar',\n    'subplot',\n    'subprime',\n    'subscribe',\n    'subscript',\n    'subsector',\n    'subside',\n    'subsiding',\n    'subsidize',\n    'subsidy',\n    'subsoil',\n    'subsonic',\n    'substance',\n    'subsystem',\n    'subtext',\n    'subtitle',\n    'subtly',\n    'subtotal',\n    'subtract',\n    'subtype',\n    'suburb',\n    'subway',\n    'subwoofer',\n    'subzero',\n    'succulent',\n    'such',\n    'suction',\n    'sudden',\n    'sudoku',\n    'suds',\n    'sufferer',\n    'suffering',\n    'suffice',\n    'suffix',\n    'suffocate',\n    'suffrage',\n    'sugar',\n    'suggest',\n    'suing',\n    'suitable',\n    'suitably',\n    'suitcase',\n    'suitor',\n    'sulfate',\n    'sulfide',\n    'sulfite',\n    'sulfur',\n    'sulk',\n    'sullen',\n    'sulphate',\n    'sulphuric',\n    'sultry',\n    'superbowl',\n    'superglue',\n    'superhero',\n    'superior',\n    'superjet',\n    'superman',\n    'supermom',\n    'supernova',\n    'supervise',\n    'supper',\n    'supplier',\n    'supply',\n    'support',\n    'supremacy',\n    'supreme',\n    'surcharge',\n    'surely',\n    'sureness',\n    'surface',\n    'surfacing',\n    'surfboard',\n    'surfer',\n    'surgery',\n    'surgical',\n    'surging',\n    'surname',\n    'surpass',\n    'surplus',\n    'surprise',\n    'surreal',\n    'surrender',\n    'surrogate',\n    'surround',\n    'survey',\n    'survival',\n    'survive',\n    'surviving',\n    'survivor',\n    'sushi',\n    'suspect',\n    'suspend',\n    'suspense',\n    'sustained',\n    'sustainer',\n    'swab',\n    'swaddling',\n    'swagger',\n    'swampland',\n    'swan',\n    'swapping',\n    'swarm',\n    'sway',\n    'swear',\n    'sweat',\n    'sweep',\n    'swell',\n    'swept',\n    'swerve',\n    'swifter',\n    'swiftly',\n    'swiftness',\n    'swimmable',\n    'swimmer',\n    'swimming',\n    'swimsuit',\n    'swimwear',\n    'swinger',\n    'swinging',\n    'swipe',\n    'swirl',\n    'switch',\n    'swivel',\n    'swizzle',\n    'swooned',\n    'swoop',\n    'swoosh',\n    'swore',\n    'sworn',\n    'swung',\n    'sycamore',\n    'sympathy',\n    'symphonic',\n    'symphony',\n    'symptom',\n    'synapse',\n    'syndrome',\n    'synergy',\n    'synopses',\n    'synopsis',\n    'synthesis',\n    'synthetic',\n    'syrup',\n    'system',\n    't-shirt',\n    'tabasco',\n    'tabby',\n    'tableful',\n    'tables',\n    'tablet',\n    'tableware',\n    'tabloid',\n    'tackiness',\n    'tacking',\n    'tackle',\n    'tackling',\n    'tacky',\n    'taco',\n    'tactful',\n    'tactical',\n    'tactics',\n    'tactile',\n    'tactless',\n    'tadpole',\n    'taekwondo',\n    'tag',\n    'tainted',\n    'take',\n    'taking',\n    'talcum',\n    'talisman',\n    'tall',\n    'talon',\n    'tamale',\n    'tameness',\n    'tamer',\n    'tamper',\n    'tank',\n    'tanned',\n    'tannery',\n    'tanning',\n    'tantrum',\n    'tapeless',\n    'tapered',\n    'tapering',\n    'tapestry',\n    'tapioca',\n    'tapping',\n    'taps',\n    'tarantula',\n    'target',\n    'tarmac',\n    'tarnish',\n    'tarot',\n    'tartar',\n    'tartly',\n    'tartness',\n    'task',\n    'tassel',\n    'taste',\n    'tastiness',\n    'tasting',\n    'tasty',\n    'tattered',\n    'tattle',\n    'tattling',\n    'tattoo',\n    'taunt',\n    'tavern',\n    'thank',\n    'that',\n    'thaw',\n    'theater',\n    'theatrics',\n    'thee',\n    'theft',\n    'theme',\n    'theology',\n    'theorize',\n    'thermal',\n    'thermos',\n    'thesaurus',\n    'these',\n    'thesis',\n    'thespian',\n    'thicken',\n    'thicket',\n    'thickness',\n    'thieving',\n    'thievish',\n    'thigh',\n    'thimble',\n    'thing',\n    'think',\n    'thinly',\n    'thinner',\n    'thinness',\n    'thinning',\n    'thirstily',\n    'thirsting',\n    'thirsty',\n    'thirteen',\n    'thirty',\n    'thong',\n    'thorn',\n    'those',\n    'thousand',\n    'thrash',\n    'thread',\n    'threaten',\n    'threefold',\n    'thrift',\n    'thrill',\n    'thrive',\n    'thriving',\n    'throat',\n    'throbbing',\n    'throng',\n    'throttle',\n    'throwaway',\n    'throwback',\n    'thrower',\n    'throwing',\n    'thud',\n    'thumb',\n    'thumping',\n    'thursday',\n    'thus',\n    'thwarting',\n    'thyself',\n    'tiara',\n    'tibia',\n    'tidal',\n    'tidbit',\n    'tidiness',\n    'tidings',\n    'tidy',\n    'tiger',\n    'tighten',\n    'tightly',\n    'tightness',\n    'tightrope',\n    'tightwad',\n    'tigress',\n    'tile',\n    'tiling',\n    'till',\n    'tilt',\n    'timid',\n    'timing',\n    'timothy',\n    'tinderbox',\n    'tinfoil',\n    'tingle',\n    'tingling',\n    'tingly',\n    'tinker',\n    'tinkling',\n    'tinsel',\n    'tinsmith',\n    'tint',\n    'tinwork',\n    'tiny',\n    'tipoff',\n    'tipped',\n    'tipper',\n    'tipping',\n    'tiptoeing',\n    'tiptop',\n    'tiring',\n    'tissue',\n    'trace',\n    'tracing',\n    'track',\n    'traction',\n    'tractor',\n    'trade',\n    'trading',\n    'tradition',\n    'traffic',\n    'tragedy',\n    'trailing',\n    'trailside',\n    'train',\n    'traitor',\n    'trance',\n    'tranquil',\n    'transfer',\n    'transform',\n    'translate',\n    'transpire',\n    'transport',\n    'transpose',\n    'trapdoor',\n    'trapeze',\n    'trapezoid',\n    'trapped',\n    'trapper',\n    'trapping',\n    'traps',\n    'trash',\n    'travel',\n    'traverse',\n    'travesty',\n    'tray',\n    'treachery',\n    'treading',\n    'treadmill',\n    'treason',\n    'treat',\n    'treble',\n    'tree',\n    'trekker',\n    'tremble',\n    'trembling',\n    'tremor',\n    'trench',\n    'trend',\n    'trespass',\n    'triage',\n    'trial',\n    'triangle',\n    'tribesman',\n    'tribunal',\n    'tribune',\n    'tributary',\n    'tribute',\n    'triceps',\n    'trickery',\n    'trickily',\n    'tricking',\n    'trickle',\n    'trickster',\n    'tricky',\n    'tricolor',\n    'tricycle',\n    'trident',\n    'tried',\n    'trifle',\n    'trifocals',\n    'trillion',\n    'trilogy',\n    'trimester',\n    'trimmer',\n    'trimming',\n    'trimness',\n    'trinity',\n    'trio',\n    'tripod',\n    'tripping',\n    'triumph',\n    'trivial',\n    'trodden',\n    'trolling',\n    'trombone',\n    'trophy',\n    'tropical',\n    'tropics',\n    'trouble',\n    'troubling',\n    'trough',\n    'trousers',\n    'trout',\n    'trowel',\n    'truce',\n    'truck',\n    'truffle',\n    'trump',\n    'trunks',\n    'trustable',\n    'trustee',\n    'trustful',\n    'trusting',\n    'trustless',\n    'truth',\n    'try',\n    'tubby',\n    'tubeless',\n    'tubular',\n    'tucking',\n    'tuesday',\n    'tug',\n    'tuition',\n    'tulip',\n    'tumble',\n    'tumbling',\n    'tummy',\n    'turban',\n    'turbine',\n    'turbofan',\n    'turbojet',\n    'turbulent',\n    'turf',\n    'turkey',\n    'turmoil',\n    'turret',\n    'turtle',\n    'tusk',\n    'tutor',\n    'tutu',\n    'tux',\n    'tweak',\n    'tweed',\n    'tweet',\n    'tweezers',\n    'twelve',\n    'twentieth',\n    'twenty',\n    'twerp',\n    'twice',\n    'twiddle',\n    'twiddling',\n    'twig',\n    'twilight',\n    'twine',\n    'twins',\n    'twirl',\n    'twistable',\n    'twisted',\n    'twister',\n    'twisting',\n    'twisty',\n    'twitch',\n    'twitter',\n    'tycoon',\n    'tying',\n    'tyke',\n    'udder',\n    'ultimate',\n    'ultimatum',\n    'ultra',\n    'umbilical',\n    'umbrella',\n    'umpire',\n    'unabashed',\n    'unable',\n    'unadorned',\n    'unadvised',\n    'unafraid',\n    'unaired',\n    'unaligned',\n    'unaltered',\n    'unarmored',\n    'unashamed',\n    'unaudited',\n    'unawake',\n    'unaware',\n    'unbaked',\n    'unbalance',\n    'unbeaten',\n    'unbend',\n    'unbent',\n    'unbiased',\n    'unbitten',\n    'unblended',\n    'unblessed',\n    'unblock',\n    'unbolted',\n    'unbounded',\n    'unboxed',\n    'unbraided',\n    'unbridle',\n    'unbroken',\n    'unbuckled',\n    'unbundle',\n    'unburned',\n    'unbutton',\n    'uncanny',\n    'uncapped',\n    'uncaring',\n    'uncertain',\n    'unchain',\n    'unchanged',\n    'uncharted',\n    'uncheck',\n    'uncivil',\n    'unclad',\n    'unclaimed',\n    'unclamped',\n    'unclasp',\n    'uncle',\n    'unclip',\n    'uncloak',\n    'unclog',\n    'unclothed',\n    'uncoated',\n    'uncoiled',\n    'uncolored',\n    'uncombed',\n    'uncommon',\n    'uncooked',\n    'uncork',\n    'uncorrupt',\n    'uncounted',\n    'uncouple',\n    'uncouth',\n    'uncover',\n    'uncross',\n    'uncrown',\n    'uncrushed',\n    'uncured',\n    'uncurious',\n    'uncurled',\n    'uncut',\n    'undamaged',\n    'undated',\n    'undaunted',\n    'undead',\n    'undecided',\n    'undefined',\n    'underage',\n    'underarm',\n    'undercoat',\n    'undercook',\n    'undercut',\n    'underdog',\n    'underdone',\n    'underfed',\n    'underfeed',\n    'underfoot',\n    'undergo',\n    'undergrad',\n    'underhand',\n    'underline',\n    'underling',\n    'undermine',\n    'undermost',\n    'underpaid',\n    'underpass',\n    'underpay',\n    'underrate',\n    'undertake',\n    'undertone',\n    'undertook',\n    'undertow',\n    'underuse',\n    'underwear',\n    'underwent',\n    'underwire',\n    'undesired',\n    'undiluted',\n    'undivided',\n    'undocked',\n    'undoing',\n    'undone',\n    'undrafted',\n    'undress',\n    'undrilled',\n    'undusted',\n    'undying',\n    'unearned',\n    'unearth',\n    'unease',\n    'uneasily',\n    'uneasy',\n    'uneatable',\n    'uneaten',\n    'unedited',\n    'unelected',\n    'unending',\n    'unengaged',\n    'unenvied',\n    'unequal',\n    'unethical',\n    'uneven',\n    'unexpired',\n    'unexposed',\n    'unfailing',\n    'unfair',\n    'unfasten',\n    'unfazed',\n    'unfeeling',\n    'unfiled',\n    'unfilled',\n    'unfitted',\n    'unfitting',\n    'unfixable',\n    'unfixed',\n    'unflawed',\n    'unfocused',\n    'unfold',\n    'unfounded',\n    'unframed',\n    'unfreeze',\n    'unfrosted',\n    'unfrozen',\n    'unfunded',\n    'unglazed',\n    'ungloved',\n    'unglue',\n    'ungodly',\n    'ungraded',\n    'ungreased',\n    'unguarded',\n    'unguided',\n    'unhappily',\n    'unhappy',\n    'unharmed',\n    'unhealthy',\n    'unheard',\n    'unhearing',\n    'unheated',\n    'unhelpful',\n    'unhidden',\n    'unhinge',\n    'unhitched',\n    'unholy',\n    'unhook',\n    'unicorn',\n    'unicycle',\n    'unified',\n    'unifier',\n    'uniformed',\n    'uniformly',\n    'unify',\n    'unimpeded',\n    'uninjured',\n    'uninstall',\n    'uninsured',\n    'uninvited',\n    'union',\n    'uniquely',\n    'unisexual',\n    'unison',\n    'unissued',\n    'unit',\n    'universal',\n    'universe',\n    'unjustly',\n    'unkempt',\n    'unkind',\n    'unknotted',\n    'unknowing',\n    'unknown',\n    'unlaced',\n    'unlatch',\n    'unlawful',\n    'unleaded',\n    'unlearned',\n    'unleash',\n    'unless',\n    'unleveled',\n    'unlighted',\n    'unlikable',\n    'unlimited',\n    'unlined',\n    'unlinked',\n    'unlisted',\n    'unlit',\n    'unlivable',\n    'unloaded',\n    'unloader',\n    'unlocked',\n    'unlocking',\n    'unlovable',\n    'unloved',\n    'unlovely',\n    'unloving',\n    'unluckily',\n    'unlucky',\n    'unmade',\n    'unmanaged',\n    'unmanned',\n    'unmapped',\n    'unmarked',\n    'unmasked',\n    'unmasking',\n    'unmatched',\n    'unmindful',\n    'unmixable',\n    'unmixed',\n    'unmolded',\n    'unmoral',\n    'unmovable',\n    'unmoved',\n    'unmoving',\n    'unnamable',\n    'unnamed',\n    'unnatural',\n    'unneeded',\n    'unnerve',\n    'unnerving',\n    'unnoticed',\n    'unopened',\n    'unopposed',\n    'unpack',\n    'unpadded',\n    'unpaid',\n    'unpainted',\n    'unpaired',\n    'unpaved',\n    'unpeeled',\n    'unpicked',\n    'unpiloted',\n    'unpinned',\n    'unplanned',\n    'unplanted',\n    'unpleased',\n    'unpledged',\n    'unplowed',\n    'unplug',\n    'unpopular',\n    'unproven',\n    'unquote',\n    'unranked',\n    'unrated',\n    'unraveled',\n    'unreached',\n    'unread',\n    'unreal',\n    'unreeling',\n    'unrefined',\n    'unrelated',\n    'unrented',\n    'unrest',\n    'unretired',\n    'unrevised',\n    'unrigged',\n    'unripe',\n    'unrivaled',\n    'unroasted',\n    'unrobed',\n    'unroll',\n    'unruffled',\n    'unruly',\n    'unrushed',\n    'unsaddle',\n    'unsafe',\n    'unsaid',\n    'unsalted',\n    'unsaved',\n    'unsavory',\n    'unscathed',\n    'unscented',\n    'unscrew',\n    'unsealed',\n    'unseated',\n    'unsecured',\n    'unseeing',\n    'unseemly',\n    'unseen',\n    'unselect',\n    'unselfish',\n    'unsent',\n    'unsettled',\n    'unshackle',\n    'unshaken',\n    'unshaved',\n    'unshaven',\n    'unsheathe',\n    'unshipped',\n    'unsightly',\n    'unsigned',\n    'unskilled',\n    'unsliced',\n    'unsmooth',\n    'unsnap',\n    'unsocial',\n    'unsoiled',\n    'unsold',\n    'unsolved',\n    'unsorted',\n    'unspoiled',\n    'unspoken',\n    'unstable',\n    'unstaffed',\n    'unstamped',\n    'unsteady',\n    'unsterile',\n    'unstirred',\n    'unstitch',\n    'unstopped',\n    'unstuck',\n    'unstuffed',\n    'unstylish',\n    'unsubtle',\n    'unsubtly',\n    'unsuited',\n    'unsure',\n    'unsworn',\n    'untagged',\n    'untainted',\n    'untaken',\n    'untamed',\n    'untangled',\n    'untapped',\n    'untaxed',\n    'unthawed',\n    'unthread',\n    'untidy',\n    'untie',\n    'until',\n    'untimed',\n    'untimely',\n    'untitled',\n    'untoasted',\n    'untold',\n    'untouched',\n    'untracked',\n    'untrained',\n    'untreated',\n    'untried',\n    'untrimmed',\n    'untrue',\n    'untruth',\n    'unturned',\n    'untwist',\n    'untying',\n    'unusable',\n    'unused',\n    'unusual',\n    'unvalued',\n    'unvaried',\n    'unvarying',\n    'unveiled',\n    'unveiling',\n    'unvented',\n    'unviable',\n    'unvisited',\n    'unvocal',\n    'unwanted',\n    'unwarlike',\n    'unwary',\n    'unwashed',\n    'unwatched',\n    'unweave',\n    'unwed',\n    'unwelcome',\n    'unwell',\n    'unwieldy',\n    'unwilling',\n    'unwind',\n    'unwired',\n    'unwitting',\n    'unwomanly',\n    'unworldly',\n    'unworn',\n    'unworried',\n    'unworthy',\n    'unwound',\n    'unwoven',\n    'unwrapped',\n    'unwritten',\n    'unzip',\n    'upbeat',\n    'upchuck',\n    'upcoming',\n    'upcountry',\n    'update',\n    'upfront',\n    'upgrade',\n    'upheaval',\n    'upheld',\n    'uphill',\n    'uphold',\n    'uplifted',\n    'uplifting',\n    'upload',\n    'upon',\n    'upper',\n    'upright',\n    'uprising',\n    'upriver',\n    'uproar',\n    'uproot',\n    'upscale',\n    'upside',\n    'upstage',\n    'upstairs',\n    'upstart',\n    'upstate',\n    'upstream',\n    'upstroke',\n    'upswing',\n    'uptake',\n    'uptight',\n    'uptown',\n    'upturned',\n    'upward',\n    'upwind',\n    'uranium',\n    'urban',\n    'urchin',\n    'urethane',\n    'urgency',\n    'urgent',\n    'urging',\n    'urologist',\n    'urology',\n    'usable',\n    'usage',\n    'useable',\n    'used',\n    'uselessly',\n    'user',\n    'usher',\n    'usual',\n    'utensil',\n    'utility',\n    'utilize',\n    'utmost',\n    'utopia',\n    'utter',\n    'vacancy',\n    'vacant',\n    'vacate',\n    'vacation',\n    'vagabond',\n    'vagrancy',\n    'vagrantly',\n    'vaguely',\n    'vagueness',\n    'valiant',\n    'valid',\n    'valium',\n    'valley',\n    'valuables',\n    'value',\n    'vanilla',\n    'vanish',\n    'vanity',\n    'vanquish',\n    'vantage',\n    'vaporizer',\n    'variable',\n    'variably',\n    'varied',\n    'variety',\n    'various',\n    'varmint',\n    'varnish',\n    'varsity',\n    'varying',\n    'vascular',\n    'vaseline',\n    'vastly',\n    'vastness',\n    'veal',\n    'vegan',\n    'veggie',\n    'vehicular',\n    'velcro',\n    'velocity',\n    'velvet',\n    'vendetta',\n    'vending',\n    'vendor',\n    'veneering',\n    'vengeful',\n    'venomous',\n    'ventricle',\n    'venture',\n    'venue',\n    'venus',\n    'verbalize',\n    'verbally',\n    'verbose',\n    'verdict',\n    'verify',\n    'verse',\n    'version',\n    'versus',\n    'vertebrae',\n    'vertical',\n    'vertigo',\n    'very',\n    'vessel',\n    'vest',\n    'veteran',\n    'veto',\n    'vexingly',\n    'viability',\n    'viable',\n    'vibes',\n    'vice',\n    'vicinity',\n    'victory',\n    'video',\n    'viewable',\n    'viewer',\n    'viewing',\n    'viewless',\n    'viewpoint',\n    'vigorous',\n    'village',\n    'villain',\n    'vindicate',\n    'vineyard',\n    'vintage',\n    'violate',\n    'violation',\n    'violator',\n    'violet',\n    'violin',\n    'viper',\n    'viral',\n    'virtual',\n    'virtuous',\n    'virus',\n    'visa',\n    'viscosity',\n    'viscous',\n    'viselike',\n    'visible',\n    'visibly',\n    'vision',\n    'visiting',\n    'visitor',\n    'visor',\n    'vista',\n    'vitality',\n    'vitalize',\n    'vitally',\n    'vitamins',\n    'vivacious',\n    'vividly',\n    'vividness',\n    'vixen',\n    'vocalist',\n    'vocalize',\n    'vocally',\n    'vocation',\n    'voice',\n    'voicing',\n    'void',\n    'volatile',\n    'volley',\n    'voltage',\n    'volumes',\n    'voter',\n    'voting',\n    'voucher',\n    'vowed',\n    'vowel',\n    'voyage',\n    'wackiness',\n    'wad',\n    'wafer',\n    'waffle',\n    'waged',\n    'wager',\n    'wages',\n    'waggle',\n    'wagon',\n    'wake',\n    'waking',\n    'walk',\n    'walmart',\n    'walnut',\n    'walrus',\n    'waltz',\n    'wand',\n    'wannabe',\n    'wanted',\n    'wanting',\n    'wasabi',\n    'washable',\n    'washbasin',\n    'washboard',\n    'washbowl',\n    'washcloth',\n    'washday',\n    'washed',\n    'washer',\n    'washhouse',\n    'washing',\n    'washout',\n    'washroom',\n    'washstand',\n    'washtub',\n    'wasp',\n    'wasting',\n    'watch',\n    'water',\n    'waviness',\n    'waving',\n    'wavy',\n    'whacking',\n    'whacky',\n    'wham',\n    'wharf',\n    'wheat',\n    'whenever',\n    'whiff',\n    'whimsical',\n    'whinny',\n    'whiny',\n    'whisking',\n    'whoever',\n    'whole',\n    'whomever',\n    'whoopee',\n    'whooping',\n    'whoops',\n    'why',\n    'wick',\n    'widely',\n    'widen',\n    'widget',\n    'widow',\n    'width',\n    'wieldable',\n    'wielder',\n    'wife',\n    'wifi',\n    'wikipedia',\n    'wildcard',\n    'wildcat',\n    'wilder',\n    'wildfire',\n    'wildfowl',\n    'wildland',\n    'wildlife',\n    'wildly',\n    'wildness',\n    'willed',\n    'willfully',\n    'willing',\n    'willow',\n    'willpower',\n    'wilt',\n    'wimp',\n    'wince',\n    'wincing',\n    'wind',\n    'wing',\n    'winking',\n    'winner',\n    'winnings',\n    'winter',\n    'wipe',\n    'wired',\n    'wireless',\n    'wiring',\n    'wiry',\n    'wisdom',\n    'wise',\n    'wish',\n    'wisplike',\n    'wispy',\n    'wistful',\n    'wizard',\n    'wobble',\n    'wobbling',\n    'wobbly',\n    'wok',\n    'wolf',\n    'wolverine',\n    'womanhood',\n    'womankind',\n    'womanless',\n    'womanlike',\n    'womanly',\n    'womb',\n    'woof',\n    'wooing',\n    'wool',\n    'woozy',\n    'word',\n    'work',\n    'worried',\n    'worrier',\n    'worrisome',\n    'worry',\n    'worsening',\n    'worshiper',\n    'worst',\n    'wound',\n    'woven',\n    'wow',\n    'wrangle',\n    'wrath',\n    'wreath',\n    'wreckage',\n    'wrecker',\n    'wrecking',\n    'wrench',\n    'wriggle',\n    'wriggly',\n    'wrinkle',\n    'wrinkly',\n    'wrist',\n    'writing',\n    'written',\n    'wrongdoer',\n    'wronged',\n    'wrongful',\n    'wrongly',\n    'wrongness',\n    'wrought',\n    'xbox',\n    'xerox',\n    'yahoo',\n    'yam',\n    'yanking',\n    'yapping',\n    'yard',\n    'yarn',\n    'yeah',\n    'yearbook',\n    'yearling',\n    'yearly',\n    'yearning',\n    'yeast',\n    'yelling',\n    'yelp',\n    'yen',\n    'yesterday',\n    'yiddish',\n    'yield',\n    'yin',\n    'yippee',\n    'yo-yo',\n    'yodel',\n    'yoga',\n    'yogurt',\n    'yonder',\n    'yoyo',\n    'yummy',\n    'zap',\n    'zealous',\n    'zebra',\n    'zen',\n    'zeppelin',\n    'zero',\n    'zestfully',\n    'zesty',\n    'zigzagged',\n    'zipfile',\n    'zipping',\n    'zippy',\n    'zips',\n    'zit',\n    'zodiac',\n    'zombie',\n    'zone',\n    'zoning',\n    'zookeeper',\n    'zoologist',\n    'zoology',\n    'zoom',\n];\n","import { EnvironmentUrls } from '../models/domain/environmentUrls';\n\nimport { ConstantsService } from './constants.service';\n\nimport { ApiService } from '../abstractions/api.service';\nimport { EnvironmentService as EnvironmentServiceAbstraction } from '../abstractions/environment.service';\nimport { NotificationsService } from '../abstractions/notifications.service';\nimport { StorageService } from '../abstractions/storage.service';\n\nexport class EnvironmentService implements EnvironmentServiceAbstraction {\n    baseUrl: string;\n    webVaultUrl: string;\n    apiUrl: string;\n    identityUrl: string;\n    iconsUrl: string;\n    notificationsUrl: string;\n    eventsUrl: string;\n    enterpriseUrl: string;\n\n    constructor(private apiService: ApiService, private storageService: StorageService,\n        private notificationsService: NotificationsService) { }\n\n    getWebVaultUrl(): string {\n        if (this.webVaultUrl != null) {\n            return this.webVaultUrl;\n        } else if (this.baseUrl) {\n            return this.baseUrl;\n        }\n        return null;\n    }\n\n    async setUrlsFromStorage(): Promise<void> {\n        const urlsObj: any = await this.storageService.get(ConstantsService.environmentUrlsKey);\n        const urls = urlsObj || {\n            base: null,\n            api: null,\n            identity: null,\n            icons: null,\n            notifications: null,\n            events: null,\n            webVault: null,\n            enterprise: null,\n        };\n\n        const envUrls = new EnvironmentUrls();\n\n        if (urls.base) {\n            this.baseUrl = envUrls.base = urls.base;\n            this.apiService.setUrls(envUrls);\n            return;\n        }\n\n        this.webVaultUrl = urls.webVault;\n        this.apiUrl = envUrls.api = urls.api;\n        this.identityUrl = envUrls.identity = urls.identity;\n        this.iconsUrl = urls.icons;\n        this.notificationsUrl = urls.notifications;\n        this.eventsUrl = envUrls.events = urls.events;\n        this.enterpriseUrl = urls.enterprise;\n        this.apiService.setUrls(envUrls);\n    }\n\n    async setUrls(urls: any): Promise<any> {\n        urls.base = this.formatUrl(urls.base);\n        urls.webVault = this.formatUrl(urls.webVault);\n        urls.api = this.formatUrl(urls.api);\n        urls.identity = this.formatUrl(urls.identity);\n        urls.icons = this.formatUrl(urls.icons);\n        urls.notifications = this.formatUrl(urls.notifications);\n        urls.events = this.formatUrl(urls.events);\n        urls.enterprise = this.formatUrl(urls.enterprise);\n\n        await this.storageService.save(ConstantsService.environmentUrlsKey, {\n            base: urls.base,\n            api: urls.api,\n            identity: urls.identity,\n            webVault: urls.webVault,\n            icons: urls.icons,\n            notifications: urls.notifications,\n            events: urls.events,\n            enterprise: urls.enterprise,\n        });\n\n        this.baseUrl = urls.base;\n        this.webVaultUrl = urls.webVault;\n        this.apiUrl = urls.api;\n        this.identityUrl = urls.identity;\n        this.iconsUrl = urls.icons;\n        this.notificationsUrl = urls.notifications;\n        this.eventsUrl = urls.events;\n        this.enterpriseUrl = urls.enterprise;\n\n        const envUrls = new EnvironmentUrls();\n        if (this.baseUrl) {\n            envUrls.base = this.baseUrl;\n        } else {\n            envUrls.api = this.apiUrl;\n            envUrls.identity = this.identityUrl;\n            envUrls.events = this.eventsUrl;\n        }\n\n        this.apiService.setUrls(envUrls);\n        if (this.notificationsService != null) {\n            this.notificationsService.init(this);\n        }\n        return urls;\n    }\n\n    private formatUrl(url: string): string {\n        if (url == null || url === '') {\n            return null;\n        }\n\n        url = url.replace(/\\/+$/g, '');\n        if (!url.startsWith('http://') && !url.startsWith('https://')) {\n            url = 'https://' + url;\n        }\n\n        return url.trim();\n    }\n}\n","import { FolderData } from '../models/data/folderData';\n\nimport { Folder } from '../models/domain/folder';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\nimport { TreeNode } from '../models/domain/treeNode';\n\nimport { FolderRequest } from '../models/request/folderRequest';\n\nimport { FolderResponse } from '../models/response/folderResponse';\n\nimport { FolderView } from '../models/view/folderView';\n\nimport { ApiService } from '../abstractions/api.service';\nimport { CipherService } from '../abstractions/cipher.service';\nimport { CryptoService } from '../abstractions/crypto.service';\nimport { FolderService as FolderServiceAbstraction } from '../abstractions/folder.service';\nimport { I18nService } from '../abstractions/i18n.service';\nimport { StorageService } from '../abstractions/storage.service';\nimport { UserService } from '../abstractions/user.service';\nimport { CipherData } from '../models/data/cipherData';\n\nimport { ServiceUtils } from '../misc/serviceUtils';\nimport { Utils } from '../misc/utils';\n\nconst Keys = {\n    foldersPrefix: 'folders_',\n    ciphersPrefix: 'ciphers_',\n};\nconst NestingDelimiter = '/';\n\nexport class FolderService implements FolderServiceAbstraction {\n    decryptedFolderCache: FolderView[];\n\n    constructor(private cryptoService: CryptoService, private userService: UserService,\n        private apiService: ApiService, private storageService: StorageService,\n        private i18nService: I18nService, private cipherService: CipherService) { }\n\n    clearCache(): void {\n        this.decryptedFolderCache = null;\n    }\n\n    async encrypt(model: FolderView, key?: SymmetricCryptoKey): Promise<Folder> {\n        const folder = new Folder();\n        folder.id = model.id;\n        folder.name = await this.cryptoService.encrypt(model.name, key);\n        return folder;\n    }\n\n    async get(id: string): Promise<Folder> {\n        const userId = await this.userService.getUserId();\n        const folders = await this.storageService.get<{ [id: string]: FolderData; }>(\n            Keys.foldersPrefix + userId);\n        if (folders == null || !folders.hasOwnProperty(id)) {\n            return null;\n        }\n\n        return new Folder(folders[id]);\n    }\n\n    async getAll(): Promise<Folder[]> {\n        const userId = await this.userService.getUserId();\n        const folders = await this.storageService.get<{ [id: string]: FolderData; }>(\n            Keys.foldersPrefix + userId);\n        const response: Folder[] = [];\n        for (const id in folders) {\n            if (folders.hasOwnProperty(id)) {\n                response.push(new Folder(folders[id]));\n            }\n        }\n        return response;\n    }\n\n    async getAllDecrypted(): Promise<FolderView[]> {\n        if (this.decryptedFolderCache != null) {\n            return this.decryptedFolderCache;\n        }\n\n        const hasKey = await this.cryptoService.hasKey();\n        if (!hasKey) {\n            throw new Error('No key.');\n        }\n\n        const decFolders: FolderView[] = [];\n        const promises: Promise<any>[] = [];\n        const folders = await this.getAll();\n        folders.forEach(folder => {\n            promises.push(folder.decrypt().then(f => decFolders.push(f)));\n        });\n\n        await Promise.all(promises);\n        decFolders.sort(Utils.getSortFunction(this.i18nService, 'name'));\n\n        const noneFolder = new FolderView();\n        noneFolder.name = this.i18nService.t('noneFolder');\n        decFolders.push(noneFolder);\n\n        this.decryptedFolderCache = decFolders;\n        return this.decryptedFolderCache;\n    }\n\n    async getAllNested(): Promise<TreeNode<FolderView>[]> {\n        const folders = await this.getAllDecrypted();\n        const nodes: TreeNode<FolderView>[] = [];\n        folders.forEach(f => {\n            const folderCopy = new FolderView();\n            folderCopy.id = f.id;\n            folderCopy.revisionDate = f.revisionDate;\n            const parts = f.name != null ? f.name.replace(/^\\/+|\\/+$/g, '').split(NestingDelimiter) : [];\n            ServiceUtils.nestedTraverse(nodes, 0, parts, folderCopy, null, NestingDelimiter);\n        });\n        return nodes;\n    }\n\n    async getNested(id: string): Promise<TreeNode<FolderView>> {\n        const folders = await this.getAllNested();\n        return ServiceUtils.getTreeNodeObject(folders, id) as TreeNode<FolderView>;\n    }\n\n    async saveWithServer(folder: Folder): Promise<any> {\n        const request = new FolderRequest(folder);\n\n        let response: FolderResponse;\n        if (folder.id == null) {\n            response = await this.apiService.postFolder(request);\n            folder.id = response.id;\n        } else {\n            response = await this.apiService.putFolder(folder.id, request);\n        }\n\n        const userId = await this.userService.getUserId();\n        const data = new FolderData(response, userId);\n        await this.upsert(data);\n    }\n\n    async upsert(folder: FolderData | FolderData[]): Promise<any> {\n        const userId = await this.userService.getUserId();\n        let folders = await this.storageService.get<{ [id: string]: FolderData; }>(\n            Keys.foldersPrefix + userId);\n        if (folders == null) {\n            folders = {};\n        }\n\n        if (folder instanceof FolderData) {\n            const f = folder as FolderData;\n            folders[f.id] = f;\n        } else {\n            (folder as FolderData[]).forEach(f => {\n                folders[f.id] = f;\n            });\n        }\n\n        await this.storageService.save(Keys.foldersPrefix + userId, folders);\n        this.decryptedFolderCache = null;\n    }\n\n    async replace(folders: { [id: string]: FolderData; }): Promise<any> {\n        const userId = await this.userService.getUserId();\n        await this.storageService.save(Keys.foldersPrefix + userId, folders);\n        this.decryptedFolderCache = null;\n    }\n\n    async clear(userId: string): Promise<any> {\n        await this.storageService.remove(Keys.foldersPrefix + userId);\n        this.decryptedFolderCache = null;\n    }\n\n    async delete(id: string | string[]): Promise<any> {\n        const userId = await this.userService.getUserId();\n        const folders = await this.storageService.get<{ [id: string]: FolderData; }>(\n            Keys.foldersPrefix + userId);\n        if (folders == null) {\n            return;\n        }\n\n        if (typeof id === 'string') {\n            if (folders[id] == null) {\n                return;\n            }\n            delete folders[id];\n        } else {\n            (id as string[]).forEach(i => {\n                delete folders[i];\n            });\n        }\n\n        await this.storageService.save(Keys.foldersPrefix + userId, folders);\n        this.decryptedFolderCache = null;\n\n        // Items in a deleted folder are re-assigned to \"No Folder\"\n        const ciphers = await this.storageService.get<{ [id: string]: CipherData; }>(Keys.ciphersPrefix + userId);\n        if (ciphers != null) {\n            const updates: CipherData[] = [];\n            for (const cId in ciphers) {\n                if (ciphers[cId].folderId === id) {\n                    ciphers[cId].folderId = null;\n                    updates.push(ciphers[cId]);\n                }\n            }\n            if (updates.length > 0) {\n                this.cipherService.upsert(updates);\n            }\n        }\n    }\n\n    async deleteWithServer(id: string): Promise<any> {\n        await this.apiService.deleteFolder(id);\n        await this.delete(id);\n    }\n}\n","import { I18nService as I18nServiceAbstraction } from '../abstractions/i18n.service';\n\nexport class I18nService implements I18nServiceAbstraction {\n    locale: string;\n    // First locale is the default (English)\n    supportedTranslationLocales: string[] = ['en'];\n    translationLocale: string;\n    collator: Intl.Collator;\n    localeNames = new Map<string, string>([\n        ['af', 'Afrikaans'],\n        ['be', ''],\n        ['bg', ''],\n        ['ca', 'catal'],\n        ['cs', 'etina'],\n        ['da', 'dansk'],\n        ['de', 'Deutsch'],\n        ['el', ''],\n        ['en', 'English'],\n        ['en-GB', 'English (British)'],\n        ['eo', 'Esperanto'],\n        ['es', 'espaol'],\n        ['et', 'eesti'],\n        ['fa', ''],\n        ['fi', 'suomi'],\n        ['fr', 'franais'],\n        ['he', ''],\n        ['hi', ''],\n        ['hr', 'hrvatski'],\n        ['hu', 'magyar'],\n        ['id', 'Bahasa Indonesia'],\n        ['it', 'italiano'],\n        ['ja', ''],\n        ['ko', ''],\n        ['lv', 'Latvietis'],\n        ['ml', ''],\n        ['nb', 'norsk (bokml)'],\n        ['nl', 'Nederlands'],\n        ['pl', 'polski'],\n        ['pt-BR', 'portugus do Brasil'],\n        ['pt-PT', 'portugus'],\n        ['ro', 'romn'],\n        ['ru', ''],\n        ['sk', 'slovenina'],\n        ['sr', ''],\n        ['sv', 'svenska'],\n        ['th', ''],\n        ['tr', 'Trke'],\n        ['uk', ''],\n        ['vi', 'Ting Vit'],\n        ['zh-CN', ''],\n        ['zh-TW', ''],\n    ]);\n\n    protected inited: boolean;\n    protected defaultMessages: any = {};\n    protected localeMessages: any = {};\n\n    constructor(protected systemLanguage: string, protected localesDirectory: string,\n        protected getLocalesJson: (formattedLocale: string) => Promise<any>) {\n        this.systemLanguage = systemLanguage.replace('_', '-');\n    }\n\n    async init(locale?: string) {\n        if (this.inited) {\n            throw new Error('i18n already initialized.');\n        }\n        if (this.supportedTranslationLocales == null || this.supportedTranslationLocales.length === 0) {\n            throw new Error('supportedTranslationLocales not set.');\n        }\n\n        this.inited = true;\n        this.locale = this.translationLocale = locale != null ? locale : this.systemLanguage;\n\n        try {\n            this.collator = new Intl.Collator(this.locale, { numeric: true, sensitivity: 'base' });\n        } catch {\n            this.collator = null;\n        }\n\n        if (this.supportedTranslationLocales.indexOf(this.translationLocale) === -1) {\n            this.translationLocale = this.translationLocale.slice(0, 2);\n\n            if (this.supportedTranslationLocales.indexOf(this.translationLocale) === -1) {\n                this.translationLocale = this.supportedTranslationLocales[0];\n            }\n        }\n\n        if (this.localesDirectory != null) {\n            await this.loadMessages(this.translationLocale, this.localeMessages);\n            if (this.translationLocale !== this.supportedTranslationLocales[0]) {\n                await this.loadMessages(this.supportedTranslationLocales[0], this.defaultMessages);\n            }\n        }\n    }\n\n    t(id: string, p1?: string, p2?: string, p3?: string): string {\n        return this.translate(id, p1, p2, p3);\n    }\n\n    translate(id: string, p1?: string, p2?: string, p3?: string): string {\n        let result: string;\n        if (this.localeMessages.hasOwnProperty(id) && this.localeMessages[id]) {\n            result = this.localeMessages[id];\n        } else if (this.defaultMessages.hasOwnProperty(id) && this.defaultMessages[id]) {\n            result = this.defaultMessages[id];\n        } else {\n            result = '';\n        }\n\n        if (result !== '') {\n            if (p1 != null) {\n                result = result.split('__$1__').join(p1);\n            }\n            if (p2 != null) {\n                result = result.split('__$2__').join(p2);\n            }\n            if (p3 != null) {\n                result = result.split('__$3__').join(p3);\n            }\n        }\n\n        return result;\n    }\n\n    private async loadMessages(locale: string, messagesObj: any): Promise<any> {\n        const formattedLocale = locale.replace('-', '_');\n        const locales = await this.getLocalesJson(formattedLocale);\n        for (const prop in locales) {\n            if (!locales.hasOwnProperty(prop)) {\n                continue;\n            }\n            messagesObj[prop] = locales[prop].message;\n\n            if (locales[prop].placeholders) {\n                for (const placeProp in locales[prop].placeholders) {\n                    if (!locales[prop].placeholders.hasOwnProperty(placeProp) ||\n                        !locales[prop].placeholders[placeProp].content) {\n                        continue;\n                    }\n\n                    const replaceToken = '\\\\$' + placeProp.toUpperCase() + '\\\\$';\n                    let replaceContent = locales[prop].placeholders[placeProp].content;\n                    if (replaceContent === '$1' || replaceContent === '$2' || replaceContent === '$3') {\n                        replaceContent = '__$' + replaceContent + '__';\n                    }\n                    messagesObj[prop] = messagesObj[prop].replace(new RegExp(replaceToken, 'g'), replaceContent);\n                }\n            }\n        }\n    }\n\n}\n","import * as zxcvbn from 'zxcvbn';\n\nimport { EncString } from '../models/domain/encString';\nimport { GeneratedPasswordHistory } from '../models/domain/generatedPasswordHistory';\nimport { PasswordGeneratorPolicyOptions } from '../models/domain/passwordGeneratorPolicyOptions';\nimport { Policy } from '../models/domain/policy';\n\nimport { CryptoService } from '../abstractions/crypto.service';\nimport {\n    PasswordGenerationService as PasswordGenerationServiceAbstraction,\n} from '../abstractions/passwordGeneration.service';\nimport { PolicyService } from '../abstractions/policy.service';\nimport { StorageService } from '../abstractions/storage.service';\n\nimport { EEFLongWordList } from '../misc/wordlist';\n\nimport { PolicyType } from '../enums/policyType';\n\nconst DefaultOptions = {\n    length: 14,\n    ambiguous: false,\n    number: true,\n    minNumber: 1,\n    uppercase: true,\n    minUppercase: 0,\n    lowercase: true,\n    minLowercase: 0,\n    special: false,\n    minSpecial: 1,\n    type: 'password',\n    numWords: 3,\n    wordSeparator: '-',\n    capitalize: false,\n    includeNumber: false,\n};\n\nconst Keys = {\n    options: 'passwordGenerationOptions',\n    history: 'generatedPasswordHistory',\n};\n\nconst MaxPasswordsInHistory = 100;\n\nexport class PasswordGenerationService implements PasswordGenerationServiceAbstraction {\n    private optionsCache: any;\n    private history: GeneratedPasswordHistory[];\n\n    constructor(private cryptoService: CryptoService, private storageService: StorageService,\n        private policyService: PolicyService) { }\n\n    async generatePassword(options: any): Promise<string> {\n        // overload defaults with given options\n        const o = Object.assign({}, DefaultOptions, options);\n\n        if (o.type === 'passphrase') {\n            return this.generatePassphrase(options);\n        }\n\n        // sanitize\n        this.sanitizePasswordLength(o, true);\n\n        const minLength: number = o.minUppercase + o.minLowercase + o.minNumber + o.minSpecial;\n        if (o.length < minLength) {\n            o.length = minLength;\n        }\n\n        const positions: string[] = [];\n        if (o.lowercase && o.minLowercase > 0) {\n            for (let i = 0; i < o.minLowercase; i++) {\n                positions.push('l');\n            }\n        }\n        if (o.uppercase && o.minUppercase > 0) {\n            for (let i = 0; i < o.minUppercase; i++) {\n                positions.push('u');\n            }\n        }\n        if (o.number && o.minNumber > 0) {\n            for (let i = 0; i < o.minNumber; i++) {\n                positions.push('n');\n            }\n        }\n        if (o.special && o.minSpecial > 0) {\n            for (let i = 0; i < o.minSpecial; i++) {\n                positions.push('s');\n            }\n        }\n        while (positions.length < o.length) {\n            positions.push('a');\n        }\n\n        // shuffle\n        await this.shuffleArray(positions);\n\n        // build out the char sets\n        let allCharSet = '';\n\n        let lowercaseCharSet = 'abcdefghijkmnopqrstuvwxyz';\n        if (o.ambiguous) {\n            lowercaseCharSet += 'l';\n        }\n        if (o.lowercase) {\n            allCharSet += lowercaseCharSet;\n        }\n\n        let uppercaseCharSet = 'ABCDEFGHJKLMNPQRSTUVWXYZ';\n        if (o.ambiguous) {\n            uppercaseCharSet += 'IO';\n        }\n        if (o.uppercase) {\n            allCharSet += uppercaseCharSet;\n        }\n\n        let numberCharSet = '23456789';\n        if (o.ambiguous) {\n            numberCharSet += '01';\n        }\n        if (o.number) {\n            allCharSet += numberCharSet;\n        }\n\n        const specialCharSet = '!@#$%^&*';\n        if (o.special) {\n            allCharSet += specialCharSet;\n        }\n\n        let password = '';\n        for (let i = 0; i < o.length; i++) {\n            let positionChars: string;\n            switch (positions[i]) {\n                case 'l':\n                    positionChars = lowercaseCharSet;\n                    break;\n                case 'u':\n                    positionChars = uppercaseCharSet;\n                    break;\n                case 'n':\n                    positionChars = numberCharSet;\n                    break;\n                case 's':\n                    positionChars = specialCharSet;\n                    break;\n                case 'a':\n                    positionChars = allCharSet;\n                    break;\n                default:\n                    break;\n            }\n\n            const randomCharIndex = await this.cryptoService.randomNumber(0, positionChars.length - 1);\n            password += positionChars.charAt(randomCharIndex);\n        }\n\n        return password;\n    }\n\n    async generatePassphrase(options: any): Promise<string> {\n        const o = Object.assign({}, DefaultOptions, options);\n\n        if (o.numWords == null || o.numWords <= 2) {\n            o.numWords = DefaultOptions.numWords;\n        }\n        if (o.wordSeparator == null || o.wordSeparator.length === 0 || o.wordSeparator.length > 1) {\n            o.wordSeparator = ' ';\n        }\n        if (o.capitalize == null) {\n            o.capitalize = false;\n        }\n        if (o.includeNumber == null) {\n            o.includeNumber = false;\n        }\n\n        const listLength = EEFLongWordList.length - 1;\n        const wordList = new Array(o.numWords);\n        for (let i = 0; i < o.numWords; i++) {\n            const wordIndex = await this.cryptoService.randomNumber(0, listLength);\n            if (o.capitalize) {\n                wordList[i] = this.capitalize(EEFLongWordList[wordIndex]);\n            } else {\n                wordList[i] = EEFLongWordList[wordIndex];\n            }\n        }\n\n        if (o.includeNumber) {\n            await this.appendRandomNumberToRandomWord(wordList);\n        }\n        return wordList.join(o.wordSeparator);\n    }\n\n    async getOptions(): Promise<[any, PasswordGeneratorPolicyOptions]> {\n        if (this.optionsCache == null) {\n            const options = await this.storageService.get(Keys.options);\n            if (options == null) {\n                this.optionsCache = DefaultOptions;\n            } else {\n                this.optionsCache = Object.assign({}, DefaultOptions, options);\n            }\n        }\n        const enforcedOptions = await this.enforcePasswordGeneratorPoliciesOnOptions(this.optionsCache);\n        this.optionsCache = enforcedOptions[0];\n        return [this.optionsCache, enforcedOptions[1]];\n    }\n\n    async enforcePasswordGeneratorPoliciesOnOptions(options: any): Promise<[any, PasswordGeneratorPolicyOptions]> {\n        let enforcedPolicyOptions = await this.getPasswordGeneratorPolicyOptions();\n        if (enforcedPolicyOptions != null) {\n            if (options.length < enforcedPolicyOptions.minLength) {\n                options.length = enforcedPolicyOptions.minLength;\n            }\n\n            if (enforcedPolicyOptions.useUppercase) {\n                options.uppercase = true;\n            }\n\n            if (enforcedPolicyOptions.useLowercase) {\n                options.lowercase = true;\n            }\n\n            if (enforcedPolicyOptions.useNumbers) {\n                options.number = true;\n            }\n\n            if (options.minNumber < enforcedPolicyOptions.numberCount) {\n                options.minNumber = enforcedPolicyOptions.numberCount;\n            }\n\n            if (enforcedPolicyOptions.useSpecial) {\n                options.special = true;\n            }\n\n            if (options.minSpecial < enforcedPolicyOptions.specialCount) {\n                options.minSpecial = enforcedPolicyOptions.specialCount;\n            }\n\n            // Must normalize these fields because the receiving call expects all options to pass the current rules\n            if (options.minSpecial + options.minNumber > options.length) {\n                options.minSpecial = options.length - options.minNumber;\n            }\n\n            if (options.numWords < enforcedPolicyOptions.minNumberWords) {\n                options.numWords = enforcedPolicyOptions.minNumberWords;\n            }\n\n            if (enforcedPolicyOptions.capitalize) {\n                options.capitalize = true;\n            }\n\n            if (enforcedPolicyOptions.includeNumber) {\n                options.includeNumber = true;\n            }\n\n            // Force default type if password/passphrase selected via policy\n            if (enforcedPolicyOptions.defaultType === 'password' ||\n                enforcedPolicyOptions.defaultType === 'passphrase') {\n                options.type = enforcedPolicyOptions.defaultType;\n            }\n        } else { // UI layer expects an instantiated object to prevent more explicit null checks\n            enforcedPolicyOptions = new PasswordGeneratorPolicyOptions();\n        }\n        return [options, enforcedPolicyOptions];\n    }\n\n    async getPasswordGeneratorPolicyOptions(): Promise<PasswordGeneratorPolicyOptions> {\n        const policies: Policy[] = this.policyService == null ? null :\n            await this.policyService.getAll(PolicyType.PasswordGenerator);\n        let enforcedOptions: PasswordGeneratorPolicyOptions = null;\n\n        if (policies == null || policies.length === 0) {\n            return enforcedOptions;\n        }\n\n        policies.forEach(currentPolicy => {\n            if (!currentPolicy.enabled || currentPolicy.data == null) {\n                return;\n            }\n\n            if (enforcedOptions == null) {\n                enforcedOptions = new PasswordGeneratorPolicyOptions();\n            }\n\n            // Password wins in multi-org collisions\n            if (currentPolicy.data.defaultType != null && enforcedOptions.defaultType !== 'password') {\n                enforcedOptions.defaultType = currentPolicy.data.defaultType;\n            }\n\n            if (currentPolicy.data.minLength != null\n                && currentPolicy.data.minLength > enforcedOptions.minLength) {\n                enforcedOptions.minLength = currentPolicy.data.minLength;\n            }\n\n            if (currentPolicy.data.useUpper) {\n                enforcedOptions.useUppercase = true;\n            }\n\n            if (currentPolicy.data.useLower) {\n                enforcedOptions.useLowercase = true;\n            }\n\n            if (currentPolicy.data.useNumbers) {\n                enforcedOptions.useNumbers = true;\n            }\n\n            if (currentPolicy.data.minNumbers != null\n                && currentPolicy.data.minNumbers > enforcedOptions.numberCount) {\n                enforcedOptions.numberCount = currentPolicy.data.minNumbers;\n            }\n\n            if (currentPolicy.data.useSpecial) {\n                enforcedOptions.useSpecial = true;\n            }\n\n            if (currentPolicy.data.minSpecial != null\n                && currentPolicy.data.minSpecial > enforcedOptions.specialCount) {\n                enforcedOptions.specialCount = currentPolicy.data.minSpecial;\n            }\n\n            if (currentPolicy.data.minNumberWords != null\n                && currentPolicy.data.minNumberWords > enforcedOptions.minNumberWords) {\n                enforcedOptions.minNumberWords = currentPolicy.data.minNumberWords;\n            }\n\n            if (currentPolicy.data.capitalize) {\n                enforcedOptions.capitalize = true;\n            }\n\n            if (currentPolicy.data.includeNumber) {\n                enforcedOptions.includeNumber = true;\n            }\n        });\n\n        return enforcedOptions;\n    }\n\n    async saveOptions(options: any) {\n        await this.storageService.save(Keys.options, options);\n        this.optionsCache = options;\n    }\n\n    async getHistory(): Promise<GeneratedPasswordHistory[]> {\n        const hasKey = await this.cryptoService.hasKey();\n        if (!hasKey) {\n            return new Array<GeneratedPasswordHistory>();\n        }\n\n        if (!this.history) {\n            const encrypted = await this.storageService.get<GeneratedPasswordHistory[]>(Keys.history);\n            this.history = await this.decryptHistory(encrypted);\n        }\n\n        return this.history || new Array<GeneratedPasswordHistory>();\n    }\n\n    async addHistory(password: string): Promise<any> {\n        // Cannot add new history if no key is available\n        const hasKey = await this.cryptoService.hasKey();\n        if (!hasKey) {\n            return;\n        }\n\n        const currentHistory = await this.getHistory();\n\n        // Prevent duplicates\n        if (this.matchesPrevious(password, currentHistory)) {\n            return;\n        }\n\n        currentHistory.unshift(new GeneratedPasswordHistory(password, Date.now()));\n\n        // Remove old items.\n        if (currentHistory.length > MaxPasswordsInHistory) {\n            currentHistory.pop();\n        }\n\n        const newHistory = await this.encryptHistory(currentHistory);\n        return await this.storageService.save(Keys.history, newHistory);\n    }\n\n    async clear(): Promise<any> {\n        this.history = [];\n        return await this.storageService.remove(Keys.history);\n    }\n\n    passwordStrength(password: string, userInputs: string[] = null): zxcvbn.ZXCVBNResult {\n        if (password == null || password.length === 0) {\n            return null;\n        }\n        let globalUserInputs = ['bitwarden', 'bit', 'warden'];\n        if (userInputs != null && userInputs.length > 0) {\n            globalUserInputs = globalUserInputs.concat(userInputs);\n        }\n        // Use a hash set to get rid of any duplicate user inputs\n        const finalUserInputs = Array.from(new Set(globalUserInputs));\n        const result = zxcvbn(password, finalUserInputs);\n        return result;\n    }\n\n    normalizeOptions(options: any, enforcedPolicyOptions: PasswordGeneratorPolicyOptions) {\n        options.minLowercase = 0;\n        options.minUppercase = 0;\n\n        if (!options.length || options.length < 5) {\n            options.length = 5;\n        } else if (options.length > 128) {\n            options.length = 128;\n        }\n\n        if (options.length < enforcedPolicyOptions.minLength) {\n            options.length = enforcedPolicyOptions.minLength;\n        }\n\n        if (!options.minNumber) {\n            options.minNumber = 0;\n        } else if (options.minNumber > options.length) {\n            options.minNumber = options.length;\n        } else if (options.minNumber > 9) {\n            options.minNumber = 9;\n        }\n\n        if (options.minNumber < enforcedPolicyOptions.numberCount) {\n            options.minNumber = enforcedPolicyOptions.numberCount;\n        }\n\n        if (!options.minSpecial) {\n            options.minSpecial = 0;\n        } else if (options.minSpecial > options.length) {\n            options.minSpecial = options.length;\n        } else if (options.minSpecial > 9) {\n            options.minSpecial = 9;\n        }\n\n        if (options.minSpecial < enforcedPolicyOptions.specialCount) {\n            options.minSpecial = enforcedPolicyOptions.specialCount;\n        }\n\n        if (options.minSpecial + options.minNumber > options.length) {\n            options.minSpecial = options.length - options.minNumber;\n        }\n\n        if (options.numWords == null || options.length < 3) {\n            options.numWords = 3;\n        } else if (options.numWords > 20) {\n            options.numWords = 20;\n        }\n\n        if (options.numWords < enforcedPolicyOptions.minNumberWords) {\n            options.numWords = enforcedPolicyOptions.minNumberWords;\n        }\n\n        if (options.wordSeparator != null && options.wordSeparator.length > 1) {\n            options.wordSeparator = options.wordSeparator[0];\n        }\n\n        this.sanitizePasswordLength(options, false);\n    }\n\n    private capitalize(str: string) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    private async appendRandomNumberToRandomWord(wordList: string[]) {\n        if (wordList == null || wordList.length <= 0) {\n            return;\n        }\n        const index = await this.cryptoService.randomNumber(0, wordList.length - 1);\n        const num = await this.cryptoService.randomNumber(0, 9);\n        wordList[index] = wordList[index] + num;\n    }\n\n    private async encryptHistory(history: GeneratedPasswordHistory[]): Promise<GeneratedPasswordHistory[]> {\n        if (history == null || history.length === 0) {\n            return Promise.resolve([]);\n        }\n\n        const promises = history.map(async item => {\n            const encrypted = await this.cryptoService.encrypt(item.password);\n            return new GeneratedPasswordHistory(encrypted.encryptedString, item.date);\n        });\n\n        return await Promise.all(promises);\n    }\n\n    private async decryptHistory(history: GeneratedPasswordHistory[]): Promise<GeneratedPasswordHistory[]> {\n        if (history == null || history.length === 0) {\n            return Promise.resolve([]);\n        }\n\n        const promises = history.map(async item => {\n            const decrypted = await this.cryptoService.decryptToUtf8(new EncString(item.password));\n            return new GeneratedPasswordHistory(decrypted, item.date);\n        });\n\n        return await Promise.all(promises);\n    }\n\n    private matchesPrevious(password: string, history: GeneratedPasswordHistory[]): boolean {\n        if (history == null || history.length === 0) {\n            return false;\n        }\n\n        return history[history.length - 1].password === password;\n    }\n\n    // ref: https://stackoverflow.com/a/12646864/1090359\n    private async shuffleArray(array: string[]) {\n        for (let i = array.length - 1; i > 0; i--) {\n            const j = await this.cryptoService.randomNumber(0, i);\n            [array[i], array[j]] = [array[j], array[i]];\n        }\n    }\n\n    private sanitizePasswordLength(options: any, forGeneration: boolean) {\n        let minUppercaseCalc = 0;\n        let minLowercaseCalc = 0;\n        let minNumberCalc: number = options.minNumber;\n        let minSpecialCalc: number = options.minSpecial;\n\n        if (options.uppercase && options.minUppercase <= 0) {\n            minUppercaseCalc = 1;\n        } else if (!options.uppercase) {\n            minUppercaseCalc = 0;\n        }\n\n        if (options.lowercase && options.minLowercase <= 0) {\n            minLowercaseCalc = 1;\n        } else if (!options.lowercase) {\n            minLowercaseCalc = 0;\n        }\n\n        if (options.number && options.minNumber <= 0) {\n            minNumberCalc = 1;\n        } else if (!options.number) {\n            minNumberCalc = 0;\n        }\n\n        if (options.special && options.minSpecial <= 0) {\n            minSpecialCalc = 1;\n        } else if (!options.special) {\n            minSpecialCalc = 0;\n        }\n\n        // This should never happen but is a final safety net\n        if (!options.length || options.length < 1) {\n            options.length = 10;\n        }\n\n        const minLength: number = minUppercaseCalc + minLowercaseCalc + minNumberCalc + minSpecialCalc;\n        // Normalize and Generation both require this modification\n        if (options.length < minLength) {\n            options.length = minLength;\n        }\n\n        // Apply other changes if the options object passed in is for generation\n        if (forGeneration) {\n            options.minUppercase = minUppercaseCalc;\n            options.minLowercase = minLowercaseCalc;\n            options.minNumber = minNumberCalc;\n            options.minSpecial = minSpecialCalc;\n        }\n    }\n}\n","import { SettingsService as SettingsServiceAbstraction } from '../abstractions/settings.service';\nimport { StorageService } from '../abstractions/storage.service';\nimport { UserService } from '../abstractions/user.service';\n\nconst Keys = {\n    settingsPrefix: 'settings_',\n    equivalentDomains: 'equivalentDomains',\n};\n\nexport class SettingsService implements SettingsServiceAbstraction {\n    private settingsCache: any;\n\n    constructor(private userService: UserService, private storageService: StorageService) {\n    }\n\n    clearCache(): void {\n        this.settingsCache = null;\n    }\n\n    getEquivalentDomains(): Promise<any> {\n        return this.getSettingsKey(Keys.equivalentDomains);\n    }\n\n    async setEquivalentDomains(equivalentDomains: string[][]): Promise<void> {\n        await this.setSettingsKey(Keys.equivalentDomains, equivalentDomains);\n    }\n\n    async clear(userId: string): Promise<void> {\n        await this.storageService.remove(Keys.settingsPrefix + userId);\n        this.clearCache();\n    }\n\n    // Helpers\n\n    private async getSettings(): Promise<any> {\n        if (this.settingsCache == null) {\n            const userId = await this.userService.getUserId();\n            this.settingsCache = this.storageService.get(Keys.settingsPrefix + userId);\n        }\n        return this.settingsCache;\n    }\n\n    private async getSettingsKey(key: string): Promise<any> {\n        const settings = await this.getSettings();\n        if (settings != null && settings[key]) {\n            return settings[key];\n        }\n        return null;\n    }\n\n    private async setSettingsKey(key: string, value: any): Promise<void> {\n        const userId = await this.userService.getUserId();\n        let settings = await this.getSettings();\n        if (!settings) {\n            settings = {};\n        }\n\n        settings[key] = value;\n        await this.storageService.save(Keys.settingsPrefix + userId, settings);\n        this.settingsCache = settings;\n    }\n}\n","import { StateService as StateServiceAbstraction } from '../abstractions/state.service';\n\nexport class StateService implements StateServiceAbstraction {\n    private state: any = {};\n\n    get<T>(key: string): Promise<T> {\n        if (this.state.hasOwnProperty(key)) {\n            return Promise.resolve(this.state[key]);\n        }\n        return Promise.resolve(null);\n    }\n\n    save(key: string, obj: any): Promise<any> {\n        this.state[key] = obj;\n        return Promise.resolve();\n    }\n\n    remove(key: string): Promise<any> {\n        delete this.state[key];\n        return Promise.resolve();\n    }\n\n    purge(): Promise<any> {\n        this.state = {};\n        return Promise.resolve();\n    }\n}\n","import { ApiService } from '../abstractions/api.service';\nimport { CipherService } from '../abstractions/cipher.service';\nimport { CollectionService } from '../abstractions/collection.service';\nimport { CryptoService } from '../abstractions/crypto.service';\nimport { FolderService } from '../abstractions/folder.service';\nimport { MessagingService } from '../abstractions/messaging.service';\nimport { PolicyService } from '../abstractions/policy.service';\nimport { SendService } from '../abstractions/send.service';\nimport { SettingsService } from '../abstractions/settings.service';\nimport { StorageService } from '../abstractions/storage.service';\nimport { SyncService as SyncServiceAbstraction } from '../abstractions/sync.service';\nimport { UserService } from '../abstractions/user.service';\n\nimport { CipherData } from '../models/data/cipherData';\nimport { CollectionData } from '../models/data/collectionData';\nimport { FolderData } from '../models/data/folderData';\nimport { OrganizationData } from '../models/data/organizationData';\nimport { PolicyData } from '../models/data/policyData';\nimport { SendData } from '../models/data/sendData';\n\nimport { CipherResponse } from '../models/response/cipherResponse';\nimport { CollectionDetailsResponse } from '../models/response/collectionResponse';\nimport { DomainsResponse } from '../models/response/domainsResponse';\nimport { FolderResponse } from '../models/response/folderResponse';\nimport {\n    SyncCipherNotification,\n    SyncFolderNotification,\n    SyncSendNotification,\n} from '../models/response/notificationResponse';\nimport { PolicyResponse } from '../models/response/policyResponse';\nimport { ProfileResponse } from '../models/response/profileResponse';\nimport { SendResponse } from '../models/response/sendResponse';\n\nconst Keys = {\n    lastSyncPrefix: 'lastSync_',\n};\n\nexport class SyncService implements SyncServiceAbstraction {\n    syncInProgress: boolean = false;\n\n    constructor(private userService: UserService, private apiService: ApiService,\n        private settingsService: SettingsService, private folderService: FolderService,\n        private cipherService: CipherService, private cryptoService: CryptoService,\n        private collectionService: CollectionService, private storageService: StorageService,\n        private messagingService: MessagingService, private policyService: PolicyService,\n        private sendService: SendService, private logoutCallback: (expired: boolean) => Promise<void>) {\n    }\n\n    async getLastSync(): Promise<Date> {\n        const userId = await this.userService.getUserId();\n        if (userId == null) {\n            return null;\n        }\n\n        const lastSync = await this.storageService.get<any>(Keys.lastSyncPrefix + userId);\n        if (lastSync) {\n            return new Date(lastSync);\n        }\n\n        return null;\n    }\n\n    async setLastSync(date: Date): Promise<any> {\n        const userId = await this.userService.getUserId();\n        if (userId == null) {\n            return;\n        }\n\n        await this.storageService.save(Keys.lastSyncPrefix + userId, date.toJSON());\n    }\n\n    async fullSync(forceSync: boolean, allowThrowOnError = false): Promise<boolean> {\n        this.syncStarted();\n        const isAuthenticated = await this.userService.isAuthenticated();\n        if (!isAuthenticated) {\n            return this.syncCompleted(false);\n        }\n\n        const now = new Date();\n        let needsSync = false;\n        try {\n            needsSync = await this.needsSyncing(forceSync);\n        } catch (e) {\n            if (allowThrowOnError) {\n                throw e;\n            }\n        }\n\n        if (!needsSync) {\n            await this.setLastSync(now);\n            return this.syncCompleted(false);\n        }\n\n        const userId = await this.userService.getUserId();\n        try {\n            const response = await this.apiService.getSync();\n\n            await this.syncProfile(response.profile);\n            await this.syncFolders(userId, response.folders);\n            await this.syncCollections(response.collections);\n            await this.syncCiphers(userId, response.ciphers);\n            await this.syncSends(userId, response.sends);\n            await this.syncSettings(userId, response.domains);\n            await this.syncPolicies(response.policies);\n\n            await this.setLastSync(now);\n            return this.syncCompleted(true);\n        } catch (e) {\n            if (allowThrowOnError) {\n                throw e;\n            } else {\n                return this.syncCompleted(false);\n            }\n        }\n    }\n\n    async syncUpsertFolder(notification: SyncFolderNotification, isEdit: boolean): Promise<boolean> {\n        this.syncStarted();\n        if (await this.userService.isAuthenticated()) {\n            try {\n                const localFolder = await this.folderService.get(notification.id);\n                if ((!isEdit && localFolder == null) ||\n                    (isEdit && localFolder != null && localFolder.revisionDate < notification.revisionDate)) {\n                    const remoteFolder = await this.apiService.getFolder(notification.id);\n                    if (remoteFolder != null) {\n                        const userId = await this.userService.getUserId();\n                        await this.folderService.upsert(new FolderData(remoteFolder, userId));\n                        this.messagingService.send('syncedUpsertedFolder', { folderId: notification.id });\n                        return this.syncCompleted(true);\n                    }\n                }\n            } catch { }\n        }\n        return this.syncCompleted(false);\n    }\n\n    async syncDeleteFolder(notification: SyncFolderNotification): Promise<boolean> {\n        this.syncStarted();\n        if (await this.userService.isAuthenticated()) {\n            await this.folderService.delete(notification.id);\n            this.messagingService.send('syncedDeletedFolder', { folderId: notification.id });\n            this.syncCompleted(true);\n            return true;\n        }\n        return this.syncCompleted(false);\n    }\n\n    async syncUpsertCipher(notification: SyncCipherNotification, isEdit: boolean): Promise<boolean> {\n        this.syncStarted();\n        if (await this.userService.isAuthenticated()) {\n            try {\n                let shouldUpdate = true;\n                const localCipher = await this.cipherService.get(notification.id);\n                if (localCipher != null && localCipher.revisionDate >= notification.revisionDate) {\n                    shouldUpdate = false;\n                }\n\n                let checkCollections = false;\n                if (shouldUpdate) {\n                    if (isEdit) {\n                        shouldUpdate = localCipher != null;\n                        checkCollections = true;\n                    } else {\n                        if (notification.collectionIds == null || notification.organizationId == null) {\n                            shouldUpdate = localCipher == null;\n                        } else {\n                            shouldUpdate = false;\n                            checkCollections = true;\n                        }\n                    }\n                }\n\n                if (!shouldUpdate && checkCollections && notification.organizationId != null &&\n                    notification.collectionIds != null && notification.collectionIds.length > 0) {\n                    const collections = await this.collectionService.getAll();\n                    if (collections != null) {\n                        for (let i = 0; i < collections.length; i++) {\n                            if (notification.collectionIds.indexOf(collections[i].id) > -1) {\n                                shouldUpdate = true;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (shouldUpdate) {\n                    const remoteCipher = await this.apiService.getCipher(notification.id);\n                    if (remoteCipher != null) {\n                        const userId = await this.userService.getUserId();\n                        await this.cipherService.upsert(new CipherData(remoteCipher, userId));\n                        this.messagingService.send('syncedUpsertedCipher', { cipherId: notification.id });\n                        return this.syncCompleted(true);\n                    }\n                }\n            } catch (e) {\n                if (e != null && e.statusCode === 404 && isEdit) {\n                    await this.cipherService.delete(notification.id);\n                    this.messagingService.send('syncedDeletedCipher', { cipherId: notification.id });\n                    return this.syncCompleted(true);\n                }\n            }\n        }\n        return this.syncCompleted(false);\n    }\n\n    async syncDeleteCipher(notification: SyncCipherNotification): Promise<boolean> {\n        this.syncStarted();\n        if (await this.userService.isAuthenticated()) {\n            await this.cipherService.delete(notification.id);\n            this.messagingService.send('syncedDeletedCipher', { cipherId: notification.id });\n            return this.syncCompleted(true);\n        }\n        return this.syncCompleted(false);\n    }\n\n    async syncUpsertSend(notification: SyncSendNotification, isEdit: boolean): Promise<boolean> {\n        this.syncStarted();\n        if (await this.userService.isAuthenticated()) {\n            try {\n                const localSend = await this.sendService.get(notification.id);\n                if ((!isEdit && localSend == null) ||\n                    (isEdit && localSend != null && localSend.revisionDate < notification.revisionDate)) {\n                    const remoteSend = await this.apiService.getSend(notification.id);\n                    if (remoteSend != null) {\n                        const userId = await this.userService.getUserId();\n                        await this.sendService.upsert(new SendData(remoteSend, userId));\n                        this.messagingService.send('syncedUpsertedSend', { sendId: notification.id });\n                        return this.syncCompleted(true);\n                    }\n                }\n            } catch { }\n        }\n        return this.syncCompleted(false);\n    }\n\n    async syncDeleteSend(notification: SyncSendNotification): Promise<boolean> {\n        this.syncStarted();\n        if (await this.userService.isAuthenticated()) {\n            await this.sendService.delete(notification.id);\n            this.messagingService.send('syncedDeletedSend', { sendId: notification.id });\n            this.syncCompleted(true);\n            return true;\n        }\n        return this.syncCompleted(false);\n    }\n\n    // Helpers\n\n    private syncStarted() {\n        this.syncInProgress = true;\n        this.messagingService.send('syncStarted');\n    }\n\n    private syncCompleted(successfully: boolean): boolean {\n        this.syncInProgress = false;\n        this.messagingService.send('syncCompleted', { successfully: successfully });\n        return successfully;\n    }\n\n    private async needsSyncing(forceSync: boolean) {\n        if (forceSync) {\n            return true;\n        }\n\n        const lastSync = await this.getLastSync();\n        if (lastSync == null || lastSync.getTime() === 0) {\n            return true;\n        }\n\n        const response = await this.apiService.getAccountRevisionDate();\n        if (new Date(response) <= lastSync) {\n            return false;\n        }\n        return true;\n    }\n\n    private async syncProfile(response: ProfileResponse) {\n        const stamp = await this.userService.getSecurityStamp();\n        if (stamp != null && stamp !== response.securityStamp) {\n            if (this.logoutCallback != null) {\n                await this.logoutCallback(true);\n            }\n\n            throw new Error('Stamp has changed');\n        }\n\n        await this.cryptoService.setEncKey(response.key);\n        await this.cryptoService.setEncPrivateKey(response.privateKey);\n        await this.cryptoService.setOrgKeys(response.organizations);\n        await this.userService.setSecurityStamp(response.securityStamp);\n        await this.userService.setEmailVerified(response.emailVerified);\n\n        const organizations: { [id: string]: OrganizationData; } = {};\n        response.organizations.forEach(o => {\n            organizations[o.id] = new OrganizationData(o);\n        });\n        return await this.userService.replaceOrganizations(organizations);\n    }\n\n    private async syncFolders(userId: string, response: FolderResponse[]) {\n        const folders: { [id: string]: FolderData; } = {};\n        response.forEach(f => {\n            folders[f.id] = new FolderData(f, userId);\n        });\n        return await this.folderService.replace(folders);\n    }\n\n    private async syncCollections(response: CollectionDetailsResponse[]) {\n        const collections: { [id: string]: CollectionData; } = {};\n        response.forEach(c => {\n            collections[c.id] = new CollectionData(c);\n        });\n        return await this.collectionService.replace(collections);\n    }\n\n    private async syncCiphers(userId: string, response: CipherResponse[]) {\n        const ciphers: { [id: string]: CipherData; } = {};\n        response.forEach(c => {\n            ciphers[c.id] = new CipherData(c, userId);\n        });\n        return await this.cipherService.replace(ciphers);\n    }\n\n    private async syncSends(userId: string, response: SendResponse[]) {\n        const sends: { [id: string]: SendData; } = {};\n        response.forEach(s => {\n            sends[s.id] = new SendData(s, userId);\n        });\n        return await this.sendService.replace(sends);\n    }\n\n    private async syncSettings(userId: string, response: DomainsResponse) {\n        let eqDomains: string[][] = [];\n        if (response != null && response.equivalentDomains != null) {\n            eqDomains = eqDomains.concat(response.equivalentDomains);\n        }\n\n        if (response != null && response.globalEquivalentDomains != null) {\n            response.globalEquivalentDomains.forEach(global => {\n                if (global.domains.length > 0) {\n                    eqDomains.push(global.domains);\n                }\n            });\n        }\n\n        return this.settingsService.setEquivalentDomains(eqDomains);\n    }\n\n    private async syncPolicies(response: PolicyResponse[]) {\n        const policies: { [id: string]: PolicyData; } = {};\n        if (response != null) {\n            response.forEach(p => {\n                policies[p.id] = new PolicyData(p);\n            });\n        }\n        return await this.policyService.replace(policies);\n    }\n}\n","import { SendType } from '../../enums/sendType';\n\nimport { SendFileData } from './sendFileData';\nimport { SendTextData } from './sendTextData';\n\nimport { SendResponse } from '../response/sendResponse';\n\nexport class SendData {\n    id: string;\n    accessId: string;\n    userId: string;\n    type: SendType;\n    name: string;\n    notes: string;\n    file: SendFileData;\n    text: SendTextData;\n    key: string;\n    maxAccessCount?: number;\n    accessCount: number;\n    revisionDate: string;\n    expirationDate: string;\n    deletionDate: string;\n    password: string;\n    disabled: boolean;\n    hideEmail: boolean;\n\n    constructor(response?: SendResponse, userId?: string) {\n        if (response == null) {\n            return;\n        }\n\n        this.id = response.id;\n        this.accessId = response.accessId;\n        this.userId = userId;\n        this.type = response.type;\n        this.name = response.name;\n        this.notes = response.notes;\n        this.key = response.key;\n        this.maxAccessCount = response.maxAccessCount;\n        this.accessCount = response.accessCount;\n        this.revisionDate = response.revisionDate;\n        this.expirationDate = response.expirationDate;\n        this.deletionDate = response.deletionDate;\n        this.password = response.password;\n        this.disabled = response.disable;\n        this.hideEmail = response.hideEmail;\n\n        switch (this.type) {\n            case SendType.Text:\n                this.text = new SendTextData(response.text);\n                break;\n            case SendType.File:\n                this.file = new SendFileData(response.file);\n                break;\n            default:\n                break;\n        }\n    }\n}\n","import { ConstantsService } from './constants.service';\n\nimport { StorageService } from '../abstractions/storage.service';\nimport { TokenService as TokenServiceAbstraction } from '../abstractions/token.service';\n\nimport { Utils } from '../misc/utils';\n\nconst Keys = {\n    accessToken: 'accessToken',\n    refreshToken: 'refreshToken',\n    twoFactorTokenPrefix: 'twoFactorToken_',\n};\n\nexport class TokenService implements TokenServiceAbstraction {\n    token: string;\n    decodedToken: any;\n    refreshToken: string;\n\n    constructor(private storageService: StorageService) {\n    }\n\n    setTokens(accessToken: string, refreshToken: string): Promise<any> {\n        return Promise.all([\n            this.setToken(accessToken),\n            this.setRefreshToken(refreshToken),\n        ]);\n    }\n\n    async setToken(token: string): Promise<any> {\n        this.token = token;\n        this.decodedToken = null;\n\n        if (await this.skipTokenStorage()) {\n            // if we have a vault timeout and the action is log out, don't store token\n            return;\n        }\n\n        return this.storageService.save(Keys.accessToken, token);\n    }\n\n    async getToken(): Promise<string> {\n        if (this.token != null) {\n            return this.token;\n        }\n\n        this.token = await this.storageService.get<string>(Keys.accessToken);\n        return this.token;\n    }\n\n    async setRefreshToken(refreshToken: string): Promise<any> {\n        this.refreshToken = refreshToken;\n\n        if (await this.skipTokenStorage()) {\n            // if we have a vault timeout and the action is log out, don't store token\n            return;\n        }\n\n        return this.storageService.save(Keys.refreshToken, refreshToken);\n    }\n\n    async getRefreshToken(): Promise<string> {\n        if (this.refreshToken != null) {\n            return this.refreshToken;\n        }\n\n        this.refreshToken = await this.storageService.get<string>(Keys.refreshToken);\n        return this.refreshToken;\n    }\n\n    async toggleTokens(): Promise<any> {\n        const token = await this.getToken();\n        const refreshToken = await this.getRefreshToken();\n        const timeout = await this.storageService.get(ConstantsService.vaultTimeoutKey);\n        const action = await this.storageService.get(ConstantsService.vaultTimeoutActionKey);\n        if ((timeout != null || timeout === 0) && action === 'logOut') {\n            // if we have a vault timeout and the action is log out, reset tokens\n            await this.clearToken();\n            this.token = token;\n            this.refreshToken = refreshToken;\n            return;\n        }\n\n        await this.setToken(token);\n        await this.setRefreshToken(refreshToken);\n    }\n\n    setTwoFactorToken(token: string, email: string): Promise<any> {\n        return this.storageService.save(Keys.twoFactorTokenPrefix + email, token);\n    }\n\n    getTwoFactorToken(email: string): Promise<string> {\n        return this.storageService.get<string>(Keys.twoFactorTokenPrefix + email);\n    }\n\n    clearTwoFactorToken(email: string): Promise<any> {\n        return this.storageService.remove(Keys.twoFactorTokenPrefix + email);\n    }\n\n    clearToken(): Promise<any> {\n        this.token = null;\n        this.decodedToken = null;\n        this.refreshToken = null;\n\n        return Promise.all([\n            this.storageService.remove(Keys.accessToken),\n            this.storageService.remove(Keys.refreshToken),\n        ]);\n    }\n\n    // jwthelper methods\n    // ref https://github.com/auth0/angular-jwt/blob/master/src/angularJwt/services/jwt.js\n\n    decodeToken(): any {\n        if (this.decodedToken) {\n            return this.decodedToken;\n        }\n\n        if (this.token == null) {\n            throw new Error('Token not found.');\n        }\n\n        const parts = this.token.split('.');\n        if (parts.length !== 3) {\n            throw new Error('JWT must have 3 parts');\n        }\n\n        const decoded = Utils.fromUrlB64ToUtf8(parts[1]);\n        if (decoded == null) {\n            throw new Error('Cannot decode the token');\n        }\n\n        this.decodedToken = JSON.parse(decoded);\n        return this.decodedToken;\n    }\n\n    getTokenExpirationDate(): Date {\n        const decoded = this.decodeToken();\n        if (typeof decoded.exp === 'undefined') {\n            return null;\n        }\n\n        const d = new Date(0); // The 0 here is the key, which sets the date to the epoch\n        d.setUTCSeconds(decoded.exp);\n        return d;\n    }\n\n    tokenSecondsRemaining(offsetSeconds: number = 0): number {\n        const d = this.getTokenExpirationDate();\n        if (d == null) {\n            return 0;\n        }\n\n        const msRemaining = d.valueOf() - (new Date().valueOf() + (offsetSeconds * 1000));\n        return Math.round(msRemaining / 1000);\n    }\n\n    tokenNeedsRefresh(minutes: number = 5): boolean {\n        const sRemaining = this.tokenSecondsRemaining();\n        return sRemaining < (60 * minutes);\n    }\n\n    getUserId(): string {\n        const decoded = this.decodeToken();\n        if (typeof decoded.sub === 'undefined') {\n            throw new Error('No user id found');\n        }\n\n        return decoded.sub as string;\n    }\n\n    getEmail(): string {\n        const decoded = this.decodeToken();\n        if (typeof decoded.email === 'undefined') {\n            throw new Error('No email found');\n        }\n\n        return decoded.email as string;\n    }\n\n    getEmailVerified(): boolean {\n        const decoded = this.decodeToken();\n        if (typeof decoded.email_verified === 'undefined') {\n            throw new Error('No email verification found');\n        }\n\n        return decoded.email_verified as boolean;\n    }\n\n    getName(): string {\n        const decoded = this.decodeToken();\n        if (typeof decoded.name === 'undefined') {\n            return null;\n        }\n\n        return decoded.name as string;\n    }\n\n    getPremium(): boolean {\n        const decoded = this.decodeToken();\n        if (typeof decoded.premium === 'undefined') {\n            return false;\n        }\n\n        return decoded.premium as boolean;\n    }\n\n    getIssuer(): string {\n        const decoded = this.decodeToken();\n        if (typeof decoded.iss === 'undefined') {\n            throw new Error('No issuer found');\n        }\n\n        return decoded.iss as string;\n    }\n\n    private async skipTokenStorage(): Promise<boolean> {\n        const timeout = await this.storageService.get<number>(ConstantsService.vaultTimeoutKey);\n        const action = await this.storageService.get<string>(ConstantsService.vaultTimeoutActionKey);\n        return timeout != null && action === 'logOut';\n    }\n}\n","import { ConstantsService } from './constants.service';\n\nimport { CryptoFunctionService } from '../abstractions/cryptoFunction.service';\nimport { StorageService } from '../abstractions/storage.service';\nimport { TotpService as TotpServiceAbstraction } from '../abstractions/totp.service';\n\nimport { Utils } from '../misc/utils';\n\nconst B32Chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567';\nconst SteamChars = '23456789BCDFGHJKMNPQRTVWXY';\n\nexport class TotpService implements TotpServiceAbstraction {\n    constructor(private storageService: StorageService, private cryptoFunctionService: CryptoFunctionService) { }\n\n    async getCode(key: string): Promise<string> {\n        if (key == null) {\n            return null;\n        }\n        let period = 30;\n        let alg: 'sha1' | 'sha256' | 'sha512' = 'sha1';\n        let digits = 6;\n        let keyB32 = key;\n        const isOtpAuth = key.toLowerCase().indexOf('otpauth://') === 0;\n        const isSteamAuth = !isOtpAuth && key.toLowerCase().indexOf('steam://') === 0;\n        if (isOtpAuth) {\n            const params = Utils.getQueryParams(key);\n            if (params.has('digits') && params.get('digits') != null) {\n                try {\n                    const digitParams = parseInt(params.get('digits').trim(), null);\n                    if (digitParams > 10) {\n                        digits = 10;\n                    } else if (digitParams > 0) {\n                        digits = digitParams;\n                    }\n                } catch { }\n            }\n            if (params.has('period') && params.get('period') != null) {\n                try {\n                    const periodParam = parseInt(params.get('period').trim(), null);\n                    if (periodParam > 0) {\n                        period = periodParam;\n                    }\n                } catch { }\n            }\n            if (params.has('secret') && params.get('secret') != null) {\n                keyB32 = params.get('secret');\n            }\n            if (params.has('algorithm') && params.get('algorithm') != null) {\n                const algParam = params.get('algorithm').toLowerCase();\n                if (algParam === 'sha1' || algParam === 'sha256' || algParam === 'sha512') {\n                    alg = algParam;\n                }\n            }\n        } else if (isSteamAuth) {\n            keyB32 = key.substr('steam://'.length);\n            digits = 5;\n        }\n\n        const epoch = Math.round(new Date().getTime() / 1000.0);\n        const timeHex = this.leftPad(this.decToHex(Math.floor(epoch / period)), 16, '0');\n        const timeBytes = Utils.fromHexToArray(timeHex);\n        const keyBytes = this.b32ToBytes(keyB32);\n\n        if (!keyBytes.length || !timeBytes.length) {\n            return null;\n        }\n\n        const hash = await this.sign(keyBytes, timeBytes, alg);\n        if (hash.length === 0) {\n            return null;\n        }\n\n        /* tslint:disable */\n        const offset = (hash[hash.length - 1] & 0xf);\n        const binary = ((hash[offset] & 0x7f) << 24) | ((hash[offset + 1] & 0xff) << 16) |\n            ((hash[offset + 2] & 0xff) << 8) | (hash[offset + 3] & 0xff);\n        /* tslint:enable */\n\n        let otp = '';\n        if (isSteamAuth) {\n            // tslint:disable-next-line\n            let fullCode = binary & 0x7fffffff;\n            for (let i = 0; i < digits; i++) {\n                otp += SteamChars[fullCode % SteamChars.length];\n                fullCode = Math.trunc(fullCode / SteamChars.length);\n            }\n        } else {\n            otp = (binary % Math.pow(10, digits)).toString();\n            otp = this.leftPad(otp, digits, '0');\n        }\n\n        return otp;\n    }\n\n    getTimeInterval(key: string): number {\n        let period = 30;\n        if (key != null && key.toLowerCase().indexOf('otpauth://') === 0) {\n            const params = Utils.getQueryParams(key);\n            if (params.has('period') && params.get('period') != null) {\n                try {\n                    period = parseInt(params.get('period').trim(), null);\n                } catch { }\n            }\n        }\n        return period;\n    }\n\n    async isAutoCopyEnabled(): Promise<boolean> {\n        return !(await this.storageService.get<boolean>(ConstantsService.disableAutoTotpCopyKey));\n    }\n\n    // Helpers\n\n    private leftPad(s: string, l: number, p: string): string {\n        if (l + 1 >= s.length) {\n            s = Array(l + 1 - s.length).join(p) + s;\n        }\n        return s;\n    }\n\n    private decToHex(d: number): string {\n        return (d < 15.5 ? '0' : '') + Math.round(d).toString(16);\n    }\n\n    private b32ToHex(s: string): string {\n        s = s.toUpperCase();\n        let cleanedInput = '';\n\n        for (let i = 0; i < s.length; i++) {\n            if (B32Chars.indexOf(s[i]) < 0) {\n                continue;\n            }\n\n            cleanedInput += s[i];\n        }\n        s = cleanedInput;\n\n        let bits = '';\n        let hex = '';\n        for (let i = 0; i < s.length; i++) {\n            const byteIndex = B32Chars.indexOf(s.charAt(i));\n            if (byteIndex < 0) {\n                continue;\n            }\n            bits += this.leftPad(byteIndex.toString(2), 5, '0');\n        }\n        for (let i = 0; i + 4 <= bits.length; i += 4) {\n            const chunk = bits.substr(i, 4);\n            hex = hex + parseInt(chunk, 2).toString(16);\n        }\n        return hex;\n    }\n\n    private b32ToBytes(s: string): Uint8Array {\n        return Utils.fromHexToArray(this.b32ToHex(s));\n    }\n\n    private async sign(keyBytes: Uint8Array, timeBytes: Uint8Array, alg: 'sha1' | 'sha256' | 'sha512') {\n        const signature = await this.cryptoFunctionService.hmac(timeBytes.buffer, keyBytes.buffer, alg);\n        return new Uint8Array(signature);\n    }\n}\n","import { StorageService } from '../abstractions/storage.service';\nimport { TokenService } from '../abstractions/token.service';\nimport { UserService as UserServiceAbstraction } from '../abstractions/user.service';\n\nimport { OrganizationData } from '../models/data/organizationData';\nimport { Organization } from '../models/domain/organization';\n\nimport { KdfType } from '../enums/kdfType';\n\nconst Keys = {\n    userId: 'userId',\n    userEmail: 'userEmail',\n    stamp: 'securityStamp',\n    kdf: 'kdf',\n    kdfIterations: 'kdfIterations',\n    organizationsPrefix: 'organizations_',\n    emailVerified: 'emailVerified',\n};\n\nexport class UserService implements UserServiceAbstraction {\n    private userId: string;\n    private email: string;\n    private stamp: string;\n    private kdf: KdfType;\n    private kdfIterations: number;\n    private emailVerified: boolean;\n\n    constructor(private tokenService: TokenService, private storageService: StorageService) { }\n\n    setInformation(userId: string, email: string, kdf: KdfType, kdfIterations: number): Promise<any> {\n        this.email = email;\n        this.userId = userId;\n        this.kdf = kdf;\n        this.kdfIterations = kdfIterations;\n\n        return Promise.all([\n            this.storageService.save(Keys.userEmail, email),\n            this.storageService.save(Keys.userId, userId),\n            this.storageService.save(Keys.kdf, kdf),\n            this.storageService.save(Keys.kdfIterations, kdfIterations),\n        ]);\n    }\n\n    setSecurityStamp(stamp: string): Promise<any> {\n        this.stamp = stamp;\n        return this.storageService.save(Keys.stamp, stamp);\n    }\n\n    setEmailVerified(emailVerified: boolean) {\n        this.emailVerified = emailVerified;\n        return this.storageService.save(Keys.emailVerified, emailVerified);\n    }\n\n    async getUserId(): Promise<string> {\n        if (this.userId == null) {\n            this.userId = await this.storageService.get<string>(Keys.userId);\n        }\n        return this.userId;\n    }\n\n    async getEmail(): Promise<string> {\n        if (this.email == null) {\n            this.email = await this.storageService.get<string>(Keys.userEmail);\n        }\n        return this.email;\n    }\n\n    async getSecurityStamp(): Promise<string> {\n        if (this.stamp == null) {\n            this.stamp = await this.storageService.get<string>(Keys.stamp);\n        }\n        return this.stamp;\n    }\n\n    async getKdf(): Promise<KdfType> {\n        if (this.kdf == null) {\n            this.kdf = await this.storageService.get<KdfType>(Keys.kdf);\n        }\n        return this.kdf;\n    }\n\n    async getKdfIterations(): Promise<number> {\n        if (this.kdfIterations == null) {\n            this.kdfIterations = await this.storageService.get<number>(Keys.kdfIterations);\n        }\n        return this.kdfIterations;\n    }\n\n    async getEmailVerified(): Promise<boolean> {\n        if (this.emailVerified == null) {\n            this.emailVerified = await this.storageService.get<boolean>(Keys.emailVerified);\n        }\n        return this.emailVerified;\n    }\n\n    async clear(): Promise<any> {\n        const userId = await this.getUserId();\n\n        await Promise.all([\n            this.storageService.remove(Keys.userId),\n            this.storageService.remove(Keys.userEmail),\n            this.storageService.remove(Keys.stamp),\n            this.storageService.remove(Keys.kdf),\n            this.storageService.remove(Keys.kdfIterations),\n            this.clearOrganizations(userId),\n        ]);\n\n        this.userId = this.email = this.stamp = null;\n        this.kdf = null;\n        this.kdfIterations = null;\n    }\n\n    async isAuthenticated(): Promise<boolean> {\n        const token = await this.tokenService.getToken();\n        if (token == null) {\n            return false;\n        }\n\n        const userId = await this.getUserId();\n        return userId != null;\n    }\n\n    async canAccessPremium(): Promise<boolean> {\n        const authed = await this.isAuthenticated();\n        if (!authed) {\n            return false;\n        }\n\n        const tokenPremium = this.tokenService.getPremium();\n        if (tokenPremium) {\n            return true;\n        }\n\n        const orgs = await this.getAllOrganizations();\n        for (let i = 0; i < orgs.length; i++) {\n            if (orgs[i].usersGetPremium && orgs[i].enabled) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    async getOrganization(id: string): Promise<Organization> {\n        const userId = await this.getUserId();\n        const organizations = await this.storageService.get<{ [id: string]: OrganizationData; }>(\n            Keys.organizationsPrefix + userId);\n        if (organizations == null || !organizations.hasOwnProperty(id)) {\n            return null;\n        }\n\n        return new Organization(organizations[id]);\n    }\n\n    async getAllOrganizations(): Promise<Organization[]> {\n        const userId = await this.getUserId();\n        const organizations = await this.storageService.get<{ [id: string]: OrganizationData; }>(\n            Keys.organizationsPrefix + userId);\n        const response: Organization[] = [];\n        for (const id in organizations) {\n            if (organizations.hasOwnProperty(id)) {\n                response.push(new Organization(organizations[id]));\n            }\n        }\n        return response;\n    }\n\n    async replaceOrganizations(organizations: { [id: string]: OrganizationData; }): Promise<any> {\n        const userId = await this.getUserId();\n        await this.storageService.save(Keys.organizationsPrefix + userId, organizations);\n    }\n\n    async clearOrganizations(userId: string): Promise<any> {\n        await this.storageService.remove(Keys.organizationsPrefix + userId);\n    }\n}\n","import { ConstantsService } from './constants.service';\n\nimport { CipherService } from '../abstractions/cipher.service';\nimport { CollectionService } from '../abstractions/collection.service';\nimport { CryptoService } from '../abstractions/crypto.service';\nimport { FolderService } from '../abstractions/folder.service';\nimport { MessagingService } from '../abstractions/messaging.service';\nimport { PlatformUtilsService } from '../abstractions/platformUtils.service';\nimport { SearchService } from '../abstractions/search.service';\nimport { StorageService } from '../abstractions/storage.service';\nimport { TokenService } from '../abstractions/token.service';\nimport { UserService } from '../abstractions/user.service';\nimport { VaultTimeoutService as VaultTimeoutServiceAbstraction } from '../abstractions/vaultTimeout.service';\n\nimport { EncString } from '../models/domain/encString';\n\nexport class VaultTimeoutService implements VaultTimeoutServiceAbstraction {\n    pinProtectedKey: EncString = null;\n    biometricLocked: boolean = true;\n\n    private inited = false;\n\n    constructor(private cipherService: CipherService, private folderService: FolderService,\n        private collectionService: CollectionService, private cryptoService: CryptoService,\n        protected platformUtilsService: PlatformUtilsService, private storageService: StorageService,\n        private messagingService: MessagingService, private searchService: SearchService,\n        private userService: UserService, private tokenService: TokenService,\n        private lockedCallback: () => Promise<void> = null, private loggedOutCallback: () => Promise<void> = null) {\n    }\n\n    init(checkOnInterval: boolean) {\n        if (this.inited) {\n            return;\n        }\n\n        this.inited = true;\n        if (checkOnInterval) {\n            this.startCheck();\n        }\n    }\n\n    startCheck() {\n        this.checkVaultTimeout();\n        setInterval(() => this.checkVaultTimeout(), 10 * 1000); // check every 10 seconds\n    }\n\n    // Keys aren't stored for a device that is locked or logged out.\n    async isLocked(): Promise<boolean> {\n        const hasKey = await this.cryptoService.hasKey();\n        if (hasKey) {\n            if (await this.isBiometricLockSet() && this.biometricLocked) {\n                return true;\n            }\n        }\n        return !hasKey;\n    }\n\n    async checkVaultTimeout(): Promise<void> {\n        if (await this.platformUtilsService.isViewOpen()) {\n            // Do not lock\n            return;\n        }\n\n        // \"is logged out check\" - similar to isLocked, below\n        const authed = await this.userService.isAuthenticated();\n        if (!authed) {\n            return;\n        }\n\n        if (await this.isLocked()) {\n            return;\n        }\n\n        // This has the potential to be removed. Evaluate after all platforms complete with auto-logout\n        let vaultTimeout = this.platformUtilsService.lockTimeout();\n        if (vaultTimeout == null) {\n            vaultTimeout = await this.storageService.get<number>(ConstantsService.vaultTimeoutKey);\n        }\n\n        if (vaultTimeout == null || vaultTimeout < 0) {\n            return;\n        }\n\n        const lastActive = await this.storageService.get<number>(ConstantsService.lastActiveKey);\n        if (lastActive == null) {\n            return;\n        }\n\n        const vaultTimeoutSeconds = vaultTimeout * 60;\n        const diffSeconds = ((new Date()).getTime() - lastActive) / 1000;\n        if (diffSeconds >= vaultTimeoutSeconds) {\n            // Pivot based on the saved vault timeout action\n            const timeoutAction = await this.storageService.get<string>(ConstantsService.vaultTimeoutActionKey);\n            timeoutAction === 'logOut' ? await this.logOut() : await this.lock(true);\n        }\n    }\n\n    async lock(allowSoftLock = false): Promise<void> {\n        const authed = await this.userService.isAuthenticated();\n        if (!authed) {\n            return;\n        }\n\n        this.biometricLocked = true;\n        if (allowSoftLock) {\n            const biometricLocked = await this.isBiometricLockSet();\n            if (biometricLocked && this.platformUtilsService.supportsSecureStorage()) {\n                this.messagingService.send('locked');\n                if (this.lockedCallback != null) {\n                    await this.lockedCallback();\n                }\n                return;\n            }\n        }\n\n        await Promise.all([\n            this.cryptoService.clearKey(),\n            this.cryptoService.clearOrgKeys(true),\n            this.cryptoService.clearKeyPair(true),\n            this.cryptoService.clearEncKey(true),\n        ]);\n\n        this.folderService.clearCache();\n        this.cipherService.clearCache();\n        this.collectionService.clearCache();\n        this.searchService.clearIndex();\n        this.messagingService.send('locked');\n        if (this.lockedCallback != null) {\n            await this.lockedCallback();\n        }\n    }\n\n    async logOut(): Promise<void> {\n        if (this.loggedOutCallback != null) {\n            await this.loggedOutCallback();\n        }\n    }\n\n    async setVaultTimeoutOptions(timeout: number, action: string): Promise<void> {\n        await this.storageService.save(ConstantsService.vaultTimeoutKey, timeout);\n        await this.storageService.save(ConstantsService.vaultTimeoutActionKey, action);\n        await this.cryptoService.toggleKey();\n        await this.tokenService.toggleTokens();\n    }\n\n    async isPinLockSet(): Promise<[boolean, boolean]> {\n        const protectedPin = await this.storageService.get<string>(ConstantsService.protectedPin);\n        const pinProtectedKey = await this.storageService.get<string>(ConstantsService.pinProtectedKey);\n        return [protectedPin != null, pinProtectedKey != null];\n    }\n\n    async isBiometricLockSet(): Promise<boolean> {\n        return await this.storageService.get<boolean>(ConstantsService.biometricUnlockKey);\n    }\n\n    clear(): Promise<any> {\n        this.pinProtectedKey = null;\n        return this.storageService.remove(ConstantsService.protectedPin);\n    }\n}\n","import { LogLevelType } from '../enums/logLevelType';\n\nimport { LogService as LogServiceAbstraction } from '../abstractions/log.service';\n\nimport * as hrtime from 'browser-hrtime';\n\nexport class ConsoleLogService implements LogServiceAbstraction {\n    protected timersMap: Map<string, [number, number]> = new Map();\n\n    constructor(protected isDev: boolean, protected filter: (level: LogLevelType) => boolean = null) { }\n\n    debug(message: string) {\n        if (!this.isDev) {\n            return;\n        }\n        this.write(LogLevelType.Debug, message);\n    }\n\n    info(message: string) {\n        this.write(LogLevelType.Info, message);\n    }\n\n    warning(message: string) {\n        this.write(LogLevelType.Warning, message);\n    }\n\n    error(message: string) {\n        this.write(LogLevelType.Error, message);\n    }\n\n    write(level: LogLevelType, message: string) {\n        if (this.filter != null && this.filter(level)) {\n            return;\n        }\n\n        switch (level) {\n            case LogLevelType.Debug:\n                // tslint:disable-next-line\n                console.log(message);\n                break;\n            case LogLevelType.Info:\n                // tslint:disable-next-line\n                console.log(message);\n                break;\n            case LogLevelType.Warning:\n                // tslint:disable-next-line\n                console.warn(message);\n                break;\n            case LogLevelType.Error:\n                // tslint:disable-next-line\n                console.error(message);\n                break;\n            default:\n                break;\n        }\n    }\n\n    time(label: string = 'default') {\n        if (!this.timersMap.has(label)) {\n            this.timersMap.set(label, hrtime());\n        }\n    }\n\n    timeEnd(label: string = 'default'): [number, number] {\n        const elapsed = hrtime(this.timersMap.get(label));\n        this.timersMap.delete(label);\n        this.write(LogLevelType.Info, `${label}: ${elapsed[0] * 1000 + elapsed[1] / 10e6}ms`);\n        return elapsed;\n    }\n}\n","export enum LogLevelType {\n    Debug,\n    Info,\n    Warning,\n    Error,\n}\n","import { Cipher } from './cipher';\n\nimport { CipherView } from '../view/cipherView';\n\nimport { Cipher as CipherDomain } from '../domain/cipher';\n\nexport class CipherWithIds extends Cipher {\n    id: string;\n    collectionIds: string[];\n\n    // Use build method instead of ctor so that we can control order of JSON stringify for pretty print\n    build(o: CipherView | CipherDomain) {\n        this.id = o.id;\n        super.build(o);\n        this.collectionIds = o.collectionIds;\n    }\n}\n","import { Collection } from './collection';\n\nimport { CollectionView } from '../view/collectionView';\n\nimport { Collection as CollectionDomain } from '../domain/collection';\n\nexport class CollectionWithId extends Collection {\n    id: string;\n\n    // Use build method instead of ctor so that we can control order of JSON stringify for pretty print\n    build(o: CollectionView | CollectionDomain) {\n        this.id = o.id;\n        super.build(o);\n    }\n}\n","import { Folder } from './folder';\n\nimport { FolderView } from '../view/folderView';\n\nimport { Folder as FolderDomain } from '../domain/folder';\n\nexport class FolderWithId extends Folder {\n    id: string;\n\n    // Use build method instead of ctor so that we can control order of JSON stringify for pretty print\n    build(o: FolderView | FolderDomain) {\n        this.id = o.id;\n        super.build(o);\n    }\n}\n","import { ImportResult } from '../../models/domain/importResult';\nimport { BaseImporter } from '../baseImporter';\nimport { Importer } from '../importer';\n\nimport { CipherType } from '../../enums/cipherType';\nimport { FieldType } from '../../enums/fieldType';\nimport { CipherView } from '../../models/view';\nimport { CipherImportContext } from './cipherImportContext';\n\nexport const IgnoredProperties = ['ainfo', 'autosubmit', 'notesplain', 'ps', 'scope', 'tags', 'title', 'uuid', 'notes'];\n\nexport abstract class OnePasswordCsvImporter extends BaseImporter implements Importer {\n    protected loginPropertyParsers = [this.setLoginUsername, this.setLoginPassword, this.setLoginUris];\n    protected creditCardPropertyParsers = [this.setCreditCardNumber, this.setCreditCardVerification, this.setCreditCardCardholderName, this.setCreditCardExpiry];\n    protected identityPropertyParsers = [this.setIdentityFirstName, this.setIdentityInitial, this.setIdentityLastName, this.setIdentityUserName, this.setIdentityEmail, this.setIdentityPhone, this.setIdentityCompany];\n\n    abstract setCipherType(value: any, cipher: CipherView): void;\n\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true, {\n            quoteChar: '\"',\n            escapeChar: '\\\\',\n        });\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (this.isNullOrWhitespace(this.getProp(value, 'title'))) {\n                return;\n            }\n\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(this.getProp(value, 'title'), '--');\n\n            this.setNotes(value, cipher);\n\n            this.setCipherType(value, cipher);\n\n            let altUsername: string = null;\n            for (const property in value) {\n                if (!value.hasOwnProperty(property) || this.isNullOrWhitespace(value[property])) {\n                    continue;\n                }\n\n                const context = new CipherImportContext(value, property, cipher);\n                if (cipher.type === CipherType.Login && this.setKnownLoginValue(context)) {\n                    continue;\n                } else if (cipher.type === CipherType.Card && this.setKnownCreditCardValue(context)) {\n                    continue;\n                } else if (cipher.type === CipherType.Identity && this.setKnownIdentityValue(context)) {\n                    continue;\n                }\n\n                altUsername = this.setUnknownValue(context, altUsername);\n            }\n\n            if (cipher.type === CipherType.Login && !this.isNullOrWhitespace(altUsername) &&\n                this.isNullOrWhitespace(cipher.login.username) && altUsername.indexOf('://') === -1) {\n                cipher.login.username = altUsername;\n            }\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n\n    protected getProp(obj: any, name: string): any {\n        const lowerObj = Object.entries(obj).reduce((agg: any, entry: [string, any]) => {\n            agg[entry[0].toLowerCase()] = entry[1];\n            return agg;\n        }, {});\n        return lowerObj[name.toLowerCase()];\n    }\n\n    protected getPropByRegexp(obj: any, regexp: RegExp): any {\n        const matchingKeys = Object.keys(obj).reduce((agg: string[], key: string) => {\n            if (key.match(regexp)) {\n                agg.push(key);\n            }\n            return agg;\n        }, []);\n        if (matchingKeys.length === 0) {\n            return null;\n        } else {\n            return obj[matchingKeys[0]];\n        }\n    }\n\n    protected getPropIncluding(obj: any, name: string): any {\n        const includesMap = Object.keys(obj).reduce((agg: string[], entry: string) => {\n            if (entry.toLowerCase().includes(name.toLowerCase())) {\n                agg.push(entry);\n            }\n            return agg;\n        }, []);\n        if (includesMap.length === 0) {\n            return null;\n        } else {\n            return obj[includesMap[0]];\n        }\n    }\n\n    protected setNotes(importRecord: any, cipher: CipherView) {\n        cipher.notes = this.getValueOrDefault(this.getProp(importRecord, 'notesPlain'), '') + '\\n' +\n            this.getValueOrDefault(this.getProp(importRecord, 'notes'), '') + '\\n';\n        cipher.notes.trim();\n\n    }\n\n    protected setKnownLoginValue(context: CipherImportContext): boolean {\n        return this.loginPropertyParsers.reduce((agg: boolean, func) => {\n            if (!agg) {\n                agg = func.bind(this)(context);\n            }\n            return agg;\n        }, false);\n    }\n\n    protected setKnownCreditCardValue(context: CipherImportContext): boolean {\n        return this.creditCardPropertyParsers.reduce((agg: boolean, func) => {\n            if (!agg) {\n                agg = func.bind(this)(context);\n            }\n            return agg;\n        }, false);\n    }\n\n    protected setKnownIdentityValue(context: CipherImportContext): boolean {\n        return this.identityPropertyParsers.reduce((agg: boolean, func) => {\n            if (!agg) {\n                agg = func.bind(this)(context);\n            }\n            return agg;\n        }, false);\n    }\n\n    protected setUnknownValue(context: CipherImportContext, altUsername: string): string {\n        if (IgnoredProperties.indexOf(context.lowerProperty) === -1 && !context.lowerProperty.startsWith('section:') &&\n            !context.lowerProperty.startsWith('section ')) {\n            if (altUsername == null && context.lowerProperty === 'email') {\n                return context.importRecord[context.property];\n            }\n            else if (context.lowerProperty === 'created date' || context.lowerProperty === 'modified date') {\n                const readableDate = new Date(parseInt(context.importRecord[context.property], 10) * 1000).toUTCString();\n                this.processKvp(context.cipher, '1Password ' + context.property, readableDate);\n                return null;\n            }\n            if (context.lowerProperty.includes('password') || context.lowerProperty.includes('key') || context.lowerProperty.includes('secret')) {\n                this.processKvp(context.cipher, context.property, context.importRecord[context.property], FieldType.Hidden);\n            } else {\n                this.processKvp(context.cipher, context.property, context.importRecord[context.property]);\n            }\n        }\n        return null;\n    }\n\n    protected setIdentityFirstName(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.identity.firstName) && context.lowerProperty.includes('first name')) {\n            context.cipher.identity.firstName = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setIdentityInitial(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.identity.middleName) && context.lowerProperty.includes('initial')) {\n            context.cipher.identity.middleName = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setIdentityLastName(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.identity.lastName) && context.lowerProperty.includes('last name')) {\n            context.cipher.identity.lastName = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setIdentityUserName(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.identity.username) && context.lowerProperty.includes('username')) {\n            context.cipher.identity.username = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setIdentityCompany(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.identity.company) && context.lowerProperty.includes('company')) {\n            context.cipher.identity.company = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setIdentityPhone(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.identity.phone) && context.lowerProperty.includes('default phone')) {\n            context.cipher.identity.phone = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setIdentityEmail(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.identity.email) && context.lowerProperty.includes('email')) {\n            context.cipher.identity.email = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setCreditCardNumber(context: CipherImportContext): boolean {\n        if (this.isNullOrWhitespace(context.cipher.card.number) && context.lowerProperty.includes('number')) {\n            context.cipher.card.number = context.importRecord[context.property];\n            context.cipher.card.brand = this.getCardBrand(context.cipher.card.number);\n            return true;\n        }\n        return false;\n    }\n\n    protected setCreditCardVerification(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.card.code) && context.lowerProperty.includes('verification number')) {\n            context.cipher.card.code = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setCreditCardCardholderName(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.card.cardholderName) && context.lowerProperty.includes('cardholder name')) {\n            context.cipher.card.cardholderName = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setCreditCardExpiry(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.card.expiration) && context.lowerProperty.includes('expiry date') &&\n            context.importRecord[context.property].length === 7) {\n            context.cipher.card.expMonth = (context.importRecord[context.property] as string).substr(0, 2);\n            if (context.cipher.card.expMonth[0] === '0') {\n                context.cipher.card.expMonth = context.cipher.card.expMonth.substr(1, 1);\n            }\n            context.cipher.card.expYear = (context.importRecord[context.property] as string).substr(3, 4);\n            return true;\n        }\n        return false;\n    }\n\n    protected setLoginPassword(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.login.password) && context.lowerProperty === 'password') {\n            context.cipher.login.password = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setLoginUsername(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.login.username) && context.lowerProperty === 'username') {\n            context.cipher.login.username = context.importRecord[context.property];\n            return true;\n        }\n        return false;\n    }\n\n    protected setLoginUris(context: CipherImportContext) {\n        if ((context.cipher.login.uris == null || context.cipher.login.uris.length === 0) && context.lowerProperty === 'urls') {\n            const urls = context.importRecord[context.property].split(this.newLineRegex);\n            context.cipher.login.uris = this.makeUriArray(urls);\n            return true;\n        } else if ((context.lowerProperty === 'url')) {\n            if (context.cipher.login.uris == null) {\n                context.cipher.login.uris = [];\n            }\n            context.cipher.login.uris.concat(this.makeUriArray(context.importRecord[context.property]));\n            return true;\n        }\n        return false;\n    }\n}\n","export { AttachmentView } from './attachmentView';\nexport { CardView } from './cardView';\nexport { CipherView } from './cipherView';\nexport { FieldView } from './fieldView';\nexport { IdentityView } from './identityView';\nexport { LoginUriView } from './loginUriView';\nexport { LoginView } from './loginView';\nexport { SecureNoteView } from './secureNoteView';\nexport { View } from './view';\n","export enum NotificationType {\n    SyncCipherUpdate = 0,\n    SyncCipherCreate = 1,\n    SyncLoginDelete = 2,\n    SyncFolderDelete = 3,\n    SyncCiphers = 4,\n\n    SyncVault = 5,\n    SyncOrgKeys = 6,\n    SyncFolderCreate = 7,\n    SyncFolderUpdate = 8,\n    SyncCipherDelete = 9,\n    SyncSettings = 10,\n\n    LogOut = 11,\n\n    SyncSendCreate = 12,\n    SyncSendUpdate = 13,\n    SyncSendDelete = 14,\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport 'bootstrap';\nimport 'jquery';\nimport 'popper.js';\n\n// tslint:disable-next-line\nrequire('../scss/styles.scss');\n\nimport { AppModule } from './app.module';\n\nif (process.env.ENV === 'production') {\n    enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule, { preserveWhitespaces: true });\n","import 'core-js';\n\nimport { ToasterModule } from 'angular2-toaster';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\n\nimport { AppRoutingModule } from './app-routing.module';\n\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { ServicesModule } from './services/services.module';\n\nimport { AppComponent } from './app.component';\nimport { ModalComponent } from './modal.component';\n\nimport { AvatarComponent } from './components/avatar.component';\nimport { PasswordStrengthComponent } from './components/password-strength.component';\n\nimport { FooterComponent } from './layouts/footer.component';\nimport { FrontendLayoutComponent } from './layouts/frontend-layout.component';\nimport { NavbarComponent } from './layouts/navbar.component';\nimport { OrganizationLayoutComponent } from './layouts/organization-layout.component';\nimport { UserLayoutComponent } from './layouts/user-layout.component';\n\nimport { AcceptEmergencyComponent } from './accounts/accept-emergency.component';\nimport { AcceptOrganizationComponent } from './accounts/accept-organization.component';\nimport { HintComponent } from './accounts/hint.component';\nimport { LockComponent } from './accounts/lock.component';\nimport { LoginComponent } from './accounts/login.component';\nimport { RecoverDeleteComponent } from './accounts/recover-delete.component';\nimport { RecoverTwoFactorComponent } from './accounts/recover-two-factor.component';\nimport { RegisterComponent } from './accounts/register.component';\nimport { SetPasswordComponent } from './accounts/set-password.component';\nimport { SsoComponent } from './accounts/sso.component';\nimport { TwoFactorOptionsComponent } from './accounts/two-factor-options.component';\nimport { TwoFactorComponent } from './accounts/two-factor.component';\nimport { VerifyEmailTokenComponent } from './accounts/verify-email-token.component';\nimport { VerifyRecoverDeleteComponent } from './accounts/verify-recover-delete.component';\n\nimport {\n    CollectionAddEditComponent as OrgCollectionAddEditComponent,\n} from './organizations/manage/collection-add-edit.component';\nimport { CollectionsComponent as OrgManageCollectionsComponent } from './organizations/manage/collections.component';\nimport { EntityEventsComponent as OrgEntityEventsComponent } from './organizations/manage/entity-events.component';\nimport { EntityUsersComponent as OrgEntityUsersComponent } from './organizations/manage/entity-users.component';\nimport { EventsComponent as OrgEventsComponent } from './organizations/manage/events.component';\nimport { GroupAddEditComponent as OrgGroupAddEditComponent } from './organizations/manage/group-add-edit.component';\nimport { GroupsComponent as OrgGroupsComponent } from './organizations/manage/groups.component';\nimport { ManageComponent as OrgManageComponent } from './organizations/manage/manage.component';\nimport { PeopleComponent as OrgPeopleComponent } from './organizations/manage/people.component';\nimport { PoliciesComponent as OrgPoliciesComponent } from './organizations/manage/policies.component';\nimport { PolicyEditComponent as OrgPolicyEditComponent } from './organizations/manage/policy-edit.component';\nimport { UserAddEditComponent as OrgUserAddEditComponent } from './organizations/manage/user-add-edit.component';\nimport { UserConfirmComponent as OrgUserConfirmComponent } from './organizations/manage/user-confirm.component';\nimport { UserGroupsComponent as OrgUserGroupsComponent } from './organizations/manage/user-groups.component';\n\nimport { AccountComponent as OrgAccountComponent } from './organizations/settings/account.component';\nimport { AdjustSeatsComponent } from './organizations/settings/adjust-seats.component';\nimport { ChangePlanComponent } from './organizations/settings/change-plan.component';\nimport { DeleteOrganizationComponent } from './organizations/settings/delete-organization.component';\nimport { DownloadLicenseComponent } from './organizations/settings/download-license.component';\nimport { OrganizationBillingComponent } from './organizations/settings/organization-billing.component';\nimport { OrganizationSubscriptionComponent } from './organizations/settings/organization-subscription.component';\nimport { SettingsComponent as OrgSettingComponent } from './organizations/settings/settings.component';\nimport {\n    TwoFactorSetupComponent as OrgTwoFactorSetupComponent,\n} from './organizations/settings/two-factor-setup.component';\n\nimport { ExportComponent as OrgExportComponent } from './organizations/tools/export.component';\nimport {\n    ExposedPasswordsReportComponent as OrgExposedPasswordsReportComponent,\n} from './organizations/tools/exposed-passwords-report.component';\nimport { ImportComponent as OrgImportComponent } from './organizations/tools/import.component';\nimport {\n    InactiveTwoFactorReportComponent as OrgInactiveTwoFactorReportComponent,\n} from './organizations/tools/inactive-two-factor-report.component';\nimport {\n    ReusedPasswordsReportComponent as OrgReusedPasswordsReportComponent,\n} from './organizations/tools/reused-passwords-report.component';\nimport { ToolsComponent as OrgToolsComponent } from './organizations/tools/tools.component';\nimport {\n    UnsecuredWebsitesReportComponent as OrgUnsecuredWebsitesReportComponent,\n} from './organizations/tools/unsecured-websites-report.component';\nimport {\n    WeakPasswordsReportComponent as OrgWeakPasswordsReportComponent,\n} from './organizations/tools/weak-passwords-report.component';\n\nimport { AddEditComponent as OrgAddEditComponent } from './organizations/vault/add-edit.component';\nimport { AttachmentsComponent as OrgAttachmentsComponent } from './organizations/vault/attachments.component';\nimport { CiphersComponent as OrgCiphersComponent } from './organizations/vault/ciphers.component';\nimport { CollectionsComponent as OrgCollectionsComponent } from './organizations/vault/collections.component';\nimport { GroupingsComponent as OrgGroupingsComponent } from './organizations/vault/groupings.component';\nimport { VaultComponent as OrgVaultComponent } from './organizations/vault/vault.component';\n\nimport { AccessComponent } from './send/access.component';\nimport { AddEditComponent as SendAddEditComponent } from './send/add-edit.component';\nimport { SendComponent } from './send/send.component';\n\nimport { AccountComponent } from './settings/account.component';\nimport { AddCreditComponent } from './settings/add-credit.component';\nimport { AdjustPaymentComponent } from './settings/adjust-payment.component';\nimport { AdjustStorageComponent } from './settings/adjust-storage.component';\nimport { ApiKeyComponent } from './settings/api-key.component';\nimport { ChangeEmailComponent } from './settings/change-email.component';\nimport { ChangeKdfComponent } from './settings/change-kdf.component';\nimport { ChangePasswordComponent } from './settings/change-password.component';\nimport { CreateOrganizationComponent } from './settings/create-organization.component';\nimport { DeauthorizeSessionsComponent } from './settings/deauthorize-sessions.component';\nimport { DeleteAccountComponent } from './settings/delete-account.component';\nimport { DomainRulesComponent } from './settings/domain-rules.component';\nimport { EmergencyAccessAddEditComponent } from './settings/emergency-access-add-edit.component';\nimport { EmergencyAccessAttachmentsComponent } from './settings/emergency-access-attachments.component';\nimport { EmergencyAccessConfirmComponent } from './settings/emergency-access-confirm.component';\nimport { EmergencyAccessTakeoverComponent } from './settings/emergency-access-takeover.component';\nimport { EmergencyAccessViewComponent } from './settings/emergency-access-view.component';\nimport { EmergencyAccessComponent } from './settings/emergency-access.component';\nimport { EmergencyAddEditComponent } from './settings/emergency-add-edit.component';\nimport { LinkSsoComponent } from './settings/link-sso.component';\nimport { OptionsComponent } from './settings/options.component';\nimport { OrganizationPlansComponent } from './settings/organization-plans.component';\nimport { OrganizationsComponent } from './settings/organizations.component';\nimport { PaymentComponent } from './settings/payment.component';\nimport { PremiumComponent } from './settings/premium.component';\nimport { ProfileComponent } from './settings/profile.component';\nimport { PurgeVaultComponent } from './settings/purge-vault.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { TaxInfoComponent } from './settings/tax-info.component';\nimport { TwoFactorAuthenticatorComponent } from './settings/two-factor-authenticator.component';\nimport { TwoFactorDuoComponent } from './settings/two-factor-duo.component';\nimport { TwoFactorEmailComponent } from './settings/two-factor-email.component';\nimport { TwoFactorRecoveryComponent } from './settings/two-factor-recovery.component';\nimport { TwoFactorSetupComponent } from './settings/two-factor-setup.component';\nimport { TwoFactorVerifyComponent } from './settings/two-factor-verify.component';\nimport { TwoFactorWebAuthnComponent } from './settings/two-factor-webauthn.component';\nimport { TwoFactorYubiKeyComponent } from './settings/two-factor-yubikey.component';\nimport { UpdateKeyComponent } from './settings/update-key.component';\nimport { UpdateLicenseComponent } from './settings/update-license.component';\nimport { UserBillingComponent } from './settings/user-billing.component';\nimport { UserSubscriptionComponent } from './settings/user-subscription.component';\nimport { VerifyEmailComponent } from './settings/verify-email.component';\n\nimport { BreachReportComponent } from './tools/breach-report.component';\nimport { ExportComponent } from './tools/export.component';\nimport { ExposedPasswordsReportComponent } from './tools/exposed-passwords-report.component';\nimport { ImportComponent } from './tools/import.component';\nimport { InactiveTwoFactorReportComponent } from './tools/inactive-two-factor-report.component';\nimport { PasswordGeneratorHistoryComponent } from './tools/password-generator-history.component';\nimport { PasswordGeneratorComponent } from './tools/password-generator.component';\nimport { ReusedPasswordsReportComponent } from './tools/reused-passwords-report.component';\nimport { ToolsComponent } from './tools/tools.component';\nimport { UnsecuredWebsitesReportComponent } from './tools/unsecured-websites-report.component';\nimport { WeakPasswordsReportComponent } from './tools/weak-passwords-report.component';\n\nimport { AddEditComponent } from './vault/add-edit.component';\nimport { AttachmentsComponent } from './vault/attachments.component';\nimport { BulkActionsComponent } from './vault/bulk-actions.component';\nimport { BulkDeleteComponent } from './vault/bulk-delete.component';\nimport { BulkMoveComponent } from './vault/bulk-move.component';\nimport { BulkRestoreComponent } from './vault/bulk-restore.component';\nimport { BulkShareComponent } from './vault/bulk-share.component';\nimport { CiphersComponent } from './vault/ciphers.component';\nimport { CollectionsComponent } from './vault/collections.component';\nimport { FolderAddEditComponent } from './vault/folder-add-edit.component';\nimport { GroupingsComponent } from './vault/groupings.component';\nimport { SendInfoComponent } from './vault/send-info.component';\nimport { ShareComponent } from './vault/share.component';\nimport { VaultComponent } from './vault/vault.component';\n\nimport { CalloutComponent } from 'jslib/angular/components/callout.component';\nimport { IconComponent } from 'jslib/angular/components/icon.component';\n\nimport { A11yTitleDirective } from 'jslib/angular/directives/a11y-title.directive';\nimport { ApiActionDirective } from 'jslib/angular/directives/api-action.directive';\nimport { AutofocusDirective } from 'jslib/angular/directives/autofocus.directive';\nimport { BlurClickDirective } from 'jslib/angular/directives/blur-click.directive';\nimport { BoxRowDirective } from 'jslib/angular/directives/box-row.directive';\nimport { FallbackSrcDirective } from 'jslib/angular/directives/fallback-src.directive';\nimport { InputVerbatimDirective } from 'jslib/angular/directives/input-verbatim.directive';\nimport { SelectCopyDirective } from 'jslib/angular/directives/select-copy.directive';\nimport { StopClickDirective } from 'jslib/angular/directives/stop-click.directive';\nimport { StopPropDirective } from 'jslib/angular/directives/stop-prop.directive';\nimport { TrueFalseValueDirective } from 'jslib/angular/directives/true-false-value.directive';\n\nimport { ColorPasswordPipe } from 'jslib/angular/pipes/color-password.pipe';\nimport { I18nPipe } from 'jslib/angular/pipes/i18n.pipe';\nimport { SearchCiphersPipe } from 'jslib/angular/pipes/search-ciphers.pipe';\nimport { SearchPipe } from 'jslib/angular/pipes/search.pipe';\n\nimport {\n    DatePipe,\n    registerLocaleData,\n} from '@angular/common';\nimport localeCa from '@angular/common/locales/ca';\nimport localeCs from '@angular/common/locales/cs';\nimport localeDa from '@angular/common/locales/da';\nimport localeDe from '@angular/common/locales/de';\nimport localeEl from '@angular/common/locales/el';\nimport localeEnGb from '@angular/common/locales/en-GB';\nimport localeEs from '@angular/common/locales/es';\nimport localeEt from '@angular/common/locales/et';\nimport localeFr from '@angular/common/locales/fr';\nimport localeHe from '@angular/common/locales/he';\nimport localeIt from '@angular/common/locales/it';\nimport localeJa from '@angular/common/locales/ja';\nimport localeKo from '@angular/common/locales/ko';\nimport localeLv from '@angular/common/locales/lv';\nimport localeMl from '@angular/common/locales/ml';\nimport localeNb from '@angular/common/locales/nb';\nimport localeNl from '@angular/common/locales/nl';\nimport localePl from '@angular/common/locales/pl';\nimport localePtBr from '@angular/common/locales/pt';\nimport localePtPt from '@angular/common/locales/pt-PT';\nimport localeRu from '@angular/common/locales/ru';\nimport localeSk from '@angular/common/locales/sk';\nimport localeSv from '@angular/common/locales/sv';\nimport localeUk from '@angular/common/locales/uk';\nimport localeZhCn from '@angular/common/locales/zh-Hans';\nimport localeZhTw from '@angular/common/locales/zh-Hant';\n\nregisterLocaleData(localeCa, 'ca');\nregisterLocaleData(localeCs, 'cs');\nregisterLocaleData(localeDa, 'da');\nregisterLocaleData(localeDe, 'de');\nregisterLocaleData(localeEl, 'el');\nregisterLocaleData(localeEnGb, 'en-GB');\nregisterLocaleData(localeEs, 'es');\nregisterLocaleData(localeEt, 'et');\nregisterLocaleData(localeFr, 'fr');\nregisterLocaleData(localeHe, 'he');\nregisterLocaleData(localeIt, 'it');\nregisterLocaleData(localeJa, 'ja');\nregisterLocaleData(localeKo, 'ko');\nregisterLocaleData(localeLv, 'lv');\nregisterLocaleData(localeMl, 'ml');\nregisterLocaleData(localeNb, 'nb');\nregisterLocaleData(localeNl, 'nl');\nregisterLocaleData(localePl, 'pl');\nregisterLocaleData(localePtBr, 'pt-BR');\nregisterLocaleData(localePtPt, 'pt-PT');\nregisterLocaleData(localeRu, 'ru');\nregisterLocaleData(localeSk, 'sk');\nregisterLocaleData(localeSv, 'sv');\nregisterLocaleData(localeUk, 'uk');\nregisterLocaleData(localeZhCn, 'zh-CN');\nregisterLocaleData(localeZhTw, 'zh-TW');\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        BrowserAnimationsModule,\n        FormsModule,\n        AppRoutingModule,\n        ServicesModule,\n        ToasterModule.forRoot(),\n        InfiniteScrollModule,\n        DragDropModule,\n    ],\n    declarations: [\n        A11yTitleDirective,\n        AcceptEmergencyComponent,\n        AccessComponent,\n        AcceptOrganizationComponent,\n        AccountComponent,\n        SetPasswordComponent,\n        AddCreditComponent,\n        AddEditComponent,\n        AdjustPaymentComponent,\n        AdjustSeatsComponent,\n        AdjustStorageComponent,\n        ApiActionDirective,\n        ApiKeyComponent,\n        AppComponent,\n        AttachmentsComponent,\n        AutofocusDirective,\n        AvatarComponent,\n        BlurClickDirective,\n        BoxRowDirective,\n        BreachReportComponent,\n        BulkActionsComponent,\n        BulkDeleteComponent,\n        BulkMoveComponent,\n        BulkRestoreComponent,\n        BulkShareComponent,\n        CalloutComponent,\n        ChangeEmailComponent,\n        ChangeKdfComponent,\n        ChangePasswordComponent,\n        ChangePlanComponent,\n        CiphersComponent,\n        CollectionsComponent,\n        ColorPasswordPipe,\n        CreateOrganizationComponent,\n        DeauthorizeSessionsComponent,\n        DeleteAccountComponent,\n        DeleteOrganizationComponent,\n        DomainRulesComponent,\n        DownloadLicenseComponent,\n        EmergencyAccessAddEditComponent,\n        EmergencyAccessAttachmentsComponent,\n        EmergencyAccessComponent,\n        EmergencyAccessConfirmComponent,\n        EmergencyAccessTakeoverComponent,\n        EmergencyAccessViewComponent,\n        EmergencyAddEditComponent,\n        ExportComponent,\n        ExposedPasswordsReportComponent,\n        FallbackSrcDirective,\n        FolderAddEditComponent,\n        FooterComponent,\n        FrontendLayoutComponent,\n        GroupingsComponent,\n        HintComponent,\n        I18nPipe,\n        IconComponent,\n        ImportComponent,\n        InactiveTwoFactorReportComponent,\n        InputVerbatimDirective,\n        LinkSsoComponent,\n        LockComponent,\n        LoginComponent,\n        ModalComponent,\n        NavbarComponent,\n        OptionsComponent,\n        OrgAccountComponent,\n        OrgAddEditComponent,\n        OrganizationBillingComponent,\n        OrganizationPlansComponent,\n        OrganizationSubscriptionComponent,\n        OrgAttachmentsComponent,\n        OrgCiphersComponent,\n        OrgCollectionAddEditComponent,\n        OrgCollectionsComponent,\n        OrgEntityEventsComponent,\n        OrgEntityUsersComponent,\n        OrgEventsComponent,\n        OrgExportComponent,\n        OrgExposedPasswordsReportComponent,\n        OrgImportComponent,\n        OrgInactiveTwoFactorReportComponent,\n        OrgGroupAddEditComponent,\n        OrgGroupingsComponent,\n        OrgGroupsComponent,\n        OrgManageCollectionsComponent,\n        OrgManageComponent,\n        OrgPeopleComponent,\n        OrgPolicyEditComponent,\n        OrgPoliciesComponent,\n        OrgReusedPasswordsReportComponent,\n        OrgSettingComponent,\n        OrgToolsComponent,\n        OrgTwoFactorSetupComponent,\n        OrgUserAddEditComponent,\n        OrgUserConfirmComponent,\n        OrgUserGroupsComponent,\n        OrganizationsComponent,\n        OrganizationLayoutComponent,\n        OrgUnsecuredWebsitesReportComponent,\n        OrgVaultComponent,\n        OrgWeakPasswordsReportComponent,\n        PasswordGeneratorComponent,\n        PasswordGeneratorHistoryComponent,\n        PasswordStrengthComponent,\n        PaymentComponent,\n        PremiumComponent,\n        ProfileComponent,\n        PurgeVaultComponent,\n        RecoverDeleteComponent,\n        RecoverTwoFactorComponent,\n        RegisterComponent,\n        ReusedPasswordsReportComponent,\n        SearchCiphersPipe,\n        SearchPipe,\n        SelectCopyDirective,\n        SendAddEditComponent,\n        SendComponent,\n        SendInfoComponent,\n        SettingsComponent,\n        ShareComponent,\n        SsoComponent,\n        StopClickDirective,\n        StopPropDirective,\n        TaxInfoComponent,\n        ToolsComponent,\n        TrueFalseValueDirective,\n        TwoFactorAuthenticatorComponent,\n        TwoFactorComponent,\n        TwoFactorDuoComponent,\n        TwoFactorEmailComponent,\n        TwoFactorOptionsComponent,\n        TwoFactorRecoveryComponent,\n        TwoFactorSetupComponent,\n        TwoFactorVerifyComponent,\n        TwoFactorWebAuthnComponent,\n        TwoFactorYubiKeyComponent,\n        UnsecuredWebsitesReportComponent,\n        UpdateKeyComponent,\n        UpdateLicenseComponent,\n        UserBillingComponent,\n        UserLayoutComponent,\n        UserSubscriptionComponent,\n        VaultComponent,\n        VerifyEmailComponent,\n        VerifyEmailTokenComponent,\n        VerifyRecoverDeleteComponent,\n        WeakPasswordsReportComponent,\n    ],\n    entryComponents: [\n        AddEditComponent,\n        ApiKeyComponent,\n        AttachmentsComponent,\n        BulkActionsComponent,\n        BulkDeleteComponent,\n        BulkMoveComponent,\n        BulkRestoreComponent,\n        BulkShareComponent,\n        CollectionsComponent,\n        DeauthorizeSessionsComponent,\n        DeleteAccountComponent,\n        DeleteOrganizationComponent,\n        EmergencyAccessAddEditComponent,\n        EmergencyAccessAttachmentsComponent,\n        EmergencyAccessConfirmComponent,\n        EmergencyAccessTakeoverComponent,\n        EmergencyAddEditComponent,\n        FolderAddEditComponent,\n        ModalComponent,\n        OrgAddEditComponent,\n        OrgAttachmentsComponent,\n        OrgCollectionAddEditComponent,\n        OrgCollectionsComponent,\n        OrgEntityEventsComponent,\n        OrgEntityUsersComponent,\n        OrgGroupAddEditComponent,\n        OrgPolicyEditComponent,\n        OrgUserAddEditComponent,\n        OrgUserConfirmComponent,\n        OrgUserGroupsComponent,\n        PasswordGeneratorHistoryComponent,\n        PurgeVaultComponent,\n        SendAddEditComponent,\n        ShareComponent,\n        TwoFactorAuthenticatorComponent,\n        TwoFactorDuoComponent,\n        TwoFactorEmailComponent,\n        TwoFactorOptionsComponent,\n        TwoFactorRecoveryComponent,\n        TwoFactorWebAuthnComponent,\n        TwoFactorYubiKeyComponent,\n        UpdateKeyComponent,\n    ],\n    providers: [DatePipe],\n    bootstrap: [AppComponent],\n})\nexport class AppModule { }\n","import { NgModule } from '@angular/core';\nimport {\n    RouterModule,\n    Routes,\n} from '@angular/router';\n\nimport { FrontendLayoutComponent } from './layouts/frontend-layout.component';\nimport { OrganizationLayoutComponent } from './layouts/organization-layout.component';\nimport { UserLayoutComponent } from './layouts/user-layout.component';\n\nimport { AcceptEmergencyComponent } from './accounts/accept-emergency.component';\nimport { AcceptOrganizationComponent } from './accounts/accept-organization.component';\nimport { HintComponent } from './accounts/hint.component';\nimport { LockComponent } from './accounts/lock.component';\nimport { LoginComponent } from './accounts/login.component';\nimport { RecoverDeleteComponent } from './accounts/recover-delete.component';\nimport { RecoverTwoFactorComponent } from './accounts/recover-two-factor.component';\nimport { RegisterComponent } from './accounts/register.component';\nimport { SetPasswordComponent } from './accounts/set-password.component';\nimport { SsoComponent } from './accounts/sso.component';\nimport { TwoFactorComponent } from './accounts/two-factor.component';\nimport { VerifyEmailTokenComponent } from './accounts/verify-email-token.component';\nimport { VerifyRecoverDeleteComponent } from './accounts/verify-recover-delete.component';\n\nimport { CollectionsComponent as OrgManageCollectionsComponent } from './organizations/manage/collections.component';\nimport { EventsComponent as OrgEventsComponent } from './organizations/manage/events.component';\nimport { GroupsComponent as OrgGroupsComponent } from './organizations/manage/groups.component';\nimport { ManageComponent as OrgManageComponent } from './organizations/manage/manage.component';\nimport { PeopleComponent as OrgPeopleComponent } from './organizations/manage/people.component';\nimport { PoliciesComponent as OrgPoliciesComponent } from './organizations/manage/policies.component';\n\nimport { AccountComponent as OrgAccountComponent } from './organizations/settings/account.component';\nimport { OrganizationBillingComponent } from './organizations/settings/organization-billing.component';\nimport { OrganizationSubscriptionComponent } from './organizations/settings/organization-subscription.component';\nimport { SettingsComponent as OrgSettingsComponent } from './organizations/settings/settings.component';\nimport {\n    TwoFactorSetupComponent as OrgTwoFactorSetupComponent,\n} from './organizations/settings/two-factor-setup.component';\n\nimport { ExportComponent as OrgExportComponent } from './organizations/tools/export.component';\nimport {\n    ExposedPasswordsReportComponent as OrgExposedPasswordsReportComponent,\n} from './organizations/tools/exposed-passwords-report.component';\nimport { ImportComponent as OrgImportComponent } from './organizations/tools/import.component';\nimport {\n    InactiveTwoFactorReportComponent as OrgInactiveTwoFactorReportComponent,\n} from './organizations/tools/inactive-two-factor-report.component';\nimport {\n    ReusedPasswordsReportComponent as OrgReusedPasswordsReportComponent,\n} from './organizations/tools/reused-passwords-report.component';\nimport { ToolsComponent as OrgToolsComponent } from './organizations/tools/tools.component';\nimport {\n    UnsecuredWebsitesReportComponent as OrgUnsecuredWebsitesReportComponent,\n} from './organizations/tools/unsecured-websites-report.component';\nimport {\n    WeakPasswordsReportComponent as OrgWeakPasswordsReportComponent,\n} from './organizations/tools/weak-passwords-report.component';\n\nimport { VaultComponent as OrgVaultComponent } from './organizations/vault/vault.component';\n\nimport { AccessComponent } from './send/access.component';\nimport { SendComponent } from './send/send.component';\n\nimport { AccountComponent } from './settings/account.component';\nimport { CreateOrganizationComponent } from './settings/create-organization.component';\nimport { DomainRulesComponent } from './settings/domain-rules.component';\nimport { OptionsComponent } from './settings/options.component';\nimport { OrganizationsComponent } from './settings/organizations.component';\nimport { PremiumComponent } from './settings/premium.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { TwoFactorSetupComponent } from './settings/two-factor-setup.component';\nimport { UserBillingComponent } from './settings/user-billing.component';\nimport { UserSubscriptionComponent } from './settings/user-subscription.component';\n\nimport { BreachReportComponent } from './tools/breach-report.component';\nimport { ExportComponent } from './tools/export.component';\nimport { ExposedPasswordsReportComponent } from './tools/exposed-passwords-report.component';\nimport { ImportComponent } from './tools/import.component';\nimport { InactiveTwoFactorReportComponent } from './tools/inactive-two-factor-report.component';\nimport { PasswordGeneratorComponent } from './tools/password-generator.component';\nimport { ReusedPasswordsReportComponent } from './tools/reused-passwords-report.component';\nimport { ToolsComponent } from './tools/tools.component';\nimport { UnsecuredWebsitesReportComponent } from './tools/unsecured-websites-report.component';\nimport { WeakPasswordsReportComponent } from './tools/weak-passwords-report.component';\n\nimport { VaultComponent } from './vault/vault.component';\n\nimport { OrganizationGuardService } from './services/organization-guard.service';\nimport { OrganizationTypeGuardService } from './services/organization-type-guard.service';\n\nimport { AuthGuardService } from 'jslib/angular/services/auth-guard.service';\nimport { LockGuardService } from 'jslib/angular/services/lock-guard.service';\nimport { UnauthGuardService } from 'jslib/angular/services/unauth-guard.service';\n\nimport { Permissions } from 'jslib/enums/permissions';\n\nimport { EmergencyAccessViewComponent } from './settings/emergency-access-view.component';\nimport { EmergencyAccessComponent } from './settings/emergency-access.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: FrontendLayoutComponent,\n        children: [\n            { path: '', pathMatch: 'full', component: LoginComponent, canActivate: [UnauthGuardService] },\n            { path: '2fa', component: TwoFactorComponent, canActivate: [UnauthGuardService] },\n            {\n                path: 'register', component: RegisterComponent,\n                canActivate: [UnauthGuardService],\n                data: { titleId: 'createAccount' },\n            },\n            {\n                path: 'sso', component: SsoComponent,\n                canActivate: [UnauthGuardService],\n                data: { titleId: 'enterpriseSingleSignOn' },\n            },\n            {\n                path: 'set-password', component: SetPasswordComponent,\n                data: { titleId: 'setMasterPassword' },\n            },\n            {\n                path: 'hint', component: HintComponent,\n                canActivate: [UnauthGuardService],\n                data: { titleId: 'passwordHint' },\n            },\n            {\n                path: 'lock',\n                component: LockComponent,\n                canActivate: [LockGuardService],\n            },\n            { path: 'verify-email', component: VerifyEmailTokenComponent },\n            {\n                path: 'accept-organization',\n                component: AcceptOrganizationComponent,\n                data: { titleId: 'joinOrganization' },\n            },\n            {\n                path: 'accept-emergency',\n                component: AcceptEmergencyComponent,\n                data: { titleId: 'acceptEmergency' },\n            },\n            { path: 'recover', pathMatch: 'full', redirectTo: 'recover-2fa' },\n            {\n                path: 'recover-2fa',\n                component: RecoverTwoFactorComponent,\n                canActivate: [UnauthGuardService],\n                data: { titleId: 'recoverAccountTwoStep' },\n            },\n            {\n                path: 'recover-delete',\n                component: RecoverDeleteComponent,\n                canActivate: [UnauthGuardService],\n                data: { titleId: 'deleteAccount' },\n            },\n            {\n                path: 'verify-recover-delete',\n                component: VerifyRecoverDeleteComponent,\n                canActivate: [UnauthGuardService],\n                data: { titleId: 'deleteAccount' },\n            },\n            {\n                path: 'send/:sendId/:key',\n                component: AccessComponent,\n                data: { title: 'Bitwarden Send' },\n            },\n        ],\n    },\n    {\n        path: '',\n        component: UserLayoutComponent,\n        canActivate: [AuthGuardService],\n        children: [\n            { path: 'vault', component: VaultComponent, data: { titleId: 'myVault' } },\n            { path: 'sends', component: SendComponent, data: { title: 'Send' } },\n            {\n                path: 'settings',\n                component: SettingsComponent,\n                children: [\n                    { path: '', pathMatch: 'full', redirectTo: 'account' },\n                    { path: 'account', component: AccountComponent, data: { titleId: 'myAccount' } },\n                    { path: 'options', component: OptionsComponent, data: { titleId: 'options' } },\n                    { path: 'domain-rules', component: DomainRulesComponent, data: { titleId: 'domainRules' } },\n                    { path: 'two-factor', component: TwoFactorSetupComponent, data: { titleId: 'twoStepLogin' } },\n                    { path: 'premium', component: PremiumComponent, data: { titleId: 'goPremium' } },\n                    { path: 'billing', component: UserBillingComponent, data: { titleId: 'billing' } },\n                    {\n                        path: 'subscription',\n                        component: UserSubscriptionComponent,\n                        data: { titleId: 'premiumMembership' },\n                    },\n                    { path: 'organizations', component: OrganizationsComponent, data: { titleId: 'organizations' } },\n                    {\n                        path: 'create-organization',\n                        component: CreateOrganizationComponent,\n                        data: { titleId: 'newOrganization' },\n                    },\n                    {\n                        path: 'emergency-access',\n                        children: [\n                            {\n                                path: '',\n                                component: EmergencyAccessComponent,\n                                data: { titleId: 'emergencyAccess'},\n                            },\n                            {\n                                path: ':id',\n                                component: EmergencyAccessViewComponent,\n                                data: { titleId: 'emergencyAccess'},\n                            },\n                        ],\n                    },\n                ],\n            },\n            {\n                path: 'tools',\n                component: ToolsComponent,\n                canActivate: [AuthGuardService],\n                children: [\n                    { path: '', pathMatch: 'full', redirectTo: 'generator' },\n                    { path: 'import', component: ImportComponent, data: { titleId: 'importData' } },\n                    { path: 'export', component: ExportComponent, data: { titleId: 'exportVault' } },\n                    {\n                        path: 'generator',\n                        component: PasswordGeneratorComponent,\n                        data: { titleId: 'passwordGenerator' },\n                    },\n                    { path: 'breach-report', component: BreachReportComponent, data: { titleId: 'dataBreachReport' } },\n                    {\n                        path: 'reused-passwords-report',\n                        component: ReusedPasswordsReportComponent,\n                        data: { titleId: 'reusedPasswordsReport' },\n                    },\n                    {\n                        path: 'unsecured-websites-report',\n                        component: UnsecuredWebsitesReportComponent,\n                        data: { titleId: 'unsecuredWebsitesReport' },\n                    },\n                    {\n                        path: 'weak-passwords-report',\n                        component: WeakPasswordsReportComponent,\n                        data: { titleId: 'weakPasswordsReport' },\n                    },\n                    {\n                        path: 'exposed-passwords-report',\n                        component: ExposedPasswordsReportComponent,\n                        data: { titleId: 'exposedPasswordsReport' },\n                    },\n                    {\n                        path: 'inactive-two-factor-report',\n                        component: InactiveTwoFactorReportComponent,\n                        data: { titleId: 'inactive2faReport' },\n                    },\n                ],\n            },\n        ],\n    },\n    {\n        path: 'organizations/:organizationId',\n        component: OrganizationLayoutComponent,\n        canActivate: [AuthGuardService, OrganizationGuardService],\n        children: [\n            { path: '', pathMatch: 'full', redirectTo: 'vault' },\n            { path: 'vault', component: OrgVaultComponent, data: { titleId: 'vault' } },\n            {\n                path: 'tools',\n                component: OrgToolsComponent,\n                canActivate: [OrganizationTypeGuardService],\n                data: { permissions: [Permissions.AccessImportExport, Permissions.AccessReports] },\n                children: [\n                    {\n                        path: '',\n                        pathMatch: 'full',\n                        redirectTo: 'import',\n                    },\n                    {\n                        path: 'import',\n                        component: OrgImportComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'importData',\n                            permissions: [Permissions.AccessImportExport],\n                        },\n                    },\n                    {\n                        path: 'export',\n                        component: OrgExportComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'exportVault',\n                            permissions: [Permissions.AccessImportExport],\n                        },\n                    },\n                    {\n                        path: 'exposed-passwords-report',\n                        component: OrgExposedPasswordsReportComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'exposedPasswordsReport',\n                            permissions: [Permissions.AccessReports],\n                        },\n                    },\n                    {\n                        path: 'inactive-two-factor-report',\n                        component: OrgInactiveTwoFactorReportComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'inactive2faReport',\n                            permissions: [Permissions.AccessReports],\n                        },\n                    },\n                    {\n                        path: 'reused-passwords-report',\n                        component: OrgReusedPasswordsReportComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'reusedPasswordsReport',\n                            permissions: [Permissions.AccessReports],\n                        },\n                    },\n                    {\n                        path: 'unsecured-websites-report',\n                        component: OrgUnsecuredWebsitesReportComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'unsecuredWebsitesReport',\n                            permissions: [Permissions.AccessReports],\n                        },\n                    },\n                    {\n                        path: 'weak-passwords-report',\n                        component: OrgWeakPasswordsReportComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'weakPasswordsReport',\n                            permissions: [Permissions.AccessReports],\n                        },\n                    },\n                ],\n            },\n            {\n                path: 'manage',\n                component: OrgManageComponent,\n                canActivate: [OrganizationTypeGuardService],\n                data: {\n                    permissions: [\n                        Permissions.ManageAssignedCollections,\n                        Permissions.ManageAllCollections,\n                        Permissions.AccessEventLogs,\n                        Permissions.ManageGroups,\n                        Permissions.ManageUsers,\n                        Permissions.ManagePolicies,\n                    ],\n                },\n                children: [\n                    {\n                        path: '',\n                        pathMatch: 'full',\n                        redirectTo: 'people',\n                    },\n                    {\n                        path: 'collections',\n                        component: OrgManageCollectionsComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'collections',\n                            permissions: [Permissions.ManageAssignedCollections, Permissions.ManageAllCollections],\n                        },\n                    },\n                    {\n                        path: 'events',\n                        component: OrgEventsComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'eventLogs',\n                            permissions: [Permissions.AccessEventLogs],\n                        },\n                    },\n                    {\n                        path: 'groups',\n                        component: OrgGroupsComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'groups',\n                            permissions: [Permissions.ManageGroups],\n                        },\n                    },\n                    {\n                        path: 'people',\n                        component: OrgPeopleComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'people',\n                            permissions: [Permissions.ManageUsers],\n                        },\n                    },\n                    {\n                        path: 'policies',\n                        component: OrgPoliciesComponent,\n                        canActivate: [OrganizationTypeGuardService],\n                        data: {\n                            titleId: 'policies',\n                            permissions: [Permissions.ManagePolicies],\n                        },\n                    },\n                ],\n            },\n            {\n                path: 'settings',\n                component: OrgSettingsComponent,\n                canActivate: [OrganizationTypeGuardService],\n                data: { permissions: [Permissions.ManageOrganization] },\n                children: [\n                    { path: '', pathMatch: 'full', redirectTo: 'account' },\n                    { path: 'account', component: OrgAccountComponent, data: { titleId: 'myOrganization' } },\n                    { path: 'two-factor', component: OrgTwoFactorSetupComponent, data: { titleId: 'twoStepLogin' } },\n                    {\n                        path: 'billing',\n                        component: OrganizationBillingComponent,\n                        data: { titleId: 'billing' },\n                    },\n                    {\n                        path: 'subscription',\n                        component: OrganizationSubscriptionComponent,\n                        data: { titleId: 'subscription' },\n                    },\n                ],\n            },\n        ],\n    },\n    { path: '**', redirectTo: '' },\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes, {\n        useHash: true,\n        paramsInheritanceStrategy: 'always',\n        /*enableTracing: true,*/\n    })],\n    exports: [RouterModule],\n})\nexport class AppRoutingModule { }\n","import { BroadcasterService as BroadcasterServiceAbstraction } from '../abstractions/broadcaster.service';\n\nexport class BroadcasterService implements BroadcasterServiceAbstraction {\n    subscribers: Map<string, (message: any) => any> = new Map<string, (message: any) => any>();\n\n    send(message: any, id?: string) {\n        if (id != null) {\n            if (this.subscribers.has(id)) {\n                this.subscribers.get(id)(message);\n            }\n            return;\n        }\n\n        this.subscribers.forEach(value => {\n            value(message);\n        });\n    }\n\n    subscribe(id: string, messageCallback: (message: any) => any) {\n        this.subscribers.set(id, messageCallback);\n    }\n\n    unsubscribe(id: string) {\n        if (this.subscribers.has(id)) {\n            this.subscribers.delete(id);\n        }\n    }\n}\n","export function getDomain(host: string): string | null {\n    return null;\n}\n","export class EmergencyAccessAcceptRequest {\n    token: string;\n}\n","export class OrganizationUserAcceptRequest {\n    token: string;\n}\n","import { Router } from '@angular/router';\n\nimport { PasswordHintRequest } from '../../models/request/passwordHintRequest';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nexport class HintComponent {\n    email: string = '';\n    formPromise: Promise<any>;\n\n    protected successRoute = 'login';\n    protected onSuccessfulSubmit: () => void;\n\n    constructor(protected router: Router, protected i18nService: I18nService,\n        protected apiService: ApiService, protected platformUtilsService: PlatformUtilsService) { }\n\n    async submit() {\n        if (this.email == null || this.email === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('emailRequired'));\n            return;\n        }\n        if (this.email.indexOf('@') === -1) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidEmail'));\n            return;\n        }\n\n        try {\n            this.formPromise = this.apiService.postPasswordHint(new PasswordHintRequest(this.email));\n            await this.formPromise;\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('masterPassSent'));\n            if (this.onSuccessfulSubmit != null) {\n                this.onSuccessfulSubmit();\n            } else if (this.router != null) {\n                this.router.navigate([this.successRoute]);\n            }\n        } catch { }\n    }\n}\n","export class PasswordHintRequest {\n    email: string;\n\n    constructor(email: string) {\n        this.email = email;\n    }\n}\n","import { OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { EnvironmentService } from '../../abstractions/environment.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { MessagingService } from '../../abstractions/messaging.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { StateService } from '../../abstractions/state.service';\nimport { StorageService } from '../../abstractions/storage.service';\nimport { UserService } from '../../abstractions/user.service';\nimport { VaultTimeoutService } from '../../abstractions/vaultTimeout.service';\n\nimport { ConstantsService } from '../../services/constants.service';\n\nimport { EncString } from '../../models/domain/encString';\nimport { SymmetricCryptoKey } from '../../models/domain/symmetricCryptoKey';\n\nimport { PasswordVerificationRequest } from '../../models/request/passwordVerificationRequest';\n\nimport { Utils } from '../../misc/utils';\n\nexport class LockComponent implements OnInit {\n    masterPassword: string = '';\n    pin: string = '';\n    showPassword: boolean = false;\n    email: string;\n    pinLock: boolean = false;\n    webVaultHostname: string = '';\n    formPromise: Promise<any>;\n    supportsBiometric: boolean;\n    biometricLock: boolean;\n    biometricText: string;\n\n    protected successRoute: string = 'vault';\n    protected onSuccessfulSubmit: () => void;\n\n    private invalidPinAttempts = 0;\n    private pinSet: [boolean, boolean];\n\n    constructor(protected router: Router, protected i18nService: I18nService,\n        protected platformUtilsService: PlatformUtilsService, protected messagingService: MessagingService,\n        protected userService: UserService, protected cryptoService: CryptoService,\n        protected storageService: StorageService, protected vaultTimeoutService: VaultTimeoutService,\n        protected environmentService: EnvironmentService, protected stateService: StateService,\n        protected apiService: ApiService) { }\n\n    async ngOnInit() {\n        this.pinSet = await this.vaultTimeoutService.isPinLockSet();\n        this.pinLock = (this.pinSet[0] && this.vaultTimeoutService.pinProtectedKey != null) || this.pinSet[1];\n        this.supportsBiometric = await this.platformUtilsService.supportsBiometric();\n        this.biometricLock = await this.vaultTimeoutService.isBiometricLockSet() && (await this.cryptoService.hasKey() || !this.platformUtilsService.supportsSecureStorage());\n        this.biometricText = await this.storageService.get(ConstantsService.biometricText);\n        this.email = await this.userService.getEmail();\n        let vaultUrl = this.environmentService.getWebVaultUrl();\n        if (vaultUrl == null) {\n            vaultUrl = 'https://bitwarden.com';\n        }\n        this.webVaultHostname = Utils.getHostname(vaultUrl);\n    }\n\n    async submit() {\n        if (this.pinLock && (this.pin == null || this.pin === '')) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('pinRequired'));\n            return;\n        }\n        if (!this.pinLock && (this.masterPassword == null || this.masterPassword === '')) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        const kdf = await this.userService.getKdf();\n        const kdfIterations = await this.userService.getKdfIterations();\n\n        if (this.pinLock) {\n            let failed = true;\n            try {\n                if (this.pinSet[0]) {\n                    const key = await this.cryptoService.makeKeyFromPin(this.pin, this.email, kdf, kdfIterations,\n                        this.vaultTimeoutService.pinProtectedKey);\n                    const encKey = await this.cryptoService.getEncKey(key);\n                    const protectedPin = await this.storageService.get<string>(ConstantsService.protectedPin);\n                    const decPin = await this.cryptoService.decryptToUtf8(new EncString(protectedPin), encKey);\n                    failed = decPin !== this.pin;\n                    if (!failed) {\n                        await this.setKeyAndContinue(key);\n                    }\n                } else {\n                    const key = await this.cryptoService.makeKeyFromPin(this.pin, this.email, kdf, kdfIterations);\n                    failed = false;\n                    await this.setKeyAndContinue(key);\n                }\n            } catch {\n                failed = true;\n            }\n\n            if (failed) {\n                this.invalidPinAttempts++;\n                if (this.invalidPinAttempts >= 5) {\n                    this.messagingService.send('logout');\n                    return;\n                }\n                this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                    this.i18nService.t('invalidPin'));\n            }\n        } else {\n            const key = await this.cryptoService.makeKey(this.masterPassword, this.email, kdf, kdfIterations);\n            const keyHash = await this.cryptoService.hashPassword(this.masterPassword, key);\n\n            let passwordValid = false;\n\n            if (keyHash != null) {\n                const storedKeyHash = await this.cryptoService.getKeyHash();\n                if (storedKeyHash != null) {\n                    passwordValid = storedKeyHash === keyHash;\n                } else {\n                    const request = new PasswordVerificationRequest();\n                    request.masterPasswordHash = keyHash;\n                    try {\n                        this.formPromise = this.apiService.postAccountVerifyPassword(request);\n                        await this.formPromise;\n                        passwordValid = true;\n                        await this.cryptoService.setKeyHash(keyHash);\n                    } catch { }\n                }\n            }\n\n            if (passwordValid) {\n                if (this.pinSet[0]) {\n                    const protectedPin = await this.storageService.get<string>(ConstantsService.protectedPin);\n                    const encKey = await this.cryptoService.getEncKey(key);\n                    const decPin = await this.cryptoService.decryptToUtf8(new EncString(protectedPin), encKey);\n                    const pinKey = await this.cryptoService.makePinKey(decPin, this.email, kdf, kdfIterations);\n                    this.vaultTimeoutService.pinProtectedKey = await this.cryptoService.encrypt(key.key, pinKey);\n                }\n                this.setKeyAndContinue(key);\n            } else {\n                this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                    this.i18nService.t('invalidMasterPassword'));\n            }\n        }\n    }\n\n    async logOut() {\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('logOutConfirmation'),\n            this.i18nService.t('logOut'), this.i18nService.t('logOut'), this.i18nService.t('cancel'));\n        if (confirmed) {\n            this.messagingService.send('logout');\n        }\n    }\n\n    async unlockBiometric() {\n        if (!this.biometricLock) {\n            return;\n        }\n        const success = await this.platformUtilsService.authenticateBiometric();\n\n        if (success) {\n            await this.doContinue();\n        }\n    }\n\n    togglePassword() {\n        this.showPassword = !this.showPassword;\n        document.getElementById(this.pinLock ? 'pin' : 'masterPassword').focus();\n    }\n\n    private async setKeyAndContinue(key: SymmetricCryptoKey) {\n        await this.cryptoService.setKey(key);\n        this.doContinue();\n    }\n\n    private async doContinue() {\n        this.vaultTimeoutService.biometricLocked = false;\n        const disableFavicon = await this.storageService.get<boolean>(ConstantsService.disableFaviconKey);\n        await this.stateService.save(ConstantsService.disableFaviconKey, !!disableFavicon);\n        this.messagingService.send('unlocked');\n        if (this.onSuccessfulSubmit != null) {\n            this.onSuccessfulSubmit();\n        } else if (this.router != null) {\n            this.router.navigate([this.successRoute]);\n        }\n    }\n}\n","import {\n    Directive,\n    Input,\n    OnInit,\n} from '@angular/core';\n\nimport { Router } from '@angular/router';\n\nimport { AuthResult } from '../../models/domain/authResult';\n\nimport { AuthService } from '../../abstractions/auth.service';\nimport { CryptoFunctionService } from '../../abstractions/cryptoFunction.service';\nimport { EnvironmentService } from '../../abstractions/environment.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PasswordGenerationService } from '../../abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { StateService } from '../../abstractions/state.service';\nimport { StorageService } from '../../abstractions/storage.service';\n\nimport { ConstantsService } from '../../services/constants.service';\n\nimport { Utils } from '../../misc/utils';\n\nconst Keys = {\n    rememberedEmail: 'rememberedEmail',\n    rememberEmail: 'rememberEmail',\n};\n\n@Directive()\nexport class LoginComponent implements OnInit {\n    @Input() email: string = '';\n    @Input() rememberEmail = true;\n\n    masterPassword: string = '';\n    showPassword: boolean = false;\n    formPromise: Promise<AuthResult>;\n    onSuccessfulLogin: () => Promise<any>;\n    onSuccessfulLoginNavigate: () => Promise<any>;\n    onSuccessfulLoginTwoFactorNavigate: () => Promise<any>;\n\n    protected twoFactorRoute = '2fa';\n    protected successRoute = 'vault';\n\n    constructor(protected authService: AuthService, protected router: Router,\n        protected platformUtilsService: PlatformUtilsService, protected i18nService: I18nService,\n        protected stateService: StateService, protected environmentService: EnvironmentService,\n        protected passwordGenerationService: PasswordGenerationService,\n        protected cryptoFunctionService: CryptoFunctionService, private storageService: StorageService) { }\n\n    async ngOnInit() {\n        if (this.email == null || this.email === '') {\n            this.email = await this.storageService.get<string>(Keys.rememberedEmail);\n            if (this.email == null) {\n                this.email = '';\n            }\n        }\n        this.rememberEmail = await this.storageService.get<boolean>(Keys.rememberEmail);\n        if (this.rememberEmail == null) {\n            this.rememberEmail = true;\n        }\n        if (Utils.isBrowser) {\n            document.getElementById(this.email == null || this.email === '' ? 'email' : 'masterPassword').focus();\n        }\n    }\n\n    async submit() {\n        if (this.email == null || this.email === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('emailRequired'));\n            return;\n        }\n        if (this.email.indexOf('@') === -1) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidEmail'));\n            return;\n        }\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        try {\n            this.formPromise = this.authService.logIn(this.email, this.masterPassword);\n            const response = await this.formPromise;\n            await this.storageService.save(Keys.rememberEmail, this.rememberEmail);\n            if (this.rememberEmail) {\n                await this.storageService.save(Keys.rememberedEmail, this.email);\n            } else {\n                await this.storageService.remove(Keys.rememberedEmail);\n            }\n            if (response.twoFactor) {\n                if (this.onSuccessfulLoginTwoFactorNavigate != null) {\n                    this.onSuccessfulLoginTwoFactorNavigate();\n                } else {\n                    this.router.navigate([this.twoFactorRoute]);\n                }\n            } else {\n                const disableFavicon = await this.storageService.get<boolean>(ConstantsService.disableFaviconKey);\n                await this.stateService.save(ConstantsService.disableFaviconKey, !!disableFavicon);\n                if (this.onSuccessfulLogin != null) {\n                    this.onSuccessfulLogin();\n                }\n                if (this.onSuccessfulLoginNavigate != null) {\n                    this.onSuccessfulLoginNavigate();\n                } else {\n                    this.router.navigate([this.successRoute]);\n                }\n            }\n        } catch { }\n    }\n\n    togglePassword() {\n        this.showPassword = !this.showPassword;\n        document.getElementById('masterPassword').focus();\n    }\n\n    async launchSsoBrowser(clientId: string, ssoRedirectUri: string) {\n        // Generate necessary sso params\n        const passwordOptions: any = {\n            type: 'password',\n            length: 64,\n            uppercase: true,\n            lowercase: true,\n            numbers: true,\n            special: false,\n        };\n        const state = await this.passwordGenerationService.generatePassword(passwordOptions);\n        const ssoCodeVerifier = await this.passwordGenerationService.generatePassword(passwordOptions);\n        const codeVerifierHash = await this.cryptoFunctionService.hash(ssoCodeVerifier, 'sha256');\n        const codeChallenge = Utils.fromBufferToUrlB64(codeVerifierHash);\n\n        // Save sso params\n        await this.storageService.save(ConstantsService.ssoStateKey, state);\n        await this.storageService.save(ConstantsService.ssoCodeVerifierKey, ssoCodeVerifier);\n\n        // Build URI\n        const webUrl = this.environmentService.getWebVaultUrl() == null ? 'https://vault.bitwarden.com' :\n            this.environmentService.getWebVaultUrl();\n\n        // Launch browser\n        this.platformUtilsService.launchUri(webUrl + '/#/sso?clientId=' + clientId +\n            '&redirectUri=' + encodeURIComponent(ssoRedirectUri) +\n            '&state=' + state + '&codeChallenge=' + codeChallenge);\n    }\n}\n","export class DeleteRecoverRequest {\n    email: string;\n}\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class TwoFactorRecoveryRequest extends PasswordVerificationRequest {\n    recoveryCode: string;\n    email: string;\n}\n","import { Router } from '@angular/router';\n\nimport { KeysRequest } from '../../models/request/keysRequest';\nimport { ReferenceEventRequest } from '../../models/request/referenceEventRequest';\nimport { RegisterRequest } from '../../models/request/registerRequest';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { AuthService } from '../../abstractions/auth.service';\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PasswordGenerationService } from '../../abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { StateService } from '../../abstractions/state.service';\n\nimport { KdfType } from '../../enums/kdfType';\n\nexport class RegisterComponent {\n    name: string = '';\n    email: string = '';\n    masterPassword: string = '';\n    confirmMasterPassword: string = '';\n    hint: string = '';\n    showPassword: boolean = false;\n    formPromise: Promise<any>;\n    masterPasswordScore: number;\n    referenceData: ReferenceEventRequest;\n    showTerms = true;\n    acceptPolicies: boolean = false;\n\n    protected successRoute = 'login';\n    private masterPasswordStrengthTimeout: any;\n\n    constructor(protected authService: AuthService, protected router: Router,\n        protected i18nService: I18nService, protected cryptoService: CryptoService,\n        protected apiService: ApiService, protected stateService: StateService,\n        protected platformUtilsService: PlatformUtilsService,\n        protected passwordGenerationService: PasswordGenerationService) {\n        this.showTerms = !platformUtilsService.isSelfHost();\n    }\n\n    get masterPasswordScoreWidth() {\n        return this.masterPasswordScore == null ? 0 : (this.masterPasswordScore + 1) * 20;\n    }\n\n    get masterPasswordScoreColor() {\n        switch (this.masterPasswordScore) {\n            case 4:\n                return 'success';\n            case 3:\n                return 'primary';\n            case 2:\n                return 'warning';\n            default:\n                return 'danger';\n        }\n    }\n\n    get masterPasswordScoreText() {\n        switch (this.masterPasswordScore) {\n            case 4:\n                return this.i18nService.t('strong');\n            case 3:\n                return this.i18nService.t('good');\n            case 2:\n                return this.i18nService.t('weak');\n            default:\n                return this.masterPasswordScore != null ? this.i18nService.t('weak') : null;\n        }\n    }\n\n    async submit() {\n        if (!this.acceptPolicies && this.showTerms) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('acceptPoliciesError'));\n            return;\n        }\n\n        if (this.email == null || this.email === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('emailRequired'));\n            return;\n        }\n        if (this.email.indexOf('@') === -1) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidEmail'));\n            return;\n        }\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n        if (this.masterPassword.length < 8) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassLength'));\n            return;\n        }\n        if (this.masterPassword !== this.confirmMasterPassword) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassDoesntMatch'));\n            return;\n        }\n\n        const strengthResult = this.passwordGenerationService.passwordStrength(this.masterPassword,\n            this.getPasswordStrengthUserInput());\n        if (strengthResult != null && strengthResult.score < 3) {\n            const result = await this.platformUtilsService.showDialog(this.i18nService.t('weakMasterPasswordDesc'),\n                this.i18nService.t('weakMasterPassword'), this.i18nService.t('yes'), this.i18nService.t('no'),\n                'warning');\n            if (!result) {\n                return;\n            }\n        }\n\n        if (this.hint === this.masterPassword) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'), this.i18nService.t('hintEqualsPassword'));\n            return;\n        }\n\n        this.name = this.name === '' ? null : this.name;\n        this.email = this.email.trim().toLowerCase();\n        const kdf = KdfType.PBKDF2_SHA256;\n        const useLowerKdf = this.platformUtilsService.isIE();\n        const kdfIterations = useLowerKdf ? 10000 : 100000;\n        const key = await this.cryptoService.makeKey(this.masterPassword, this.email, kdf, kdfIterations);\n        const encKey = await this.cryptoService.makeEncKey(key);\n        const hashedPassword = await this.cryptoService.hashPassword(this.masterPassword, key);\n        const keys = await this.cryptoService.makeKeyPair(encKey[0]);\n        const request = new RegisterRequest(this.email, this.name, hashedPassword,\n            this.hint, encKey[1].encryptedString, kdf, kdfIterations, this.referenceData);\n        request.keys = new KeysRequest(keys[0], keys[1].encryptedString);\n        const orgInvite = await this.stateService.get<any>('orgInvitation');\n        if (orgInvite != null && orgInvite.token != null && orgInvite.organizationUserId != null) {\n            request.token = orgInvite.token;\n            request.organizationUserId = orgInvite.organizationUserId;\n        }\n\n        try {\n            this.formPromise = this.apiService.postRegister(request);\n            await this.formPromise;\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('newAccountCreated'));\n            this.router.navigate([this.successRoute], { queryParams: { email: this.email } });\n        } catch { }\n    }\n\n    togglePassword(confirmField: boolean) {\n        this.showPassword = !this.showPassword;\n        document.getElementById(confirmField ? 'masterPasswordRetype' : 'masterPassword').focus();\n    }\n\n    updatePasswordStrength() {\n        if (this.masterPasswordStrengthTimeout != null) {\n            clearTimeout(this.masterPasswordStrengthTimeout);\n        }\n        this.masterPasswordStrengthTimeout = setTimeout(() => {\n            const strengthResult = this.passwordGenerationService.passwordStrength(this.masterPassword,\n                this.getPasswordStrengthUserInput());\n            this.masterPasswordScore = strengthResult == null ? null : strengthResult.score;\n        }, 300);\n    }\n\n    private getPasswordStrengthUserInput() {\n        let userInput: string[] = [];\n        const atPosition = this.email.indexOf('@');\n        if (atPosition > -1) {\n            userInput = userInput.concat(this.email.substr(0, atPosition).trim().toLowerCase().split(/[^A-Za-z0-9]/));\n        }\n        if (this.name != null && this.name !== '') {\n            userInput = userInput.concat(this.name.trim().toLowerCase().split(' '));\n        }\n        return userInput;\n    }\n}\n","import { KeysRequest } from './keysRequest';\nimport { ReferenceEventRequest } from './referenceEventRequest';\n\nimport { KdfType } from '../../enums/kdfType';\n\nexport class RegisterRequest {\n    name: string;\n    email: string;\n    masterPasswordHash: string;\n    masterPasswordHint: string;\n    key: string;\n    keys: KeysRequest;\n    token: string;\n    organizationUserId: string;\n    kdf: KdfType;\n    kdfIterations: number;\n    referenceData: ReferenceEventRequest;\n\n    constructor(email: string, name: string, masterPasswordHash: string, masterPasswordHint: string, key: string,\n        kdf: KdfType, kdfIterations: number, referenceData: ReferenceEventRequest) {\n        this.name = name;\n        this.email = email;\n        this.masterPasswordHash = masterPasswordHash;\n        this.masterPasswordHint = masterPasswordHint ? masterPasswordHint : null;\n        this.key = key;\n        this.kdf = kdf;\n        this.kdfIterations = kdfIterations;\n        this.referenceData = referenceData;\n    }\n}\n","export class ReferenceEventRequest {\n    id: string;\n    layout: string;\n    flow: string;\n}\n","import {\n    ActivatedRoute,\n    Router\n} from '@angular/router';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { MessagingService } from '../../abstractions/messaging.service';\nimport { PasswordGenerationService } from '../../abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { PolicyService } from '../../abstractions/policy.service';\nimport { SyncService } from '../../abstractions/sync.service';\nimport { UserService } from '../../abstractions/user.service';\n\nimport { EncString } from '../../models/domain/encString';\nimport { SymmetricCryptoKey } from '../../models/domain/symmetricCryptoKey';\n\nimport { KeysRequest } from '../../models/request/keysRequest';\nimport { SetPasswordRequest } from '../../models/request/setPasswordRequest';\n\nimport { ChangePasswordComponent as BaseChangePasswordComponent } from './change-password.component';\n\nimport { KdfType } from '../../enums/kdfType';\n\nexport class SetPasswordComponent extends BaseChangePasswordComponent {\n    syncLoading: boolean = true;\n    showPassword: boolean = false;\n    hint: string = '';\n    identifier: string = null;\n\n    onSuccessfulChangePassword: () => Promise<any>;\n    successRoute = 'vault';\n\n    constructor(i18nService: I18nService, cryptoService: CryptoService, messagingService: MessagingService,\n        userService: UserService, passwordGenerationService: PasswordGenerationService,\n        platformUtilsService: PlatformUtilsService, policyService: PolicyService, private router: Router,\n        private apiService: ApiService, private syncService: SyncService, private route: ActivatedRoute) {\n        super(i18nService, cryptoService, messagingService, userService, passwordGenerationService,\n            platformUtilsService, policyService);\n    }\n\n    async ngOnInit() {\n        await this.syncService.fullSync(true);\n        this.syncLoading = false;\n\n        const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n            if (qParams.identifier != null) {\n                this.identifier = qParams.identifier;\n            }\n\n            if (queryParamsSub != null) {\n                queryParamsSub.unsubscribe();\n            }\n        });\n\n        super.ngOnInit();\n    }\n\n    async setupSubmitActions() {\n        this.kdf = KdfType.PBKDF2_SHA256;\n        const useLowerKdf = this.platformUtilsService.isIE();\n        this.kdfIterations = useLowerKdf ? 10000 : 100000;\n        return true;\n    }\n\n    async performSubmitActions(masterPasswordHash: string, key: SymmetricCryptoKey,\n        encKey: [SymmetricCryptoKey, EncString]) {\n        const request = new SetPasswordRequest();\n        request.masterPasswordHash = masterPasswordHash;\n        request.key = encKey[1].encryptedString;\n        request.masterPasswordHint = this.hint;\n        request.kdf = this.kdf;\n        request.kdfIterations = this.kdfIterations;\n        request.orgIdentifier = this.identifier;\n\n        const keys = await this.cryptoService.makeKeyPair(encKey[0]);\n        request.keys = new KeysRequest(keys[0], keys[1].encryptedString);\n\n        try {\n            this.formPromise = this.apiService.setPassword(request);\n            await this.formPromise;\n\n            await this.userService.setInformation(await this.userService.getUserId(), await this.userService.getEmail(),\n                this.kdf, this.kdfIterations);\n            await this.cryptoService.setKey(key);\n            await this.cryptoService.setKeyHash(masterPasswordHash);\n            await this.cryptoService.setEncKey(encKey[1].encryptedString);\n            await this.cryptoService.setEncPrivateKey(keys[1].encryptedString);\n\n            if (this.onSuccessfulChangePassword != null) {\n                this.onSuccessfulChangePassword();\n            } else {\n                this.router.navigate([this.successRoute]);\n            }\n        } catch {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n        }\n    }\n\n    togglePassword(confirmField: boolean) {\n        this.showPassword = !this.showPassword;\n        document.getElementById(confirmField ? 'masterPasswordRetype' : 'masterPassword').focus();\n    }\n}\n","import { KeysRequest } from './keysRequest';\n\nimport { KdfType } from '../../enums/kdfType';\n\nexport class SetPasswordRequest {\n    masterPasswordHash: string;\n    key: string;\n    masterPasswordHint: string;\n    keys: KeysRequest;\n    kdf: KdfType;\n    kdfIterations: number;\n    orgIdentifier: string;\n}\n","import {\n    Directive,\n    EventEmitter,\n    OnInit,\n    Output,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nimport { AuthService } from '../../abstractions/auth.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\n@Directive()\nexport class TwoFactorOptionsComponent implements OnInit {\n    @Output() onProviderSelected = new EventEmitter<TwoFactorProviderType>();\n    @Output() onRecoverSelected = new EventEmitter();\n\n    providers: any[] = [];\n\n    constructor(protected authService: AuthService, protected router: Router,\n        protected i18nService: I18nService, protected platformUtilsService: PlatformUtilsService,\n        protected win: Window) { }\n\n    ngOnInit() {\n        this.providers = this.authService.getSupportedTwoFactorProviders(this.win);\n    }\n\n    choose(p: any) {\n        this.onProviderSelected.emit(p.type);\n    }\n\n    recover() {\n        this.platformUtilsService.launchUri('https://help.bitwarden.com/article/lost-two-step-device/');\n        this.onRecoverSelected.emit();\n    }\n}\n","import {\n    Component,\n    ComponentFactoryResolver,\n    EventEmitter,\n    OnDestroy,\n    Output,\n    Type,\n    ViewChild,\n    ViewContainerRef,\n} from '@angular/core';\n\nimport { MessagingService } from '../../abstractions/messaging.service';\n\n@Component({\n    selector: 'app-modal',\n    template: `<ng-template #container></ng-template>`,\n})\nexport class ModalComponent implements OnDestroy {\n    @Output() onClose = new EventEmitter();\n    @Output() onClosed = new EventEmitter();\n    @Output() onShow = new EventEmitter();\n    @Output() onShown = new EventEmitter();\n    @ViewChild('container', { read: ViewContainerRef, static: true }) container: ViewContainerRef;\n    parentContainer: ViewContainerRef = null;\n    fade: boolean = true;\n\n    constructor(protected componentFactoryResolver: ComponentFactoryResolver,\n        protected messagingService: MessagingService) { }\n\n    ngOnDestroy() {\n        document.body.classList.remove('modal-open');\n        document.body.removeChild(document.querySelector('.modal-backdrop'));\n    }\n\n    show<T>(type: Type<T>, parentContainer: ViewContainerRef, fade: boolean = true,\n        setComponentParameters: (component: T) => void = null): T {\n        this.onShow.emit();\n        this.messagingService.send('modalShow');\n        this.parentContainer = parentContainer;\n        this.fade = fade;\n\n        document.body.classList.add('modal-open');\n        const backdrop = document.createElement('div');\n        backdrop.className = 'modal-backdrop' + (this.fade ? ' fade' : '');\n        document.body.appendChild(backdrop);\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory<T>(type);\n        const componentRef = this.container.createComponent<T>(factory);\n        if (setComponentParameters != null) {\n            setComponentParameters(componentRef.instance);\n        }\n\n        document.querySelector('.modal-dialog').addEventListener('click', (e: Event) => {\n            e.stopPropagation();\n        });\n\n        const modals = Array.from(document.querySelectorAll('.modal, .modal *[data-dismiss=\"modal\"]'));\n        for (const closeElement of modals) {\n            closeElement.addEventListener('click', event => {\n                this.close();\n            });\n        }\n\n        this.onShown.emit();\n        this.messagingService.send('modalShown');\n        return componentRef.instance;\n    }\n\n    close() {\n        this.onClose.emit();\n        this.messagingService.send('modalClose');\n        this.onClosed.emit();\n        this.messagingService.send('modalClosed');\n        if (this.parentContainer != null) {\n            this.parentContainer.clear();\n        }\n    }\n}\n","import {\n    OnDestroy,\n    OnInit,\n} from '@angular/core';\n\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nimport { TwoFactorEmailRequest } from '../../models/request/twoFactorEmailRequest';\n\nimport { AuthResult } from '../../models/domain';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { AuthService } from '../../abstractions/auth.service';\nimport { EnvironmentService } from '../../abstractions/environment.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { StateService } from '../../abstractions/state.service';\nimport { StorageService } from '../../abstractions/storage.service';\n\nimport { TwoFactorProviders } from '../../services/auth.service';\nimport { ConstantsService } from '../../services/constants.service';\n\nimport * as DuoWebSDK from 'duo_web_sdk';\nimport { WebAuthn } from '../../misc/webauthn';\n\nexport class TwoFactorComponent implements OnInit, OnDestroy {\n    token: string = '';\n    remember: boolean = false;\n    webAuthnReady: boolean = false;\n    webAuthnNewTab: boolean = false;\n    providers = TwoFactorProviders;\n    providerType = TwoFactorProviderType;\n    selectedProviderType: TwoFactorProviderType = TwoFactorProviderType.Authenticator;\n    webAuthnSupported: boolean = false;\n    webAuthn: WebAuthn = null;\n    title: string = '';\n    twoFactorEmail: string = null;\n    formPromise: Promise<any>;\n    emailPromise: Promise<any>;\n    identifier: string = null;\n    onSuccessfulLogin: () => Promise<any>;\n    onSuccessfulLoginNavigate: () => Promise<any>;\n\n    protected loginRoute = 'login';\n    protected successRoute = 'vault';\n\n    constructor(protected authService: AuthService, protected router: Router,\n        protected i18nService: I18nService, protected apiService: ApiService,\n        protected platformUtilsService: PlatformUtilsService, protected win: Window,\n        protected environmentService: EnvironmentService, protected stateService: StateService,\n        protected storageService: StorageService, protected route: ActivatedRoute) {\n        this.webAuthnSupported = this.platformUtilsService.supportsWebAuthn(win);\n    }\n\n    async ngOnInit() {\n        if (!this.authing || this.authService.twoFactorProvidersData == null) {\n            this.router.navigate([this.loginRoute]);\n            return;\n        }\n\n        const queryParamsSub = this.route.queryParams.subscribe(async qParams => {\n            if (qParams.identifier != null) {\n                this.identifier = qParams.identifier;\n            }\n\n            if (queryParamsSub != null) {\n                queryParamsSub.unsubscribe();\n            }\n        });\n\n        if (this.needsLock) {\n            this.successRoute = 'lock';\n        }\n\n        if (this.win != null && this.webAuthnSupported) {\n            let webVaultUrl = this.environmentService.getWebVaultUrl();\n            if (webVaultUrl == null) {\n                webVaultUrl = 'https://vault.bitwarden.com';\n            }\n            this.webAuthn = new WebAuthn(this.win, webVaultUrl, this.webAuthnNewTab, this.platformUtilsService,\n                this.i18nService, (token: string) => {\n                    this.token = token;\n                    this.submit();\n                }, (error: string) => {\n                    this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'), error);\n                }, (info: string) => {\n                    if (info === 'ready') {\n                        this.webAuthnReady = true;\n                    }\n                }\n            );\n        }\n\n        this.selectedProviderType = this.authService.getDefaultTwoFactorProvider(this.webAuthnSupported);\n        await this.init();\n    }\n\n    ngOnDestroy(): void {\n        this.cleanupWebAuthn();\n        this.webAuthn = null;\n    }\n\n    async init() {\n        if (this.selectedProviderType == null) {\n            this.title = this.i18nService.t('loginUnavailable');\n            return;\n        }\n\n        this.cleanupWebAuthn();\n        this.title = (TwoFactorProviders as any)[this.selectedProviderType].name;\n        const providerData = this.authService.twoFactorProvidersData.get(this.selectedProviderType);\n        switch (this.selectedProviderType) {\n            case TwoFactorProviderType.WebAuthn:\n                if (!this.webAuthnSupported || this.webAuthn == null) {\n                    break;\n                }\n\n                setTimeout(() => {\n                    this.webAuthn.init(providerData);\n                }, 500);\n                break;\n            case TwoFactorProviderType.Duo:\n            case TwoFactorProviderType.OrganizationDuo:\n                setTimeout(() => {\n                    DuoWebSDK.init({\n                        iframe: undefined,\n                        host: providerData.Host,\n                        sig_request: providerData.Signature,\n                        submit_callback: async (f: HTMLFormElement) => {\n                            const sig = f.querySelector('input[name=\"sig_response\"]') as HTMLInputElement;\n                            if (sig != null) {\n                                this.token = sig.value;\n                                await this.submit();\n                            }\n                        },\n                    });\n                }, 0);\n                break;\n            case TwoFactorProviderType.Email:\n                this.twoFactorEmail = providerData.Email;\n                if (this.authService.twoFactorProvidersData.size > 1) {\n                    await this.sendEmail(false);\n                }\n                break;\n            default:\n                break;\n        }\n    }\n\n    async submit() {\n        if (this.token == null || this.token === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('verificationCodeRequired'));\n            return;\n        }\n\n        if (this.selectedProviderType === TwoFactorProviderType.WebAuthn) {\n            if (this.webAuthn != null) {\n                this.webAuthn.stop();\n            } else {\n                return;\n            }\n        } else if (this.selectedProviderType === TwoFactorProviderType.Email ||\n            this.selectedProviderType === TwoFactorProviderType.Authenticator) {\n            this.token = this.token.replace(' ', '').trim();\n        }\n\n        try {\n            await this.doSubmit();\n        } catch {\n            if (this.selectedProviderType === TwoFactorProviderType.WebAuthn && this.webAuthn != null) {\n                this.webAuthn.start();\n            }\n        }\n    }\n\n    async doSubmit() {\n        this.formPromise = this.authService.logInTwoFactor(this.selectedProviderType, this.token, this.remember);\n        const response: AuthResult = await this.formPromise;\n        const disableFavicon = await this.storageService.get<boolean>(ConstantsService.disableFaviconKey);\n        await this.stateService.save(ConstantsService.disableFaviconKey, !!disableFavicon);\n        if (this.onSuccessfulLogin != null) {\n            this.onSuccessfulLogin();\n        }\n        if (response.resetMasterPassword) {\n            this.successRoute = 'set-password';\n        }\n        if (this.onSuccessfulLoginNavigate != null) {\n            this.onSuccessfulLoginNavigate();\n        } else {\n            this.router.navigate([this.successRoute], {\n                queryParams: {\n                    identifier: this.identifier,\n                },\n            });\n        }\n    }\n\n    async sendEmail(doToast: boolean) {\n        if (this.selectedProviderType !== TwoFactorProviderType.Email) {\n            return;\n        }\n\n        if (this.emailPromise != null) {\n            return;\n        }\n\n        try {\n            const request = new TwoFactorEmailRequest(this.authService.email, this.authService.masterPasswordHash);\n            this.emailPromise = this.apiService.postTwoFactorEmail(request);\n            await this.emailPromise;\n            if (doToast) {\n                this.platformUtilsService.showToast('success', null,\n                    this.i18nService.t('verificationCodeEmailSent', this.twoFactorEmail));\n            }\n        } catch { }\n\n        this.emailPromise = null;\n    }\n\n    private cleanupWebAuthn() {\n        if (this.webAuthn != null) {\n            this.webAuthn.stop();\n            this.webAuthn.cleanup();\n        }\n    }\n\n    get authing(): boolean {\n        return this.authService.authingWithPassword() || this.authService.authingWithSso() || this.authService.authingWithApiKey();\n    }\n\n    get needsLock(): boolean {\n        return this.authService.authingWithSso() || this.authService.authingWithApiKey();\n    }\n}\n","import { DeviceType } from '../../enums/deviceType';\n\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nexport class DeviceRequest {\n    type: DeviceType;\n    name: string;\n    identifier: string;\n    pushToken?: string;\n\n    constructor(appId: string, platformUtilsService: PlatformUtilsService) {\n        this.type = platformUtilsService.getDevice();\n        this.name = platformUtilsService.getDeviceString();\n        this.identifier = appId;\n        this.pushToken = null;\n    }\n}\n","export class PreloginRequest {\n    email: string;\n\n    constructor(email: string) {\n        this.email = email;\n    }\n}\n","import { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nimport { DeviceRequest } from './deviceRequest';\n\nexport class TokenRequest {\n    email: string;\n    masterPasswordHash: string;\n    code: string;\n    codeVerifier: string;\n    redirectUri: string;\n    clientId: string;\n    clientSecret: string;\n    token: string;\n    provider: TwoFactorProviderType;\n    remember: boolean;\n    device?: DeviceRequest;\n\n    constructor(credentials: string[], codes: string[], clientIdClientSecret: string[], provider: TwoFactorProviderType,\n        token: string, remember: boolean, device?: DeviceRequest) {\n        if (credentials != null && credentials.length > 1) {\n            this.email = credentials[0];\n            this.masterPasswordHash = credentials[1];\n        } else if (codes != null && codes.length > 2) {\n            this.code = codes[0];\n            this.codeVerifier = codes[1];\n            this.redirectUri = codes[2];\n        } else if (clientIdClientSecret != null && clientIdClientSecret.length > 1) {\n            this.clientId = clientIdClientSecret[0];\n            this.clientSecret = clientIdClientSecret[1];\n        }\n        this.token = token;\n        this.provider = provider;\n        this.remember = remember;\n        this.device = device != null ? device : null;\n    }\n\n    toIdentityToken(clientId: string) {\n        const obj: any = {\n            scope: 'api offline_access',\n            client_id: clientId,\n        };\n\n        if (this.clientSecret != null) {\n            obj.scope = 'api';\n            obj.grant_type = 'client_credentials';\n            obj.client_secret = this.clientSecret;\n        } else if (this.masterPasswordHash != null && this.email != null) {\n            obj.grant_type = 'password';\n            obj.username = this.email;\n            obj.password = this.masterPasswordHash;\n        } else if (this.code != null && this.codeVerifier != null && this.redirectUri != null) {\n            obj.grant_type = 'authorization_code';\n            obj.code = this.code;\n            obj.code_verifier = this.codeVerifier;\n            obj.redirect_uri = this.redirectUri;\n        } else {\n            throw new Error('must provide credentials or codes');\n        }\n\n        if (this.device) {\n            obj.deviceType = this.device.type;\n            obj.deviceIdentifier = this.device.identifier;\n            obj.deviceName = this.device.name;\n            // no push tokens for browser apps yet\n            // obj.devicePushToken = this.device.pushToken;\n        }\n\n        if (this.token && this.provider != null) {\n            obj.twoFactorToken = this.token;\n            obj.twoFactorProvider = this.provider;\n            obj.twoFactorRemember = this.remember ? '1' : '0';\n        }\n\n        return obj;\n    }\n}\n","import { I18nService } from '../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../abstractions/platformUtils.service';\n\nexport class WebAuthn {\n    private iframe: HTMLIFrameElement = null;\n    private connectorLink: HTMLAnchorElement;\n    private parseFunction = this.parseMessage.bind(this);\n\n    constructor(private win: Window, private webVaultUrl: string, private webAuthnNewTab: boolean,\n        private platformUtilsService: PlatformUtilsService, private i18nService: I18nService,\n        private successCallback: Function, private errorCallback: Function, private infoCallback: Function) {\n        this.connectorLink = win.document.createElement('a');\n    }\n\n    init(data: any): void {\n        const params = new URLSearchParams({\n            data: this.base64Encode(JSON.stringify(data)),\n            parent: encodeURIComponent(this.win.document.location.href),\n            btnText: encodeURIComponent(this.i18nService.t('webAuthnAuthenticate')),\n            v: '1',\n        });\n\n        if (this.webAuthnNewTab) {\n            // Firefox fallback which opens the webauthn page in a new tab\n            params.append('locale', this.i18nService.translationLocale);\n            this.platformUtilsService.launchUri(`${this.webVaultUrl}/webauthn-fallback-connector.html?${params}`);\n        } else {\n            this.connectorLink.href = `${this.webVaultUrl}/webauthn-connector.html?${params}`;\n            this.iframe = this.win.document.getElementById('webauthn_iframe') as HTMLIFrameElement;\n            this.iframe.allow = 'publickey-credentials-get ' + new URL(this.webVaultUrl).origin;\n            this.iframe.src = this.connectorLink.href;\n\n            this.win.addEventListener('message', this.parseFunction, false);\n        }\n    }\n\n    stop() {\n        this.sendMessage('stop');\n    }\n\n    start() {\n        this.sendMessage('start');\n    }\n\n    sendMessage(message: any) {\n        if (!this.iframe || !this.iframe.src || !this.iframe.contentWindow) {\n            return;\n        }\n\n        this.iframe.contentWindow.postMessage(message, this.iframe.src);\n    }\n\n    base64Encode(str: string): string {\n        return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (match, p1) => {\n            return String.fromCharCode(('0x' + p1) as any);\n        }));\n    }\n\n    cleanup() {\n        this.win.removeEventListener('message', this.parseFunction, false);\n    }\n\n    private parseMessage(event: MessageEvent) {\n        if (!this.validMessage(event)) {\n            return;\n        }\n\n        const parts: string[] = event.data.split('|');\n        if (parts[0] === 'success' && this.successCallback) {\n            this.successCallback(parts[1]);\n        } else if (parts[0] === 'error' && this.errorCallback) {\n            this.errorCallback(parts[1]);\n        } else if (parts[0] === 'info' && this.infoCallback) {\n            this.infoCallback(parts[1]);\n        }\n    }\n\n    private validMessage(event: MessageEvent) {\n        if (event.origin == null || event.origin === '' || event.origin !== (this.connectorLink as any).origin ||\n            event.data == null || typeof (event.data) !== 'string') {\n            return false;\n        }\n\n        return event.data.indexOf('success|') === 0 || event.data.indexOf('error|') === 0 ||\n            event.data.indexOf('info|') === 0;\n    }\n}\n","export class VerifyEmailRequest {\n    userId: string;\n    token: string;\n\n    constructor(userId: string, token: string) {\n        this.userId = userId;\n        this.token = token;\n    }\n}\n","export class VerifyDeleteRecoverRequest {\n    userId: string;\n    token: string;\n\n    constructor(userId: string, token: string) {\n        this.userId = userId;\n        this.token = token;\n    }\n}\n","import { SelectionReadOnlyRequest } from './selectionReadOnlyRequest';\n\nexport class GroupRequest {\n    name: string;\n    accessAll: boolean;\n    externalId: string;\n    collections: SelectionReadOnlyRequest[] = [];\n}\n","export class OrganizationUserConfirmRequest {\n    key: string;\n}\n","import { SelectionReadOnlyRequest } from './selectionReadOnlyRequest';\n\nimport { OrganizationUserType } from '../../enums/organizationUserType';\nimport { PermissionsApi } from '../api/permissionsApi';\n\nexport class OrganizationUserInviteRequest {\n    emails: string[] = [];\n    type: OrganizationUserType;\n    accessAll: boolean;\n    collections: SelectionReadOnlyRequest[] = [];\n    permissions: PermissionsApi;\n}\n","import { SelectionReadOnlyRequest } from './selectionReadOnlyRequest';\n\nimport { OrganizationUserType } from '../../enums/organizationUserType';\nimport { PermissionsApi } from '../api/permissionsApi';\n\nexport class OrganizationUserUpdateRequest {\n    type: OrganizationUserType;\n    accessAll: boolean;\n    collections: SelectionReadOnlyRequest[] = [];\n    permissions: PermissionsApi;\n}\n","export class OrganizationUserUpdateGroupsRequest {\n    groupIds: string[] = [];\n}\n","export abstract class AppIdService {\n    getAppId: () => Promise<string>;\n    getAnonymousAppId: () => Promise<string>;\n}\n","import { LogLevelType } from '../enums/logLevelType';\n\nexport abstract class LogService {\n    debug: (message: string) => void;\n    info: (message: string) => void;\n    warning: (message: string) => void;\n    error: (message: string) => void;\n    write: (level: LogLevelType, message: string) => void;\n    time: (label: string) => void;\n    timeEnd: (label: string) => [number, number];\n}\n","import { PolicyType } from '../../enums/policyType';\n\nexport class PolicyRequest {\n    type: PolicyType;\n    enabled: boolean;\n    data: any;\n}\n","export class OrganizationUpdateRequest {\n    name: string;\n    identifier: string;\n    businessName: string;\n    billingEmail: string;\n}\n","export enum TransactionType {\n    Charge = 0,\n    Credit = 1,\n    PromotionalCredit = 2,\n    ReferralCredit = 3,\n    Refund = 4,\n}\n","export class VerifyBankRequest {\n    amount1: number;\n    amount2: number;\n}\n","export class BitPayInvoiceRequest {\n    userId: string;\n    organizationId: string;\n    credit: boolean;\n    amount: number;\n    returnUrl: string;\n    name: string;\n    email: string;\n}\n","import { PaymentMethodType } from '../../enums/paymentMethodType';\nimport { OrganizationTaxInfoUpdateRequest } from '../request/organizationTaxInfoUpdateRequest';\n\nexport class PaymentRequest extends OrganizationTaxInfoUpdateRequest {\n    paymentMethodType: PaymentMethodType;\n    paymentToken: string;\n}\n","import { PaymentMethodType } from '../../enums/paymentMethodType';\nimport { PlanType } from '../../enums/planType';\n\nexport class OrganizationCreateRequest {\n    name: string;\n    businessName: string;\n    billingEmail: string;\n    planType: PlanType;\n    key: string;\n    paymentMethodType: PaymentMethodType;\n    paymentToken: string;\n    additionalSeats: number;\n    additionalStorageGb: number;\n    premiumAccessAddon: boolean;\n    collectionName: string;\n    taxIdNumber: string;\n    billingAddressLine1: string;\n    billingAddressLine2: string;\n    billingAddressCity: string;\n    billingAddressState: string;\n    billingAddressPostalCode: string;\n    billingAddressCountry: string;\n}\n","import { PlanType } from '../../enums/planType';\n\nexport class OrganizationUpgradeRequest {\n    businessName: string;\n    planType: PlanType;\n    additionalSeats: number;\n    additionalStorageGb: number;\n    premiumAccessAddon: boolean;\n    billingAddressCountry: string;\n    billingAddressPostalCode: string;\n}\n","export class SeatRequest {\n    seatAdjustment: number;\n}\n","export class StorageRequest {\n    storageGbAdjustment: number;\n}\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class UpdateTwoFactorDuoRequest extends PasswordVerificationRequest {\n    integrationKey: string;\n    secretKey: string;\n    host: string;\n}\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nimport { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nexport class TwoFactorProviderRequest extends PasswordVerificationRequest {\n    type: TwoFactorProviderType;\n}\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class UpdateTwoFactorAuthenticatorRequest extends PasswordVerificationRequest {\n    token: string;\n    key: string;\n}\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class UpdateTwoFactorEmailRequest extends PasswordVerificationRequest {\n    token: string;\n    email: string;\n}\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class UpdateTwoFactorWebAuthnDeleteRequest extends PasswordVerificationRequest {\n    id: number;\n}\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class UpdateTwoFactorWebAuthnRequest extends PasswordVerificationRequest {\n    deviceResponse: PublicKeyCredential;\n    name: string;\n    id: number;\n}\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class UpdateTwoFactorYubioOtpRequest extends PasswordVerificationRequest {\n    key1: string;\n    key2: string;\n    key3: string;\n    key4: string;\n    key5: string;\n    nfc: boolean;\n}\n","import {\n    Directive,\n    EventEmitter,\n    Output,\n} from '@angular/core';\n\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { EventService } from '../../abstractions/event.service';\nimport { ExportService } from '../../abstractions/export.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { EventType } from '../../enums/eventType';\n\n@Directive()\nexport class ExportComponent {\n    @Output() onSaved = new EventEmitter();\n\n    formPromise: Promise<string>;\n    masterPassword: string;\n    format: 'json' | 'encrypted_json' | 'csv' = 'json';\n    showPassword = false;\n\n    constructor(protected cryptoService: CryptoService, protected i18nService: I18nService,\n        protected platformUtilsService: PlatformUtilsService, protected exportService: ExportService,\n        protected eventService: EventService, protected win: Window) { }\n\n    get encryptedFormat() {\n        return this.format === 'encrypted_json';\n    }\n\n    async submit() {\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidMasterPassword'));\n            return;\n        }\n\n        const acceptedWarning = await this.warningDialog();\n        if (!acceptedWarning) {\n            return;\n        }\n\n        const keyHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n        const storedKeyHash = await this.cryptoService.getKeyHash();\n        if (storedKeyHash != null && keyHash != null && storedKeyHash === keyHash) {\n            try {\n                this.formPromise = this.getExportData();\n                const data = await this.formPromise;\n                this.downloadFile(data);\n                this.saved();\n                await this.collectEvent();\n            } catch { }\n        } else {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidMasterPassword'));\n        }\n    }\n\n    async warningDialog() {\n        if (this.encryptedFormat) {\n            return await this.platformUtilsService.showDialog(\n                '<p>' + this.i18nService.t('encExportKeyWarningDesc') +\n                '<p>' + this.i18nService.t('encExportAccountWarningDesc'),\n                this.i18nService.t('confirmVaultExport'), this.i18nService.t('exportVault'),\n                this.i18nService.t('cancel'), 'warning',\n                true);\n        } else {\n            return await this.platformUtilsService.showDialog(\n                this.i18nService.t('exportWarningDesc'),\n                this.i18nService.t('confirmVaultExport'), this.i18nService.t('exportVault'),\n                this.i18nService.t('cancel'), 'warning');\n        }\n    }\n\n    togglePassword() {\n        this.showPassword = !this.showPassword;\n        document.getElementById('masterPassword').focus();\n    }\n\n    protected saved() {\n        this.onSaved.emit();\n    }\n\n    protected getExportData() {\n        return this.exportService.getExport(this.format);\n    }\n\n    protected getFileName(prefix?: string) {\n        let extension = this.format;\n        if (this.format === 'encrypted_json') {\n            if (prefix == null) {\n                prefix = 'encrypted';\n            } else {\n                prefix = 'encrypted_' + prefix;\n            }\n            extension = 'json';\n        }\n        return this.exportService.getFileName(prefix, extension);\n    }\n\n    protected async collectEvent(): Promise<any> {\n        await this.eventService.collect(EventType.User_ClientExportedVault);\n    }\n\n    private downloadFile(csv: string): void {\n        const fileName = this.getFileName();\n        this.platformUtilsService.saveFile(this.win, csv, { type: 'text/plain' }, fileName);\n    }\n}\n","export class AttachmentRequest {\n    fileName: string;\n    key: string;\n    fileSize: number;\n    adminRequest: boolean;\n}\n","import {\n    CdkDragDrop,\n    moveItemInArray,\n} from '@angular/cdk/drag-drop';\nimport {\n    Directive,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { CipherType } from '../../enums/cipherType';\nimport { EventType } from '../../enums/eventType';\nimport { FieldType } from '../../enums/fieldType';\nimport { OrganizationUserStatusType } from '../../enums/organizationUserStatusType';\nimport { PolicyType } from '../../enums/policyType';\nimport { SecureNoteType } from '../../enums/secureNoteType';\nimport { UriMatchType } from '../../enums/uriMatchType';\n\nimport { AuditService } from '../../abstractions/audit.service';\nimport { CipherService } from '../../abstractions/cipher.service';\nimport { CollectionService } from '../../abstractions/collection.service';\nimport { EventService } from '../../abstractions/event.service';\nimport { FolderService } from '../../abstractions/folder.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { MessagingService } from '../../abstractions/messaging.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { PolicyService } from '../../abstractions/policy.service';\nimport { StateService } from '../../abstractions/state.service';\nimport { UserService } from '../../abstractions/user.service';\n\nimport { Cipher } from '../../models/domain/cipher';\n\nimport { CardView } from '../../models/view/cardView';\nimport { CipherView } from '../../models/view/cipherView';\nimport { CollectionView } from '../../models/view/collectionView';\nimport { FieldView } from '../../models/view/fieldView';\nimport { FolderView } from '../../models/view/folderView';\nimport { IdentityView } from '../../models/view/identityView';\nimport { LoginUriView } from '../../models/view/loginUriView';\nimport { LoginView } from '../../models/view/loginView';\nimport { SecureNoteView } from '../../models/view/secureNoteView';\n\nimport { Utils } from '../../misc/utils';\n\n@Directive()\nexport class AddEditComponent implements OnInit {\n    @Input() cloneMode: boolean = false;\n    @Input() folderId: string = null;\n    @Input() cipherId: string;\n    @Input() type: CipherType;\n    @Input() collectionIds: string[];\n    @Input() organizationId: string = null;\n    @Output() onSavedCipher = new EventEmitter<CipherView>();\n    @Output() onDeletedCipher = new EventEmitter<CipherView>();\n    @Output() onRestoredCipher = new EventEmitter<CipherView>();\n    @Output() onCancelled = new EventEmitter<CipherView>();\n    @Output() onEditAttachments = new EventEmitter<CipherView>();\n    @Output() onShareCipher = new EventEmitter<CipherView>();\n    @Output() onEditCollections = new EventEmitter<CipherView>();\n    @Output() onGeneratePassword = new EventEmitter();\n\n    editMode: boolean = false;\n    cipher: CipherView;\n    folders: FolderView[];\n    collections: CollectionView[] = [];\n    title: string;\n    formPromise: Promise<any>;\n    deletePromise: Promise<any>;\n    restorePromise: Promise<any>;\n    checkPasswordPromise: Promise<number>;\n    showPassword: boolean = false;\n    showCardCode: boolean = false;\n    cipherType = CipherType;\n    fieldType = FieldType;\n    addFieldType: FieldType = FieldType.Text;\n    typeOptions: any[];\n    cardBrandOptions: any[];\n    cardExpMonthOptions: any[];\n    identityTitleOptions: any[];\n    addFieldTypeOptions: any[];\n    uriMatchOptions: any[];\n    ownershipOptions: any[] = [];\n    currentDate = new Date();\n    allowPersonal = true;\n\n    protected writeableCollections: CollectionView[];\n    private previousCipherId: string;\n\n    constructor(protected cipherService: CipherService, protected folderService: FolderService,\n        protected i18nService: I18nService, protected platformUtilsService: PlatformUtilsService,\n        protected auditService: AuditService, protected stateService: StateService,\n        protected userService: UserService, protected collectionService: CollectionService,\n        protected messagingService: MessagingService, protected eventService: EventService,\n        protected policyService: PolicyService) {\n        this.typeOptions = [\n            { name: i18nService.t('typeLogin'), value: CipherType.Login },\n            { name: i18nService.t('typeCard'), value: CipherType.Card },\n            { name: i18nService.t('typeIdentity'), value: CipherType.Identity },\n            { name: i18nService.t('typeSecureNote'), value: CipherType.SecureNote },\n        ];\n        this.cardBrandOptions = [\n            { name: '-- ' + i18nService.t('select') + ' --', value: null },\n            { name: 'Visa', value: 'Visa' },\n            { name: 'Mastercard', value: 'Mastercard' },\n            { name: 'American Express', value: 'Amex' },\n            { name: 'Discover', value: 'Discover' },\n            { name: 'Diners Club', value: 'Diners Club' },\n            { name: 'JCB', value: 'JCB' },\n            { name: 'Maestro', value: 'Maestro' },\n            { name: 'UnionPay', value: 'UnionPay' },\n            { name: i18nService.t('other'), value: 'Other' },\n        ];\n        this.cardExpMonthOptions = [\n            { name: '-- ' + i18nService.t('select') + ' --', value: null },\n            { name: '01 - ' + i18nService.t('january'), value: '1' },\n            { name: '02 - ' + i18nService.t('february'), value: '2' },\n            { name: '03 - ' + i18nService.t('march'), value: '3' },\n            { name: '04 - ' + i18nService.t('april'), value: '4' },\n            { name: '05 - ' + i18nService.t('may'), value: '5' },\n            { name: '06 - ' + i18nService.t('june'), value: '6' },\n            { name: '07 - ' + i18nService.t('july'), value: '7' },\n            { name: '08 - ' + i18nService.t('august'), value: '8' },\n            { name: '09 - ' + i18nService.t('september'), value: '9' },\n            { name: '10 - ' + i18nService.t('october'), value: '10' },\n            { name: '11 - ' + i18nService.t('november'), value: '11' },\n            { name: '12 - ' + i18nService.t('december'), value: '12' },\n        ];\n        this.identityTitleOptions = [\n            { name: '-- ' + i18nService.t('select') + ' --', value: null },\n            { name: i18nService.t('mr'), value: i18nService.t('mr') },\n            { name: i18nService.t('mrs'), value: i18nService.t('mrs') },\n            { name: i18nService.t('ms'), value: i18nService.t('ms') },\n            { name: i18nService.t('dr'), value: i18nService.t('dr') },\n        ];\n        this.addFieldTypeOptions = [\n            { name: i18nService.t('cfTypeText'), value: FieldType.Text },\n            { name: i18nService.t('cfTypeHidden'), value: FieldType.Hidden },\n            { name: i18nService.t('cfTypeBoolean'), value: FieldType.Boolean },\n        ];\n        this.uriMatchOptions = [\n            { name: i18nService.t('defaultMatchDetection'), value: null },\n            { name: i18nService.t('baseDomain'), value: UriMatchType.Domain },\n            { name: i18nService.t('host'), value: UriMatchType.Host },\n            { name: i18nService.t('startsWith'), value: UriMatchType.StartsWith },\n            { name: i18nService.t('regEx'), value: UriMatchType.RegularExpression },\n            { name: i18nService.t('exact'), value: UriMatchType.Exact },\n            { name: i18nService.t('never'), value: UriMatchType.Never },\n        ];\n    }\n\n    async ngOnInit() {\n        await this.init();\n    }\n\n    async init() {\n        const policies = await this.policyService.getAll(PolicyType.PersonalOwnership);\n        const myEmail = await this.userService.getEmail();\n        this.ownershipOptions.push({ name: myEmail, value: null });\n        const orgs = await this.userService.getAllOrganizations();\n        orgs.sort(Utils.getSortFunction(this.i18nService, 'name')).forEach(o => {\n            if (o.enabled && o.status === OrganizationUserStatusType.Confirmed) {\n                this.ownershipOptions.push({ name: o.name, value: o.id });\n                if (policies != null && o.usePolicies && !o.canManagePolicies && this.allowPersonal) {\n                    for (const policy of policies) {\n                        if (policy.organizationId === o.id && policy.enabled) {\n                            this.allowPersonal = false;\n                            this.ownershipOptions.splice(0, 1);\n                            // Default to the organization who owns this policy for now (if necessary)\n                            if (this.organizationId == null) {\n                                this.organizationId = o.id;\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n        });\n        this.writeableCollections = await this.loadCollections();\n    }\n\n    async load() {\n        this.editMode = this.cipherId != null;\n        if (this.editMode) {\n            this.editMode = true;\n            if (this.cloneMode) {\n                this.cloneMode = true;\n                this.title = this.i18nService.t('addItem');\n            } else {\n                this.title = this.i18nService.t('editItem');\n            }\n        } else {\n            this.title = this.i18nService.t('addItem');\n        }\n\n        const addEditCipherInfo: any = await this.stateService.get<any>('addEditCipherInfo');\n        if (addEditCipherInfo != null) {\n            this.cipher = addEditCipherInfo.cipher;\n            this.collectionIds = addEditCipherInfo.collectionIds;\n        }\n        await this.stateService.remove('addEditCipherInfo');\n\n        if (this.cipher == null) {\n            if (this.editMode) {\n                const cipher = await this.loadCipher();\n                this.cipher = await cipher.decrypt();\n\n                // Adjust Cipher Name if Cloning\n                if (this.cloneMode) {\n                    this.cipher.name += ' - ' + this.i18nService.t('clone');\n                    // If not allowing personal ownership, update cipher's org Id to prompt downstream changes\n                    if (this.cipher.organizationId == null && !this.allowPersonal) {\n                        this.cipher.organizationId = this.organizationId;\n                    }\n                }\n            } else {\n                this.cipher = new CipherView();\n                this.cipher.organizationId = this.organizationId == null ? null : this.organizationId;\n                this.cipher.folderId = this.folderId;\n                this.cipher.type = this.type == null ? CipherType.Login : this.type;\n                this.cipher.login = new LoginView();\n                this.cipher.login.uris = [new LoginUriView()];\n                this.cipher.card = new CardView();\n                this.cipher.identity = new IdentityView();\n                this.cipher.secureNote = new SecureNoteView();\n                this.cipher.secureNote.type = SecureNoteType.Generic;\n            }\n        }\n\n        if (this.cipher != null && (!this.editMode || addEditCipherInfo != null || this.cloneMode)) {\n            await this.organizationChanged();\n            if (this.collectionIds != null && this.collectionIds.length > 0 && this.collections.length > 0) {\n                this.collections.forEach(c => {\n                    if (this.collectionIds.indexOf(c.id) > -1) {\n                        (c as any).checked = true;\n                    }\n                });\n            }\n        }\n\n        this.folders = await this.folderService.getAllDecrypted();\n\n        if (this.editMode && this.previousCipherId !== this.cipherId) {\n            this.eventService.collect(EventType.Cipher_ClientViewed, this.cipherId);\n        }\n        this.previousCipherId = this.cipherId;\n    }\n\n    async submit(): Promise<boolean> {\n        if (this.cipher.isDeleted) {\n            return this.restore();\n        }\n\n        if (this.cipher.name == null || this.cipher.name === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('nameRequired'));\n            return false;\n        }\n\n        if ((!this.editMode || this.cloneMode) && !this.allowPersonal && this.cipher.organizationId == null) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('personalOwnershipSubmitError'));\n            return false;\n        }\n\n        if ((!this.editMode || this.cloneMode) && this.cipher.type === CipherType.Login &&\n            this.cipher.login.uris != null && this.cipher.login.uris.length === 1 &&\n            (this.cipher.login.uris[0].uri == null || this.cipher.login.uris[0].uri === '')) {\n            this.cipher.login.uris = null;\n        }\n\n        // Allows saving of selected collections during \"Add\" and \"Clone\" flows\n        if ((!this.editMode || this.cloneMode) && this.cipher.organizationId != null) {\n            this.cipher.collectionIds = this.collections == null ? [] :\n                this.collections.filter(c => (c as any).checked).map(c => c.id);\n        }\n\n        // Clear current Cipher Id to trigger \"Add\" cipher flow\n        if (this.cloneMode) {\n            this.cipher.id = null;\n        }\n\n        const cipher = await this.encryptCipher();\n        try {\n            this.formPromise = this.saveCipher(cipher);\n            await this.formPromise;\n            this.cipher.id = cipher.id;\n            this.platformUtilsService.showToast('success', null,\n                this.i18nService.t(this.editMode && !this.cloneMode ? 'editedItem' : 'addedItem'));\n            this.onSavedCipher.emit(this.cipher);\n            this.messagingService.send(this.editMode && !this.cloneMode ? 'editedCipher' : 'addedCipher');\n            return true;\n        } catch { }\n\n        return false;\n    }\n\n    addUri() {\n        if (this.cipher.type !== CipherType.Login) {\n            return;\n        }\n\n        if (this.cipher.login.uris == null) {\n            this.cipher.login.uris = [];\n        }\n\n        this.cipher.login.uris.push(new LoginUriView());\n    }\n\n    removeUri(uri: LoginUriView) {\n        if (this.cipher.type !== CipherType.Login || this.cipher.login.uris == null) {\n            return;\n        }\n\n        const i = this.cipher.login.uris.indexOf(uri);\n        if (i > -1) {\n            this.cipher.login.uris.splice(i, 1);\n        }\n    }\n\n    addField() {\n        if (this.cipher.fields == null) {\n            this.cipher.fields = [];\n        }\n\n        const f = new FieldView();\n        f.type = this.addFieldType;\n        f.newField = true;\n        this.cipher.fields.push(f);\n    }\n\n    removeField(field: FieldView) {\n        const i = this.cipher.fields.indexOf(field);\n        if (i > -1) {\n            this.cipher.fields.splice(i, 1);\n        }\n    }\n\n    trackByFunction(index: number, item: any) {\n        return index;\n    }\n\n    cancel() {\n        this.onCancelled.emit(this.cipher);\n    }\n\n    attachments() {\n        this.onEditAttachments.emit(this.cipher);\n    }\n\n    share() {\n        this.onShareCipher.emit(this.cipher);\n    }\n\n    editCollections() {\n        this.onEditCollections.emit(this.cipher);\n    }\n\n    async delete(): Promise<boolean> {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t(this.cipher.isDeleted ? 'permanentlyDeleteItemConfirmation' : 'deleteItemConfirmation'),\n            this.i18nService.t('deleteItem'), this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.deletePromise = this.deleteCipher();\n            await this.deletePromise;\n            this.platformUtilsService.showToast('success', null,\n                this.i18nService.t(this.cipher.isDeleted ? 'permanentlyDeletedItem' : 'deletedItem'));\n            this.onDeletedCipher.emit(this.cipher);\n            this.messagingService.send(this.cipher.isDeleted ? 'permanentlyDeletedCipher' : 'deletedCipher');\n        } catch { }\n\n        return true;\n    }\n\n    async restore(): Promise<boolean> {\n        if (!this.cipher.isDeleted) {\n            return false;\n        }\n\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('restoreItemConfirmation'), this.i18nService.t('restoreItem'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.restorePromise = this.restoreCipher();\n            await this.restorePromise;\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('restoredItem'));\n            this.onRestoredCipher.emit(this.cipher);\n            this.messagingService.send('restoredCipher');\n        } catch { }\n\n        return true;\n    }\n\n    async generatePassword(): Promise<boolean> {\n        if (this.cipher.login != null && this.cipher.login.password != null && this.cipher.login.password.length) {\n            const confirmed = await this.platformUtilsService.showDialog(\n                this.i18nService.t('overwritePasswordConfirmation'), this.i18nService.t('overwritePassword'),\n                this.i18nService.t('yes'), this.i18nService.t('no'));\n            if (!confirmed) {\n                return false;\n            }\n        }\n\n        this.onGeneratePassword.emit();\n        return true;\n    }\n\n    togglePassword() {\n        this.showPassword = !this.showPassword;\n        document.getElementById('loginPassword').focus();\n        if (this.editMode && this.showPassword) {\n            this.eventService.collect(EventType.Cipher_ClientToggledPasswordVisible, this.cipherId);\n        }\n    }\n\n    toggleCardCode() {\n        this.showCardCode = !this.showCardCode;\n        document.getElementById('cardCode').focus();\n        if (this.editMode && this.showCardCode) {\n            this.eventService.collect(EventType.Cipher_ClientToggledCardCodeVisible, this.cipherId);\n        }\n    }\n\n    toggleFieldValue(field: FieldView) {\n        const f = (field as any);\n        f.showValue = !f.showValue;\n        if (this.editMode && f.showValue) {\n            this.eventService.collect(EventType.Cipher_ClientToggledHiddenFieldVisible, this.cipherId);\n        }\n    }\n\n    toggleUriOptions(uri: LoginUriView) {\n        const u = (uri as any);\n        u.showOptions = u.showOptions == null && uri.match != null ? false : !u.showOptions;\n    }\n\n    loginUriMatchChanged(uri: LoginUriView) {\n        const u = (uri as any);\n        u.showOptions = u.showOptions == null ? true : u.showOptions;\n    }\n\n    drop(event: CdkDragDrop<string[]>) {\n        moveItemInArray(this.cipher.fields, event.previousIndex, event.currentIndex);\n    }\n\n    async organizationChanged() {\n        if (this.writeableCollections != null) {\n            this.writeableCollections.forEach(c => (c as any).checked = false);\n        }\n        if (this.cipher.organizationId != null) {\n            this.collections = this.writeableCollections.filter(c => c.organizationId === this.cipher.organizationId);\n            const org = await this.userService.getOrganization(this.cipher.organizationId);\n            if (org != null) {\n                this.cipher.organizationUseTotp = org.useTotp;\n            }\n        } else {\n            this.collections = [];\n        }\n    }\n\n    async checkPassword() {\n        if (this.checkPasswordPromise != null) {\n            return;\n        }\n\n        if (this.cipher.login == null || this.cipher.login.password == null || this.cipher.login.password === '') {\n            return;\n        }\n\n        this.checkPasswordPromise = this.auditService.passwordLeaked(this.cipher.login.password);\n        const matches = await this.checkPasswordPromise;\n        this.checkPasswordPromise = null;\n\n        if (matches > 0) {\n            this.platformUtilsService.showToast('warning', null,\n                this.i18nService.t('passwordExposed', matches.toString()));\n        } else {\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('passwordSafe'));\n        }\n    }\n\n    protected async loadCollections() {\n        const allCollections = await this.collectionService.getAllDecrypted();\n        return allCollections.filter(c => !c.readOnly);\n    }\n\n    protected loadCipher() {\n        return this.cipherService.get(this.cipherId);\n    }\n\n    protected encryptCipher() {\n        return this.cipherService.encrypt(this.cipher);\n    }\n\n    protected saveCipher(cipher: Cipher) {\n        return this.cipherService.saveWithServer(cipher);\n    }\n\n    protected deleteCipher() {\n        return this.cipher.isDeleted ? this.cipherService.deleteWithServer(this.cipher.id)\n            : this.cipherService.softDeleteWithServer(this.cipher.id);\n    }\n\n    protected restoreCipher() {\n        return this.cipherService.restoreWithServer(this.cipher.id);\n    }\n}\n","export { AttachmentResponse } from './attachmentResponse';\nexport { CipherResponse } from './cipherResponse';\nexport { CollectionResponse } from './collectionResponse';\nexport { DeviceResponse } from './deviceResponse';\nexport { DomainsResponse } from './domainsResponse';\nexport { ErrorResponse } from './errorResponse';\nexport { FolderResponse } from './folderResponse';\nexport { GlobalDomainResponse } from './globalDomainResponse';\nexport { IdentityTokenResponse } from './identityTokenResponse';\nexport { IdentityTwoFactorResponse } from './identityTwoFactorResponse';\nexport { KeysResponse } from './keysResponse';\nexport { ListResponse } from './listResponse';\nexport { ProfileOrganizationResponse } from './profileOrganizationResponse';\nexport { ProfileResponse } from './profileResponse';\nexport { SyncResponse } from './syncResponse';\n","import { BaseResponse } from './baseResponse';\n\nexport class PasswordHistoryResponse extends BaseResponse {\n    password: string;\n    lastUsedDate: string;\n\n    constructor(response: any) {\n        super(response);\n        this.password = this.getResponseProperty('Password');\n        this.lastUsedDate = this.getResponseProperty('LastUsedDate');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { DeviceType } from '../../enums/deviceType';\n\nexport class DeviceResponse extends BaseResponse {\n    id: string;\n    name: number;\n    identifier: string;\n    type: DeviceType;\n    creationDate: string;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.name = this.getResponseProperty('Name');\n        this.identifier = this.getResponseProperty('Identifier');\n        this.type = this.getResponseProperty('Type');\n        this.creationDate = this.getResponseProperty('CreationDate');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class KeysResponse extends BaseResponse {\n    privateKey: string;\n    publicKey: string;\n\n    constructor(response: any) {\n        super(response);\n        this.privateKey = this.getResponseProperty('PrivateKey');\n        this.publicKey = this.getResponseProperty('PublicKey');\n    }\n}\n","import {\n    Directive,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { SearchService } from '../../abstractions/search.service';\n\nimport { CipherView } from '../../models/view/cipherView';\n\n@Directive()\nexport class CiphersComponent {\n    @Input() activeCipherId: string = null;\n    @Output() onCipherClicked = new EventEmitter<CipherView>();\n    @Output() onCipherRightClicked = new EventEmitter<CipherView>();\n    @Output() onAddCipher = new EventEmitter();\n    @Output() onAddCipherOptions = new EventEmitter();\n\n    loaded: boolean = false;\n    ciphers: CipherView[] = [];\n    pagedCiphers: CipherView[] = [];\n    searchText: string;\n    searchPlaceholder: string = null;\n    filter: (cipher: CipherView) => boolean = null;\n    deleted: boolean = false;\n\n    protected searchPending = false;\n    protected didScroll = false;\n    protected pageSize = 100;\n\n    private searchTimeout: any = null;\n    private pagedCiphersCount = 0;\n    private refreshing = false;\n\n    constructor(protected searchService: SearchService) { }\n\n    async load(filter: (cipher: CipherView) => boolean = null, deleted: boolean = false) {\n        this.deleted = deleted || false;\n        await this.applyFilter(filter);\n        this.loaded = true;\n    }\n\n    loadMore() {\n        if (this.ciphers.length <= this.pageSize) {\n            return;\n        }\n        const pagedLength = this.pagedCiphers.length;\n        let pagedSize = this.pageSize;\n        if (this.refreshing && pagedLength === 0 && this.pagedCiphersCount > this.pageSize) {\n            pagedSize = this.pagedCiphersCount;\n        }\n        if (this.ciphers.length > pagedLength) {\n            this.pagedCiphers = this.pagedCiphers.concat(this.ciphers.slice(pagedLength, pagedLength + pagedSize));\n        }\n        this.pagedCiphersCount = this.pagedCiphers.length;\n        this.didScroll = this.pagedCiphers.length > this.pageSize;\n    }\n\n    async reload(filter: (cipher: CipherView) => boolean = null, deleted: boolean = false) {\n        this.loaded = false;\n        this.ciphers = [];\n        await this.load(filter, deleted);\n    }\n\n    async refresh() {\n        try {\n            this.refreshing = true;\n            await this.reload(this.filter, this.deleted);\n        } finally {\n            this.refreshing = false;\n        }\n    }\n\n    async applyFilter(filter: (cipher: CipherView) => boolean = null) {\n        this.filter = filter;\n        await this.search(null);\n    }\n\n    async search(timeout: number = null, indexedCiphers?: CipherView[]) {\n        this.searchPending = false;\n        if (this.searchTimeout != null) {\n            clearTimeout(this.searchTimeout);\n        }\n        const deletedFilter: (cipher: CipherView) => boolean = c => c.isDeleted === this.deleted;\n        if (timeout == null) {\n            this.ciphers = await this.searchService.searchCiphers(this.searchText, [this.filter, deletedFilter], indexedCiphers);\n            await this.resetPaging();\n            return;\n        }\n        this.searchPending = true;\n        this.searchTimeout = setTimeout(async () => {\n            this.ciphers = await this.searchService.searchCiphers(this.searchText, [this.filter, deletedFilter], indexedCiphers);\n            await this.resetPaging();\n            this.searchPending = false;\n        }, timeout);\n    }\n\n    selectCipher(cipher: CipherView) {\n        this.onCipherClicked.emit(cipher);\n    }\n\n    rightClickCipher(cipher: CipherView) {\n        this.onCipherRightClicked.emit(cipher);\n    }\n\n    addCipher() {\n        this.onAddCipher.emit();\n    }\n\n    addCipherOptions() {\n        this.onAddCipherOptions.emit();\n    }\n\n    isSearching() {\n        return !this.searchPending && this.searchService.isSearchable(this.searchText);\n    }\n\n    isPaging() {\n        const searching = this.isSearching();\n        if (searching && this.didScroll) {\n            this.resetPaging();\n        }\n        return !searching && this.ciphers.length > this.pageSize;\n    }\n\n    async resetPaging() {\n        this.pagedCiphers = [];\n        this.loadMore();\n    }\n}\n","import {\n    Directive,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { CipherService } from '../../abstractions/cipher.service';\nimport { CollectionService } from '../../abstractions/collection.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nimport { CipherView } from '../../models/view/cipherView';\nimport { CollectionView } from '../../models/view/collectionView';\n\nimport { Cipher } from '../../models/domain/cipher';\n\n@Directive()\nexport class CollectionsComponent implements OnInit {\n    @Input() cipherId: string;\n    @Input() allowSelectNone = false;\n    @Output() onSavedCollections = new EventEmitter();\n\n    formPromise: Promise<any>;\n    cipher: CipherView;\n    collectionIds: string[];\n    collections: CollectionView[] = [];\n\n    protected cipherDomain: Cipher;\n\n    constructor(protected collectionService: CollectionService, protected platformUtilsService: PlatformUtilsService,\n        protected i18nService: I18nService, protected cipherService: CipherService) { }\n\n    async ngOnInit() {\n        await this.load();\n    }\n\n    async load() {\n        this.cipherDomain = await this.loadCipher();\n        this.collectionIds = this.loadCipherCollections();\n        this.cipher = await this.cipherDomain.decrypt();\n        this.collections = await this.loadCollections();\n\n        this.collections.forEach(c => (c as any).checked = false);\n        if (this.collectionIds != null) {\n            this.collections.forEach(c => {\n                (c as any).checked = this.collectionIds != null && this.collectionIds.indexOf(c.id) > -1;\n            });\n        }\n    }\n\n    async submit() {\n        const selectedCollectionIds = this.collections\n            .filter(c => !!(c as any).checked)\n            .map(c => c.id);\n        if (!this.allowSelectNone && selectedCollectionIds.length === 0) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('selectOneCollection'));\n            return;\n        }\n        this.cipherDomain.collectionIds = selectedCollectionIds;\n        try {\n            this.formPromise = this.saveCollections();\n            await this.formPromise;\n            this.onSavedCollections.emit();\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('editedItem'));\n        } catch { }\n    }\n\n    protected loadCipher() {\n        return this.cipherService.get(this.cipherId);\n    }\n\n    protected loadCipherCollections() {\n        return this.cipherDomain.collectionIds;\n    }\n\n    protected async loadCollections() {\n        const allCollections = await this.collectionService.getAllDecrypted();\n        return allCollections.filter(c => !c.readOnly && c.organizationId === this.cipher.organizationId);\n    }\n\n    protected saveCollections() {\n        return this.cipherService.saveCollectionsWithServer(this.cipherDomain);\n    }\n}\n","import {\n    Directive,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { CipherType } from '../../enums/cipherType';\n\nimport { CollectionView } from '../../models/view/collectionView';\nimport { FolderView } from '../../models/view/folderView';\n\nimport { TreeNode } from '../../models/domain/treeNode';\n\nimport { CollectionService } from '../../abstractions/collection.service';\nimport { FolderService } from '../../abstractions/folder.service';\nimport { StorageService } from '../../abstractions/storage.service';\nimport { UserService } from '../../abstractions/user.service';\n\nimport { ConstantsService } from '../../services/constants.service';\n\n@Directive()\nexport class GroupingsComponent {\n    @Input() showFolders = true;\n    @Input() showCollections = true;\n    @Input() showFavorites = true;\n    @Input() showTrash = true;\n\n    @Output() onAllClicked = new EventEmitter();\n    @Output() onFavoritesClicked = new EventEmitter();\n    @Output() onTrashClicked = new EventEmitter();\n    @Output() onCipherTypeClicked = new EventEmitter<CipherType>();\n    @Output() onFolderClicked = new EventEmitter<FolderView>();\n    @Output() onAddFolder = new EventEmitter();\n    @Output() onEditFolder = new EventEmitter<FolderView>();\n    @Output() onCollectionClicked = new EventEmitter<CollectionView>();\n\n    folders: FolderView[];\n    nestedFolders: TreeNode<FolderView>[];\n    collections: CollectionView[];\n    nestedCollections: TreeNode<CollectionView>[];\n    loaded: boolean = false;\n    cipherType = CipherType;\n    selectedAll: boolean = false;\n    selectedFavorites: boolean = false;\n    selectedTrash: boolean = false;\n    selectedType: CipherType = null;\n    selectedFolder: boolean = false;\n    selectedFolderId: string = null;\n    selectedCollectionId: string = null;\n\n    private collapsedGroupings: Set<string>;\n    private collapsedGroupingsKey: string;\n\n    constructor(protected collectionService: CollectionService, protected folderService: FolderService,\n        protected storageService: StorageService, protected userService: UserService) { }\n\n    async load(setLoaded = true) {\n        const userId = await this.userService.getUserId();\n        this.collapsedGroupingsKey = ConstantsService.collapsedGroupingsKey + '_' + userId;\n        const collapsedGroupings = await this.storageService.get<string[]>(this.collapsedGroupingsKey);\n        if (collapsedGroupings == null) {\n            this.collapsedGroupings = new Set<string>();\n        } else {\n            this.collapsedGroupings = new Set(collapsedGroupings);\n        }\n\n        await this.loadFolders();\n        await this.loadCollections();\n\n        if (setLoaded) {\n            this.loaded = true;\n        }\n    }\n\n    async loadCollections(organizationId?: string) {\n        if (!this.showCollections) {\n            return;\n        }\n        const collections = await this.collectionService.getAllDecrypted();\n        if (organizationId != null) {\n            this.collections = collections.filter(c => c.organizationId === organizationId);\n        } else {\n            this.collections = collections;\n        }\n        this.nestedCollections = await this.collectionService.getAllNested(this.collections);\n    }\n\n    async loadFolders() {\n        if (!this.showFolders) {\n            return;\n        }\n        this.folders = await this.folderService.getAllDecrypted();\n        this.nestedFolders = await this.folderService.getAllNested();\n    }\n\n    selectAll() {\n        this.clearSelections();\n        this.selectedAll = true;\n        this.onAllClicked.emit();\n    }\n\n    selectFavorites() {\n        this.clearSelections();\n        this.selectedFavorites = true;\n        this.onFavoritesClicked.emit();\n    }\n\n    selectTrash() {\n        this.clearSelections();\n        this.selectedTrash = true;\n        this.onTrashClicked.emit();\n    }\n\n    selectType(type: CipherType) {\n        this.clearSelections();\n        this.selectedType = type;\n        this.onCipherTypeClicked.emit(type);\n    }\n\n    selectFolder(folder: FolderView) {\n        this.clearSelections();\n        this.selectedFolder = true;\n        this.selectedFolderId = folder.id;\n        this.onFolderClicked.emit(folder);\n    }\n\n    addFolder() {\n        this.onAddFolder.emit();\n    }\n\n    editFolder(folder: FolderView) {\n        this.onEditFolder.emit(folder);\n    }\n\n    selectCollection(collection: CollectionView) {\n        this.clearSelections();\n        this.selectedCollectionId = collection.id;\n        this.onCollectionClicked.emit(collection);\n    }\n\n    clearSelections() {\n        this.selectedAll = false;\n        this.selectedFavorites = false;\n        this.selectedTrash = false;\n        this.selectedType = null;\n        this.selectedFolder = false;\n        this.selectedFolderId = null;\n        this.selectedCollectionId = null;\n    }\n\n    collapse(grouping: FolderView | CollectionView, idPrefix = '') {\n        if (grouping.id == null) {\n            return;\n        }\n        const id = idPrefix + grouping.id;\n        if (this.isCollapsed(grouping, idPrefix)) {\n            this.collapsedGroupings.delete(id);\n        } else {\n            this.collapsedGroupings.add(id);\n        }\n        this.storageService.save(this.collapsedGroupingsKey, this.collapsedGroupings);\n    }\n\n    isCollapsed(grouping: FolderView | CollectionView, idPrefix = '') {\n        return this.collapsedGroupings.has(idPrefix + grouping.id);\n    }\n}\n","import { SendType } from '../../enums/sendType';\n\nimport { SendAccessResponse } from '../response/sendAccessResponse';\n\nimport { SendAccessView } from '../view/sendAccessView';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\nimport { SendFile } from './sendFile';\nimport { SendText } from './sendText';\nimport { SymmetricCryptoKey } from './symmetricCryptoKey';\n\nexport class SendAccess extends Domain {\n    id: string;\n    type: SendType;\n    name: EncString;\n    file: SendFile;\n    text: SendText;\n    expirationDate: Date;\n    creatorIdentifier: string;\n\n    constructor(obj?: SendAccessResponse, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.buildDomainModel(this, obj, {\n            id: null,\n            name: null,\n            expirationDate: null,\n            creatorIdentifier: null,\n        }, alreadyEncrypted, ['id', 'expirationDate', 'creatorIdentifier']);\n\n        this.type = obj.type;\n\n        switch (this.type) {\n            case SendType.Text:\n                this.text = new SendText(obj.text, alreadyEncrypted);\n                break;\n            case SendType.File:\n                this.file = new SendFile(obj.file, alreadyEncrypted);\n                break;\n            default:\n                break;\n        }\n    }\n\n    async decrypt(key: SymmetricCryptoKey): Promise<SendAccessView> {\n        const model = new SendAccessView(this);\n\n        await this.decryptObj(model, {\n            name: null,\n        }, null, key);\n\n        switch (this.type) {\n            case SendType.File:\n                model.file = await this.file.decrypt(key);\n                break;\n            case SendType.Text:\n                model.text = await this.text.decrypt(key);\n                break;\n            default:\n                break;\n        }\n\n        return model;\n    }\n}\n","import { SendType } from '../../enums/sendType';\n\nimport { SendAccess } from '../domain/sendAccess';\n\nimport { SendFileView } from './sendFileView';\nimport { SendTextView } from './sendTextView';\nimport { View } from './view';\n\nexport class SendAccessView implements View {\n    id: string = null;\n    name: string = null;\n    type: SendType = null;\n    text = new SendTextView();\n    file = new SendFileView();\n    expirationDate: Date = null;\n    creatorIdentifier: string = null;\n\n    constructor(s?: SendAccess) {\n        if (!s) {\n            return;\n        }\n\n        this.id = s.id;\n        this.type = s.type;\n        this.expirationDate = s.expirationDate;\n        this.creatorIdentifier = s.creatorIdentifier;\n    }\n}\n","export class SendAccessRequest {\n    password: string;\n}\n","import {\n    NgZone,\n    OnInit,\n} from '@angular/core';\n\nimport { OrganizationUserStatusType } from '../../../enums/organizationUserStatusType';\nimport { PolicyType } from '../../../enums/policyType';\nimport { SendType } from '../../../enums/sendType';\n\nimport { SendView } from '../../../models/view/sendView';\n\nimport { EnvironmentService } from '../../../abstractions/environment.service';\nimport { I18nService } from '../../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../../abstractions/platformUtils.service';\nimport { PolicyService } from '../../../abstractions/policy.service';\nimport { SearchService } from '../../../abstractions/search.service';\nimport { SendService } from '../../../abstractions/send.service';\nimport { UserService } from '../../../abstractions/user.service';\n\nexport class SendComponent implements OnInit {\n\n    disableSend = false;\n    sendType = SendType;\n    loaded = false;\n    loading = true;\n    refreshing = false;\n    expired: boolean = false;\n    type: SendType = null;\n    sends: SendView[] = [];\n    filteredSends: SendView[] = [];\n    searchText: string;\n    selectedType: SendType;\n    selectedAll: boolean;\n    searchPlaceholder: string;\n    filter: (cipher: SendView) => boolean;\n    searchPending = false;\n    hasSearched = false; // search() function called - returns true if text qualifies for search\n\n    actionPromise: any;\n    onSuccessfulRemovePassword: () => Promise<any>;\n    onSuccessfulDelete: () => Promise<any>;\n    onSuccessfulLoad: () => Promise<any>;\n\n    private searchTimeout: any;\n\n    constructor(protected sendService: SendService, protected i18nService: I18nService,\n        protected platformUtilsService: PlatformUtilsService, protected environmentService: EnvironmentService,\n        protected ngZone: NgZone, protected searchService: SearchService,\n        protected policyService: PolicyService, protected userService: UserService) { }\n\n    async ngOnInit() {\n        const policies = await this.policyService.getAll(PolicyType.DisableSend);\n        const organizations = await this.userService.getAllOrganizations();\n        this.disableSend = organizations.some(o => {\n            return o.enabled &&\n                o.status === OrganizationUserStatusType.Confirmed &&\n                o.usePolicies &&\n                !o.canManagePolicies &&\n                policies.some(p => p.organizationId === o.id && p.enabled);\n        });\n    }\n\n    async load(filter: (send: SendView) => boolean = null) {\n        this.loading = true;\n        const sends = await this.sendService.getAllDecrypted();\n        this.sends = sends;\n        if (this.onSuccessfulLoad != null) {\n            await this.onSuccessfulLoad();\n        } else {\n            // Default action\n            this.selectAll();\n        }\n        this.loading = false;\n        this.loaded = true;\n    }\n\n    async reload(filter: (send: SendView) => boolean = null) {\n        this.loaded = false;\n        this.sends = [];\n        await this.load(filter);\n    }\n\n    async refresh() {\n        try {\n            this.refreshing = true;\n            await this.reload(this.filter);\n        } finally {\n            this.refreshing = false;\n        }\n    }\n\n    async applyFilter(filter: (send: SendView) => boolean = null) {\n        this.filter = filter;\n        await this.search(null);\n    }\n\n    async search(timeout: number = null) {\n        this.searchPending = false;\n        if (this.searchTimeout != null) {\n            clearTimeout(this.searchTimeout);\n        }\n        if (timeout == null) {\n            this.hasSearched = this.searchService.isSearchable(this.searchText);\n            this.filteredSends = this.sends.filter(s => this.filter == null || this.filter(s));\n            this.applyTextSearch();\n            return;\n        }\n        this.searchPending = true;\n        this.searchTimeout = setTimeout(async () => {\n            this.hasSearched = this.searchService.isSearchable(this.searchText);\n            this.filteredSends = this.sends.filter(s => this.filter == null || this.filter(s));\n            this.applyTextSearch();\n            this.searchPending = false;\n        }, timeout);\n    }\n\n    async removePassword(s: SendView): Promise<boolean> {\n        if (this.actionPromise != null || s.password == null) {\n            return;\n        }\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('removePasswordConfirmation'),\n            this.i18nService.t('removePassword'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.actionPromise = this.sendService.removePasswordWithServer(s.id);\n            await this.actionPromise;\n            if (this.onSuccessfulRemovePassword != null) {\n                this.onSuccessfulRemovePassword();\n            } else {\n                // Default actions\n                this.platformUtilsService.showToast('success', null, this.i18nService.t('removedPassword'));\n                await this.load();\n            }\n        } catch { }\n        this.actionPromise = null;\n    }\n\n    async delete(s: SendView): Promise<boolean> {\n        if (this.actionPromise != null) {\n            return false;\n        }\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteSendConfirmation'),\n            this.i18nService.t('deleteSend'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.actionPromise = this.sendService.deleteWithServer(s.id);\n            await this.actionPromise;\n\n            if (this.onSuccessfulDelete != null) {\n                this.onSuccessfulDelete();\n            } else {\n                // Default actions\n                this.platformUtilsService.showToast('success', null, this.i18nService.t('deletedSend'));\n                await this.refresh();\n            }\n        } catch { }\n        this.actionPromise = null;\n        return true;\n    }\n\n    copy(s: SendView) {\n        let sendLinkBaseUrl = 'https://send.bitwarden.com/#';\n        const webVaultUrl = this.environmentService.getWebVaultUrl();\n        if (webVaultUrl != null) {\n            sendLinkBaseUrl = webVaultUrl + '/#/send/';\n        }\n        const link = sendLinkBaseUrl + s.accessId + '/' + s.urlB64Key;\n        this.platformUtilsService.copyToClipboard(link);\n        this.platformUtilsService.showToast('success', null,\n            this.i18nService.t('valueCopied', this.i18nService.t('sendLink')));\n    }\n\n    searchTextChanged() {\n        this.search(200);\n    }\n\n    selectAll() {\n        this.clearSelections();\n        this.selectedAll = true;\n        this.applyFilter(null);\n    }\n\n    selectType(type: SendType) {\n        this.clearSelections();\n        this.selectedType = type;\n        this.applyFilter(s => s.type === type);\n    }\n\n    clearSelections() {\n        this.selectedAll = false;\n        this.selectedType = null;\n    }\n\n    private applyTextSearch() {\n        if (this.searchText != null) {\n            this.filteredSends = this.searchService.searchSends(this.filteredSends, this.searchText);\n        }\n    }\n}\n","import { DatePipe } from '@angular/common';\n\nimport {\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { OrganizationUserStatusType } from '../../../enums/organizationUserStatusType';\nimport { PolicyType } from '../../../enums/policyType';\nimport { SendType } from '../../../enums/sendType';\n\nimport { EnvironmentService } from '../../../abstractions/environment.service';\nimport { I18nService } from '../../../abstractions/i18n.service';\nimport { MessagingService } from '../../../abstractions/messaging.service';\nimport { PlatformUtilsService } from '../../../abstractions/platformUtils.service';\nimport { PolicyService } from '../../../abstractions/policy.service';\nimport { SendService } from '../../../abstractions/send.service';\nimport { UserService } from '../../../abstractions/user.service';\n\nimport { SendFileView } from '../../../models/view/sendFileView';\nimport { SendTextView } from '../../../models/view/sendTextView';\nimport { SendView } from '../../../models/view/sendView';\n\nimport { EncArrayBuffer } from '../../../models/domain/encArrayBuffer';\nimport { Send } from '../../../models/domain/send';\n\n// TimeOption is used for the dropdown implementation of custom times\n// Standard = displayed time; Military = stored time\ninterface TimeOption {\n    standard: string;\n    military: string;\n}\n\nenum DateField {\n    DeletionDate = 'deletion',\n    ExpriationDate = 'expiration',\n}\n\nexport class AddEditComponent implements OnInit {\n    @Input() sendId: string;\n    @Input() type: SendType;\n\n    @Output() onSavedSend = new EventEmitter<SendView>();\n    @Output() onDeletedSend = new EventEmitter<SendView>();\n    @Output() onCancelled = new EventEmitter<SendView>();\n\n    copyLink = false;\n    disableSend = false;\n    disableHideEmail = false;\n    send: SendView;\n    deletionDate: string;\n    deletionDateFallback: string;\n    deletionTimeFallback: string;\n    expirationDate: string = null;\n    expirationDateFallback: string;\n    expirationTimeFallback: string;\n    hasPassword: boolean;\n    password: string;\n    showPassword = false;\n    formPromise: Promise<any>;\n    deletePromise: Promise<any>;\n    sendType = SendType;\n    typeOptions: any[];\n    deletionDateOptions: any[];\n    expirationDateOptions: any[];\n    deletionDateSelect = 168;\n    expirationDateSelect: number = null;\n    canAccessPremium = true;\n    emailVerified = true;\n    alertShown = false;\n    showOptions = false;\n\n    safariDeletionTime: string;\n    safariExpirationTime: string;\n    safariDeletionTimeOptions: TimeOption[];\n    safariExpirationTimeOptions: TimeOption[];\n\n    private sendLinkBaseUrl: string;\n\n    constructor(protected i18nService: I18nService, protected platformUtilsService: PlatformUtilsService,\n        protected environmentService: EnvironmentService, protected datePipe: DatePipe,\n        protected sendService: SendService, protected userService: UserService,\n        protected messagingService: MessagingService, protected policyService: PolicyService) {\n        this.typeOptions = [\n            { name: i18nService.t('sendTypeFile'), value: SendType.File },\n            { name: i18nService.t('sendTypeText'), value: SendType.Text },\n        ];\n        this.deletionDateOptions = this.expirationDateOptions = [\n            { name: i18nService.t('oneHour'), value: 1 },\n            { name: i18nService.t('oneDay'), value: 24 },\n            { name: i18nService.t('days', '2'), value: 48 },\n            { name: i18nService.t('days', '3'), value: 72 },\n            { name: i18nService.t('days', '7'), value: 168 },\n            { name: i18nService.t('days', '30'), value: 720 },\n            { name: i18nService.t('custom'), value: 0 },\n        ];\n        this.expirationDateOptions = [\n            { name: i18nService.t('never'), value: null },\n        ].concat([...this.deletionDateOptions]);\n\n        const webVaultUrl = this.environmentService.getWebVaultUrl();\n        if (webVaultUrl == null) {\n            this.sendLinkBaseUrl = 'https://send.bitwarden.com/#';\n        } else {\n            this.sendLinkBaseUrl = webVaultUrl + '/#/send/';\n        }\n    }\n\n    get link(): string {\n        if (this.send.id != null && this.send.accessId != null) {\n            return this.sendLinkBaseUrl + this.send.accessId + '/' + this.send.urlB64Key;\n        }\n        return null;\n    }\n\n    get isSafari() {\n        return this.platformUtilsService.isSafari();\n    }\n\n    get isDateTimeLocalSupported(): boolean {\n        return !(this.platformUtilsService.isFirefox() || this.platformUtilsService.isSafari());\n    }\n\n    async ngOnInit() {\n        await this.load();\n    }\n\n    get editMode(): boolean {\n        return this.sendId != null;\n    }\n\n    get title(): string {\n        return this.i18nService.t(\n            this.editMode ?\n                'editSend' :\n                'createSend'\n        );\n    }\n\n    get expirationDateTimeFallback() {\n        return this.nullOrWhiteSpaceCount([this.expirationDateFallback, this.expirationTimeFallback]) > 0 ?\n            null :\n            `${this.formatDateFallbacks(this.expirationDateFallback)}T${this.expirationTimeFallback}`;\n    }\n\n    get deletionDateTimeFallback() {\n        return this.nullOrWhiteSpaceCount([this.deletionDateFallback, this.deletionTimeFallback]) > 0 ?\n            null :\n            `${this.formatDateFallbacks(this.deletionDateFallback)}T${this.deletionTimeFallback}`;\n    }\n\n    async load() {\n        const disableSendPolicies = await this.policyService.getAll(PolicyType.DisableSend);\n        const organizations = await this.userService.getAllOrganizations();\n        this.disableSend = organizations.some(o => {\n            return o.enabled &&\n                o.status === OrganizationUserStatusType.Confirmed &&\n                o.usePolicies &&\n                !o.canManagePolicies &&\n                disableSendPolicies.some(p => p.organizationId === o.id && p.enabled);\n        });\n\n        const sendOptionsPolicies = await this.policyService.getAll(PolicyType.SendOptions);\n        this.disableHideEmail = await organizations.some(o => {\n            return o.enabled &&\n                o.status === OrganizationUserStatusType.Confirmed &&\n                o.usePolicies &&\n                !o.canManagePolicies &&\n                sendOptionsPolicies.some(p => p.organizationId === o.id && p.enabled && p.data.disableHideEmail);\n        });\n\n        this.canAccessPremium = await this.userService.canAccessPremium();\n        this.emailVerified = await this.userService.getEmailVerified();\n        if (!this.canAccessPremium || !this.emailVerified) {\n            this.type = SendType.Text;\n        }\n\n        if (this.send == null) {\n            if (this.editMode) {\n                const send = await this.loadSend();\n                this.send = await send.decrypt();\n            } else {\n                this.send = new SendView();\n                this.send.type = this.type == null ? SendType.File : this.type;\n                this.send.file = new SendFileView();\n                this.send.text = new SendTextView();\n                this.send.deletionDate = new Date();\n                this.send.deletionDate.setDate(this.send.deletionDate.getDate() + 7);\n            }\n        }\n\n        this.hasPassword = this.send.password != null && this.send.password.trim() !== '';\n\n        // Parse dates\n        if (!this.isDateTimeLocalSupported) {\n            const deletionDateParts = this.dateToSplitString(this.send.deletionDate);\n            if (deletionDateParts !== undefined && deletionDateParts.length > 0) {\n                this.deletionDateFallback = deletionDateParts[0];\n                this.deletionTimeFallback = deletionDateParts[1];\n                if (this.isSafari) {\n                    this.safariDeletionTime = this.deletionTimeFallback;\n                }\n            }\n\n            const expirationDateParts = this.dateToSplitString(this.send.expirationDate);\n            if (expirationDateParts !== undefined && expirationDateParts.length > 0) {\n                this.expirationDateFallback = expirationDateParts[0];\n                this.expirationTimeFallback = expirationDateParts[1];\n                if (this.isSafari) {\n                    this.safariExpirationTime = this.expirationTimeFallback;\n                }\n            }\n        } else {\n            this.deletionDate = this.dateToString(this.send.deletionDate);\n            this.expirationDate = this.dateToString(this.send.expirationDate);\n        }\n\n        if (this.isSafari) {\n            this.safariDeletionTimeOptions = this.safariTimeOptions(DateField.DeletionDate);\n            this.safariExpirationTimeOptions = this.safariTimeOptions(DateField.ExpriationDate);\n        }\n    }\n\n    async submit(): Promise<boolean> {\n        if (!this.isDateTimeLocalSupported) {\n            if (this.isSafari) {\n                this.expirationTimeFallback = this.safariExpirationTime ?? this.expirationTimeFallback;\n                this.deletionTimeFallback = this.safariDeletionTime ?? this.deletionTimeFallback;\n            }\n            this.deletionDate = this.deletionDateTimeFallback;\n            if (this.expirationDateTimeFallback != null && isNaN(Date.parse(this.expirationDateTimeFallback))) {\n                this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                    this.i18nService.t('expirationDateIsInvalid'));\n                return;\n            }\n            if (isNaN(Date.parse(this.deletionDateTimeFallback))) {\n                this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                    this.i18nService.t('deletionDateIsInvalid'));\n                return;\n            }\n            if (this.nullOrWhiteSpaceCount([this.expirationDateFallback, this.expirationTimeFallback]) === 1) {\n                this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                    this.i18nService.t('expirationDateAndTimeRequired'));\n                return;\n            }\n            if (this.editMode || this.expirationDateSelect === 0) {\n                this.expirationDate = this.expirationDateTimeFallback;\n            }\n        }\n\n        if (this.disableSend) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('sendDisabledWarning'));\n            return false;\n        }\n\n        if (this.send.name == null || this.send.name === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('nameRequired'));\n            return false;\n        }\n\n        let file: File = null;\n        if (this.send.type === SendType.File && !this.editMode) {\n            const fileEl = document.getElementById('file') as HTMLInputElement;\n            const files = fileEl.files;\n            if (files == null || files.length === 0) {\n                this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                    this.i18nService.t('selectFile'));\n                return;\n            }\n\n            file = files[0];\n            if (files[0].size > 524288000) { // 500 MB\n                this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                    this.i18nService.t('maxFileSize'));\n                return;\n            }\n        }\n\n        if (!this.editMode) {\n            const now = new Date();\n            if (this.deletionDateSelect > 0) {\n                const d = new Date();\n                d.setHours(now.getHours() + this.deletionDateSelect);\n                this.deletionDate = this.dateToString(d);\n            }\n            if (this.expirationDateSelect != null && this.expirationDateSelect > 0) {\n                const d = new Date();\n                d.setHours(now.getHours() + this.expirationDateSelect);\n                this.expirationDate = this.dateToString(d);\n            }\n        }\n\n        if (this.password != null && this.password.trim() === '') {\n            this.password = null;\n        }\n\n        const encSend = await this.encryptSend(file);\n        try {\n            this.formPromise = this.sendService.saveWithServer(encSend);\n            await this.formPromise;\n            if (this.send.id == null) {\n                this.send.id = encSend[0].id;\n            }\n            if (this.send.accessId == null) {\n                this.send.accessId = encSend[0].accessId;\n            }\n            this.platformUtilsService.showToast('success', null,\n                this.i18nService.t(this.editMode ? 'editedSend' : 'createdSend'));\n            this.onSavedSend.emit(this.send);\n            if (this.copyLink) {\n                this.copyLinkToClipboard(this.link);\n            }\n            return true;\n        } catch { }\n\n        return false;\n    }\n\n    clearExpiration() {\n        this.expirationDate = null;\n        this.expirationDateFallback = null;\n        this.expirationTimeFallback = null;\n        this.safariExpirationTime = null;\n    }\n\n    copyLinkToClipboard(link: string) {\n        if (link != null) {\n            this.platformUtilsService.copyToClipboard(link);\n        }\n    }\n\n    async delete(): Promise<boolean> {\n        if (this.deletePromise != null) {\n            return false;\n        }\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteSendConfirmation'),\n            this.i18nService.t('deleteSend'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.deletePromise = this.sendService.deleteWithServer(this.send.id);\n            await this.deletePromise;\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('deletedSend'));\n            await this.load();\n            this.onDeletedSend.emit(this.send);\n            return true;\n        } catch { }\n\n        return false;\n    }\n\n    typeChanged() {\n        if (this.send.type === SendType.File && !this.alertShown)\n        {\n            if (!this.canAccessPremium) {\n                this.alertShown = true;\n                this.messagingService.send('premiumRequired');\n            } else if (!this.emailVerified) {\n                this.alertShown = true;\n                this.messagingService.send('emailVerificationRequired');\n            }\n        }\n    }\n\n    toggleOptions() {\n        this.showOptions = !this.showOptions;\n    }\n\n    expirationDateFallbackChanged() {\n        this.isSafari ?\n            this.safariExpirationTime = this.safariExpirationTime ?? '00:00' :\n            this.expirationTimeFallback = this.expirationTimeFallback ?? this.datePipe.transform(new Date(), 'HH:mm');\n    }\n\n    protected async loadSend(): Promise<Send> {\n        return this.sendService.get(this.sendId);\n    }\n\n    protected async encryptSend(file: File): Promise<[Send, EncArrayBuffer]> {\n        const sendData = await this.sendService.encrypt(this.send, file, this.password, null);\n\n        // Parse dates\n        try {\n            sendData[0].deletionDate = this.deletionDate == null ? null : new Date(this.deletionDate);\n        } catch {\n            sendData[0].deletionDate = null;\n        }\n        try {\n            sendData[0].expirationDate = this.expirationDate == null ? null : new Date(this.expirationDate);\n        } catch {\n            sendData[0].expirationDate = null;\n        }\n\n        return sendData;\n    }\n\n    protected dateToString(d: Date) {\n        return d == null ? null : this.datePipe.transform(d, 'yyyy-MM-ddTHH:mm');\n    }\n\n    protected formatDateFallbacks(dateString: string) {\n        try {\n            // The Firefox date picker doesn't supply a time, safari's polyfill does.\n            // Unknown if Safari's native date picker will or not when it releases.\n            if (!this.isSafari) {\n                dateString += ' 00:00';\n            }\n            return this.datePipe.transform(new Date(dateString), 'yyyy-MM-dd');\n        } catch {\n            // this should never happen\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('dateParsingError'));\n        }\n    }\n\n    protected dateToSplitString(d: Date) {\n        if (d != null) {\n            const date = !this.isSafari ?\n                this.datePipe.transform(d, 'yyyy-MM-dd') :\n                this.datePipe.transform(d, 'MM/dd/yyyy');\n            const time = this.datePipe.transform(d, 'HH:mm');\n            return [date, time];\n        }\n    }\n\n    protected togglePasswordVisible() {\n        this.showPassword = !this.showPassword;\n        document.getElementById('password').focus();\n    }\n\n    protected nullOrWhiteSpaceCount(strarray: string[]): number {\n        return strarray.filter(str => str == null || str.trim() === '').length;\n    }\n\n    protected safariTimeOptions(field: DateField): TimeOption[] {\n        // init individual arrays for major sort groups\n        const noon: TimeOption[] = [];\n        const midnight: TimeOption[] = [];\n        const ams: TimeOption[] = [];\n        const pms: TimeOption[] = [];\n\n        // determine minute skip (5 min, 10 min, 15 min, etc.)\n        const minuteIncrementer = 15;\n\n        // loop through each hour on a 12 hour system\n        for (let h = 1; h <= 12; h++) {\n            // loop through each minute in the hour using the skip to incriment\n            for (let m = 0; m < 60; m += minuteIncrementer) {\n                // init the final strings that will be added to the lists\n                let hour = h.toString();\n                let minutes = m.toString();\n\n                // add prepending 0s to single digit hours/minutes\n                if (h < 10) {\n                    hour = '0' + hour;\n                }\n                if (m < 10) {\n                    minutes = '0' + minutes;\n                }\n\n                // build time strings and push to relevant sort groups\n                if (h === 12) {\n                    const midnightOption: TimeOption = {\n                        standard: `${hour}:${minutes} AM`,\n                        military: `00:${minutes}`,\n                    };\n                    midnight.push(midnightOption);\n\n                    const noonOption: TimeOption = {\n                        standard: `${hour}:${minutes} PM`,\n                        military: `${hour}:${minutes}`,\n                    };\n                    noon.push(noonOption);\n                } else {\n                    const amOption: TimeOption = {\n                        standard: `${hour}:${minutes} AM`,\n                        military: `${hour}:${minutes}`,\n                    };\n                    ams.push(amOption);\n\n                    const pmOption: TimeOption = {\n                        standard: `${hour}:${minutes} PM`,\n                        military: `${h + 12}:${minutes}`,\n                    };\n                    pms.push(pmOption);\n                }\n            }\n        }\n\n        // bring all the arrays together in the right order\n        const validTimes = [...midnight, ...ams, ...noon, ...pms];\n\n        // determine if an unsupported value already exists on the send & add that to the top of the option list\n        // example: if the Send was created with a different client\n        if (field === DateField.ExpriationDate && this.expirationDateTimeFallback != null && this.editMode) {\n            const previousValue: TimeOption = {\n                standard: this.datePipe.transform(this.expirationDateTimeFallback, 'hh:mm a'),\n                military: this.datePipe.transform(this.expirationDateTimeFallback, 'HH:mm'),\n            };\n            return [previousValue, { standard: null, military: null }, ...validTimes];\n        } else if (field === DateField.DeletionDate && this.deletionDateTimeFallback != null && this.editMode) {\n            const previousValue: TimeOption = {\n                standard: this.datePipe.transform(this.deletionDateTimeFallback, 'hh:mm a'),\n                military: this.datePipe.transform(this.deletionDateTimeFallback, 'HH:mm'),\n            };\n            return [previousValue, ...validTimes];\n        } else {\n            return [{ standard: null, military: null }, ...validTimes];\n        }\n    }\n}\n","export class UpdateProfileRequest {\n    name: string;\n    masterPasswordHint: string;\n    culture = 'en-US'; // deprecated\n\n    constructor(name: string, masterPasswordHint: string) {\n        this.name = name;\n        this.masterPasswordHint = masterPasswordHint ? masterPasswordHint : null;\n    }\n}\n","import { EmailTokenRequest } from './emailTokenRequest';\n\nexport class EmailRequest extends EmailTokenRequest {\n    newMasterPasswordHash: string;\n    token: string;\n    key: string;\n}\n","import { PasswordRequest } from './passwordRequest';\n\nimport { KdfType } from '../../enums/kdfType';\n\nexport class KdfRequest extends PasswordRequest {\n    kdf: KdfType;\n    kdfIterations: number;\n}\n","export class UpdateDomainsRequest {\n    equivalentDomains: string[][];\n    excludedGlobalEquivalentDomains: number[];\n}\n","import {\n    Directive,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PasswordGenerationService } from '../../abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nimport { PasswordGeneratorPolicyOptions } from '../../models/domain/passwordGeneratorPolicyOptions';\n\n@Directive()\nexport class PasswordGeneratorComponent implements OnInit {\n    @Input() showSelect: boolean = false;\n    @Output() onSelected = new EventEmitter<string>();\n\n    options: any = {};\n    password: string = '-';\n    showOptions = false;\n    avoidAmbiguous = false;\n    enforcedPolicyOptions: PasswordGeneratorPolicyOptions;\n\n    constructor(protected passwordGenerationService: PasswordGenerationService,\n        protected platformUtilsService: PlatformUtilsService, protected i18nService: I18nService,\n        private win: Window) { }\n\n    async ngOnInit() {\n        const optionsResponse = await this.passwordGenerationService.getOptions();\n        this.options = optionsResponse[0];\n        this.enforcedPolicyOptions = optionsResponse[1];\n        this.avoidAmbiguous = !this.options.ambiguous;\n        this.options.type = this.options.type === 'passphrase' ? 'passphrase' : 'password';\n        this.password = await this.passwordGenerationService.generatePassword(this.options);\n        await this.passwordGenerationService.addHistory(this.password);\n    }\n\n    async sliderChanged() {\n        this.saveOptions(false);\n        await this.passwordGenerationService.addHistory(this.password);\n    }\n\n    async sliderInput() {\n        this.normalizeOptions();\n        this.password = await this.passwordGenerationService.generatePassword(this.options);\n    }\n\n    async saveOptions(regenerate: boolean = true) {\n        this.normalizeOptions();\n        await this.passwordGenerationService.saveOptions(this.options);\n\n        if (regenerate) {\n            await this.regenerate();\n        }\n    }\n\n    async regenerate() {\n        this.password = await this.passwordGenerationService.generatePassword(this.options);\n        await this.passwordGenerationService.addHistory(this.password);\n    }\n\n    copy() {\n        const copyOptions = this.win != null ? { window: this.win } : null;\n        this.platformUtilsService.copyToClipboard(this.password, copyOptions);\n        this.platformUtilsService.showToast('info', null,\n            this.i18nService.t('valueCopied', this.i18nService.t('password')));\n    }\n\n    select() {\n        this.onSelected.emit(this.password);\n    }\n\n    toggleOptions() {\n        this.showOptions = !this.showOptions;\n    }\n\n    private normalizeOptions() {\n        // Application level normalize options depedent on class variables\n        this.options.ambiguous = !this.avoidAmbiguous;\n\n        if (!this.options.uppercase && !this.options.lowercase && !this.options.number && !this.options.special) {\n            this.options.lowercase = true;\n            if (this.win != null) {\n                const lowercase = this.win.document.querySelector('#lowercase') as HTMLInputElement;\n                if (lowercase) {\n                    lowercase.checked = true;\n                }\n            }\n        }\n\n        this.passwordGenerationService.normalizeOptions(this.options, this.enforcedPolicyOptions);\n    }\n}\n","import { OnInit } from '@angular/core';\n\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PasswordGenerationService } from '../../abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nimport { GeneratedPasswordHistory } from '../../models/domain/generatedPasswordHistory';\n\nexport class PasswordGeneratorHistoryComponent implements OnInit {\n    history: GeneratedPasswordHistory[] = [];\n\n    constructor(protected passwordGenerationService: PasswordGenerationService,\n        protected platformUtilsService: PlatformUtilsService, protected i18nService: I18nService,\n        private win: Window) { }\n\n    async ngOnInit() {\n        this.history = await this.passwordGenerationService.getHistory();\n    }\n\n    clear() {\n        this.history = [];\n        this.passwordGenerationService.clear();\n    }\n\n    copy(password: string) {\n        const copyOptions = this.win != null ? { window: this.win } : null;\n        this.platformUtilsService.copyToClipboard(password, copyOptions);\n        this.platformUtilsService.showToast('info', null,\n            this.i18nService.t('valueCopied', this.i18nService.t('password')));\n    }\n}\n","import {\n    Directive,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { FolderService } from '../../abstractions/folder.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nimport { FolderView } from '../../models/view/folderView';\n\n@Directive()\nexport class FolderAddEditComponent implements OnInit {\n    @Input() folderId: string;\n    @Output() onSavedFolder = new EventEmitter<FolderView>();\n    @Output() onDeletedFolder = new EventEmitter<FolderView>();\n\n    editMode: boolean = false;\n    folder: FolderView = new FolderView();\n    title: string;\n    formPromise: Promise<any>;\n    deletePromise: Promise<any>;\n\n    constructor(protected folderService: FolderService, protected i18nService: I18nService,\n        protected platformUtilsService: PlatformUtilsService) { }\n\n    async ngOnInit() {\n        await this.init();\n    }\n\n    async submit(): Promise<boolean> {\n        if (this.folder.name == null || this.folder.name === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('nameRequired'));\n            return false;\n        }\n\n        try {\n            const folder = await this.folderService.encrypt(this.folder);\n            this.formPromise = this.folderService.saveWithServer(folder);\n            await this.formPromise;\n            this.platformUtilsService.showToast('success', null,\n                this.i18nService.t(this.editMode ? 'editedFolder' : 'addedFolder'));\n            this.onSavedFolder.emit(this.folder);\n            return true;\n        } catch { }\n\n        return false;\n    }\n\n    async delete(): Promise<boolean> {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteFolderConfirmation'), this.i18nService.t('deleteFolder'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.deletePromise = this.folderService.deleteWithServer(this.folder.id);\n            await this.deletePromise;\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('deletedFolder'));\n            this.onDeletedFolder.emit(this.folder);\n        } catch { }\n\n        return true;\n    }\n\n    protected async init() {\n        this.editMode = this.folderId != null;\n\n        if (this.editMode) {\n            this.editMode = true;\n            this.title = this.i18nService.t('editFolder');\n            const folder = await this.folderService.get(this.folderId);\n            this.folder = await folder.decrypt();\n        } else {\n            this.title = this.i18nService.t('addFolder');\n        }\n    }\n}\n","import {\n    Directive,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { OrganizationUserStatusType } from '../../enums/organizationUserStatusType';\n\nimport { CipherService } from '../../abstractions/cipher.service';\nimport { CollectionService } from '../../abstractions/collection.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { UserService } from '../../abstractions/user.service';\n\nimport { Organization } from '../../models/domain/organization';\nimport { CipherView } from '../../models/view/cipherView';\nimport { CollectionView } from '../../models/view/collectionView';\n\nimport { Utils } from '../../misc/utils';\n\n@Directive()\nexport class ShareComponent implements OnInit {\n    @Input() cipherId: string;\n    @Input() organizationId: string;\n    @Output() onSharedCipher = new EventEmitter();\n\n    formPromise: Promise<any>;\n    cipher: CipherView;\n    collections: CollectionView[] = [];\n    organizations: Organization[] = [];\n\n    protected writeableCollections: CollectionView[] = [];\n\n    constructor(protected collectionService: CollectionService, protected platformUtilsService: PlatformUtilsService,\n        protected i18nService: I18nService, protected userService: UserService,\n        protected cipherService: CipherService) { }\n\n    async ngOnInit() {\n        await this.load();\n    }\n\n    async load() {\n        const allCollections = await this.collectionService.getAllDecrypted();\n        this.writeableCollections = allCollections.map(c => c).filter(c => !c.readOnly);\n        const orgs = await this.userService.getAllOrganizations();\n        this.organizations = orgs.sort(Utils.getSortFunction(this.i18nService, 'name'))\n            .filter(o => o.enabled && o.status === OrganizationUserStatusType.Confirmed);\n\n        const cipherDomain = await this.cipherService.get(this.cipherId);\n        this.cipher = await cipherDomain.decrypt();\n        if (this.organizationId == null && this.organizations.length > 0) {\n            this.organizationId = this.organizations[0].id;\n        }\n        this.filterCollections();\n    }\n\n    filterCollections() {\n        this.writeableCollections.forEach(c => (c as any).checked = false);\n        if (this.organizationId == null || this.writeableCollections.length === 0) {\n            this.collections = [];\n        } else {\n            this.collections = this.writeableCollections.filter(c => c.organizationId === this.organizationId);\n        }\n    }\n\n    async submit(): Promise<boolean> {\n        const selectedCollectionIds = this.collections\n            .filter(c => !!(c as any).checked)\n            .map(c => c.id);\n        if (selectedCollectionIds.length === 0) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('selectOneCollection'));\n            return;\n        }\n\n        const cipherDomain = await this.cipherService.get(this.cipherId);\n        const cipherView = await cipherDomain.decrypt();\n\n        try {\n            this.formPromise = this.cipherService.shareWithServer(cipherView, this.organizationId,\n                selectedCollectionIds).then(async () => {\n                    this.onSharedCipher.emit();\n                    this.platformUtilsService.showToast('success', null, this.i18nService.t('sharedItem'));\n                });\n            await this.formPromise;\n            return true;\n        } catch { }\n        return false;\n    }\n\n    get canSave() {\n        if (this.collections != null) {\n            for (let i = 0; i < this.collections.length; i++) {\n                if ((this.collections[i] as any).checked) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n}\n","export { AttachmentData } from './attachmentData';\nexport { CardData } from './cardData';\nexport { CipherData } from './cipherData';\nexport { CollectionData } from './collectionData';\nexport { FieldData } from './fieldData';\nexport { FolderData } from './folderData';\nexport { IdentityData } from './identityData';\nexport { LoginData } from './loginData';\nexport { LoginUriData } from './loginUriData';\nexport { SecureNoteData } from './secureNoteData';\n","export { Attachment } from './attachment';\nexport { AuthResult } from './authResult';\nexport { Card } from './card';\nexport { Cipher } from './cipher';\nexport { EncString } from './encString';\nexport { Collection } from './collection';\nexport { EncryptedObject } from './encryptedObject';\nexport { EnvironmentUrls } from './environmentUrls';\nexport { Field } from './field';\nexport { Folder } from './folder';\nexport { Identity } from './identity';\nexport { Login } from './login';\nexport { LoginUri } from './loginUri';\nexport { GeneratedPasswordHistory } from './generatedPasswordHistory';\nexport { SecureNote } from './secureNote';\nexport { SymmetricCryptoKey } from './symmetricCryptoKey';\n","export class EmergencyAccessConfirmRequest {\n    key: string;\n}\n","import { EmergencyAccessType } from '../../enums/emergencyAccessType';\n\nexport class EmergencyAccessInviteRequest {\n    email: string;\n    type: EmergencyAccessType;\n    waitTimeDays: number;\n}\n","export class EmergencyAccessPasswordRequest {\n    newMasterPasswordHash: string;\n    key: string;\n}\n","import {\n    APP_INITIALIZER,\n    LOCALE_ID,\n    NgModule,\n} from '@angular/core';\n\nimport { ToasterModule } from 'angular2-toaster';\n\nimport { BroadcasterMessagingService } from '../../services/broadcasterMessaging.service';\nimport { HtmlStorageService } from '../../services/htmlStorage.service';\nimport { I18nService } from '../../services/i18n.service';\nimport { MemoryStorageService } from '../../services/memoryStorage.service';\nimport { WebPlatformUtilsService } from '../../services/webPlatformUtils.service';\n\nimport { EventService } from './event.service';\nimport { OrganizationGuardService } from './organization-guard.service';\nimport { OrganizationTypeGuardService } from './organization-type-guard.service';\nimport { RouterService } from './router.service';\n\nimport { AuthGuardService } from 'jslib/angular/services/auth-guard.service';\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\nimport { LockGuardService } from 'jslib/angular/services/lock-guard.service';\nimport { UnauthGuardService } from 'jslib/angular/services/unauth-guard.service';\nimport { ValidationService } from 'jslib/angular/services/validation.service';\n\nimport { ApiService } from 'jslib/services/api.service';\nimport { AppIdService } from 'jslib/services/appId.service';\nimport { AuditService } from 'jslib/services/audit.service';\nimport { AuthService } from 'jslib/services/auth.service';\nimport { CipherService } from 'jslib/services/cipher.service';\nimport { CollectionService } from 'jslib/services/collection.service';\nimport { ConsoleLogService } from 'jslib/services/consoleLog.service';\nimport { ConstantsService } from 'jslib/services/constants.service';\nimport { ContainerService } from 'jslib/services/container.service';\nimport { CryptoService } from 'jslib/services/crypto.service';\nimport { EnvironmentService } from 'jslib/services/environment.service';\nimport { EventService as EventLoggingService } from 'jslib/services/event.service';\nimport { ExportService } from 'jslib/services/export.service';\nimport { FileUploadService } from 'jslib/services/fileUpload.service';\nimport { FolderService } from 'jslib/services/folder.service';\nimport { ImportService } from 'jslib/services/import.service';\nimport { NotificationsService } from 'jslib/services/notifications.service';\nimport { PasswordGenerationService } from 'jslib/services/passwordGeneration.service';\nimport { PolicyService } from 'jslib/services/policy.service';\nimport { SearchService } from 'jslib/services/search.service';\nimport { SendService } from 'jslib/services/send.service';\nimport { SettingsService } from 'jslib/services/settings.service';\nimport { StateService } from 'jslib/services/state.service';\nimport { SyncService } from 'jslib/services/sync.service';\nimport { TokenService } from 'jslib/services/token.service';\nimport { TotpService } from 'jslib/services/totp.service';\nimport { UserService } from 'jslib/services/user.service';\nimport { VaultTimeoutService } from 'jslib/services/vaultTimeout.service';\nimport { WebCryptoFunctionService } from 'jslib/services/webCryptoFunction.service';\n\nimport { ApiService as ApiServiceAbstraction } from 'jslib/abstractions/api.service';\nimport { AppIdService as AppIdServiceAbstraction } from 'jslib/abstractions/appId.service';\nimport { AuditService as AuditServiceAbstraction } from 'jslib/abstractions/audit.service';\nimport { AuthService as AuthServiceAbstraction } from 'jslib/abstractions/auth.service';\nimport { CipherService as CipherServiceAbstraction } from 'jslib/abstractions/cipher.service';\nimport { CollectionService as CollectionServiceAbstraction } from 'jslib/abstractions/collection.service';\nimport { CryptoService as CryptoServiceAbstraction } from 'jslib/abstractions/crypto.service';\nimport { CryptoFunctionService as CryptoFunctionServiceAbstraction } from 'jslib/abstractions/cryptoFunction.service';\nimport { EnvironmentService as EnvironmentServiceAbstraction } from 'jslib/abstractions/environment.service';\nimport { EventService as EventLoggingServiceAbstraction } from 'jslib/abstractions/event.service';\nimport { ExportService as ExportServiceAbstraction } from 'jslib/abstractions/export.service';\nimport { FileUploadService as FileUploadServiceAbstraction }  from 'jslib/abstractions/fileUpload.service';\nimport { FolderService as FolderServiceAbstraction } from 'jslib/abstractions/folder.service';\nimport { I18nService as I18nServiceAbstraction } from 'jslib/abstractions/i18n.service';\nimport { ImportService as ImportServiceAbstraction } from 'jslib/abstractions/import.service';\nimport { LogService as LogServiceAbstraction } from 'jslib/abstractions/log.service';\nimport { MessagingService as MessagingServiceAbstraction } from 'jslib/abstractions/messaging.service';\nimport { NotificationsService as NotificationsServiceAbstraction } from 'jslib/abstractions/notifications.service';\nimport {\n    PasswordGenerationService as PasswordGenerationServiceAbstraction,\n} from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService as PlatformUtilsServiceAbstraction } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService as PolicyServiceAbstraction } from 'jslib/abstractions/policy.service';\nimport { SearchService as SearchServiceAbstraction } from 'jslib/abstractions/search.service';\nimport { SendService as SendServiceAbstraction } from 'jslib/abstractions/send.service';\nimport { SettingsService as SettingsServiceAbstraction } from 'jslib/abstractions/settings.service';\nimport { StateService as StateServiceAbstraction } from 'jslib/abstractions/state.service';\nimport { StorageService as StorageServiceAbstraction } from 'jslib/abstractions/storage.service';\nimport { SyncService as SyncServiceAbstraction } from 'jslib/abstractions/sync.service';\nimport { TokenService as TokenServiceAbstraction } from 'jslib/abstractions/token.service';\nimport { TotpService as TotpServiceAbstraction } from 'jslib/abstractions/totp.service';\nimport { UserService as UserServiceAbstraction } from 'jslib/abstractions/user.service';\nimport { VaultTimeoutService as VaultTimeoutServiceAbstraction } from 'jslib/abstractions/vaultTimeout.service';\n\nconst i18nService = new I18nService(window.navigator.language, 'locales');\nconst stateService = new StateService();\nconst broadcasterService = new BroadcasterService();\nconst messagingService = new BroadcasterMessagingService(broadcasterService);\nconst platformUtilsService = new WebPlatformUtilsService(i18nService, messagingService);\nconst storageService: StorageServiceAbstraction = new HtmlStorageService(platformUtilsService);\nconst secureStorageService: StorageServiceAbstraction = new MemoryStorageService();\nconst cryptoFunctionService: CryptoFunctionServiceAbstraction = new WebCryptoFunctionService(window,\n    platformUtilsService);\nconst consoleLogService = new ConsoleLogService(false);\nconst cryptoService = new CryptoService(storageService,\n    platformUtilsService.isDev() ? storageService : secureStorageService, cryptoFunctionService, platformUtilsService,\n    consoleLogService);\nconst tokenService = new TokenService(storageService);\nconst appIdService = new AppIdService(storageService);\nconst apiService = new ApiService(tokenService, platformUtilsService,\n    async (expired: boolean) => messagingService.send('logout', { expired: expired }));\nconst userService = new UserService(tokenService, storageService);\nconst settingsService = new SettingsService(userService, storageService);\nexport let searchService: SearchService = null;\nconst fileUploadService = new FileUploadService(consoleLogService, apiService);\nconst cipherService = new CipherService(cryptoService, userService, settingsService,\n    apiService, fileUploadService, storageService, i18nService, () => searchService);\nconst folderService = new FolderService(cryptoService, userService, apiService, storageService,\n    i18nService, cipherService);\nconst collectionService = new CollectionService(cryptoService, userService, storageService, i18nService);\nsearchService = new SearchService(cipherService, consoleLogService, i18nService);\nconst policyService = new PolicyService(userService, storageService);\nconst sendService = new SendService(cryptoService, userService, apiService, fileUploadService, storageService,\n    i18nService, cryptoFunctionService);\nconst vaultTimeoutService = new VaultTimeoutService(cipherService, folderService, collectionService,\n    cryptoService, platformUtilsService, storageService, messagingService, searchService, userService, tokenService,\n    null, async () => messagingService.send('logout', { expired: false }));\nconst syncService = new SyncService(userService, apiService, settingsService,\n    folderService, cipherService, cryptoService, collectionService, storageService, messagingService, policyService,\n    sendService, async (expired: boolean) => messagingService.send('logout', { expired: expired }));\nconst passwordGenerationService = new PasswordGenerationService(cryptoService, storageService, policyService);\nconst totpService = new TotpService(storageService, cryptoFunctionService);\nconst containerService = new ContainerService(cryptoService);\nconst authService = new AuthService(cryptoService, apiService,\n    userService, tokenService, appIdService, i18nService, platformUtilsService, messagingService, vaultTimeoutService,\n    consoleLogService);\nconst exportService = new ExportService(folderService, cipherService, apiService);\nconst importService = new ImportService(cipherService, folderService, apiService, i18nService, collectionService,\n    platformUtilsService);\nconst notificationsService = new NotificationsService(userService, syncService, appIdService,\n    apiService, vaultTimeoutService, async () => messagingService.send('logout', { expired: true }), consoleLogService);\nconst environmentService = new EnvironmentService(apiService, storageService, notificationsService);\nconst auditService = new AuditService(cryptoFunctionService, apiService);\nconst eventLoggingService = new EventLoggingService(storageService, apiService, userService, cipherService);\n\ncontainerService.attachToWindow(window);\n\nexport function initFactory(): Function {\n    return async () => {\n        await (storageService as HtmlStorageService).init();\n        const isDev = platformUtilsService.isDev();\n\n        if (isDev || platformUtilsService.isSelfHost()) {\n            environmentService.baseUrl = window.location.origin;\n        } else {\n            environmentService.notificationsUrl = 'https://notifications.bitwarden.com';\n            environmentService.enterpriseUrl = 'https://portal.bitwarden.com';\n        }\n\n        apiService.setUrls({\n            base: window.location.origin,\n            api: null,\n            identity: null,\n            events: null,\n        });\n        setTimeout(() => notificationsService.init(environmentService), 3000);\n\n        vaultTimeoutService.init(true);\n        const locale = await storageService.get<string>(ConstantsService.localeKey);\n        await i18nService.init(locale);\n        eventLoggingService.init(true);\n        authService.init();\n        const htmlEl = window.document.documentElement;\n        htmlEl.classList.add('locale_' + i18nService.translationLocale);\n        let theme = await storageService.get<string>(ConstantsService.themeKey);\n        if (theme == null) {\n            theme = 'light';\n        }\n        htmlEl.classList.add('theme_' + theme);\n        stateService.save(ConstantsService.disableFaviconKey,\n            await storageService.get<boolean>(ConstantsService.disableFaviconKey));\n        stateService.save('enableGravatars', await storageService.get<boolean>('enableGravatars'));\n    };\n}\n\n@NgModule({\n    imports: [\n        ToasterModule,\n    ],\n    declarations: [],\n    providers: [\n        ValidationService,\n        AuthGuardService,\n        OrganizationGuardService,\n        OrganizationTypeGuardService,\n        UnauthGuardService,\n        RouterService,\n        EventService,\n        LockGuardService,\n        { provide: AuditServiceAbstraction, useValue: auditService },\n        { provide: AuthServiceAbstraction, useValue: authService },\n        { provide: CipherServiceAbstraction, useValue: cipherService },\n        { provide: FolderServiceAbstraction, useValue: folderService },\n        { provide: CollectionServiceAbstraction, useValue: collectionService },\n        { provide: EnvironmentServiceAbstraction, useValue: environmentService },\n        { provide: TotpServiceAbstraction, useValue: totpService },\n        { provide: TokenServiceAbstraction, useValue: tokenService },\n        { provide: I18nServiceAbstraction, useValue: i18nService },\n        { provide: CryptoServiceAbstraction, useValue: cryptoService },\n        { provide: PlatformUtilsServiceAbstraction, useValue: platformUtilsService },\n        { provide: PasswordGenerationServiceAbstraction, useValue: passwordGenerationService },\n        { provide: ApiServiceAbstraction, useValue: apiService },\n        { provide: FileUploadServiceAbstraction, useValue: fileUploadService },\n        { provide: SyncServiceAbstraction, useValue: syncService },\n        { provide: UserServiceAbstraction, useValue: userService },\n        { provide: MessagingServiceAbstraction, useValue: messagingService },\n        { provide: BroadcasterService, useValue: broadcasterService },\n        { provide: SettingsServiceAbstraction, useValue: settingsService },\n        { provide: VaultTimeoutServiceAbstraction, useValue: vaultTimeoutService },\n        { provide: StorageServiceAbstraction, useValue: storageService },\n        { provide: StateServiceAbstraction, useValue: stateService },\n        { provide: ExportServiceAbstraction, useValue: exportService },\n        { provide: SearchServiceAbstraction, useValue: searchService },\n        { provide: ImportServiceAbstraction, useValue: importService },\n        { provide: NotificationsServiceAbstraction, useValue: notificationsService },\n        { provide: CryptoFunctionServiceAbstraction, useValue: cryptoFunctionService },\n        { provide: EventLoggingServiceAbstraction, useValue: eventLoggingService },\n        { provide: PolicyServiceAbstraction, useValue: policyService },\n        { provide: SendServiceAbstraction, useValue: sendService },\n        {\n            provide: APP_INITIALIZER,\n            useFactory: initFactory,\n            deps: [],\n            multi: true,\n        },\n        {\n            provide: LOCALE_ID,\n            useFactory: () => i18nService.translationLocale,\n            deps: [],\n        },\n    ],\n})\nexport class ServicesModule {\n}\n","import { MessagingService } from 'jslib/abstractions/messaging.service';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nexport class BroadcasterMessagingService implements MessagingService {\n    constructor(private broadcasterService: BroadcasterService) { }\n\n    send(subscriber: string, arg: any = {}) {\n        const message = Object.assign({}, { command: subscriber }, arg);\n        this.broadcasterService.send(message);\n    }\n}\n","import { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\nimport { ConstantsService } from 'jslib/services';\n\nexport class HtmlStorageService implements StorageService {\n    private localStorageKeys = new Set(['appId', 'anonymousAppId', 'rememberedEmail', 'passwordGenerationOptions',\n        ConstantsService.disableFaviconKey, 'rememberEmail', 'enableGravatars', 'enableFullWidth',\n        ConstantsService.localeKey, ConstantsService.autoConfirmFingerprints,\n        ConstantsService.vaultTimeoutKey, ConstantsService.vaultTimeoutActionKey, ConstantsService.ssoCodeVerifierKey,\n        ConstantsService.ssoStateKey, 'ssoOrgIdentifier']);\n    private localStorageStartsWithKeys = ['twoFactorToken_', ConstantsService.collapsedGroupingsKey + '_'];\n    private memoryStorageStartsWithKeys = ['ciphers_', 'folders_', 'collections_', 'settings_', 'lastSync_'];\n    private memoryStorage = new Map<string, string>();\n\n    constructor(private platformUtilsService: PlatformUtilsService) { }\n\n    async init() {\n        // LockOption -> VaultTimeout (uses the same legacy string value for backwards compat)\n        const vaultTimeout = await this.get<number>(ConstantsService.vaultTimeoutKey);\n        if (vaultTimeout == null && !this.platformUtilsService.isDev()) {\n            await this.save(ConstantsService.vaultTimeoutKey, 15);\n        }\n\n        // Default Action to lock\n        const vaultTimeoutAction = await this.get<string>(ConstantsService.vaultTimeoutActionKey);\n        if (vaultTimeoutAction == null) {\n            await this.save(ConstantsService.vaultTimeoutActionKey, 'lock');\n        }\n    }\n\n    get<T>(key: string): Promise<T> {\n        let json: string = null;\n        if (this.isLocalStorage(key)) {\n            json = window.localStorage.getItem(key);\n        } else if (this.isMemoryStorage(key)) {\n            json = this.memoryStorage.get(key);\n        } else {\n            json = window.sessionStorage.getItem(key);\n        }\n        if (json != null) {\n            const obj = JSON.parse(json);\n            return Promise.resolve(obj as T);\n        }\n        return Promise.resolve(null);\n    }\n\n    save(key: string, obj: any): Promise<any> {\n        if (obj == null) {\n            return this.remove(key);\n        }\n\n        const json = JSON.stringify(obj);\n        if (this.isLocalStorage(key)) {\n            window.localStorage.setItem(key, json);\n        } else if (this.isMemoryStorage(key)) {\n            this.memoryStorage.set(key, json);\n        } else {\n            window.sessionStorage.setItem(key, json);\n        }\n        return Promise.resolve();\n    }\n\n    remove(key: string): Promise<any> {\n        if (this.isLocalStorage(key)) {\n            window.localStorage.removeItem(key);\n        } else if (this.isMemoryStorage(key)) {\n            this.memoryStorage.delete(key);\n        } else {\n            window.sessionStorage.removeItem(key);\n        }\n        return Promise.resolve();\n    }\n\n    private isLocalStorage(key: string): boolean {\n        if (this.localStorageKeys.has(key)) {\n            return true;\n        }\n        for (const swKey of this.localStorageStartsWithKeys) {\n            if (key.startsWith(swKey)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private isMemoryStorage(key: string): boolean {\n        for (const swKey of this.memoryStorageStartsWithKeys) {\n            if (key.startsWith(swKey)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","export { ApiService } from './api.service';\nexport { AppIdService } from './appId.service';\nexport { AuditService } from './audit.service';\nexport { AuthService } from './auth.service';\nexport { CipherService } from './cipher.service';\nexport { CollectionService } from './collection.service';\nexport { ConstantsService } from './constants.service';\nexport { ContainerService } from './container.service';\nexport { CryptoService } from './crypto.service';\nexport { EnvironmentService } from './environment.service';\nexport { FolderService } from './folder.service';\nexport { I18nService } from './i18n.service';\nexport { PasswordGenerationService } from './passwordGeneration.service';\nexport { SettingsService } from './settings.service';\nexport { StateService } from './state.service';\nexport { SyncService } from './sync.service';\nexport { TokenService } from './token.service';\nexport { TotpService } from './totp.service';\nexport { UserService } from './user.service';\nexport { VaultTimeoutService } from './vaultTimeout.service';\n","import { BaseResponse } from './baseResponse';\n\nexport class ApiKeyResponse extends BaseResponse {\n    apiKey: string;\n\n    constructor(response: any) {\n        super(response);\n        this.apiKey = this.getResponseProperty('ApiKey');\n    }\n}\n","import { FileUploadType } from '../../enums/fileUploadType';\nimport { BaseResponse } from './baseResponse';\nimport { CipherResponse } from './cipherResponse';\n\nexport class AttachmentUploadDataResponse extends BaseResponse {\n    attachmentId: string;\n    fileUploadType: FileUploadType;\n    cipherResponse: CipherResponse;\n    cipherMiniResponse: CipherResponse;\n    url: string = null;\n    constructor(response: any) {\n        super(response);\n        this.attachmentId = this.getResponseProperty('AttachmentId');\n        this.fileUploadType = this.getResponseProperty('FileUploadType');\n        const cipherResponse = this.getResponseProperty('CipherResponse');\n        const cipherMiniResponse = this.getResponseProperty('CipherMiniResponse');\n        this.cipherResponse = cipherResponse == null ? null : new CipherResponse(cipherResponse);\n        this.cipherMiniResponse = cipherMiniResponse == null ? null : new CipherResponse(cipherMiniResponse);\n        this.url = this.getResponseProperty('Url');\n    }\n\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { PaymentMethodType } from '../../enums/paymentMethodType';\nimport { TransactionType } from '../../enums/transactionType';\n\nexport class BillingResponse extends BaseResponse {\n    balance: number;\n    paymentSource: BillingSourceResponse;\n    invoices: BillingInvoiceResponse[] = [];\n    transactions: BillingTransactionResponse[] = [];\n\n    constructor(response: any) {\n        super(response);\n        this.balance = this.getResponseProperty('Balance');\n        const paymentSource = this.getResponseProperty('PaymentSource');\n        const transactions = this.getResponseProperty('Transactions');\n        const invoices = this.getResponseProperty('Invoices');\n        this.paymentSource = paymentSource == null ? null : new BillingSourceResponse(paymentSource);\n        if (transactions != null) {\n            this.transactions = transactions.map((t: any) => new BillingTransactionResponse(t));\n        }\n        if (invoices != null) {\n            this.invoices = invoices.map((i: any) => new BillingInvoiceResponse(i));\n        }\n    }\n}\n\nexport class BillingSourceResponse extends BaseResponse {\n    type: PaymentMethodType;\n    cardBrand: string;\n    description: string;\n    needsVerification: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.type = this.getResponseProperty('Type');\n        this.cardBrand = this.getResponseProperty('CardBrand');\n        this.description = this.getResponseProperty('Description');\n        this.needsVerification = this.getResponseProperty('NeedsVerification');\n    }\n}\n\nexport class BillingInvoiceResponse extends BaseResponse {\n    url: string;\n    pdfUrl: string;\n    number: string;\n    paid: boolean;\n    date: string;\n    amount: number;\n\n    constructor(response: any) {\n        super(response);\n        this.url = this.getResponseProperty('Url');\n        this.pdfUrl = this.getResponseProperty('PdfUrl');\n        this.number = this.getResponseProperty('Number');\n        this.paid = this.getResponseProperty('Paid');\n        this.date = this.getResponseProperty('Date');\n        this.amount = this.getResponseProperty('Amount');\n    }\n}\n\nexport class BillingTransactionResponse extends BaseResponse {\n    createdDate: string;\n    amount: number;\n    refunded: boolean;\n    partiallyRefunded: boolean;\n    refundedAmount: number;\n    type: TransactionType;\n    paymentMethodType: PaymentMethodType;\n    details: string;\n\n    constructor(response: any) {\n        super(response);\n        this.createdDate = this.getResponseProperty('CreatedDate');\n        this.amount = this.getResponseProperty('Amount');\n        this.refunded = this.getResponseProperty('Refunded');\n        this.partiallyRefunded = this.getResponseProperty('PartiallyRefunded');\n        this.refundedAmount = this.getResponseProperty('RefundedAmount');\n        this.type = this.getResponseProperty('Type');\n        this.paymentMethodType = this.getResponseProperty('PaymentMethodType');\n        this.details = this.getResponseProperty('Details');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class BreachAccountResponse extends BaseResponse {\n    addedDate: string;\n    breachDate: string;\n    dataClasses: string[];\n    description: string;\n    domain: string;\n    isActive: boolean;\n    isVerified: boolean;\n    logoPath: string;\n    modifiedDate: string;\n    name: string;\n    pwnCount: number;\n    title: string;\n\n    constructor(response: any) {\n        super(response);\n        this.addedDate = this.getResponseProperty('AddedDate');\n        this.breachDate = this.getResponseProperty('BreachDate');\n        this.dataClasses = this.getResponseProperty('DataClasses');\n        this.description = this.getResponseProperty('Description');\n        this.domain = this.getResponseProperty('Domain');\n        this.isActive = this.getResponseProperty('IsActive');\n        this.isVerified = this.getResponseProperty('IsVerified');\n        this.logoPath = this.getResponseProperty('LogoPath');\n        this.modifiedDate = this.getResponseProperty('ModifiedDate');\n        this.name = this.getResponseProperty('Name');\n        this.pwnCount = this.getResponseProperty('PwnCount');\n        this.title = this.getResponseProperty('Title');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { DeviceType } from '../../enums/deviceType';\nimport { EventType } from '../../enums/eventType';\n\nexport class EventResponse extends BaseResponse {\n    type: EventType;\n    userId: string;\n    organizationId: string;\n    cipherId: string;\n    collectionId: string;\n    groupId: string;\n    policyId: string;\n    organizationUserId: string;\n    actingUserId: string;\n    date: string;\n    deviceType: DeviceType;\n    ipAddress: string;\n\n    constructor(response: any) {\n        super(response);\n        this.type = this.getResponseProperty('Type');\n        this.userId = this.getResponseProperty('UserId');\n        this.organizationId = this.getResponseProperty('OrganizationId');\n        this.cipherId = this.getResponseProperty('CipherId');\n        this.collectionId = this.getResponseProperty('CollectionId');\n        this.groupId = this.getResponseProperty('GroupId');\n        this.policyId = this.getResponseProperty('PolicyId');\n        this.organizationUserId = this.getResponseProperty('OrganizationUserId');\n        this.actingUserId = this.getResponseProperty('ActingUserId');\n        this.date = this.getResponseProperty('Date');\n        this.deviceType = this.getResponseProperty('DeviceType');\n        this.ipAddress = this.getResponseProperty('IpAddress');\n    }\n}\n","import { BaseResponse } from './baseResponse';\nimport { SelectionReadOnlyResponse } from './selectionReadOnlyResponse';\n\nexport class GroupResponse extends BaseResponse {\n    id: string;\n    organizationId: string;\n    name: string;\n    accessAll: boolean;\n    externalId: string;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.organizationId = this.getResponseProperty('OrganizationId');\n        this.name = this.getResponseProperty('Name');\n        this.accessAll = this.getResponseProperty('AccessAll');\n        this.externalId = this.getResponseProperty('ExternalId');\n    }\n}\n\nexport class GroupDetailsResponse extends GroupResponse {\n    collections: SelectionReadOnlyResponse[] = [];\n\n    constructor(response: any) {\n        super(response);\n        const collections = this.getResponseProperty('Collections');\n        if (collections != null) {\n            this.collections = collections.map((c: any) => new SelectionReadOnlyResponse(c));\n        }\n    }\n}\n","import { OrganizationResponse } from './organizationResponse';\nimport {\n    BillingSubscriptionResponse,\n    BillingSubscriptionUpcomingInvoiceResponse,\n} from './subscriptionResponse';\n\nexport class OrganizationSubscriptionResponse extends OrganizationResponse {\n    storageName: string;\n    storageGb: number;\n    subscription: BillingSubscriptionResponse;\n    upcomingInvoice: BillingSubscriptionUpcomingInvoiceResponse;\n    expiration: string;\n\n    constructor(response: any) {\n        super(response);\n        this.storageName = this.getResponseProperty('StorageName');\n        this.storageGb = this.getResponseProperty('StorageGb');\n        const subscription = this.getResponseProperty('Subscription');\n        this.subscription = subscription == null ? null : new BillingSubscriptionResponse(subscription);\n        const upcomingInvoice = this.getResponseProperty('UpcomingInvoice');\n        this.upcomingInvoice = upcomingInvoice == null ? null :\n            new BillingSubscriptionUpcomingInvoiceResponse(upcomingInvoice);\n        this.expiration = this.getResponseProperty('Expiration');\n    }\n}\n","import { BaseResponse } from './baseResponse';\nimport { SelectionReadOnlyResponse } from './selectionReadOnlyResponse';\n\nimport { PermissionsApi } from '../api/permissionsApi';\n\nimport { OrganizationUserStatusType } from '../../enums/organizationUserStatusType';\nimport { OrganizationUserType } from '../../enums/organizationUserType';\n\nexport class OrganizationUserResponse extends BaseResponse {\n    id: string;\n    userId: string;\n    type: OrganizationUserType;\n    status: OrganizationUserStatusType;\n    accessAll: boolean;\n    permissions: PermissionsApi;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.userId = this.getResponseProperty('UserId');\n        this.type = this.getResponseProperty('Type');\n        this.status = this.getResponseProperty('Status');\n        this.permissions = new PermissionsApi(this.getResponseProperty('Permissions'));\n        this.accessAll = this.getResponseProperty('AccessAll');\n    }\n}\n\nexport class OrganizationUserUserDetailsResponse extends OrganizationUserResponse {\n    name: string;\n    email: string;\n    twoFactorEnabled: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.name = this.getResponseProperty('Name');\n        this.email = this.getResponseProperty('Email');\n        this.twoFactorEnabled = this.getResponseProperty('TwoFactorEnabled');\n    }\n}\n\nexport class OrganizationUserDetailsResponse extends OrganizationUserResponse {\n    collections: SelectionReadOnlyResponse[] = [];\n\n    constructor(response: any) {\n        super(response);\n        const collections = this.getResponseProperty('Collections');\n        if (collections != null) {\n            this.collections = collections.map((c: any) => new SelectionReadOnlyResponse(c));\n        }\n    }\n}\n","import { BaseResponse } from './baseResponse';\nimport { ProfileResponse } from './profileResponse';\n\nexport class PaymentResponse extends BaseResponse {\n    userProfile: ProfileResponse;\n    paymentIntentClientSecret: string;\n    success: boolean;\n\n    constructor(response: any) {\n        super(response);\n        const userProfile = this.getResponseProperty('UserProfile');\n        if (userProfile != null) {\n            this.userProfile = new ProfileResponse(userProfile);\n        }\n        this.paymentIntentClientSecret = this.getResponseProperty('PaymentIntentClientSecret');\n        this.success = this.getResponseProperty('Success');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { KdfType } from '../../enums/kdfType';\n\nexport class PreloginResponse extends BaseResponse {\n    kdf: KdfType;\n    kdfIterations: number;\n\n    constructor(response: any) {\n        super(response);\n        this.kdf = this.getResponseProperty('Kdf');\n        this.kdfIterations = this.getResponseProperty('KdfIterations');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { SendType } from '../../enums/sendType';\n\nimport { SendFileApi } from '../api/sendFileApi';\nimport { SendTextApi } from '../api/sendTextApi';\n\nexport class SendAccessResponse extends BaseResponse {\n    id: string;\n    type: SendType;\n    name: string;\n    file: SendFileApi;\n    text: SendTextApi;\n    expirationDate: Date;\n    creatorIdentifier: string;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.type = this.getResponseProperty('Type');\n        this.name = this.getResponseProperty('Name');\n\n        const text = this.getResponseProperty('Text');\n        if (text != null) {\n            this.text = new SendTextApi(text);\n        }\n\n        const file = this.getResponseProperty('File');\n        if (file != null) {\n            this.file = new SendFileApi(file);\n        }\n\n        this.expirationDate = this.getResponseProperty('ExpirationDate');\n        this.creatorIdentifier = this.getResponseProperty('CreatorIdentifier');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class SendFileDownloadDataResponse extends BaseResponse {\n\n    id: string = null;\n    url: string = null;\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.url = this.getResponseProperty('Url');\n    }\n}\n","import { FileUploadType } from '../../enums/fileUploadType';\n\nimport { BaseResponse } from './baseResponse';\nimport { SendResponse } from './sendResponse';\n\nexport class SendFileUploadDataResponse extends BaseResponse {\n\n    fileUploadType: FileUploadType;\n    sendResponse: SendResponse;\n    url: string = null;\n    constructor(response: any) {\n        super(response);\n        this.fileUploadType = this.getResponseProperty('FileUploadType');\n        const sendResponse = this.getResponseProperty('SendResponse');\n        this.sendResponse = sendResponse == null ? null : new SendResponse(sendResponse);\n        this.url = this.getResponseProperty('Url');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class TaxInfoResponse extends BaseResponse {\n    taxId: string;\n    taxIdType: string;\n    line1: string;\n    line2: string;\n    city: string;\n    state: string;\n    country: string;\n    postalCode: string;\n\n    constructor(response: any) {\n        super(response);\n        this.taxId = this.getResponseProperty('TaxIdNumber');\n        this.taxIdType = this.getResponseProperty('TaxIdType');\n        this.line1 = this.getResponseProperty('Line1');\n        this.line2 = this.getResponseProperty('Line2');\n        this.city = this.getResponseProperty('City');\n        this.state = this.getResponseProperty('State');\n        this.postalCode = this.getResponseProperty('PostalCode');\n        this.country = this.getResponseProperty('Country');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class TaxRateResponse extends BaseResponse {\n    id: string;\n    country: string;\n    state: string;\n    postalCode: string;\n    rate: number;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.country = this.getResponseProperty('Country');\n        this.state = this.getResponseProperty('State');\n        this.postalCode = this.getResponseProperty('PostalCode');\n        this.rate = this.getResponseProperty('Rate');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class TwoFactorAuthenticatorResponse extends BaseResponse {\n    enabled: boolean;\n    key: string;\n\n    constructor(response: any) {\n        super(response);\n        this.enabled = this.getResponseProperty('Enabled');\n        this.key = this.getResponseProperty('Key');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class TwoFactorDuoResponse extends BaseResponse {\n    enabled: boolean;\n    host: string;\n    secretKey: string;\n    integrationKey: string;\n\n    constructor(response: any) {\n        super(response);\n        this.enabled = this.getResponseProperty('Enabled');\n        this.host = this.getResponseProperty('Host');\n        this.secretKey = this.getResponseProperty('SecretKey');\n        this.integrationKey = this.getResponseProperty('IntegrationKey');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class TwoFactorEmailResponse extends BaseResponse {\n    enabled: boolean;\n    email: string;\n\n    constructor(response: any) {\n        super(response);\n        this.enabled = this.getResponseProperty('Enabled');\n        this.email = this.getResponseProperty('Email');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nexport class TwoFactorProviderResponse extends BaseResponse {\n    enabled: boolean;\n    type: TwoFactorProviderType;\n\n    constructor(response: any) {\n        super(response);\n        this.enabled = this.getResponseProperty('Enabled');\n        this.type = this.getResponseProperty('Type');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class TwoFactorRecoverResponse extends BaseResponse {\n    code: string;\n\n    constructor(response: any) {\n        super(response);\n        this.code = this.getResponseProperty('Code');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class TwoFactorYubiKeyResponse extends BaseResponse {\n    enabled: boolean;\n    key1: string;\n    key2: string;\n    key3: string;\n    key4: string;\n    key5: string;\n    nfc: boolean;\n\n    constructor(response: any) {\n        super(response);\n        this.enabled = this.getResponseProperty('Enabled');\n        this.key1 = this.getResponseProperty('Key1');\n        this.key2 = this.getResponseProperty('Key2');\n        this.key3 = this.getResponseProperty('Key3');\n        this.key4 = this.getResponseProperty('Key4');\n        this.key5 = this.getResponseProperty('Key5');\n        this.nfc = this.getResponseProperty('Nfc');\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nexport class UserKeyResponse extends BaseResponse {\n    userId: string;\n    publicKey: string;\n\n    constructor(response: any) {\n        super(response);\n        this.userId = this.getResponseProperty('UserId');\n        this.publicKey = this.getResponseProperty('PublicKey');\n    }\n}\n","/**\n * Use as a Decorator on async functions, it will limit how many times the function can be\n * in-flight at a time.\n *\n * Calls beyond the limit will be queued, and run when one of the active calls finishes\n */\nexport function throttle(limit: number, throttleKey: (args: any[]) => string) {\n    return <T>(target: any, propertyKey: string | symbol,\n        descriptor: TypedPropertyDescriptor<(...args: any[]) => Promise<T>>) => {\n        const originalMethod: () => Promise<T> = descriptor.value;\n        const allThrottles = new Map<any, Map<string, (() => void)[]>>();\n\n        const getThrottles = (obj: any) => {\n            let throttles = allThrottles.get(obj);\n            if (throttles != null) {\n                return throttles;\n            }\n            throttles = new Map<string, (() => void)[]>();\n            allThrottles.set(obj, throttles);\n            return throttles;\n        };\n\n        return {\n            value: function(...args: any[]) {\n                const throttles = getThrottles(this);\n                const argsThrottleKey = throttleKey(args);\n                let queue = throttles.get(argsThrottleKey);\n                if (queue == null) {\n                    queue = [];\n                    throttles.set(argsThrottleKey, queue);\n                }\n\n                return new Promise<T>((resolve, reject) => {\n                    const exec = () => {\n                        const onFinally = () => {\n                            queue.splice(queue.indexOf(exec), 1);\n                            if (queue.length >= limit) {\n                                queue[limit - 1]();\n                            } else if (queue.length === 0) {\n                                throttles.delete(argsThrottleKey);\n                                if (throttles.size === 0) {\n                                    allThrottles.delete(this);\n                                }\n                            }\n                        };\n                        originalMethod.apply(this, args).then((val: any) => {\n                            onFinally();\n                            return val;\n                        }).catch((err: any) => {\n                            onFinally();\n                            throw err;\n                        }).then(resolve, reject);\n                    };\n                    queue.push(exec);\n                    if (queue.length <= limit) {\n                        exec();\n                    }\n                });\n            },\n        };\n    };\n}\n","export class CipherBulkMoveRequest {\n    ids: string[];\n    folderId: string;\n\n    constructor(ids: string[], folderId: string) {\n        this.ids = ids == null ? [] : ids;\n        this.folderId = folderId;\n    }\n}\n","export class CipherBulkRestoreRequest {\n    ids: string[];\n\n    constructor(ids: string[]) {\n        this.ids = ids == null ? [] : ids;\n    }\n}\n","import { CipherWithIdRequest } from './cipherWithIdRequest';\n\nimport { Cipher } from '../domain/cipher';\n\nexport class CipherBulkShareRequest {\n    ciphers: CipherWithIdRequest[];\n    collectionIds: string[];\n\n    constructor(ciphers: Cipher[], collectionIds: string[]) {\n        if (ciphers != null) {\n            this.ciphers = [];\n            ciphers.forEach(c => {\n                this.ciphers.push(new CipherWithIdRequest(c));\n            });\n        }\n        this.collectionIds = collectionIds;\n    }\n}\n","import { CipherRequest } from './cipherRequest';\n\nimport { Cipher } from '../domain/cipher';\n\nexport class CipherShareRequest {\n    cipher: CipherRequest;\n    collectionIds: string[];\n\n    constructor(cipher: Cipher) {\n        this.cipher = new CipherRequest(cipher);\n        this.collectionIds = cipher.collectionIds;\n    }\n}\n","import { CipherView } from '../view';\n\nconst CacheTTL = 3000;\n\nexport class SortedCiphersCache {\n    private readonly sortedCiphersByUrl: Map<string, Ciphers> = new Map<string, Ciphers>();\n    private readonly timeouts: Map<string, any> = new Map<string, any>();\n\n    constructor(private readonly comparator: (a: CipherView, b: CipherView) => number) { }\n\n    isCached(url: string) {\n        return this.sortedCiphersByUrl.has(url);\n    }\n\n    addCiphers(url: string, ciphers: CipherView[]) {\n        ciphers.sort(this.comparator);\n        this.sortedCiphersByUrl.set(url, new Ciphers(ciphers));\n        this.resetTimer(url);\n    }\n\n    getLastUsed(url: string) {\n        this.resetTimer(url);\n        return this.isCached(url) ? this.sortedCiphersByUrl.get(url).getLastUsed() : null;\n    }\n\n    getLastLaunched(url: string) {\n        return this.isCached(url) ? this.sortedCiphersByUrl.get(url).getLastLaunched() : null;\n    }\n\n    getNext(url: string) {\n        this.resetTimer(url);\n        return this.isCached(url) ? this.sortedCiphersByUrl.get(url).getNext() : null;\n    }\n\n    updateLastUsedIndex(url: string) {\n        if (this.isCached(url)) {\n            this.sortedCiphersByUrl.get(url).updateLastUsedIndex();\n        }\n    }\n\n    clear() {\n        this.sortedCiphersByUrl.clear();\n        this.timeouts.clear();\n    }\n\n    private resetTimer(url: string) {\n        clearTimeout(this.timeouts.get(url));\n        this.timeouts.set(url, setTimeout(() => {\n            this.sortedCiphersByUrl.delete(url);\n            this.timeouts.delete(url);\n        }, CacheTTL));\n    }\n}\n\nclass Ciphers {\n    lastUsedIndex = -1;\n\n    constructor(private readonly ciphers: CipherView[]) { }\n\n    getLastUsed() {\n        this.lastUsedIndex = Math.max(this.lastUsedIndex, 0);\n        return this.ciphers[this.lastUsedIndex];\n    }\n\n    getLastLaunched() {\n        const usedCiphers = this.ciphers.filter(cipher => cipher.localData?.lastLaunched);\n        const sortedCiphers = usedCiphers.sort((x, y) => y.localData.lastLaunched.valueOf() - x.localData.lastLaunched.valueOf());\n        return sortedCiphers[0];\n    }\n\n    getNextIndex() {\n        return (this.lastUsedIndex + 1) % this.ciphers.length;\n    }\n\n    getNext() {\n        return this.ciphers[this.getNextIndex()];\n    }\n\n    updateLastUsedIndex() {\n        this.lastUsedIndex = this.getNextIndex();\n    }\n}\n","export class TreeNode<T extends ITreeNodeObject> {\n    parent: T;\n    node: T;\n    children: TreeNode<T>[] = [];\n\n    constructor(node: T, name: string, parent: T) {\n        this.parent = parent;\n        this.node = node;\n        this.node.name = name;\n    }\n}\n\nexport interface ITreeNodeObject {\n    id: string;\n    name: string;\n}\n","export class EncArrayBuffer {\n    constructor(public buffer: ArrayBuffer) { }\n}\n","import Domain from './domainBase';\n\nexport class PasswordGeneratorPolicyOptions extends Domain {\n    defaultType: string = '';\n    minLength: number = 0;\n    useUppercase: boolean = false;\n    useLowercase: boolean = false;\n    useNumbers: boolean = false;\n    numberCount: number = 0;\n    useSpecial: boolean = false;\n    specialCount: number = 0;\n    minNumberWords: number = 0;\n    capitalize: boolean = false;\n    includeNumber: boolean = false;\n\n    inEffect() {\n        return this.defaultType !== '' ||\n            this.minLength > 0 ||\n            this.numberCount > 0 ||\n            this.specialCount > 0 ||\n            this.useUppercase ||\n            this.useLowercase ||\n            this.useNumbers ||\n            this.useSpecial ||\n            this.minNumberWords > 0 ||\n            this.capitalize ||\n            this.includeNumber;\n    }\n}\n","import { ProfileOrganizationResponse } from '../response/profileOrganizationResponse';\n\nimport { OrganizationUserStatusType } from '../../enums/organizationUserStatusType';\nimport { OrganizationUserType } from '../../enums/organizationUserType';\nimport { PermissionsApi } from '../api/permissionsApi';\n\nexport class OrganizationData {\n    id: string;\n    name: string;\n    status: OrganizationUserStatusType;\n    type: OrganizationUserType;\n    enabled: boolean;\n    usePolicies: boolean;\n    useGroups: boolean;\n    useDirectory: boolean;\n    useEvents: boolean;\n    useTotp: boolean;\n    use2fa: boolean;\n    useApi: boolean;\n    useBusinessPortal: boolean;\n    useSso: boolean;\n    selfHost: boolean;\n    usersGetPremium: boolean;\n    seats: number;\n    maxCollections: number;\n    maxStorageGb?: number;\n    ssoBound: boolean;\n    identifier: string;\n    permissions: PermissionsApi;\n    resetPasswordKey: string;\n    userId: string;\n\n    constructor(response: ProfileOrganizationResponse) {\n        this.id = response.id;\n        this.name = response.name;\n        this.status = response.status;\n        this.type = response.type;\n        this.enabled = response.enabled;\n        this.usePolicies = response.usePolicies;\n        this.useGroups = response.useGroups;\n        this.useDirectory = response.useDirectory;\n        this.useEvents = response.useEvents;\n        this.useTotp = response.useTotp;\n        this.use2fa = response.use2fa;\n        this.useApi = response.useApi;\n        this.useBusinessPortal = response.useBusinessPortal;\n        this.useSso = response.useSso;\n        this.selfHost = response.selfHost;\n        this.usersGetPremium = response.usersGetPremium;\n        this.seats = response.seats;\n        this.maxCollections = response.maxCollections;\n        this.maxStorageGb = response.maxStorageGb;\n        this.ssoBound = response.ssoBound;\n        this.identifier = response.identifier;\n        this.permissions = response.permissions;\n        this.resetPasswordKey = response.resetPasswordKey;\n        this.userId = response.userId;\n    }\n}\n","import { SendFileApi } from '../api/sendFileApi';\n\nexport class SendFileData {\n    id: string;\n    fileName: string;\n    key: string;\n    size: string;\n    sizeName: string;\n\n    constructor(data?: SendFileApi) {\n        if (data == null) {\n            return;\n        }\n\n        this.id = data.id;\n        this.fileName = data.fileName;\n        this.key = data.key;\n        this.size = data.size;\n        this.sizeName = data.sizeName;\n    }\n}\n","import { SendTextApi } from '../api/sendTextApi';\n\nexport class SendTextData {\n    text: string;\n    hidden: boolean;\n\n    constructor(data?: SendTextApi) {\n        if (data == null) {\n            return;\n        }\n\n        this.text = data.text;\n        this.hidden = data.hidden;\n    }\n}\n","import { I18nService as BaseI18nService } from 'jslib/services/i18n.service';\n\nexport class I18nService extends BaseI18nService {\n    constructor(systemLanguage: string, localesDirectory: string) {\n        super(systemLanguage || 'en-US', localesDirectory, async (formattedLocale: string) => {\n            const filePath = this.localesDirectory + '/' + formattedLocale + '/messages.json?cache=' +\n                process.env.CACHE_TAG;\n            const localesResult = await fetch(filePath);\n            const locales = await localesResult.json();\n            return locales;\n        });\n\n        this.supportedTranslationLocales = [\n            'en', 'ca', 'cs', 'da', 'de', 'el', 'en-GB', 'es', 'et', 'fr', 'he', 'it', 'ja', 'ko', 'lv', 'ml', 'nb',\n            'nl', 'pl', 'pt-PT', 'pt-BR', 'ru', 'sk', 'sv', 'uk', 'zh-CN', 'zh-TW',\n        ];\n    }\n}\n","import { StorageService } from 'jslib/abstractions/storage.service';\n\nexport class MemoryStorageService implements StorageService {\n    private store = new Map<string, any>();\n\n    get<T>(key: string): Promise<T> {\n        if (this.store.has(key)) {\n            const obj = this.store.get(key);\n            return Promise.resolve(obj as T);\n        }\n        return Promise.resolve(null);\n    }\n\n    save(key: string, obj: any): Promise<any> {\n        if (obj == null) {\n            return this.remove(key);\n        }\n        this.store.set(key, obj);\n        return Promise.resolve();\n    }\n\n    remove(key: string): Promise<any> {\n        this.store.delete(key);\n        return Promise.resolve();\n    }\n}\n","import Swal, { SweetAlertIcon } from 'sweetalert2/dist/sweetalert2.js';\n\nimport { DeviceType } from 'jslib/enums/deviceType';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nexport class WebPlatformUtilsService implements PlatformUtilsService {\n    identityClientId: string = 'web';\n\n    private browserCache: DeviceType = null;\n\n    constructor(private i18nService: I18nService, private messagingService: MessagingService) { }\n\n    getDevice(): DeviceType {\n        if (this.browserCache != null) {\n            return this.browserCache;\n        }\n\n        if (navigator.userAgent.indexOf(' Firefox/') !== -1 || navigator.userAgent.indexOf(' Gecko/') !== -1) {\n            this.browserCache = DeviceType.FirefoxBrowser;\n        } else if (navigator.userAgent.indexOf(' OPR/') >= 0) {\n            this.browserCache = DeviceType.OperaBrowser;\n        } else if (navigator.userAgent.indexOf(' Edg/') !== -1) {\n            this.browserCache = DeviceType.EdgeBrowser;\n        } else if (navigator.userAgent.indexOf(' Vivaldi/') !== -1) {\n            this.browserCache = DeviceType.VivaldiBrowser;\n        } else if (navigator.userAgent.indexOf(' Safari/') !== -1 && navigator.userAgent.indexOf('Chrome') === -1) {\n            this.browserCache = DeviceType.SafariBrowser;\n        } else if ((window as any).chrome && navigator.userAgent.indexOf(' Chrome/') !== -1) {\n            this.browserCache = DeviceType.ChromeBrowser;\n        } else if (navigator.userAgent.indexOf(' Trident/') !== -1) {\n            this.browserCache = DeviceType.IEBrowser;\n        } else {\n            this.browserCache = DeviceType.UnknownBrowser;\n        }\n\n        return this.browserCache;\n    }\n\n    getDeviceString(): string {\n        const device = DeviceType[this.getDevice()].toLowerCase();\n        return device.replace('browser', '');\n    }\n\n    isFirefox(): boolean {\n        return this.getDevice() === DeviceType.FirefoxBrowser;\n    }\n\n    isChrome(): boolean {\n        return this.getDevice() === DeviceType.ChromeBrowser;\n    }\n\n    isEdge(): boolean {\n        return this.getDevice() === DeviceType.EdgeBrowser;\n    }\n\n    isOpera(): boolean {\n        return this.getDevice() === DeviceType.OperaBrowser;\n    }\n\n    isVivaldi(): boolean {\n        return this.getDevice() === DeviceType.VivaldiBrowser;\n    }\n\n    isSafari(): boolean {\n        return this.getDevice() === DeviceType.SafariBrowser;\n    }\n\n    isIE(): boolean {\n        return this.getDevice() === DeviceType.IEBrowser;\n    }\n\n    isMacAppStore(): boolean {\n        return false;\n    }\n\n    isViewOpen(): Promise<boolean> {\n        return Promise.resolve(false);\n    }\n\n    lockTimeout(): number {\n        return null;\n    }\n\n    launchUri(uri: string, options?: any): void {\n        const a = document.createElement('a');\n        a.href = uri;\n        if (options == null || !options.sameWindow) {\n            a.target = '_blank';\n            a.rel = 'noreferrer noopener';\n        }\n        a.classList.add('d-none');\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n    }\n\n    saveFile(win: Window, blobData: any, blobOptions: any, fileName: string): void {\n        let blob: Blob = null;\n        let type: string = null;\n        const fileNameLower = fileName.toLowerCase();\n        let doDownload = true;\n        if (fileNameLower.endsWith('.pdf')) {\n            type = 'application/pdf';\n            doDownload = false;\n        } else if (fileNameLower.endsWith('.xlsx')) {\n            type = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n        } else if (fileNameLower.endsWith('.docx')) {\n            type = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\n        } else if (fileNameLower.endsWith('.pptx')) {\n            type = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';\n        } else if (fileNameLower.endsWith('.csv')) {\n            type = 'text/csv';\n        } else if (fileNameLower.endsWith('.png')) {\n            type = 'image/png';\n        } else if (fileNameLower.endsWith('.jpg') || fileNameLower.endsWith('.jpeg')) {\n            type = 'image/jpeg';\n        } else if (fileNameLower.endsWith('.gif')) {\n            type = 'image/gif';\n        }\n        if (type != null) {\n            blobOptions = blobOptions || {};\n            if (blobOptions.type == null) {\n                blobOptions.type = type;\n            }\n        }\n        if (blobOptions != null && !this.isIE()) {\n            blob = new Blob([blobData], blobOptions);\n        } else {\n            blob = new Blob([blobData]);\n        }\n        if (navigator.msSaveOrOpenBlob) {\n            navigator.msSaveBlob(blob, fileName);\n        } else {\n            const a = win.document.createElement('a');\n            if (doDownload) {\n                a.download = fileName;\n            } else if (!this.isSafari()) {\n                a.target = '_blank';\n            }\n            a.href = URL.createObjectURL(blob);\n            a.style.position = 'fixed';\n            win.document.body.appendChild(a);\n            a.click();\n            win.document.body.removeChild(a);\n        }\n    }\n\n    getApplicationVersion(): Promise<string> {\n        return Promise.resolve(process.env.APPLICATION_VERSION || '-');\n    }\n\n    supportsWebAuthn(win: Window): boolean {\n        return (typeof(PublicKeyCredential) !== 'undefined');\n    }\n\n    supportsDuo(): boolean {\n        return true;\n    }\n\n    showToast(type: 'error' | 'success' | 'warning' | 'info', title: string, text: string | string[],\n        options?: any): void {\n        this.messagingService.send('showToast', {\n            text: text,\n            title: title,\n            type: type,\n            options: options,\n        });\n    }\n\n    async showDialog(body: string, title?: string, confirmText?: string, cancelText?: string, type?: string,\n        bodyIsHtml: boolean = false) {\n        let iconClasses: string = null;\n        if (type != null) {\n            // If you add custom types to this part, the type to SweetAlertIcon cast below needs to be changed.\n            switch (type) {\n                case 'success':\n                    iconClasses = 'fa-check text-success';\n                    break;\n                case 'warning':\n                    iconClasses = 'fa-warning text-warning';\n                    break;\n                case 'error':\n                    iconClasses = 'fa-bolt text-danger';\n                    break;\n                case 'info':\n                    iconClasses = 'fa-info-circle text-info';\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        const iconHtmlStr = iconClasses != null ? `<i class=\"swal-custom-icon fa ${iconClasses}\"></i>` : undefined;\n        const confirmed = await Swal.fire({\n            heightAuto: false,\n            buttonsStyling: false,\n            icon: type as SweetAlertIcon, // required to be any of the SweetAlertIcons to output the iconHtml.\n            iconHtml: iconHtmlStr,\n            text: bodyIsHtml ? null : body,\n            html: bodyIsHtml ? body : null,\n            title: title,\n            showCancelButton: (cancelText != null),\n            cancelButtonText: cancelText,\n            showConfirmButton: true,\n            confirmButtonText: confirmText == null ? this.i18nService.t('ok') : confirmText,\n        });\n\n        return confirmed.value;\n    }\n\n    isDev(): boolean {\n        return process.env.ENV === 'development';\n    }\n\n    isSelfHost(): boolean {\n        return process.env.SELF_HOST.toString() === 'true';\n    }\n\n    copyToClipboard(text: string, options?: any): void {\n        let win = window;\n        let doc = window.document;\n        if (options && (options.window || options.win)) {\n            win = options.window || options.win;\n            doc = win.document;\n        } else if (options && options.doc) {\n            doc = options.doc;\n        }\n        if ((win as any).clipboardData && (win as any).clipboardData.setData) {\n            // IE specific code path to prevent textarea being shown while dialog is visible.\n            (win as any).clipboardData.setData('Text', text);\n        } else if (doc.queryCommandSupported && doc.queryCommandSupported('copy')) {\n            const textarea = doc.createElement('textarea');\n            textarea.textContent = text;\n            // Prevent scrolling to bottom of page in MS Edge.\n            textarea.style.position = 'fixed';\n            let copyEl = doc.body;\n            // For some reason copy command won't work when modal is open if appending to body\n            if (doc.body.classList.contains('modal-open')) {\n                copyEl = doc.body.querySelector<HTMLElement>('.modal');\n            }\n            copyEl.appendChild(textarea);\n            textarea.select();\n            try {\n                // Security exception may be thrown by some browsers.\n                doc.execCommand('copy');\n            } catch (e) {\n                // tslint:disable-next-line\n                console.warn('Copy to clipboard failed.', e);\n            } finally {\n                copyEl.removeChild(textarea);\n            }\n        }\n    }\n\n    readFromClipboard(options?: any): Promise<string> {\n        throw new Error('Cannot read from clipboard on web.');\n    }\n\n    supportsBiometric() {\n        return Promise.resolve(false);\n    }\n\n    authenticateBiometric() {\n        return Promise.resolve(false);\n    }\n\n    supportsSecureStorage() {\n        return false;\n    }\n\n    getDefaultSystemTheme() {\n        return Promise.resolve(null as 'light' | 'dark');\n    }\n\n    onDefaultSystemThemeChange() {\n        /* noop */\n    }\n}\n","import { EventType } from '../enums/eventType';\n\nimport { EventData } from '../models/data/eventData';\n\nimport { EventRequest } from '../models/request/eventRequest';\n\nimport { ApiService } from '../abstractions/api.service';\nimport { CipherService } from '../abstractions/cipher.service';\nimport { EventService as EventServiceAbstraction } from '../abstractions/event.service';\nimport { StorageService } from '../abstractions/storage.service';\nimport { UserService } from '../abstractions/user.service';\n\nimport { ConstantsService } from './constants.service';\n\nexport class EventService implements EventServiceAbstraction {\n    private inited = false;\n\n    constructor(private storageService: StorageService, private apiService: ApiService,\n        private userService: UserService, private cipherService: CipherService) { }\n\n    init(checkOnInterval: boolean) {\n        if (this.inited) {\n            return;\n        }\n\n        this.inited = true;\n        if (checkOnInterval) {\n            this.uploadEvents();\n            setInterval(() => this.uploadEvents(), 60 * 1000); // check every 60 seconds\n        }\n    }\n\n    async collect(eventType: EventType, cipherId: string = null, uploadImmediately = false): Promise<any> {\n        const authed = await this.userService.isAuthenticated();\n        if (!authed) {\n            return;\n        }\n        const organizations = await this.userService.getAllOrganizations();\n        if (organizations == null) {\n            return;\n        }\n        const orgIds = new Set<string>(organizations.filter(o => o.useEvents).map(o => o.id));\n        if (orgIds.size === 0) {\n            return;\n        }\n        if (cipherId != null) {\n            const cipher = await this.cipherService.get(cipherId);\n            if (cipher == null || cipher.organizationId == null || !orgIds.has(cipher.organizationId)) {\n                return;\n            }\n        }\n        let eventCollection = await this.storageService.get<EventData[]>(ConstantsService.eventCollectionKey);\n        if (eventCollection == null) {\n            eventCollection = [];\n        }\n        const event = new EventData();\n        event.type = eventType;\n        event.cipherId = cipherId;\n        event.date = new Date().toISOString();\n        eventCollection.push(event);\n        await this.storageService.save(ConstantsService.eventCollectionKey, eventCollection);\n        if (uploadImmediately) {\n            await this.uploadEvents();\n        }\n    }\n\n    async uploadEvents(): Promise<any> {\n        const authed = await this.userService.isAuthenticated();\n        if (!authed) {\n            return;\n        }\n        const eventCollection = await this.storageService.get<EventData[]>(ConstantsService.eventCollectionKey);\n        if (eventCollection == null || eventCollection.length === 0) {\n            return;\n        }\n        const request = eventCollection.map(e => {\n            const req = new EventRequest();\n            req.type = e.type;\n            req.cipherId = e.cipherId;\n            req.date = e.date;\n            return req;\n        });\n        try {\n            await this.apiService.postEventsCollect(request);\n            this.clearEvents();\n        } catch { }\n    }\n\n    async clearEvents(): Promise<any> {\n        await this.storageService.remove(ConstantsService.eventCollectionKey);\n    }\n}\n","import { EventType } from '../../enums/eventType';\n\nexport class EventData {\n    type: EventType;\n    cipherId: string;\n    date: string;\n}\n","import { EventType } from '../../enums/eventType';\n\nexport class EventRequest {\n    type: EventType;\n    cipherId: string;\n    date: string;\n}\n","import * as papa from 'papaparse';\n\nimport { CipherType } from '../enums/cipherType';\n\nimport { ApiService } from '../abstractions/api.service';\nimport { CipherService } from '../abstractions/cipher.service';\nimport { ExportService as ExportServiceAbstraction } from '../abstractions/export.service';\nimport { FolderService } from '../abstractions/folder.service';\n\nimport { CipherView } from '../models/view/cipherView';\nimport { CollectionView } from '../models/view/collectionView';\nimport { FolderView } from '../models/view/folderView';\n\nimport { Cipher } from '../models/domain/cipher';\nimport { Collection } from '../models/domain/collection';\nimport { Folder } from '../models/domain/folder';\n\nimport { CipherData } from '../models/data/cipherData';\nimport { CollectionData } from '../models/data/collectionData';\nimport { CollectionDetailsResponse } from '../models/response/collectionResponse';\n\nimport { CipherWithIds as CipherExport } from '../models/export/cipherWithIds';\nimport { CollectionWithId as CollectionExport } from '../models/export/collectionWithId';\nimport { FolderWithId as FolderExport } from '../models/export/folderWithId';\n\nexport class ExportService implements ExportServiceAbstraction {\n    constructor(private folderService: FolderService, private cipherService: CipherService,\n        private apiService: ApiService) { }\n\n    async getExport(format: 'csv' | 'json' | 'encrypted_json' = 'csv'): Promise<string> {\n        if (format === 'encrypted_json') {\n            return this.getEncryptedExport();\n        } else {\n            return this.getDecryptedExport(format);\n        }\n    }\n\n    async getOrganizationExport(organizationId: string,\n        format: 'csv' | 'json' | 'encrypted_json' = 'csv'): Promise<string> {\n        if (format === 'encrypted_json') {\n            return this.getOrganizationEncryptedExport(organizationId);\n        } else {\n            return this.getOrganizationDecryptedExport(organizationId, format);\n        }\n    }\n\n    getFileName(prefix: string = null, extension: string = 'csv'): string {\n        const now = new Date();\n        const dateString =\n            now.getFullYear() + '' + this.padNumber(now.getMonth() + 1, 2) + '' + this.padNumber(now.getDate(), 2) +\n            this.padNumber(now.getHours(), 2) + '' + this.padNumber(now.getMinutes(), 2) +\n            this.padNumber(now.getSeconds(), 2);\n\n        return 'bitwarden' + (prefix ? ('_' + prefix) : '') + '_export_' + dateString + '.' + extension;\n    }\n\n    private async getDecryptedExport(format: 'json' | 'csv'): Promise<string> {\n        let decFolders: FolderView[] = [];\n        let decCiphers: CipherView[] = [];\n        const promises = [];\n\n        promises.push(this.folderService.getAllDecrypted().then(folders => {\n            decFolders = folders;\n        }));\n\n        promises.push(this.cipherService.getAllDecrypted().then(ciphers => {\n            decCiphers = ciphers.filter(f => f.deletedDate == null);\n        }));\n\n        await Promise.all(promises);\n\n        if (format === 'csv') {\n            const foldersMap = new Map<string, FolderView>();\n            decFolders.forEach(f => {\n                if (f.id != null) {\n                    foldersMap.set(f.id, f);\n                }\n            });\n\n            const exportCiphers: any[] = [];\n            decCiphers.forEach(c => {\n                // only export logins and secure notes\n                if (c.type !== CipherType.Login && c.type !== CipherType.SecureNote) {\n                    return;\n                }\n                if (c.organizationId != null) {\n                    return;\n                }\n\n                const cipher: any = {};\n                cipher.folder = c.folderId != null && foldersMap.has(c.folderId) ?\n                    foldersMap.get(c.folderId).name : null;\n                cipher.favorite = c.favorite ? 1 : null;\n                this.buildCommonCipher(cipher, c);\n                exportCiphers.push(cipher);\n            });\n\n            return papa.unparse(exportCiphers);\n        } else {\n            const jsonDoc: any = {\n                encrypted: false,\n                folders: [],\n                items: [],\n            };\n\n            decFolders.forEach(f => {\n                if (f.id == null) {\n                    return;\n                }\n                const folder = new FolderExport();\n                folder.build(f);\n                jsonDoc.folders.push(folder);\n            });\n\n            decCiphers.forEach(c => {\n                if (c.organizationId != null) {\n                    return;\n                }\n                const cipher = new CipherExport();\n                cipher.build(c);\n                cipher.collectionIds = null;\n                jsonDoc.items.push(cipher);\n            });\n\n            return JSON.stringify(jsonDoc, null, '  ');\n        }\n    }\n\n    private async getEncryptedExport(): Promise<string> {\n        let folders: Folder[] = [];\n        let ciphers: Cipher[] = [];\n        const promises = [];\n\n        promises.push(this.folderService.getAll().then(f => {\n            folders = f;\n        }));\n\n        promises.push(this.cipherService.getAll().then(c => {\n            ciphers = c.filter(f => f.deletedDate == null);\n        }));\n\n        await Promise.all(promises);\n\n        const jsonDoc: any = {\n            encrypted: true,\n            folders: [],\n            items: [],\n        };\n\n        folders.forEach(f => {\n            if (f.id == null) {\n                return;\n            }\n            const folder = new FolderExport();\n            folder.build(f);\n            jsonDoc.folders.push(folder);\n        });\n\n        ciphers.forEach(c => {\n            if (c.organizationId != null) {\n                return;\n            }\n            const cipher = new CipherExport();\n            cipher.build(c);\n            cipher.collectionIds = null;\n            jsonDoc.items.push(cipher);\n        });\n\n        return JSON.stringify(jsonDoc, null, '  ');\n    }\n\n    private async getOrganizationDecryptedExport(organizationId: string, format: 'json' | 'csv'): Promise<string> {\n        const decCollections: CollectionView[] = [];\n        const decCiphers: CipherView[] = [];\n        const promises = [];\n\n        promises.push(this.apiService.getCollections(organizationId).then(collections => {\n            const collectionPromises: any = [];\n            if (collections != null && collections.data != null && collections.data.length > 0) {\n                collections.data.forEach(c => {\n                    const collection = new Collection(new CollectionData(c as CollectionDetailsResponse));\n                    collectionPromises.push(collection.decrypt().then(decCol => {\n                        decCollections.push(decCol);\n                    }));\n                });\n            }\n            return Promise.all(collectionPromises);\n        }));\n\n        promises.push(this.apiService.getCiphersOrganization(organizationId).then(ciphers => {\n            const cipherPromises: any = [];\n            if (ciphers != null && ciphers.data != null && ciphers.data.length > 0) {\n                ciphers.data.filter(c => c.deletedDate === null).forEach(c => {\n                    const cipher = new Cipher(new CipherData(c));\n                    cipherPromises.push(cipher.decrypt().then(decCipher => {\n                        decCiphers.push(decCipher);\n                    }));\n                });\n            }\n            return Promise.all(cipherPromises);\n        }));\n\n        await Promise.all(promises);\n\n        if (format === 'csv') {\n            const collectionsMap = new Map<string, CollectionView>();\n            decCollections.forEach(c => {\n                collectionsMap.set(c.id, c);\n            });\n\n            const exportCiphers: any[] = [];\n            decCiphers.forEach(c => {\n                // only export logins and secure notes\n                if (c.type !== CipherType.Login && c.type !== CipherType.SecureNote) {\n                    return;\n                }\n\n                const cipher: any = {};\n                cipher.collections = [];\n                if (c.collectionIds != null) {\n                    cipher.collections = c.collectionIds.filter(id => collectionsMap.has(id))\n                        .map(id => collectionsMap.get(id).name);\n                }\n                this.buildCommonCipher(cipher, c);\n                exportCiphers.push(cipher);\n            });\n\n            return papa.unparse(exportCiphers);\n        } else {\n            const jsonDoc: any = {\n                encrypted: false,\n                collections: [],\n                items: [],\n            };\n\n            decCollections.forEach(c => {\n                const collection = new CollectionExport();\n                collection.build(c);\n                jsonDoc.collections.push(collection);\n            });\n\n            decCiphers.forEach(c => {\n                const cipher = new CipherExport();\n                cipher.build(c);\n                jsonDoc.items.push(cipher);\n            });\n            return JSON.stringify(jsonDoc, null, '  ');\n        }\n    }\n\n    private async getOrganizationEncryptedExport(organizationId: string): Promise<string> {\n        const collections: Collection[] = [];\n        const ciphers: Cipher[] = [];\n        const promises = [];\n\n        promises.push(this.apiService.getCollections(organizationId).then(c => {\n            const collectionPromises: any = [];\n            if (c != null && c.data != null && c.data.length > 0) {\n                c.data.forEach(r => {\n                    const collection = new Collection(new CollectionData(r as CollectionDetailsResponse));\n                    collections.push(collection);\n                });\n            }\n            return Promise.all(collectionPromises);\n        }));\n\n        promises.push(this.apiService.getCiphersOrganization(organizationId).then(c => {\n            const cipherPromises: any = [];\n            if (c != null && c.data != null && c.data.length > 0) {\n                c.data.filter(item => item.deletedDate === null).forEach(item => {\n                    const cipher = new Cipher(new CipherData(item));\n                    ciphers.push(cipher);\n                });\n            }\n            return Promise.all(cipherPromises);\n        }));\n\n        await Promise.all(promises);\n\n        const jsonDoc: any = {\n            encrypted: true,\n            collections: [],\n            items: [],\n        };\n\n        collections.forEach(c => {\n            const collection = new CollectionExport();\n            collection.build(c);\n            jsonDoc.collections.push(collection);\n        });\n\n        ciphers.forEach(c => {\n            const cipher = new CipherExport();\n            cipher.build(c);\n            jsonDoc.items.push(cipher);\n        });\n        return JSON.stringify(jsonDoc, null, '  ');\n    }\n\n    private padNumber(num: number, width: number, padCharacter: string = '0'): string {\n        const numString = num.toString();\n        return numString.length >= width ? numString :\n            new Array(width - numString.length + 1).join(padCharacter) + numString;\n    }\n\n    private buildCommonCipher(cipher: any, c: CipherView) {\n        cipher.type = null;\n        cipher.name = c.name;\n        cipher.notes = c.notes;\n        cipher.fields = null;\n        // Login props\n        cipher.login_uri = null;\n        cipher.login_username = null;\n        cipher.login_password = null;\n        cipher.login_totp = null;\n\n        if (c.fields) {\n            c.fields.forEach((f: any) => {\n                if (!cipher.fields) {\n                    cipher.fields = '';\n                } else {\n                    cipher.fields += '\\n';\n                }\n\n                cipher.fields += ((f.name || '') + ': ' + f.value);\n            });\n        }\n\n        switch (c.type) {\n            case CipherType.Login:\n                cipher.type = 'login';\n                cipher.login_username = c.login.username;\n                cipher.login_password = c.login.password;\n                cipher.login_totp = c.login.totp;\n\n                if (c.login.uris) {\n                    cipher.login_uri = [];\n                    c.login.uris.forEach(u => {\n                        cipher.login_uri.push(u.uri);\n                    });\n                }\n                break;\n            case CipherType.SecureNote:\n                cipher.type = 'note';\n                break;\n            default:\n                return;\n        }\n\n        return cipher;\n    }\n}\n","import { CipherType } from '../../enums/cipherType';\n\nimport { CipherView } from '../view/cipherView';\n\nimport { Cipher as CipherDomain } from '../domain/cipher';\nimport { EncString } from '../domain/encString';\n\nimport { Card } from './card';\nimport { Field } from './field';\nimport { Identity } from './identity';\nimport { Login } from './login';\nimport { SecureNote } from './secureNote';\n\nexport class Cipher {\n    static template(): Cipher {\n        const req = new Cipher();\n        req.organizationId = null;\n        req.collectionIds = null;\n        req.folderId = null;\n        req.type = CipherType.Login;\n        req.name = 'Item name';\n        req.notes = 'Some notes about this item.';\n        req.favorite = false;\n        req.fields = [];\n        req.login = null;\n        req.secureNote = null;\n        req.card = null;\n        req.identity = null;\n        return req;\n    }\n\n    static toView(req: Cipher, view = new CipherView()) {\n        view.type = req.type;\n        view.folderId = req.folderId;\n        if (view.organizationId == null) {\n            view.organizationId = req.organizationId;\n        }\n        if (view.collectionIds || req.collectionIds) {\n            const set = new Set((view.collectionIds ?? []).concat(req.collectionIds ?? []));\n            view.collectionIds = Array.from(set.values());\n        }\n        view.name = req.name;\n        view.notes = req.notes;\n        view.favorite = req.favorite;\n\n        if (req.fields != null) {\n            view.fields = req.fields.map(f => Field.toView(f));\n        }\n\n        switch (req.type) {\n            case CipherType.Login:\n                view.login = Login.toView(req.login);\n                break;\n            case CipherType.SecureNote:\n                view.secureNote = SecureNote.toView(req.secureNote);\n                break;\n            case CipherType.Card:\n                view.card = Card.toView(req.card);\n                break;\n            case CipherType.Identity:\n                view.identity = Identity.toView(req.identity);\n                break;\n        }\n\n        return view;\n    }\n\n    static toDomain(req: Cipher, domain = new CipherDomain()) {\n        domain.type = req.type;\n        domain.folderId = req.folderId;\n        if (domain.organizationId == null) {\n            domain.organizationId = req.organizationId;\n        }\n        domain.name = req.name != null ? new EncString(req.name) : null;\n        domain.notes = req.notes != null ? new EncString(req.notes) : null;\n        domain.favorite = req.favorite;\n\n        if (req.fields != null) {\n            domain.fields = req.fields.map(f => Field.toDomain(f));\n        }\n\n        switch (req.type) {\n            case CipherType.Login:\n                domain.login = Login.toDomain(req.login);\n                break;\n            case CipherType.SecureNote:\n                domain.secureNote = SecureNote.toDomain(req.secureNote);\n                break;\n            case CipherType.Card:\n                domain.card = Card.toDomain(req.card);\n                break;\n            case CipherType.Identity:\n                domain.identity = Identity.toDomain(req.identity);\n                break;\n        }\n\n        return domain;\n    }\n\n    type: CipherType;\n    folderId: string;\n    organizationId: string;\n    collectionIds: string[];\n    name: string;\n    notes: string;\n    favorite: boolean;\n    fields: Field[];\n    login: Login;\n    secureNote: SecureNote;\n    card: Card;\n    identity: Identity;\n\n    // Use build method instead of ctor so that we can control order of JSON stringify for pretty print\n    build(o: CipherView | CipherDomain) {\n        this.organizationId = o.organizationId;\n        this.folderId = o.folderId;\n        this.type = o.type;\n\n        if (o instanceof CipherView) {\n            this.name = o.name;\n            this.notes = o.notes;\n        } else {\n            this.name = o.name?.encryptedString;\n            this.notes = o.notes?.encryptedString;\n        }\n\n        this.favorite = o.favorite;\n\n        if (o.fields != null) {\n            if (o instanceof CipherView) {\n                this.fields = o.fields.map(f => new Field(f));\n            } else {\n                this.fields = o.fields.map(f => new Field(f));\n            }\n        }\n\n        switch (o.type) {\n            case CipherType.Login:\n                this.login = new Login(o.login);\n                break;\n            case CipherType.SecureNote:\n                this.secureNote = new SecureNote(o.secureNote);\n                break;\n            case CipherType.Card:\n                this.card = new Card(o.card);\n                break;\n            case CipherType.Identity:\n                this.identity = new Identity(o.identity);\n                break;\n        }\n    }\n}\n","import { CardView } from '../view/cardView';\n\nimport { Card as CardDomain } from '../domain/card';\nimport { EncString } from '../domain/encString';\n\nexport class Card {\n    static template(): Card {\n        const req = new Card();\n        req.cardholderName = 'John Doe';\n        req.brand = 'visa';\n        req.number = '4242424242424242';\n        req.expMonth = '04';\n        req.expYear = '2023';\n        req.code = '123';\n        return req;\n    }\n\n    static toView(req: Card, view = new CardView()) {\n        view.cardholderName = req.cardholderName;\n        view.brand = req.brand;\n        view.number = req.number;\n        view.expMonth = req.expMonth;\n        view.expYear = req.expYear;\n        view.code = req.code;\n        return view;\n    }\n\n    static toDomain(req: Card, domain = new CardDomain()) {\n        domain.cardholderName = req.cardholderName != null ? new EncString(req.cardholderName) : null;\n        domain.brand = req.brand != null ? new EncString(req.brand) : null;\n        domain.number = req.number != null ? new EncString(req.number) : null;\n        domain.expMonth = req.expMonth != null ? new EncString(req.expMonth) : null;\n        domain.expYear = req.expYear != null ? new EncString(req.expYear) : null;\n        domain.code = req.code != null ? new EncString(req.code) : null;\n        return domain;\n    }\n\n    cardholderName: string;\n    brand: string;\n    number: string;\n    expMonth: string;\n    expYear: string;\n    code: string;\n\n    constructor(o?: CardView | CardDomain) {\n        if (o == null) {\n            return;\n        }\n\n        if (o instanceof CardView) {\n            this.cardholderName = o.cardholderName;\n            this.brand = o.brand;\n            this.number = o.number;\n            this.expMonth = o.expMonth;\n            this.expYear = o.expYear;\n            this.code = o.code;\n        } else {\n            this.cardholderName = o.cardholderName?.encryptedString;\n            this.brand = o.brand?.encryptedString;\n            this.number = o.number?.encryptedString;\n            this.expMonth = o.expMonth?.encryptedString;\n            this.expYear = o.expYear?.encryptedString;\n            this.code = o.code?.encryptedString;\n        }\n    }\n}\n","import { FieldType } from '../../enums/fieldType';\n\nimport { FieldView } from '../view/fieldView';\n\nimport { EncString } from '../domain/encString';\nimport { Field as FieldDomain } from '../domain/field';\n\nexport class Field {\n    static template(): Field {\n        const req = new Field();\n        req.name = 'Field name';\n        req.value = 'Some value';\n        req.type = FieldType.Text;\n        return req;\n    }\n\n    static toView(req: Field, view = new FieldView()) {\n        view.type = req.type;\n        view.value = req.value;\n        view.name = req.name;\n        return view;\n    }\n\n    static toDomain(req: Field, domain = new FieldDomain()) {\n        domain.type = req.type;\n        domain.value = req.value != null ? new EncString(req.value) : null;\n        domain.name = req.name != null ? new EncString(req.name) : null;\n        return domain;\n    }\n\n    name: string;\n    value: string;\n    type: FieldType;\n\n    constructor(o?: FieldView | FieldDomain) {\n        if (o == null) {\n            return;\n        }\n\n        if (o instanceof FieldView) {\n            this.name = o.name;\n            this.value = o.value;\n        } else {\n            this.name = o.name?.encryptedString;\n            this.value = o.value?.encryptedString;\n        }\n        this.type = o.type;\n    }\n}\n","import { IdentityView } from '../view/identityView';\n\nimport { EncString } from '../domain/encString';\nimport { Identity as IdentityDomain } from '../domain/identity';\n\nexport class Identity {\n    static template(): Identity {\n        const req = new Identity();\n        req.title = 'Mr';\n        req.firstName = 'John';\n        req.middleName = 'William';\n        req.lastName = 'Doe';\n        req.address1 = '123 Any St';\n        req.address2 = 'Apt #123';\n        req.address3 = null;\n        req.city = 'New York';\n        req.state = 'NY';\n        req.postalCode = '10001';\n        req.country = 'US';\n        req.company = 'Acme Inc.';\n        req.email = 'john@company.com';\n        req.phone = '5555551234';\n        req.ssn = '000-123-4567';\n        req.username = 'jdoe';\n        req.passportNumber = 'US-123456789';\n        req.licenseNumber = 'D123-12-123-12333';\n        return req;\n    }\n\n    static toView(req: Identity, view = new IdentityView()) {\n        view.title = req.title;\n        view.firstName = req.firstName;\n        view.middleName = req.middleName;\n        view.lastName = req.lastName;\n        view.address1 = req.address1;\n        view.address2 = req.address2;\n        view.address3 = req.address3;\n        view.city = req.city;\n        view.state = req.state;\n        view.postalCode = req.postalCode;\n        view.country = req.country;\n        view.company = req.company;\n        view.email = req.email;\n        view.phone = req.phone;\n        view.ssn = req.ssn;\n        view.username = req.username;\n        view.passportNumber = req.passportNumber;\n        view.licenseNumber = req.licenseNumber;\n        return view;\n    }\n\n    static toDomain(req: Identity, domain = new IdentityDomain()) {\n        domain.title = req.title != null ? new EncString(req.title) : null;\n        domain.firstName = req.firstName != null ? new EncString(req.firstName) : null;\n        domain.middleName = req.middleName != null ? new EncString(req.middleName) : null;\n        domain.lastName = req.lastName != null ? new EncString(req.lastName) : null;\n        domain.address1 = req.address1 != null ? new EncString(req.address1) : null;\n        domain.address2 = req.address2 != null ? new EncString(req.address2) : null;\n        domain.address3 = req.address3 != null ? new EncString(req.address3) : null;\n        domain.city = req.city != null ? new EncString(req.city) : null;\n        domain.state = req.state != null ? new EncString(req.state) : null;\n        domain.postalCode = req.postalCode != null ? new EncString(req.postalCode) : null;\n        domain.country = req.country != null ? new EncString(req.country) : null;\n        domain.company = req.company != null ? new EncString(req.company) : null;\n        domain.email = req.email != null ? new EncString(req.email) : null;\n        domain.phone = req.phone != null ? new EncString(req.phone) : null;\n        domain.ssn = req.ssn != null ? new EncString(req.ssn) : null;\n        domain.username = req.username != null ? new EncString(req.username) : null;\n        domain.passportNumber = req.passportNumber != null ? new EncString(req.passportNumber) : null;\n        domain.licenseNumber = req.licenseNumber != null ? new EncString(req.licenseNumber) : null;\n        return domain;\n    }\n\n    title: string;\n    firstName: string;\n    middleName: string;\n    lastName: string;\n    address1: string;\n    address2: string;\n    address3: string;\n    city: string;\n    state: string;\n    postalCode: string;\n    country: string;\n    company: string;\n    email: string;\n    phone: string;\n    ssn: string;\n    username: string;\n    passportNumber: string;\n    licenseNumber: string;\n\n    constructor(o?: IdentityView | IdentityDomain) {\n        if (o == null) {\n            return;\n        }\n\n        if (o instanceof IdentityView) {\n            this.title = o.title;\n            this.firstName = o.firstName;\n            this.middleName = o.middleName;\n            this.lastName = o.lastName;\n            this.address1 = o.address1;\n            this.address2 = o.address2;\n            this.address3 = o.address3;\n            this.city = o.city;\n            this.state = o.state;\n            this.postalCode = o.postalCode;\n            this.country = o.country;\n            this.company = o.company;\n            this.email = o.email;\n            this.phone = o.phone;\n            this.ssn = o.ssn;\n            this.username = o.username;\n            this.passportNumber = o.passportNumber;\n            this.licenseNumber = o.licenseNumber;\n        } else {\n            this.title = o.title?.encryptedString;\n            this.firstName = o.firstName?.encryptedString;\n            this.middleName = o.middleName?.encryptedString;\n            this.lastName = o.lastName?.encryptedString;\n            this.address1 = o.address1?.encryptedString;\n            this.address2 = o.address2?.encryptedString;\n            this.address3 = o.address3?.encryptedString;\n            this.city = o.city?.encryptedString;\n            this.state = o.state?.encryptedString;\n            this.postalCode = o.postalCode?.encryptedString;\n            this.country = o.country?.encryptedString;\n            this.company = o.company?.encryptedString;\n            this.email = o.email?.encryptedString;\n            this.phone = o.phone?.encryptedString;\n            this.ssn = o.ssn?.encryptedString;\n            this.username = o.username?.encryptedString;\n            this.passportNumber = o.passportNumber?.encryptedString;\n            this.licenseNumber = o.licenseNumber?.encryptedString;\n        }\n    }\n}\n","import { LoginUri } from './loginUri';\n\nimport { LoginView } from '../view/loginView';\n\nimport { EncString } from '../domain/encString';\nimport { Login as LoginDomain } from '../domain/login';\n\nexport class Login {\n    static template(): Login {\n        const req = new Login();\n        req.uris = [];\n        req.username = 'jdoe';\n        req.password = 'myp@ssword123';\n        req.totp = 'JBSWY3DPEHPK3PXP';\n        return req;\n    }\n\n    static toView(req: Login, view = new LoginView()) {\n        if (req.uris != null) {\n            view.uris = req.uris.map(u => LoginUri.toView(u));\n        }\n        view.username = req.username;\n        view.password = req.password;\n        view.totp = req.totp;\n        return view;\n    }\n\n    static toDomain(req: Login, domain = new LoginDomain()) {\n        if (req.uris != null) {\n            domain.uris = req.uris.map(u => LoginUri.toDomain(u));\n        }\n        domain.username = req.username != null ? new EncString(req.username) : null;\n        domain.password = req.password != null ? new EncString(req.password) : null;\n        domain.totp = req.totp != null ? new EncString(req.totp) : null;\n        return domain;\n    }\n\n    uris: LoginUri[];\n    username: string;\n    password: string;\n    totp: string;\n\n    constructor(o?: LoginView | LoginDomain) {\n        if (o == null) {\n            return;\n        }\n\n        if (o.uris != null) {\n            if (o instanceof LoginView) {\n                this.uris = o.uris.map(u => new LoginUri(u));\n            } else {\n                this.uris = o.uris.map(u => new LoginUri(u));\n            }\n        }\n\n        if (o instanceof LoginView) {\n            this.username = o.username;\n            this.password = o.password;\n            this.totp = o.totp;\n        } else {\n            this.username = o.username?.encryptedString;\n            this.password = o.password?.encryptedString;\n            this.totp = o.totp?.encryptedString;\n        }\n    }\n}\n","import { UriMatchType } from '../../enums/uriMatchType';\n\nimport { LoginUriView } from '../view/loginUriView';\n\nimport { EncString } from '../domain/encString';\nimport { LoginUri as LoginUriDomain } from '../domain/loginUri';\n\nexport class LoginUri {\n    static template(): LoginUri {\n        const req = new LoginUri();\n        req.uri = 'https://google.com';\n        req.match = null;\n        return req;\n    }\n\n    static toView(req: LoginUri, view = new LoginUriView()) {\n        view.uri = req.uri;\n        view.match = req.match;\n        return view;\n    }\n\n    static toDomain(req: LoginUri, domain = new LoginUriDomain()) {\n        domain.uri = req.uri != null ? new EncString(req.uri) : null;\n        domain.match = req.match;\n        return domain;\n    }\n\n    uri: string;\n    match: UriMatchType = null;\n\n    constructor(o?: LoginUriView | LoginUriDomain) {\n        if (o == null) {\n            return;\n        }\n\n        if (o instanceof LoginUriView) {\n            this.uri = o.uri;\n        } else {\n            this.uri = o.uri?.encryptedString;\n        }\n        this.match = o.match;\n    }\n}\n","import { SecureNoteType } from '../../enums/secureNoteType';\n\nimport { SecureNoteView } from '../view/secureNoteView';\n\nimport { SecureNote as SecureNoteDomain } from '../domain/secureNote';\n\nexport class SecureNote {\n    static template(): SecureNote {\n        const req = new SecureNote();\n        req.type = SecureNoteType.Generic;\n        return req;\n    }\n\n    static toView(req: SecureNote, view = new SecureNoteView()) {\n        view.type = req.type;\n        return view;\n    }\n\n    static toDomain(req: SecureNote, view = new SecureNoteDomain()) {\n        view.type = req.type;\n        return view;\n    }\n\n    type: SecureNoteType;\n\n    constructor(o?: SecureNoteView | SecureNoteDomain) {\n        if (o == null) {\n            return;\n        }\n\n        this.type = o.type;\n    }\n}\n","import { CollectionView } from '../view/collectionView';\n\nimport { Collection as CollectionDomain } from '../domain/collection';\nimport { EncString } from '../domain/encString';\n\nexport class Collection {\n    static template(): Collection {\n        const req = new Collection();\n        req.organizationId = '00000000-0000-0000-0000-000000000000';\n        req.name = 'Collection name';\n        req.externalId = null;\n        return req;\n    }\n\n    static toView(req: Collection, view = new CollectionView()) {\n        view.name = req.name;\n        view.externalId = req.externalId;\n        if (view.organizationId == null) {\n            view.organizationId = req.organizationId;\n        }\n        return view;\n    }\n\n    static toDomain(req: Collection, domain = new CollectionDomain()) {\n        domain.name = req.name != null ? new EncString(req.name) : null;\n        domain.externalId = req.externalId;\n        if (domain.organizationId == null) {\n            domain.organizationId = req.organizationId;\n        }\n        return domain;\n    }\n\n    organizationId: string;\n    name: string;\n    externalId: string;\n\n    // Use build method instead of ctor so that we can control order of JSON stringify for pretty print\n    build(o: CollectionView | CollectionDomain) {\n        this.organizationId = o.organizationId;\n        if (o instanceof CollectionView) {\n            this.name = o.name;\n        } else {\n            this.name = o.name?.encryptedString;\n        }\n        this.externalId = o.externalId;\n    }\n}\n","import { FolderView } from '../view/folderView';\n\nimport { EncString } from '../domain/encString';\nimport { Folder as FolderDomain } from '../domain/folder';\n\nexport class Folder {\n    static template(): Folder {\n        const req = new Folder();\n        req.name = 'Folder name';\n        return req;\n    }\n\n    static toView(req: Folder, view = new FolderView()) {\n        view.name = req.name;\n        return view;\n    }\n\n    static toDomain(req: Folder, domain = new FolderDomain()) {\n        domain.name = req.name != null ? new EncString(req.name) : null;\n        return domain;\n    }\n\n    name: string;\n\n    // Use build method instead of ctor so that we can control order of JSON stringify for pretty print\n    build(o: FolderView | FolderDomain) {\n        if (o instanceof FolderView) {\n            this.name = o.name;\n        } else {\n            this.name = o.name?.encryptedString;\n        }\n    }\n}\n","import { ApiService } from '../abstractions/api.service';\nimport { FileUploadService as FileUploadServiceAbstraction } from '../abstractions/fileUpload.service';\nimport { LogService } from '../abstractions/log.service';\n\nimport { FileUploadType } from '../enums/fileUploadType';\n\nimport { EncArrayBuffer } from '../models/domain/encArrayBuffer';\nimport { EncString } from '../models/domain/encString';\n\nimport { AttachmentUploadDataResponse } from '../models/response/attachmentUploadDataResponse';\nimport { SendFileUploadDataResponse } from '../models/response/sendFileUploadDataResponse';\n\nimport { AzureFileUploadService } from './azureFileUpload.service';\nimport { BitwardenFileUploadService } from './bitwardenFileUpload.service';\n\nexport class FileUploadService implements FileUploadServiceAbstraction {\n    private azureFileUploadService: AzureFileUploadService;\n    private bitwardenFileUploadService: BitwardenFileUploadService;\n\n    constructor(private logService: LogService, private apiService: ApiService) {\n        this.azureFileUploadService = new AzureFileUploadService(logService);\n        this.bitwardenFileUploadService = new BitwardenFileUploadService(apiService);\n    }\n\n    async uploadSendFile(uploadData: SendFileUploadDataResponse, fileName: EncString, encryptedFileData: EncArrayBuffer) {\n        try {\n            switch (uploadData.fileUploadType) {\n                case FileUploadType.Direct:\n                    await this.bitwardenFileUploadService.upload(fileName.encryptedString, encryptedFileData,\n                        fd => this.apiService.postSendFile(uploadData.sendResponse.id, uploadData.sendResponse.file.id, fd));\n                    break;\n                case FileUploadType.Azure:\n                    const renewalCallback = async () => {\n                        const renewalResponse = await this.apiService.renewSendFileUploadUrl(uploadData.sendResponse.id,\n                            uploadData.sendResponse.file.id);\n                        return renewalResponse.url;\n                    };\n                    await this.azureFileUploadService.upload(uploadData.url, encryptedFileData,\n                        renewalCallback);\n                    break;\n                default:\n                    throw new Error('Unknown file upload type');\n            }\n        } catch (e) {\n            await this.apiService.deleteSend(uploadData.sendResponse.id);\n            throw e;\n        }\n    }\n\n    async uploadCipherAttachment(admin: boolean, uploadData: AttachmentUploadDataResponse, encryptedFileName: string, encryptedFileData: EncArrayBuffer) {\n        const response = admin ? uploadData.cipherMiniResponse : uploadData.cipherResponse;\n        try {\n            switch (uploadData.fileUploadType) {\n                case FileUploadType.Direct:\n                    await this.bitwardenFileUploadService.upload(encryptedFileName, encryptedFileData,\n                        fd => this.apiService.postAttachmentFile(response.id, uploadData.attachmentId, fd));\n                    break;\n                case FileUploadType.Azure:\n                    const renewalCallback = async () => {\n                        const renewalResponse = await this.apiService.renewAttachmentUploadUrl(response.id,\n                            uploadData.attachmentId);\n                        return renewalResponse.url;\n                    };\n                    await this.azureFileUploadService.upload(uploadData.url, encryptedFileData, renewalCallback);\n                    break;\n                default:\n                    throw new Error('Unknown file upload type.');\n            }\n        } catch (e) {\n            if (admin) {\n                await this.apiService.deleteCipherAttachmentAdmin(response.id, uploadData.attachmentId);\n            } else {\n                await this.apiService.deleteCipherAttachment(response.id, uploadData.attachmentId);\n            }\n            throw e;\n        }\n    }\n}\n","export enum FileUploadType {\n    Direct = 0,\n    Azure = 1,\n}\n","import { LogService } from '../abstractions/log.service';\n\nimport { Utils } from '../misc/utils';\n\nimport { EncArrayBuffer } from '../models/domain/encArrayBuffer';\n\nconst MAX_SINGLE_BLOB_UPLOAD_SIZE = 256 * 1024 * 1024; // 256 MiB\nconst MAX_BLOCKS_PER_BLOB = 50000;\n\nexport class AzureFileUploadService {\n    constructor(private logService: LogService) { }\n\n    async upload(url: string, data: EncArrayBuffer, renewalCallback: () => Promise<string>) {\n        if (data.buffer.byteLength <= MAX_SINGLE_BLOB_UPLOAD_SIZE) {\n            return await this.azureUploadBlob(url, data);\n        } else {\n            return await this.azureUploadBlocks(url, data, renewalCallback);\n        }\n    }\n    private async azureUploadBlob(url: string, data: EncArrayBuffer) {\n        const urlObject = Utils.getUrl(url);\n        const headers = new Headers({\n            'x-ms-date': new Date().toUTCString(),\n            'x-ms-version': urlObject.searchParams.get('sv'),\n            'Content-Length': data.buffer.byteLength.toString(),\n            'x-ms-blob-type': 'BlockBlob',\n        });\n\n        const request = new Request(url, {\n            body: data.buffer,\n            cache: 'no-store',\n            method: 'PUT',\n            headers: headers,\n        });\n\n        const blobResponse = await fetch(request);\n\n        if (blobResponse.status !== 201) {\n            throw new Error(`Failed to create Azure blob: ${blobResponse.status}`);\n        }\n    }\n    private async azureUploadBlocks(url: string, data: EncArrayBuffer, renewalCallback: () => Promise<string>) {\n        const baseUrl = Utils.getUrl(url);\n        const blockSize = this.getMaxBlockSize(baseUrl.searchParams.get('sv'));\n        let blockIndex = 0;\n        const numBlocks = Math.ceil(data.buffer.byteLength / blockSize);\n        const blocksStaged: string[] = [];\n\n        if (numBlocks > MAX_BLOCKS_PER_BLOB) {\n            throw new Error(`Cannot upload file, exceeds maximum size of ${blockSize * MAX_BLOCKS_PER_BLOB}`);\n        }\n\n        try {\n            while (blockIndex < numBlocks) {\n                url = await this.renewUrlIfNecessary(url, renewalCallback);\n                const blockUrl = Utils.getUrl(url);\n                const blockId = this.encodedBlockId(blockIndex);\n                blockUrl.searchParams.append('comp', 'block');\n                blockUrl.searchParams.append('blockid', blockId);\n                const start = blockIndex * blockSize;\n                const blockData = data.buffer.slice(start, start + blockSize);\n                const blockHeaders = new Headers({\n                    'x-ms-date': new Date().toUTCString(),\n                    'x-ms-version': blockUrl.searchParams.get('sv'),\n                    'Content-Length': blockData.byteLength.toString(),\n                });\n\n                const blockRequest = new Request(blockUrl.toString(), {\n                    body: blockData,\n                    cache: 'no-store',\n                    method: 'PUT',\n                    headers: blockHeaders,\n                });\n\n                const blockResponse = await fetch(blockRequest);\n\n                if (blockResponse.status !== 201) {\n                    const message = `Unsuccessful block PUT. Received status ${blockResponse.status}`;\n                    this.logService.error(message + '\\n' + await blockResponse.json());\n                    throw new Error(message);\n                }\n\n                blocksStaged.push(blockId);\n                blockIndex++;\n            }\n\n            url = await this.renewUrlIfNecessary(url, renewalCallback);\n            const blockListUrl = Utils.getUrl(url);\n            const blockListXml = this.blockListXml(blocksStaged);\n            blockListUrl.searchParams.append('comp', 'blocklist');\n            const headers = new Headers({\n                'x-ms-date': new Date().toUTCString(),\n                'x-ms-version': blockListUrl.searchParams.get('sv'),\n                'Content-Length': blockListXml.length.toString(),\n            });\n\n            const request = new Request(blockListUrl.toString(), {\n                body: blockListXml,\n                cache: 'no-store',\n                method: 'PUT',\n                headers: headers,\n            });\n\n            const response = await fetch(request);\n\n            if (response.status !== 201) {\n                const message = `Unsuccessful block list PUT. Received status ${response.status}`;\n                this.logService.error(message + '\\n' + await response.json());\n                throw new Error(message);\n            }\n        } catch (e) {\n            throw e;\n        }\n    }\n\n    private async renewUrlIfNecessary(url: string, renewalCallback: () => Promise<string>): Promise<string> {\n        const urlObject = Utils.getUrl(url);\n        const expiry = new Date(urlObject.searchParams.get('se') ?? '');\n\n        if (isNaN(expiry.getTime())) {\n            expiry.setTime(Date.now() + 3600000);\n        }\n\n        if (expiry.getTime() < Date.now() + 1000) {\n            return await renewalCallback();\n        }\n        return url;\n    }\n\n    private encodedBlockId(blockIndex: number) {\n        // Encoded blockId max size is 64, so pre-encoding max size is 48\n        const utfBlockId = ('000000000000000000000000000000000000000000000000' + blockIndex.toString()).slice(-48);\n        return Utils.fromUtf8ToB64(utfBlockId);\n    }\n\n    private blockListXml(blockIdList: string[]) {\n        let xml = '<?xml version=\"1.0\" encoding=\"utf-8\"?><BlockList>';\n        blockIdList.forEach(blockId => {\n            xml += `<Latest>${blockId}</Latest>`;\n        });\n        xml += '</BlockList>';\n        return xml;\n    }\n\n    private getMaxBlockSize(version: string) {\n        if (Version.compare(version, '2019-12-12') >= 0) {\n            return 4000 * 1024 * 1024; // 4000 MiB\n        } else if (Version.compare(version, '2016-05-31') >= 0) {\n            return 100 * 1024 * 1024; // 100 MiB\n        } else {\n            return 4 * 1024 * 1024; // 4 MiB\n        }\n    }\n}\n\nclass Version {\n    /**\n     * Compares two Azure Versions against each other\n     * @param a Version to compare\n     * @param b Version to compare\n     * @returns a number less than zero if b is newer than a, 0 if equal,\n     * and greater than zero if a is newer than b\n     */\n    static compare(a: Required<Version> | string, b: Required<Version> | string) {\n        if (typeof (a) === 'string') {\n            a = new Version(a);\n        }\n\n        if (typeof (b) === 'string') {\n            b = new Version(b);\n        }\n\n        return a.year !== b.year ? a.year - b.year :\n            a.month !== b.month ? a.month - b.month :\n                a.day !== b.day ? a.day - b.day :\n                    0;\n    }\n    year = 0;\n    month = 0;\n    day = 0;\n\n    constructor(version: string) {\n        try {\n            const parts = version.split('-').map(v => Number.parseInt(v, 10));\n            this.year = parts[0];\n            this.month = parts[1];\n            this.day = parts[2];\n        } catch { }\n    }\n    /**\n     * Compares two Azure Versions against each other\n     * @param compareTo Version to compare against\n     * @returns a number less than zero if compareTo is newer, 0 if equal,\n     * and greater than zero if this is greater than compareTo\n     */\n    compare(compareTo: Required<Version> | string) {\n        return Version.compare(this, compareTo);\n    }\n}\n","import { ApiService } from '../abstractions/api.service';\n\nimport { EncArrayBuffer } from '../models/domain/encArrayBuffer';\n\nimport { Utils } from '../misc/utils';\n\nexport class BitwardenFileUploadService\n{\n    constructor(private apiService: ApiService) { }\n\n    async upload(encryptedFileName: string, encryptedFileData: EncArrayBuffer, apiCall: (fd: FormData) => Promise<any>) {\n        const fd = new FormData();\n        try {\n            const blob = new Blob([encryptedFileData.buffer], { type: 'application/octet-stream' });\n            fd.append('data', blob, encryptedFileName);\n        } catch (e) {\n            if (Utils.isNode && !Utils.isBrowser) {\n                fd.append('data', Buffer.from(encryptedFileData.buffer) as any, {\n                    filepath: encryptedFileName,\n                    contentType: 'application/octet-stream',\n                } as any);\n            } else {\n                throw e;\n            }\n        }\n\n        await apiCall(fd);\n    }\n}\n","import { ApiService } from '../abstractions/api.service';\nimport { CipherService } from '../abstractions/cipher.service';\nimport { CollectionService } from '../abstractions/collection.service';\nimport { FolderService } from '../abstractions/folder.service';\nimport { I18nService } from '../abstractions/i18n.service';\nimport {\n    ImportOption,\n    ImportService as ImportServiceAbstraction,\n} from '../abstractions/import.service';\nimport { PlatformUtilsService } from '../abstractions/platformUtils.service';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CipherType } from '../enums/cipherType';\n\nimport { Utils } from '../misc/utils';\n\nimport { CipherRequest } from '../models/request/cipherRequest';\nimport { CollectionRequest } from '../models/request/collectionRequest';\nimport { FolderRequest } from '../models/request/folderRequest';\nimport { ImportCiphersRequest } from '../models/request/importCiphersRequest';\nimport { ImportOrganizationCiphersRequest } from '../models/request/importOrganizationCiphersRequest';\nimport { KvpRequest } from '../models/request/kvpRequest';\n\nimport { ErrorResponse } from '../models/response/errorResponse';\nimport { CipherView } from '../models/view/cipherView';\n\nimport { AscendoCsvImporter } from '../importers/ascendoCsvImporter';\nimport { AvastCsvImporter } from '../importers/avastCsvImporter';\nimport { AvastJsonImporter } from '../importers/avastJsonImporter';\nimport { AviraCsvImporter } from '../importers/aviraCsvImporter';\nimport { BitwardenCsvImporter } from '../importers/bitwardenCsvImporter';\nimport { BitwardenJsonImporter } from '../importers/bitwardenJsonImporter';\nimport { BlackBerryCsvImporter } from '../importers/blackBerryCsvImporter';\nimport { BlurCsvImporter } from '../importers/blurCsvImporter';\nimport { ButtercupCsvImporter } from '../importers/buttercupCsvImporter';\nimport { ChromeCsvImporter } from '../importers/chromeCsvImporter';\nimport { ClipperzHtmlImporter } from '../importers/clipperzHtmlImporter';\nimport { CodebookCsvImporter } from '../importers/codebookCsvImporter';\nimport { DashlaneJsonImporter } from '../importers/dashlaneJsonImporter';\nimport { EncryptrCsvImporter } from '../importers/encryptrCsvImporter';\nimport { EnpassCsvImporter } from '../importers/enpassCsvImporter';\nimport { EnpassJsonImporter } from '../importers/enpassJsonImporter';\nimport { FirefoxCsvImporter } from '../importers/firefoxCsvImporter';\nimport { FSecureFskImporter } from '../importers/fsecureFskImporter';\nimport { GnomeJsonImporter } from '../importers/gnomeJsonImporter';\nimport { Importer } from '../importers/importer';\nimport { KasperskyTxtImporter } from '../importers/kasperskyTxtImporter';\nimport { KeePass2XmlImporter } from '../importers/keepass2XmlImporter';\nimport { KeePassXCsvImporter } from '../importers/keepassxCsvImporter';\nimport { KeeperCsvImporter } from '../importers/keeperCsvImporter';\nimport { LastPassCsvImporter } from '../importers/lastpassCsvImporter';\nimport { LogMeOnceCsvImporter } from '../importers/logMeOnceCsvImporter';\nimport { MeldiumCsvImporter } from '../importers/meldiumCsvImporter';\nimport { MSecureCsvImporter } from '../importers/msecureCsvImporter';\nimport { MykiCsvImporter } from '../importers/mykiCsvImporter';\nimport { OnePassword1PifImporter } from '../importers/onepasswordImporters/onepassword1PifImporter';\nimport { OnePasswordMacCsvImporter } from '../importers/onepasswordImporters/onepasswordMacCsvImporter';\nimport { OnePasswordWinCsvImporter } from '../importers/onepasswordImporters/onepasswordWinCsvImporter';\nimport { PadlockCsvImporter } from '../importers/padlockCsvImporter';\nimport { PassKeepCsvImporter } from '../importers/passkeepCsvImporter';\nimport { PassmanJsonImporter } from '../importers/passmanJsonImporter';\nimport { PasspackCsvImporter } from '../importers/passpackCsvImporter';\nimport { PasswordAgentCsvImporter } from '../importers/passwordAgentCsvImporter';\nimport { PasswordBossJsonImporter } from '../importers/passwordBossJsonImporter';\nimport { PasswordDragonXmlImporter } from '../importers/passwordDragonXmlImporter';\nimport { PasswordSafeXmlImporter } from '../importers/passwordSafeXmlImporter';\nimport { PasswordWalletTxtImporter } from '../importers/passwordWalletTxtImporter';\nimport { RememBearCsvImporter } from '../importers/rememBearCsvImporter';\nimport { RoboFormCsvImporter } from '../importers/roboformCsvImporter';\nimport { SafeInCloudXmlImporter } from '../importers/safeInCloudXmlImporter';\nimport { SaferPassCsvImporter } from '../importers/saferpassCsvImport';\nimport { SecureSafeCsvImporter } from '../importers/secureSafeCsvImporter';\nimport { SplashIdCsvImporter } from '../importers/splashIdCsvImporter';\nimport { StickyPasswordXmlImporter } from '../importers/stickyPasswordXmlImporter';\nimport { TrueKeyCsvImporter } from '../importers/truekeyCsvImporter';\nimport { UpmCsvImporter } from '../importers/upmCsvImporter';\nimport { YotiCsvImporter } from '../importers/yotiCsvImporter';\nimport { ZohoVaultCsvImporter } from '../importers/zohoVaultCsvImporter';\n\nexport class ImportService implements ImportServiceAbstraction {\n    featuredImportOptions = [\n        { id: 'bitwardenjson', name: 'Bitwarden (json)' },\n        { id: 'bitwardencsv', name: 'Bitwarden (csv)' },\n        { id: 'lastpasscsv', name: 'LastPass (csv)' },\n        { id: 'chromecsv', name: 'Chrome (csv)' },\n        { id: 'firefoxcsv', name: 'Firefox (csv)' },\n        { id: 'keepass2xml', name: 'KeePass 2 (xml)' },\n        { id: '1password1pif', name: '1Password (1pif)' },\n        { id: 'dashlanejson', name: 'Dashlane (json)' },\n    ];\n\n    regularImportOptions: ImportOption[] = [\n        { id: 'keepassxcsv', name: 'KeePassX (csv)' },\n        { id: '1passwordwincsv', name: '1Password 6 and 7 Windows (csv)' },\n        { id: '1passwordmaccsv', name: '1Password 6 and 7 Mac (csv)' },\n        { id: 'roboformcsv', name: 'RoboForm (csv)' },\n        { id: 'keepercsv', name: 'Keeper (csv)' },\n        { id: 'enpasscsv', name: 'Enpass (csv)' },\n        { id: 'enpassjson', name: 'Enpass (json)' },\n        { id: 'safeincloudxml', name: 'SafeInCloud (xml)' },\n        { id: 'pwsafexml', name: 'Password Safe (xml)' },\n        { id: 'stickypasswordxml', name: 'Sticky Password (xml)' },\n        { id: 'msecurecsv', name: 'mSecure (csv)' },\n        { id: 'truekeycsv', name: 'True Key (csv)' },\n        { id: 'passwordbossjson', name: 'Password Boss (json)' },\n        { id: 'zohovaultcsv', name: 'Zoho Vault (csv)' },\n        { id: 'splashidcsv', name: 'SplashID (csv)' },\n        { id: 'passworddragonxml', name: 'Password Dragon (xml)' },\n        { id: 'padlockcsv', name: 'Padlock (csv)' },\n        { id: 'passboltcsv', name: 'Passbolt (csv)' },\n        { id: 'clipperzhtml', name: 'Clipperz (html)' },\n        { id: 'aviracsv', name: 'Avira (csv)' },\n        { id: 'saferpasscsv', name: 'SaferPass (csv)' },\n        { id: 'upmcsv', name: 'Universal Password Manager (csv)' },\n        { id: 'ascendocsv', name: 'Ascendo DataVault (csv)' },\n        { id: 'meldiumcsv', name: 'Meldium (csv)' },\n        { id: 'passkeepcsv', name: 'PassKeep (csv)' },\n        { id: 'operacsv', name: 'Opera (csv)' },\n        { id: 'vivaldicsv', name: 'Vivaldi (csv)' },\n        { id: 'gnomejson', name: 'GNOME Passwords and Keys/Seahorse (json)' },\n        { id: 'blurcsv', name: 'Blur (csv)' },\n        { id: 'passwordagentcsv', name: 'Password Agent (csv)' },\n        { id: 'passpackcsv', name: 'Passpack (csv)' },\n        { id: 'passmanjson', name: 'Passman (json)' },\n        { id: 'avastcsv', name: 'Avast Passwords (csv)' },\n        { id: 'avastjson', name: 'Avast Passwords (json)' },\n        { id: 'fsecurefsk', name: 'F-Secure KEY (fsk)' },\n        { id: 'kasperskytxt', name: 'Kaspersky Password Manager (txt)' },\n        { id: 'remembearcsv', name: 'RememBear (csv)' },\n        { id: 'passwordwallettxt', name: 'PasswordWallet (txt)' },\n        { id: 'mykicsv', name: 'Myki (csv)' },\n        { id: 'securesafecsv', name: 'SecureSafe (csv)' },\n        { id: 'logmeoncecsv', name: 'LogMeOnce (csv)' },\n        { id: 'blackberrycsv', name: 'BlackBerry Password Keeper (csv)' },\n        { id: 'buttercupcsv', name: 'Buttercup (csv)' },\n        { id: 'codebookcsv', name: 'Codebook (csv)' },\n        { id: 'encryptrcsv', name: 'Encryptr (csv)' },\n        { id: 'yoticsv', name: 'Yoti (csv)' },\n    ];\n\n    constructor(private cipherService: CipherService, private folderService: FolderService,\n        private apiService: ApiService, private i18nService: I18nService,\n        private collectionService: CollectionService, private platformUtilsService: PlatformUtilsService) { }\n\n    getImportOptions(): ImportOption[] {\n        return this.featuredImportOptions.concat(this.regularImportOptions);\n    }\n\n    async import(importer: Importer, fileContents: string, organizationId: string = null): Promise<Error> {\n        const importResult = await importer.parse(fileContents);\n        if (importResult.success) {\n            if (importResult.folders.length === 0 && importResult.ciphers.length === 0) {\n                return new Error(this.i18nService.t('importNothingError'));\n            } else if (importResult.ciphers.length > 0) {\n                const halfway = Math.floor(importResult.ciphers.length / 2);\n                const last = importResult.ciphers.length - 1;\n\n                if (this.badData(importResult.ciphers[0]) &&\n                    this.badData(importResult.ciphers[halfway]) &&\n                    this.badData(importResult.ciphers[last])) {\n                    return new Error(this.i18nService.t('importFormatError'));\n                }\n            }\n            try {\n                await this.postImport(importResult, organizationId);\n            } catch (error) {\n                const errorResponse = new ErrorResponse(error, 400);\n                return this.handleServerError(errorResponse, importResult);\n            }\n            return null;\n        } else {\n            return new Error(this.i18nService.t('importFormatError'));\n        }\n    }\n\n    getImporter(format: string, organizationId: string = null): Importer {\n        const importer = this.getImporterInstance(format);\n        if (importer == null) {\n            return null;\n        }\n        importer.organizationId = organizationId;\n        return importer;\n    }\n\n    private getImporterInstance(format: string) {\n        if (format == null || format === '') {\n            return null;\n        }\n\n        switch (format) {\n            case 'bitwardencsv':\n                return new BitwardenCsvImporter();\n            case 'bitwardenjson':\n                return new BitwardenJsonImporter();\n            case 'lastpasscsv':\n            case 'passboltcsv':\n                return new LastPassCsvImporter();\n            case 'keepassxcsv':\n                return new KeePassXCsvImporter();\n            case 'aviracsv':\n                return new AviraCsvImporter();\n            case 'blurcsv':\n                return new BlurCsvImporter();\n            case 'safeincloudxml':\n                return new SafeInCloudXmlImporter();\n            case 'padlockcsv':\n                return new PadlockCsvImporter();\n            case 'keepass2xml':\n                return new KeePass2XmlImporter();\n            case 'chromecsv':\n            case 'operacsv':\n            case 'vivaldicsv':\n                return new ChromeCsvImporter();\n            case 'firefoxcsv':\n                return new FirefoxCsvImporter();\n            case 'upmcsv':\n                return new UpmCsvImporter();\n            case 'saferpasscsv':\n                return new SaferPassCsvImporter();\n            case 'meldiumcsv':\n                return new MeldiumCsvImporter();\n            case '1password1pif':\n                return new OnePassword1PifImporter();\n            case '1passwordwincsv':\n                return new OnePasswordWinCsvImporter();\n            case '1passwordmaccsv':\n                return new OnePasswordMacCsvImporter();\n            case 'keepercsv':\n                return new KeeperCsvImporter();\n            case 'passworddragonxml':\n                return new PasswordDragonXmlImporter();\n            case 'enpasscsv':\n                return new EnpassCsvImporter();\n            case 'enpassjson':\n                return new EnpassJsonImporter();\n            case 'pwsafexml':\n                return new PasswordSafeXmlImporter();\n            case 'dashlanejson':\n                return new DashlaneJsonImporter();\n            case 'msecurecsv':\n                return new MSecureCsvImporter();\n            case 'stickypasswordxml':\n                return new StickyPasswordXmlImporter();\n            case 'truekeycsv':\n                return new TrueKeyCsvImporter();\n            case 'clipperzhtml':\n                return new ClipperzHtmlImporter();\n            case 'roboformcsv':\n                return new RoboFormCsvImporter();\n            case 'ascendocsv':\n                return new AscendoCsvImporter();\n            case 'passwordbossjson':\n                return new PasswordBossJsonImporter();\n            case 'zohovaultcsv':\n                return new ZohoVaultCsvImporter();\n            case 'splashidcsv':\n                return new SplashIdCsvImporter();\n            case 'passkeepcsv':\n                return new PassKeepCsvImporter();\n            case 'gnomejson':\n                return new GnomeJsonImporter();\n            case 'passwordagentcsv':\n                return new PasswordAgentCsvImporter();\n            case 'passpackcsv':\n                return new PasspackCsvImporter();\n            case 'passmanjson':\n                return new PassmanJsonImporter();\n            case 'avastcsv':\n                return new AvastCsvImporter();\n            case 'avastjson':\n                return new AvastJsonImporter();\n            case 'fsecurefsk':\n                return new FSecureFskImporter();\n            case 'kasperskytxt':\n                return new KasperskyTxtImporter();\n            case 'remembearcsv':\n                return new RememBearCsvImporter();\n            case 'passwordwallettxt':\n                return new PasswordWalletTxtImporter();\n            case 'mykicsv':\n                return new MykiCsvImporter();\n            case 'securesafecsv':\n                return new SecureSafeCsvImporter();\n            case 'logmeoncecsv':\n                return new LogMeOnceCsvImporter();\n            case 'blackberrycsv':\n                return new BlackBerryCsvImporter();\n            case 'buttercupcsv':\n                return new ButtercupCsvImporter();\n            case 'codebookcsv':\n                return new CodebookCsvImporter();\n            case 'encryptrcsv':\n                return new EncryptrCsvImporter();\n            case 'yoticsv':\n                return new YotiCsvImporter();\n            default:\n                return null;\n        }\n    }\n\n    private async postImport(importResult: ImportResult, organizationId: string = null) {\n        if (organizationId == null) {\n            const request = new ImportCiphersRequest();\n            for (let i = 0; i < importResult.ciphers.length; i++) {\n                const c = await this.cipherService.encrypt(importResult.ciphers[i]);\n                request.ciphers.push(new CipherRequest(c));\n            }\n            if (importResult.folders != null) {\n                for (let i = 0; i < importResult.folders.length; i++) {\n                    const f = await this.folderService.encrypt(importResult.folders[i]);\n                    request.folders.push(new FolderRequest(f));\n                }\n            }\n            if (importResult.folderRelationships != null) {\n                importResult.folderRelationships.forEach(r =>\n                    request.folderRelationships.push(new KvpRequest(r[0], r[1])));\n            }\n            return await this.apiService.postImportCiphers(request);\n        } else {\n            const request = new ImportOrganizationCiphersRequest();\n            for (let i = 0; i < importResult.ciphers.length; i++) {\n                importResult.ciphers[i].organizationId = organizationId;\n                const c = await this.cipherService.encrypt(importResult.ciphers[i]);\n                request.ciphers.push(new CipherRequest(c));\n            }\n            if (importResult.collections != null) {\n                for (let i = 0; i < importResult.collections.length; i++) {\n                    importResult.collections[i].organizationId = organizationId;\n                    const c = await this.collectionService.encrypt(importResult.collections[i]);\n                    request.collections.push(new CollectionRequest(c));\n                }\n            }\n            if (importResult.collectionRelationships != null) {\n                importResult.collectionRelationships.forEach(r =>\n                    request.collectionRelationships.push(new KvpRequest(r[0], r[1])));\n            }\n            return await this.apiService.postImportOrganizationCiphers(organizationId, request);\n        }\n    }\n\n    private badData(c: CipherView) {\n        return (c.name == null || c.name === '--') &&\n            (c.type === CipherType.Login && c.login != null && Utils.isNullOrWhitespace(c.login.password));\n    }\n\n    private handleServerError(errorResponse: ErrorResponse, importResult: ImportResult): Error {\n        if (errorResponse.validationErrors == null) {\n            return new Error(errorResponse.message);\n        }\n\n        let errorMessage = '';\n\n        Object.entries(errorResponse.validationErrors).forEach(([key, value], index) => {\n            let item;\n            let itemType;\n            const i = Number(key.match(/[0-9]+/)[0]);\n\n            switch (key.match(/^\\w+/)[0]) {\n                case 'Ciphers':\n                    item = importResult.ciphers[i];\n                    itemType = CipherType[item.type];\n                    break;\n                case 'Folders':\n                    item = importResult.folders[i];\n                    itemType = 'Folder';\n                    break;\n                case 'Collections':\n                    item = importResult.collections[i];\n                    itemType = 'Collection';\n                    break;\n                default:\n                    return;\n            }\n\n            if (index > 0) {\n                errorMessage += '\\n\\n';\n            }\n\n            if (itemType !== 'Folder' && itemType !== 'Collection') {\n                errorMessage += '[' + (i + 1) + '] ';\n            }\n\n            errorMessage += '[' + itemType + '] \"' + item.name + '\": ' + value;\n        });\n\n        return new Error(errorMessage);\n    }\n}\n","import { CipherRequest } from './cipherRequest';\nimport { FolderRequest } from './folderRequest';\nimport { KvpRequest } from './kvpRequest';\n\nexport class ImportCiphersRequest {\n    ciphers: CipherRequest[] = [];\n    folders: FolderRequest[] = [];\n    folderRelationships: KvpRequest<number, number>[] = [];\n}\n","import { CipherRequest } from './cipherRequest';\nimport { CollectionRequest } from './collectionRequest';\nimport { KvpRequest } from './kvpRequest';\n\nexport class ImportOrganizationCiphersRequest {\n    ciphers: CipherRequest[] = [];\n    collections: CollectionRequest[] = [];\n    collectionRelationships: KvpRequest<number, number>[] = [];\n}\n","export class KvpRequest<TK, TV> {\n    key: TK;\n    value: TV;\n\n    constructor(key: TK, value: TV) {\n        this.key = key;\n        this.value = value;\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class AscendoCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, false);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (value.length < 2) {\n                return;\n            }\n\n            const cipher = this.initLoginCipher();\n            cipher.notes = this.getValueOrDefault(value[value.length - 1]);\n            cipher.name = this.getValueOrDefault(value[0], '--');\n\n            if (value.length > 2 && (value.length % 2) === 0) {\n                for (let i = 0; i < value.length - 2; i += 2) {\n                    const val: string = value[i + 2];\n                    const field: string = value[i + 1];\n                    if (this.isNullOrWhitespace(val) || this.isNullOrWhitespace(field)) {\n                        continue;\n                    }\n\n                    const fieldLower = field.toLowerCase();\n                    if (cipher.login.password == null && this.passwordFieldNames.indexOf(fieldLower) > -1) {\n                        cipher.login.password = this.getValueOrDefault(val);\n                    } else if (cipher.login.username == null &&\n                        this.usernameFieldNames.indexOf(fieldLower) > -1) {\n                        cipher.login.username = this.getValueOrDefault(val);\n                    } else if ((cipher.login.uris == null || cipher.login.uris.length === 0) &&\n                        this.uriFieldNames.indexOf(fieldLower) > -1) {\n                        cipher.login.uris = this.makeUriArray(val);\n                    } else {\n                        this.processKvp(cipher, field, val);\n                    }\n                }\n            }\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class AvastCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.name);\n            cipher.login.uris = this.makeUriArray(value.web);\n            cipher.login.password = this.getValueOrDefault(value.password);\n            cipher.login.username = this.getValueOrDefault(value.login);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CipherType } from '../enums/cipherType';\nimport { SecureNoteType } from '../enums/secureNoteType';\n\nexport class AvastJsonImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = JSON.parse(data);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        if (results.logins != null) {\n            results.logins.forEach((value: any) => {\n                const cipher = this.initLoginCipher();\n                cipher.name = this.getValueOrDefault(value.custName);\n                cipher.notes = this.getValueOrDefault(value.note);\n                cipher.login.uris = this.makeUriArray(value.url);\n                cipher.login.password = this.getValueOrDefault(value.pwd);\n                cipher.login.username = this.getValueOrDefault(value.loginName);\n                this.cleanupCipher(cipher);\n                result.ciphers.push(cipher);\n            });\n        }\n\n        if (results.notes != null) {\n            results.notes.forEach((value: any) => {\n                const cipher = this.initLoginCipher();\n                cipher.type = CipherType.SecureNote;\n                cipher.secureNote.type = SecureNoteType.Generic;\n                cipher.name = this.getValueOrDefault(value.label);\n                cipher.notes = this.getValueOrDefault(value.text);\n                this.cleanupCipher(cipher);\n                result.ciphers.push(cipher);\n            });\n        }\n\n        if (results.cards != null) {\n            results.cards.forEach((value: any) => {\n                const cipher = this.initLoginCipher();\n                cipher.type = CipherType.Card;\n                cipher.name = this.getValueOrDefault(value.custName);\n                cipher.notes = this.getValueOrDefault(value.note);\n                cipher.card.cardholderName = this.getValueOrDefault(value.holderName);\n                cipher.card.number = this.getValueOrDefault(value.cardNumber);\n                cipher.card.code = this.getValueOrDefault(value.cvv);\n                cipher.card.brand = this.getCardBrand(cipher.card.number);\n                if (value.expirationDate != null) {\n                    if (value.expirationDate.month != null) {\n                        cipher.card.expMonth = value.expirationDate.month + '';\n                    }\n                    if (value.expirationDate.year != null) {\n                        cipher.card.expYear = value.expirationDate.year + '';\n                    }\n                }\n                this.cleanupCipher(cipher);\n                result.ciphers.push(cipher);\n            });\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class AviraCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.name,\n                this.getValueOrDefault(this.nameFromUrl(value.website), '--'));\n            cipher.login.uris = this.makeUriArray(value.website);\n            cipher.login.password = this.getValueOrDefault(value.password);\n\n            if (this.isNullOrWhitespace(value.username) && !this.isNullOrWhitespace(value.secondary_username)) {\n                cipher.login.username = value.secondary_username;\n            } else {\n                cipher.login.username = this.getValueOrDefault(value.username);\n                cipher.notes = this.getValueOrDefault(value.secondary_username);\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CipherView } from '../models/view/cipherView';\nimport { CollectionView } from '../models/view/collectionView';\nimport { FieldView } from '../models/view/fieldView';\nimport { FolderView } from '../models/view/folderView';\nimport { LoginView } from '../models/view/loginView';\nimport { SecureNoteView } from '../models/view/secureNoteView';\n\nimport { CipherType } from '../enums/cipherType';\nimport { FieldType } from '../enums/fieldType';\nimport { SecureNoteType } from '../enums/secureNoteType';\n\nexport class BitwardenCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (this.organization && !this.isNullOrWhitespace(value.collections)) {\n                const collections = (value.collections as string).split(',');\n                collections.forEach(col => {\n                    let addCollection = true;\n                    let collectionIndex = result.collections.length;\n\n                    for (let i = 0; i < result.collections.length; i++) {\n                        if (result.collections[i].name === col) {\n                            addCollection = false;\n                            collectionIndex = i;\n                            break;\n                        }\n                    }\n\n                    if (addCollection) {\n                        const collection = new CollectionView();\n                        collection.name = col;\n                        result.collections.push(collection);\n                    }\n\n                    result.collectionRelationships.push([result.ciphers.length, collectionIndex]);\n                });\n            } else if (!this.organization) {\n                this.processFolder(result, value.folder);\n            }\n\n            const cipher = new CipherView();\n            cipher.favorite = !this.organization && this.getValueOrDefault(value.favorite, '0') !== '0' ? true : false;\n            cipher.type = CipherType.Login;\n            cipher.notes = this.getValueOrDefault(value.notes);\n            cipher.name = this.getValueOrDefault(value.name, '--');\n\n            if (!this.isNullOrWhitespace(value.fields)) {\n                const fields = this.splitNewLine(value.fields);\n                for (let i = 0; i < fields.length; i++) {\n                    if (this.isNullOrWhitespace(fields[i])) {\n                        continue;\n                    }\n\n                    const delimPosition = fields[i].lastIndexOf(': ');\n                    if (delimPosition === -1) {\n                        continue;\n                    }\n\n                    if (cipher.fields == null) {\n                        cipher.fields = [];\n                    }\n\n                    const field = new FieldView();\n                    field.name = fields[i].substr(0, delimPosition);\n                    field.value = null;\n                    field.type = FieldType.Text;\n                    if (fields[i].length > (delimPosition + 2)) {\n                        field.value = fields[i].substr(delimPosition + 2);\n                    }\n                    cipher.fields.push(field);\n                }\n            }\n\n            const valueType = value.type != null ? value.type.toLowerCase() : null;\n            switch (valueType) {\n                case 'note':\n                    cipher.type = CipherType.SecureNote;\n                    cipher.secureNote = new SecureNoteView();\n                    cipher.secureNote.type = SecureNoteType.Generic;\n                    break;\n                default:\n                    cipher.type = CipherType.Login;\n                    cipher.login = new LoginView();\n                    cipher.login.totp = this.getValueOrDefault(value.login_totp || value.totp);\n                    cipher.login.username = this.getValueOrDefault(value.login_username || value.username);\n                    cipher.login.password = this.getValueOrDefault(value.login_password || value.password);\n                    const uris = this.parseSingleRowCsv(value.login_uri || value.uri);\n                    cipher.login.uris = this.makeUriArray(uris);\n                    break;\n            }\n\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CipherWithIds } from '../models/export/cipherWithIds';\nimport { CollectionWithId } from '../models/export/collectionWithId';\nimport { FolderWithId } from '../models/export/folderWithId';\n\nexport class BitwardenJsonImporter extends BaseImporter implements Importer {\n    private results: any;\n    private result: ImportResult;\n\n    async parse(data: string): Promise<ImportResult> {\n        this.result = new ImportResult();\n        this.results = JSON.parse(data);\n        if (this.results == null || this.results.items == null || this.results.items.length === 0) {\n            this.result.success = false;\n            return this.result;\n        }\n\n        if (this.results.encrypted) {\n            await this.parseEncrypted();\n        } else {\n            this.parseDecrypted();\n        }\n\n        this.result.success = true;\n        return this.result;\n    }\n\n    private async parseEncrypted() {\n        const groupingsMap = new Map<string, number>();\n\n        if (this.organization && this.results.collections != null) {\n            for (const c of this.results.collections as CollectionWithId[]) {\n                const collection = CollectionWithId.toDomain(c);\n                if (collection != null) {\n                    collection.id = null;\n                    collection.organizationId = this.organizationId;\n                    const view = await collection.decrypt();\n                    groupingsMap.set(c.id, this.result.collections.length);\n                    this.result.collections.push(view);\n                }\n            }\n        } else if (!this.organization && this.results.folders != null) {\n            for (const f of this.results.folders as FolderWithId[]) {\n                const folder = FolderWithId.toDomain(f);\n                if (folder != null) {\n                    folder.id = null;\n                    const view = await folder.decrypt();\n                    groupingsMap.set(f.id, this.result.folders.length);\n                    this.result.folders.push(view);\n                }\n            }\n        }\n\n        for (const c of this.results.items as CipherWithIds[]) {\n            const cipher = CipherWithIds.toDomain(c);\n            // reset ids incase they were set for some reason\n            cipher.id = null;\n            cipher.folderId = null;\n            cipher.organizationId = this.organizationId;\n            cipher.collectionIds = null;\n\n            // make sure password history is limited\n            if (cipher.passwordHistory != null && cipher.passwordHistory.length > 5) {\n                cipher.passwordHistory = cipher.passwordHistory.slice(0, 5);\n            }\n\n            if (!this.organization && c.folderId != null && groupingsMap.has(c.folderId)) {\n                this.result.folderRelationships.push([this.result.ciphers.length, groupingsMap.get(c.folderId)]);\n            } else if (this.organization && c.collectionIds != null) {\n                c.collectionIds.forEach(cId => {\n                    if (groupingsMap.has(cId)) {\n                        this.result.collectionRelationships.push([this.result.ciphers.length, groupingsMap.get(cId)]);\n                    }\n                });\n            }\n\n            const view = await cipher.decrypt();\n            this.cleanupCipher(view);\n            this.result.ciphers.push(view);\n        }\n    }\n\n    private parseDecrypted() {\n        const groupingsMap = new Map<string, number>();\n        if (this.organization && this.results.collections != null) {\n            this.results.collections.forEach((c: CollectionWithId) => {\n                const collection = CollectionWithId.toView(c);\n                if (collection != null) {\n                    collection.id = null;\n                    collection.organizationId = null;\n                    groupingsMap.set(c.id, this.result.collections.length);\n                    this.result.collections.push(collection);\n                }\n            });\n        } else if (!this.organization && this.results.folders != null) {\n            this.results.folders.forEach((f: FolderWithId) => {\n                const folder = FolderWithId.toView(f);\n                if (folder != null) {\n                    folder.id = null;\n                    groupingsMap.set(f.id, this.result.folders.length);\n                    this.result.folders.push(folder);\n                }\n            });\n        }\n\n        this.results.items.forEach((c: CipherWithIds) => {\n            const cipher = CipherWithIds.toView(c);\n            // reset ids incase they were set for some reason\n            cipher.id = null;\n            cipher.folderId = null;\n            cipher.organizationId = null;\n            cipher.collectionIds = null;\n\n            // make sure password history is limited\n            if (cipher.passwordHistory != null && cipher.passwordHistory.length > 5) {\n                cipher.passwordHistory = cipher.passwordHistory.slice(0, 5);\n            }\n\n            if (!this.organization && c.folderId != null && groupingsMap.has(c.folderId)) {\n                this.result.folderRelationships.push([this.result.ciphers.length, groupingsMap.get(c.folderId)]);\n            } else if (this.organization && c.collectionIds != null) {\n                c.collectionIds.forEach(cId => {\n                    if (groupingsMap.has(cId)) {\n                        this.result.collectionRelationships.push([this.result.ciphers.length, groupingsMap.get(cId)]);\n                    }\n                });\n            }\n\n            this.cleanupCipher(cipher);\n            this.result.ciphers.push(cipher);\n        });\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class BlackBerryCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (value.grouping === 'list') {\n                return;\n            }\n            const cipher = this.initLoginCipher();\n            cipher.favorite = value.fav === '1';\n            cipher.name = this.getValueOrDefault(value.name);\n            cipher.notes = this.getValueOrDefault(value.extra);\n            if (value.grouping !== 'note') {\n                cipher.login.uris = this.makeUriArray(value.url);\n                cipher.login.password = this.getValueOrDefault(value.password);\n                cipher.login.username = this.getValueOrDefault(value.username);\n            }\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class BlurCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (value.label === 'null') {\n                value.label = null;\n            }\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.label,\n                this.getValueOrDefault(this.nameFromUrl(value.domain), '--'));\n            cipher.login.uris = this.makeUriArray(value.domain);\n            cipher.login.password = this.getValueOrDefault(value.password);\n\n            if (this.isNullOrWhitespace(value.email) && !this.isNullOrWhitespace(value.username)) {\n                cipher.login.username = value.username;\n            } else {\n                cipher.login.username = this.getValueOrDefault(value.email);\n                cipher.notes = this.getValueOrDefault(value.username);\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nconst OfficialProps = [\n    '!group_id', '!group_name', 'title', 'username', 'password', 'URL', 'id',\n];\n\nexport class ButtercupCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            this.processFolder(result, this.getValueOrDefault(value['!group_name']));\n\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.title, '--');\n            cipher.login.username = this.getValueOrDefault(value.username);\n            cipher.login.password = this.getValueOrDefault(value.password);\n            cipher.login.uris = this.makeUriArray(value.URL);\n\n            let processingCustomFields = false;\n            for (const prop in value) {\n                if (value.hasOwnProperty(prop)) {\n                    if (!processingCustomFields && OfficialProps.indexOf(prop) === -1) {\n                        processingCustomFields = true;\n                    }\n                    if (processingCustomFields) {\n                        this.processKvp(cipher, prop, value[prop]);\n                    }\n                }\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class ChromeCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.name, '--');\n            cipher.login.username = this.getValueOrDefault(value.username);\n            cipher.login.password = this.getValueOrDefault(value.password);\n            cipher.login.uris = this.makeUriArray(value.url);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class ClipperzHtmlImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const doc = this.parseXml(data);\n        if (doc == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        const textarea = doc.querySelector('textarea');\n        if (textarea == null || this.isNullOrWhitespace(textarea.textContent)) {\n            result.errorMessage = 'Missing textarea.';\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        const entries = JSON.parse(textarea.textContent);\n        entries.forEach((entry: any) => {\n            const cipher = this.initLoginCipher();\n            if (!this.isNullOrWhitespace(entry.label)) {\n                cipher.name = entry.label.split(' ')[0];\n            }\n            if (entry.data != null && !this.isNullOrWhitespace(entry.data.notes)) {\n                cipher.notes = entry.data.notes.split('\\\\n').join('\\n');\n            }\n\n            if (entry.currentVersion != null && entry.currentVersion.fields != null) {\n                for (const property in entry.currentVersion.fields) {\n                    if (!entry.currentVersion.fields.hasOwnProperty(property)) {\n                        continue;\n                    }\n\n                    const field = entry.currentVersion.fields[property];\n                    const actionType = field.actionType != null ? field.actionType.toLowerCase() : null;\n                    switch (actionType) {\n                        case 'password':\n                            cipher.login.password = this.getValueOrDefault(field.value);\n                            break;\n                        case 'email':\n                        case 'username':\n                        case 'user':\n                        case 'name':\n                            cipher.login.username = this.getValueOrDefault(field.value);\n                            break;\n                        case 'url':\n                            cipher.login.uris = this.makeUriArray(field.value);\n                            break;\n                        default:\n                            const labelLower = field.label != null ? field.label.toLowerCase() : null;\n                            if (cipher.login.password == null && this.passwordFieldNames.indexOf(labelLower) > -1) {\n                                cipher.login.password = this.getValueOrDefault(field.value);\n                            } else if (cipher.login.username == null &&\n                                this.usernameFieldNames.indexOf(labelLower) > -1) {\n                                cipher.login.username = this.getValueOrDefault(field.value);\n                            } else if ((cipher.login.uris == null || cipher.login.uris.length === 0) &&\n                                this.uriFieldNames.indexOf(labelLower) > -1) {\n                                cipher.login.uris = this.makeUriArray(field.value);\n                            } else {\n                                this.processKvp(cipher, field.label, field.value);\n                            }\n                            break;\n                    }\n                }\n            }\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class CodebookCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            this.processFolder(result, this.getValueOrDefault(value.Category));\n\n            const cipher = this.initLoginCipher();\n            cipher.favorite = this.getValueOrDefault(value.Favorite) === 'True';\n            cipher.name = this.getValueOrDefault(value.Entry, '--');\n            cipher.notes = this.getValueOrDefault(value.Note);\n            cipher.login.username = this.getValueOrDefault(value.Username, value.Email);\n            cipher.login.password = this.getValueOrDefault(value.Password);\n            cipher.login.totp = this.getValueOrDefault(value.TOTP);\n            cipher.login.uris = this.makeUriArray(value.Website);\n\n            if (!this.isNullOrWhitespace(value.Username)) {\n                this.processKvp(cipher, 'Email', value.Email);\n            }\n            this.processKvp(cipher, 'Phone', value.Phone);\n            this.processKvp(cipher, 'PIN', value.PIN);\n            this.processKvp(cipher, 'Account', value.Account);\n            this.processKvp(cipher, 'Date', value.Date);\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CardView } from '../models/view/cardView';\nimport { CipherView } from '../models/view/cipherView';\nimport { IdentityView } from '../models/view/identityView';\nimport { SecureNoteView } from '../models/view/secureNoteView';\n\nimport { CipherType } from '../enums/cipherType';\nimport { SecureNoteType } from '../enums/secureNoteType';\n\nconst HandledResults = new Set(['ADDRESS', 'AUTHENTIFIANT', 'BANKSTATEMENT', 'IDCARD', 'IDENTITY',\n    'PAYMENTMEANS_CREDITCARD', 'PAYMENTMEAN_PAYPAL', 'EMAIL']);\n\nexport class DashlaneJsonImporter extends BaseImporter implements Importer {\n    private result: ImportResult;\n\n    parse(data: string): Promise<ImportResult> {\n        this.result = new ImportResult();\n        const results = JSON.parse(data);\n        if (results == null || results.length === 0) {\n            this.result.success = false;\n            return Promise.resolve(this.result);\n        }\n\n        if (results.ADDRESS != null) {\n            this.processAddress(results.ADDRESS);\n        }\n        if (results.AUTHENTIFIANT != null) {\n            this.processAuth(results.AUTHENTIFIANT);\n        }\n        if (results.BANKSTATEMENT != null) {\n            this.processNote(results.BANKSTATEMENT, 'BankAccountName');\n        }\n        if (results.IDCARD != null) {\n            this.processNote(results.IDCARD, 'Fullname');\n        }\n        if (results.PAYMENTMEANS_CREDITCARD != null) {\n            this.processCard(results.PAYMENTMEANS_CREDITCARD);\n        }\n        if (results.IDENTITY != null) {\n            this.processIdentity(results.IDENTITY);\n        }\n\n        for (const key in results) {\n            if (results.hasOwnProperty(key) && !HandledResults.has(key)) {\n                this.processNote(results[key], null, 'Generic Note');\n            }\n        }\n\n        this.result.success = true;\n        return Promise.resolve(this.result);\n    }\n\n    private processAuth(results: any[]) {\n        results.forEach((credential: any) => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(credential.title);\n\n            cipher.login.username = this.getValueOrDefault(credential.login,\n                this.getValueOrDefault(credential.secondaryLogin));\n            if (this.isNullOrWhitespace(cipher.login.username)) {\n                cipher.login.username = this.getValueOrDefault(credential.email);\n            } else if (!this.isNullOrWhitespace(credential.email)) {\n                cipher.notes = ('Email: ' + credential.email + '\\n');\n            }\n\n            cipher.login.password = this.getValueOrDefault(credential.password);\n            cipher.login.uris = this.makeUriArray(credential.domain);\n            cipher.notes += this.getValueOrDefault(credential.note, '');\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            this.result.ciphers.push(cipher);\n        });\n    }\n\n    private processIdentity(results: any[]) {\n        results.forEach((obj: any) => {\n            const cipher = new CipherView();\n            cipher.identity = new IdentityView();\n            cipher.type = CipherType.Identity;\n            cipher.name = this.getValueOrDefault(obj.fullName, '');\n            const nameParts = cipher.name.split(' ');\n            if (nameParts.length > 0) {\n                cipher.identity.firstName = this.getValueOrDefault(nameParts[0]);\n            }\n            if (nameParts.length === 2) {\n                cipher.identity.lastName = this.getValueOrDefault(nameParts[1]);\n            } else if (nameParts.length === 3) {\n                cipher.identity.middleName = this.getValueOrDefault(nameParts[1]);\n                cipher.identity.lastName = this.getValueOrDefault(nameParts[2]);\n            }\n            cipher.identity.username = this.getValueOrDefault(obj.pseudo);\n            this.cleanupCipher(cipher);\n            this.result.ciphers.push(cipher);\n        });\n    }\n\n    private processAddress(results: any[]) {\n        results.forEach((obj: any) => {\n            const cipher = new CipherView();\n            cipher.identity = new IdentityView();\n            cipher.type = CipherType.Identity;\n            cipher.name = this.getValueOrDefault(obj.addressName);\n            cipher.identity.address1 = this.getValueOrDefault(obj.addressFull);\n            cipher.identity.city = this.getValueOrDefault(obj.city);\n            cipher.identity.state = this.getValueOrDefault(obj.state);\n            cipher.identity.postalCode = this.getValueOrDefault(obj.zipcode);\n            cipher.identity.country = this.getValueOrDefault(obj.country);\n            if (cipher.identity.country != null) {\n                cipher.identity.country = cipher.identity.country.toUpperCase();\n            }\n            this.cleanupCipher(cipher);\n            this.result.ciphers.push(cipher);\n        });\n    }\n\n    private processCard(results: any[]) {\n        results.forEach((obj: any) => {\n            const cipher = new CipherView();\n            cipher.card = new CardView();\n            cipher.type = CipherType.Card;\n            cipher.name = this.getValueOrDefault(obj.bank);\n            cipher.card.number = this.getValueOrDefault(obj.cardNumber);\n            cipher.card.brand = this.getCardBrand(cipher.card.number);\n            cipher.card.cardholderName = this.getValueOrDefault(obj.owner);\n            if (!this.isNullOrWhitespace(cipher.card.brand)) {\n                if (this.isNullOrWhitespace(cipher.name)) {\n                    cipher.name = cipher.card.brand;\n                } else {\n                    cipher.name += (' - ' + cipher.card.brand);\n                }\n            }\n            this.cleanupCipher(cipher);\n            this.result.ciphers.push(cipher);\n        });\n    }\n\n    private processNote(results: any[], nameProperty: string, name: string = null) {\n        results.forEach((obj: any) => {\n            const cipher = new CipherView();\n            cipher.secureNote = new SecureNoteView();\n            cipher.type = CipherType.SecureNote;\n            cipher.secureNote.type = SecureNoteType.Generic;\n            if (name != null) {\n                cipher.name = name;\n            } else {\n                cipher.name = this.getValueOrDefault(obj[nameProperty]);\n            }\n            for (const key in obj) {\n                if (obj.hasOwnProperty(key) && key !== nameProperty) {\n                    this.processKvp(cipher, key, obj[key].toString());\n                }\n            }\n            this.cleanupCipher(cipher);\n            this.result.ciphers.push(cipher);\n        });\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CardView } from '../models/view/cardView';\n\nimport { CipherType } from '../enums/cipherType';\n\nexport class EncryptrCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.Label, '--');\n            cipher.notes = this.getValueOrDefault(value.Notes);\n            const text = this.getValueOrDefault(value.Text);\n            if (!this.isNullOrWhitespace(text)) {\n                if (this.isNullOrWhitespace(cipher.notes)) {\n                    cipher.notes = text;\n                } else {\n                    cipher.notes += ('\\n\\n' + text);\n                }\n            }\n\n            const type = value['Entry Type'];\n            if (type === 'Password') {\n                cipher.login.username = this.getValueOrDefault(value.Username);\n                cipher.login.password = this.getValueOrDefault(value.Password);\n                cipher.login.uris = this.makeUriArray(value['Site URL']);\n            } else if (type === 'Credit Card') {\n                cipher.type = CipherType.Card;\n                cipher.card = new CardView();\n                cipher.card.cardholderName = this.getValueOrDefault(value['Name on card']);\n                cipher.card.number = this.getValueOrDefault(value['Card Number']);\n                cipher.card.brand = this.getCardBrand(cipher.card.number);\n                cipher.card.code = this.getValueOrDefault(value.CVV);\n                const expiry = this.getValueOrDefault(value.Expiry);\n                if (!this.isNullOrWhitespace(expiry)) {\n                    const expParts = expiry.split('/');\n                    if (expParts.length > 1) {\n                        cipher.card.expMonth = parseInt(expParts[0], null).toString();\n                        cipher.card.expYear = (2000 + parseInt(expParts[1], null)).toString();\n                    }\n                }\n            }\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CipherType } from '../enums/cipherType';\nimport { SecureNoteType } from '../enums/secureNoteType';\n\nimport { CardView } from '../models/view/cardView';\nimport { SecureNoteView } from '../models/view/secureNoteView';\n\nexport class EnpassCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, false);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        let firstRow = true;\n        results.forEach(value => {\n            if (value.length < 2 || (firstRow && (value[0] === 'Title' || value[0] === 'title'))) {\n                firstRow = false;\n                return;\n            }\n\n            const cipher = this.initLoginCipher();\n            cipher.notes = this.getValueOrDefault(value[value.length - 1]);\n            cipher.name = this.getValueOrDefault(value[0], '--');\n\n            if (value.length === 2 || (!this.containsField(value, 'username') &&\n                !this.containsField(value, 'password') && !this.containsField(value, 'email') &&\n                !this.containsField(value, 'url'))) {\n                cipher.type = CipherType.SecureNote;\n                cipher.secureNote = new SecureNoteView();\n                cipher.secureNote.type = SecureNoteType.Generic;\n            }\n\n            if (this.containsField(value, 'cardholder') && this.containsField(value, 'number') &&\n                this.containsField(value, 'expiry date')) {\n                cipher.type = CipherType.Card;\n                cipher.card = new CardView();\n            }\n\n            if (value.length > 2 && (value.length % 2) === 0) {\n                for (let i = 0; i < value.length - 2; i += 2) {\n                    const fieldValue: string = value[i + 2];\n                    if (this.isNullOrWhitespace(fieldValue)) {\n                        continue;\n                    }\n\n                    const fieldName: string = value[i + 1];\n                    const fieldNameLower = fieldName.toLowerCase();\n\n                    if (cipher.type === CipherType.Login) {\n                        if (fieldNameLower === 'url' && (cipher.login.uris == null || cipher.login.uris.length === 0)) {\n                            cipher.login.uris = this.makeUriArray(fieldValue);\n                            continue;\n                        } else if ((fieldNameLower === 'username' || fieldNameLower === 'email') &&\n                            this.isNullOrWhitespace(cipher.login.username)) {\n                            cipher.login.username = fieldValue;\n                            continue;\n                        } else if (fieldNameLower === 'password' && this.isNullOrWhitespace(cipher.login.password)) {\n                            cipher.login.password = fieldValue;\n                            continue;\n                        } else if (fieldNameLower === 'totp' && this.isNullOrWhitespace(cipher.login.totp)) {\n                            cipher.login.totp = fieldValue;\n                            continue;\n                        }\n                    } else if (cipher.type === CipherType.Card) {\n                        if (fieldNameLower === 'cardholder' && this.isNullOrWhitespace(cipher.card.cardholderName)) {\n                            cipher.card.cardholderName = fieldValue;\n                            continue;\n                        } else if (fieldNameLower === 'number' && this.isNullOrWhitespace(cipher.card.number)) {\n                            cipher.card.number = fieldValue;\n                            cipher.card.brand = this.getCardBrand(fieldValue);\n                            continue;\n                        } else if (fieldNameLower === 'cvc' && this.isNullOrWhitespace(cipher.card.code)) {\n                            cipher.card.code = fieldValue;\n                            continue;\n                        } else if (fieldNameLower === 'expiry date' && this.isNullOrWhitespace(cipher.card.expMonth) &&\n                            this.isNullOrWhitespace(cipher.card.expYear)) {\n                            if (this.setCardExpiration(cipher, fieldValue)) {\n                                continue;\n                            }\n                        } else if (fieldNameLower === 'type') {\n                            // Skip since brand was determined from number above\n                            continue;\n                        }\n                    }\n\n                    this.processKvp(cipher, fieldName, fieldValue);\n                }\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n\n    private containsField(fields: any[], name: string) {\n        if (fields == null || name == null) {\n            return false;\n        }\n        return fields.filter(f => !this.isNullOrWhitespace(f) &&\n            f.toLowerCase() === name.toLowerCase()).length > 0;\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CardView } from '../models/view/cardView';\nimport { CipherView } from '../models/view/cipherView';\nimport { FolderView } from '../models/view/folderView';\n\nimport { CipherType } from '../enums/cipherType';\nimport { FieldType } from '../enums/fieldType';\n\nexport class EnpassJsonImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = JSON.parse(data);\n        if (results == null || results.items == null || results.items.length === 0) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        const foldersMap = new Map<string, string>();\n        const foldersIndexMap = new Map<string, number>();\n        const folderTree = this.buildFolderTree(results.folders);\n        this.flattenFolderTree(null, folderTree, foldersMap);\n        foldersMap.forEach((val, key) => {\n            foldersIndexMap.set(key, result.folders.length);\n            const f = new FolderView();\n            f.name = val;\n            result.folders.push(f);\n        });\n\n        results.items.forEach((item: any) => {\n            if (item.folders != null && item.folders.length > 0 && foldersIndexMap.has(item.folders[0])) {\n                result.folderRelationships.push([result.ciphers.length, foldersIndexMap.get(item.folders[0])]);\n            }\n\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(item.title);\n            cipher.favorite = item.favorite > 0;\n\n            if (item.template_type != null && item.fields != null && item.fields.length > 0) {\n                if (item.template_type.indexOf('login.') === 0 || item.template_type.indexOf('password.') === 0) {\n                    this.processLogin(cipher, item.fields);\n                } else if (item.template_type.indexOf('creditcard.') === 0) {\n                    this.processCard(cipher, item.fields);\n                } else if (item.template_type.indexOf('identity.') < 0 &&\n                    item.fields.some((f: any) => f.type === 'password' && !this.isNullOrWhitespace(f.value))) {\n                    this.processLogin(cipher, item.fields);\n                } else {\n                    this.processNote(cipher, item.fields);\n                }\n            }\n\n            cipher.notes += ('\\n' + this.getValueOrDefault(item.note, ''));\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n\n    private processLogin(cipher: CipherView, fields: any[]) {\n        const urls: string[] = [];\n        fields.forEach((field: any) => {\n            if (this.isNullOrWhitespace(field.value) || field.type === 'section') {\n                return;\n            }\n\n            if ((field.type === 'username' || field.type === 'email') &&\n                this.isNullOrWhitespace(cipher.login.username)) {\n                cipher.login.username = field.value;\n            } else if (field.type === 'password' && this.isNullOrWhitespace(cipher.login.password)) {\n                cipher.login.password = field.value;\n            } else if (field.type === 'totp' && this.isNullOrWhitespace(cipher.login.totp)) {\n                cipher.login.totp = field.value;\n            } else if (field.type === 'url') {\n                urls.push(field.value);\n            } else {\n                this.processKvp(cipher, field.label, field.value,\n                    field.sensitive === 1 ? FieldType.Hidden : FieldType.Text);\n            }\n        });\n        cipher.login.uris = this.makeUriArray(urls);\n    }\n\n    private processCard(cipher: CipherView, fields: any[]) {\n        cipher.card = new CardView();\n        cipher.type = CipherType.Card;\n        fields.forEach((field: any) => {\n            if (this.isNullOrWhitespace(field.value) || field.type === 'section' || field.type === 'ccType') {\n                return;\n            }\n\n            if (field.type === 'ccName' && this.isNullOrWhitespace(cipher.card.cardholderName)) {\n                cipher.card.cardholderName = field.value;\n            } else if (field.type === 'ccNumber' && this.isNullOrWhitespace(cipher.card.number)) {\n                cipher.card.number = field.value;\n                cipher.card.brand = this.getCardBrand(cipher.card.number);\n            } else if (field.type === 'ccCvc' && this.isNullOrWhitespace(cipher.card.code)) {\n                cipher.card.code = field.value;\n            } else if (field.type === 'ccExpiry' && this.isNullOrWhitespace(cipher.card.expYear)) {\n                if (!this.setCardExpiration(cipher, field.value)) {\n                    this.processKvp(cipher, field.label, field.value,\n                        field.sensitive === 1 ? FieldType.Hidden : FieldType.Text);\n                }\n            } else {\n                this.processKvp(cipher, field.label, field.value,\n                    field.sensitive === 1 ? FieldType.Hidden : FieldType.Text);\n            }\n        });\n    }\n\n    private processNote(cipher: CipherView, fields: any[]) {\n        fields.forEach((field: any) => {\n            if (this.isNullOrWhitespace(field.value) || field.type === 'section') {\n                return;\n            }\n            this.processKvp(cipher, field.label, field.value,\n                field.sensitive === 1 ? FieldType.Hidden : FieldType.Text);\n        });\n    }\n\n    private buildFolderTree(folders: any[]): any[] {\n        if (folders == null) {\n            return [];\n        }\n        const folderTree: any[] = [];\n        const map = new Map<string, any>([]);\n        folders.forEach((obj: any) => {\n            map.set(obj.uuid, obj);\n            obj.children = [];\n        });\n        folders.forEach((obj: any) => {\n            if (obj.parent_uuid != null && obj.parent_uuid !== '' && map.has(obj.parent_uuid)) {\n                map.get(obj.parent_uuid).children.push(obj);\n            } else {\n                folderTree.push(obj);\n            }\n        });\n        return folderTree;\n    }\n\n    private flattenFolderTree(titlePrefix: string, tree: any[], map: Map<string, string>) {\n        if (tree == null) {\n            return;\n        }\n        tree.forEach((f: any) => {\n            if (f.title != null && f.title.trim() !== '') {\n                let title = f.title.trim();\n                if (titlePrefix != null && titlePrefix.trim() !== '') {\n                    title = titlePrefix + '/' + title;\n                }\n                map.set(f.uuid, title);\n                if (f.children != null && f.children.length !== 0) {\n                    this.flattenFolderTree(title, f.children, map);\n                }\n            }\n        });\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class FirefoxCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.filter(value => {\n            return value.url !== 'chrome://FirefoxAccounts';\n        }).forEach(value => {\n            const cipher = this.initLoginCipher();\n            const url = this.getValueOrDefault(value.url, this.getValueOrDefault(value.hostname));\n            cipher.name = this.getValueOrDefault(this.nameFromUrl(url), '--');\n            cipher.login.username = this.getValueOrDefault(value.username);\n            cipher.login.password = this.getValueOrDefault(value.password);\n            cipher.login.uris = this.makeUriArray(url);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CardView } from '../models/view/cardView';\n\nimport { CipherType } from '../enums/cipherType';\n\nexport class FSecureFskImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = JSON.parse(data);\n        if (results == null || results.data == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        for (const key in results.data) {\n            if (!results.data.hasOwnProperty(key)) {\n                continue;\n            }\n\n            const value = results.data[key];\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.service);\n            cipher.notes = this.getValueOrDefault(value.notes);\n\n            if (value.style === 'website') {\n                cipher.login.username = this.getValueOrDefault(value.username);\n                cipher.login.password = this.getValueOrDefault(value.password);\n                cipher.login.uris = this.makeUriArray(value.url);\n            } else if (value.style === 'creditcard') {\n                cipher.type = CipherType.Card;\n                cipher.card = new CardView();\n                cipher.card.cardholderName = this.getValueOrDefault(value.username);\n                cipher.card.number = this.getValueOrDefault(value.creditNumber);\n                cipher.card.brand = this.getCardBrand(cipher.card.number);\n                cipher.card.code = this.getValueOrDefault(value.creditCvv);\n                if (!this.isNullOrWhitespace(value.creditExpiry)) {\n                    if (!this.setCardExpiration(cipher, value.creditExpiry)) {\n                        this.processKvp(cipher, 'Expiration', value.creditExpiry);\n                    }\n                }\n                if (!this.isNullOrWhitespace(value.password)) {\n                    this.processKvp(cipher, 'PIN', value.password);\n                }\n            } else {\n                continue;\n            }\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class GnomeJsonImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = JSON.parse(data);\n        if (results == null || Object.keys(results).length === 0) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        for (const keyRing in results) {\n            if (!results.hasOwnProperty(keyRing) || this.isNullOrWhitespace(keyRing) ||\n                results[keyRing].length === 0) {\n                continue;\n            }\n\n            results[keyRing].forEach((value: any) => {\n                if (this.isNullOrWhitespace(value.display_name) || value.display_name.indexOf('http') !== 0) {\n                    return;\n                }\n\n                this.processFolder(result, keyRing);\n                const cipher = this.initLoginCipher();\n                cipher.name = value.display_name.replace('http://', '').replace('https://', '');\n                if (cipher.name.length > 30) {\n                    cipher.name = cipher.name.substring(0, 30);\n                }\n                cipher.login.password = this.getValueOrDefault(value.secret);\n                cipher.login.uris = this.makeUriArray(value.display_name);\n\n                if (value.attributes != null) {\n                    cipher.login.username = value.attributes != null ?\n                        this.getValueOrDefault(value.attributes.username_value) : null;\n                    for (const attr in value.attributes) {\n                        if (!value.attributes.hasOwnProperty(attr) || attr === 'username_value' ||\n                            attr === 'xdg:schema') {\n                            continue;\n                        }\n                        this.processKvp(cipher, attr, value.attributes[attr]);\n                    }\n                }\n\n                this.convertToNoteIfNeeded(cipher);\n                this.cleanupCipher(cipher);\n                result.ciphers.push(cipher);\n            });\n        }\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nconst NotesHeader = 'Notes\\n\\n';\nconst ApplicationsHeader = 'Applications\\n\\n';\nconst WebsitesHeader = 'Websites\\n\\n';\nconst Delimiter = '\\n---\\n';\n\nexport class KasperskyTxtImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n\n        let notesData: string;\n        let applicationsData: string;\n        let websitesData: string;\n        let workingData = this.splitNewLine(data).join('\\n');\n\n        if (workingData.indexOf(NotesHeader) !== -1) {\n            const parts = workingData.split(NotesHeader);\n            if (parts.length > 1) {\n                workingData = parts[0];\n                notesData = parts[1];\n            }\n        }\n        if (workingData.indexOf(ApplicationsHeader) !== -1) {\n            const parts = workingData.split(ApplicationsHeader);\n            if (parts.length > 1) {\n                workingData = parts[0];\n                applicationsData = parts[1];\n            }\n        }\n        if (workingData.indexOf(WebsitesHeader) === 0) {\n            const parts = workingData.split(WebsitesHeader);\n            if (parts.length > 1) {\n                workingData = parts[0];\n                websitesData = parts[1];\n            }\n        }\n\n        const notes = this.parseDataCategory(notesData);\n        const applications = this.parseDataCategory(applicationsData);\n        const websites = this.parseDataCategory(websitesData);\n\n        notes.forEach(n => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(n.get('Name'));\n            cipher.notes = this.getValueOrDefault(n.get('Text'));\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        websites.concat(applications).forEach(w => {\n            const cipher = this.initLoginCipher();\n            const nameKey = w.has('Website name') ? 'Website name' : 'Application';\n            cipher.name = this.getValueOrDefault(w.get(nameKey), '');\n            if (!this.isNullOrWhitespace(w.get('Login name'))) {\n                if (!this.isNullOrWhitespace(cipher.name)) {\n                    cipher.name += ': ';\n                }\n                cipher.name += w.get('Login name');\n            }\n            cipher.notes = this.getValueOrDefault(w.get('Comment'));\n            if (w.has('Website URL')) {\n                cipher.login.uris = this.makeUriArray(w.get('Website URL'));\n            }\n            cipher.login.username = this.getValueOrDefault(w.get('Login'));\n            cipher.login.password = this.getValueOrDefault(w.get('Password'));\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n\n    private parseDataCategory(data: string): Map<string, string>[] {\n        if (this.isNullOrWhitespace(data) || data.indexOf(Delimiter) === -1) {\n            return [];\n        }\n        const items: Map<string, string>[] = [];\n        data.split(Delimiter).forEach(p => {\n            if (p.indexOf('\\n') === -1) {\n                return;\n            }\n            const item = new Map<string, string>();\n            let itemComment: string;\n            let itemCommentKey: string;\n            p.split('\\n').forEach(l => {\n                if (itemComment != null) {\n                    itemComment += ('\\n' + l);\n                    return;\n                }\n                const colonIndex = l.indexOf(':');\n                let key: string;\n                let val: string;\n                if (colonIndex === -1) {\n                    return;\n                } else {\n                    key = l.substring(0, colonIndex);\n                    if (l.length > colonIndex + 1) {\n                        val = l.substring(colonIndex + 2);\n                    }\n                }\n                if (key != null) {\n                    item.set(key, val);\n                }\n                if (key === 'Comment' || key === 'Text') {\n                    itemComment = val;\n                    itemCommentKey = key;\n                }\n            });\n            if (itemComment != null && itemCommentKey != null) {\n                item.set(itemCommentKey, itemComment);\n            }\n            if (item.size === 0) {\n                return;\n            }\n            items.push(item);\n        });\n        return items;\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { FieldType } from '../enums/fieldType';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { FolderView } from '../models/view/folderView';\n\nexport class KeePass2XmlImporter extends BaseImporter implements Importer {\n    result = new ImportResult();\n\n    parse(data: string): Promise<ImportResult> {\n        const doc = this.parseXml(data);\n        if (doc == null) {\n            this.result.success = false;\n            return Promise.resolve(this.result);\n        }\n\n        const rootGroup = doc.querySelector('KeePassFile > Root > Group');\n        if (rootGroup == null) {\n            this.result.errorMessage = 'Missing `KeePassFile > Root > Group` node.';\n            this.result.success = false;\n            return Promise.resolve(this.result);\n        }\n\n        this.traverse(rootGroup, true, '');\n\n        if (this.organization) {\n            this.moveFoldersToCollections(this.result);\n        }\n\n        this.result.success = true;\n        return Promise.resolve(this.result);\n    }\n\n    traverse(node: Element, isRootNode: boolean, groupPrefixName: string) {\n        const folderIndex = this.result.folders.length;\n        let groupName = groupPrefixName;\n\n        if (!isRootNode) {\n            if (groupName !== '') {\n                groupName += '/';\n            }\n            const nameEl = this.querySelectorDirectChild(node, 'Name');\n            groupName += nameEl == null ? '-' : nameEl.textContent;\n            const folder = new FolderView();\n            folder.name = groupName;\n            this.result.folders.push(folder);\n        }\n\n        this.querySelectorAllDirectChild(node, 'Entry').forEach(entry => {\n            const cipherIndex = this.result.ciphers.length;\n\n            const cipher = this.initLoginCipher();\n            this.querySelectorAllDirectChild(entry, 'String').forEach(entryString => {\n                const valueEl = this.querySelectorDirectChild(entryString, 'Value');\n                const value = valueEl != null ? valueEl.textContent : null;\n                if (this.isNullOrWhitespace(value)) {\n                    return;\n                }\n                const keyEl = this.querySelectorDirectChild(entryString, 'Key');\n                const key = keyEl != null ? keyEl.textContent : null;\n\n                if (key === 'URL') {\n                    cipher.login.uris = this.makeUriArray(value);\n                } else if (key === 'UserName') {\n                    cipher.login.username = value;\n                } else if (key === 'Password') {\n                    cipher.login.password = value;\n                }  else if (key === 'otp') {\n                    cipher.login.totp = value.replace('key=', '');\n                } else if (key === 'Title') {\n                    cipher.name = value;\n                } else if (key === 'Notes') {\n                    cipher.notes += (value + '\\n');\n                } else {\n                    let type = FieldType.Text;\n                    const attrs = (valueEl.attributes as any);\n                    if (attrs.length > 0 && attrs.ProtectInMemory != null &&\n                        attrs.ProtectInMemory.value === 'True') {\n                        type = FieldType.Hidden;\n                    }\n                    this.processKvp(cipher, key, value, type);\n                }\n            });\n\n            this.cleanupCipher(cipher);\n            this.result.ciphers.push(cipher);\n\n            if (!isRootNode) {\n                this.result.folderRelationships.push([cipherIndex, folderIndex]);\n            }\n        });\n\n        this.querySelectorAllDirectChild(node, 'Group').forEach(group => {\n            this.traverse(group, false, groupName);\n        });\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class KeePassXCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (this.isNullOrWhitespace(value.Title)) {\n                return;\n            }\n\n            value.Group = !this.isNullOrWhitespace(value.Group) && value.Group.startsWith('Root/') ?\n                value.Group.replace('Root/', '') : value.Group;\n            const groupName = !this.isNullOrWhitespace(value.Group) ? value.Group : null;\n            this.processFolder(result, groupName);\n\n            const cipher = this.initLoginCipher();\n            cipher.notes = this.getValueOrDefault(value.Notes);\n            cipher.name = this.getValueOrDefault(value.Title, '--');\n            cipher.login.username = this.getValueOrDefault(value.Username);\n            cipher.login.password = this.getValueOrDefault(value.Password);\n            cipher.login.uris = this.makeUriArray(value.URL);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { FolderView } from '../models/view/folderView';\n\nexport class KeeperCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, false);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (value.length < 6) {\n                return;\n            }\n\n            this.processFolder(result, value[0]);\n            const cipher = this.initLoginCipher();\n            cipher.notes = this.getValueOrDefault(value[5]) + '\\n';\n            cipher.name = this.getValueOrDefault(value[1], '--');\n            cipher.login.username = this.getValueOrDefault(value[2]);\n            cipher.login.password = this.getValueOrDefault(value[3]);\n            cipher.login.uris = this.makeUriArray(value[4]);\n\n            if (value.length > 7) {\n                // we have some custom fields.\n                for (let i = 7; i < value.length; i = i + 2) {\n                    this.processKvp(cipher, value[i], value[i + 1]);\n                }\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CardView } from '../models/view/cardView';\nimport { CipherView } from '../models/view/cipherView';\nimport { FolderView } from '../models/view/folderView';\nimport { IdentityView } from '../models/view/identityView';\nimport { LoginView } from '../models/view/loginView';\nimport { SecureNoteView } from '../models/view/secureNoteView';\n\nimport { CipherType } from '../enums/cipherType';\nimport { SecureNoteType } from '../enums/secureNoteType';\n\nexport class LastPassCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach((value, index) => {\n            const cipherIndex = result.ciphers.length;\n            let folderIndex = result.folders.length;\n            let grouping = value.grouping;\n            if (grouping != null) {\n                grouping = grouping.replace(/\\\\/g, '/').replace(/[\\x00-\\x1F\\x7F-\\x9F]/g, '');\n            }\n            const hasFolder = this.getValueOrDefault(grouping, '(none)') !== '(none)';\n            let addFolder = hasFolder;\n\n            if (hasFolder) {\n                for (let i = 0; i < result.folders.length; i++) {\n                    if (result.folders[i].name === grouping) {\n                        addFolder = false;\n                        folderIndex = i;\n                        break;\n                    }\n                }\n            }\n\n            const cipher = this.buildBaseCipher(value);\n            if (cipher.type === CipherType.Login) {\n                cipher.notes = this.getValueOrDefault(value.extra);\n                cipher.login = new LoginView();\n                cipher.login.uris = this.makeUriArray(value.url);\n                cipher.login.username = this.getValueOrDefault(value.username);\n                cipher.login.password = this.getValueOrDefault(value.password);\n            } else if (cipher.type === CipherType.SecureNote) {\n                this.parseSecureNote(value, cipher);\n            } else if (cipher.type === CipherType.Card) {\n                cipher.card = this.parseCard(value);\n                cipher.notes = this.getValueOrDefault(value.notes);\n            } else if (cipher.type === CipherType.Identity) {\n                cipher.identity = this.parseIdentity(value);\n                cipher.notes = this.getValueOrDefault(value.notes);\n                if (!this.isNullOrWhitespace(value.ccnum)) {\n                    // there is a card on this identity too\n                    const cardCipher = this.buildBaseCipher(value);\n                    cardCipher.identity = null;\n                    cardCipher.type = CipherType.Card;\n                    cardCipher.card = this.parseCard(value);\n                    result.ciphers.push(cardCipher);\n                }\n            }\n\n            result.ciphers.push(cipher);\n\n            if (addFolder) {\n                const f = new FolderView();\n                f.name = grouping;\n                result.folders.push(f);\n            }\n            if (hasFolder) {\n                result.folderRelationships.push([cipherIndex, folderIndex]);\n            }\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n\n    private buildBaseCipher(value: any) {\n        const cipher = new CipherView();\n        if (value.hasOwnProperty('profilename') && value.hasOwnProperty('profilelanguage')) {\n            // form fill\n            cipher.favorite = false;\n            cipher.name = this.getValueOrDefault(value.profilename, '--');\n            cipher.type = CipherType.Card;\n\n            if (!this.isNullOrWhitespace(value.title) || !this.isNullOrWhitespace(value.firstname) ||\n                !this.isNullOrWhitespace(value.lastname) || !this.isNullOrWhitespace(value.address1) ||\n                !this.isNullOrWhitespace(value.phone) || !this.isNullOrWhitespace(value.username) ||\n                !this.isNullOrWhitespace(value.email)) {\n                cipher.type = CipherType.Identity;\n            }\n        } else {\n            // site or secure note\n            cipher.favorite = !this.organization && this.getValueOrDefault(value.fav, '0') === '1';\n            cipher.name = this.getValueOrDefault(value.name, '--');\n            cipher.type = value.url === 'http://sn' ? CipherType.SecureNote : CipherType.Login;\n        }\n        return cipher;\n    }\n\n    private parseCard(value: any): CardView {\n        const card = new CardView();\n        card.cardholderName = this.getValueOrDefault(value.ccname);\n        card.number = this.getValueOrDefault(value.ccnum);\n        card.code = this.getValueOrDefault(value.cccsc);\n        card.brand = this.getCardBrand(value.ccnum);\n\n        if (!this.isNullOrWhitespace(value.ccexp) && value.ccexp.indexOf('-') > -1) {\n            const ccexpParts = (value.ccexp as string).split('-');\n            if (ccexpParts.length > 1) {\n                card.expYear = ccexpParts[0];\n                card.expMonth = ccexpParts[1];\n                if (card.expMonth.length === 2 && card.expMonth[0] === '0') {\n                    card.expMonth = card.expMonth[1];\n                }\n            }\n        }\n\n        return card;\n    }\n\n    private parseIdentity(value: any): IdentityView {\n        const identity = new IdentityView();\n        identity.title = this.getValueOrDefault(value.title);\n        identity.firstName = this.getValueOrDefault(value.firstname);\n        identity.middleName = this.getValueOrDefault(value.middlename);\n        identity.lastName = this.getValueOrDefault(value.lastname);\n        identity.username = this.getValueOrDefault(value.username);\n        identity.company = this.getValueOrDefault(value.company);\n        identity.ssn = this.getValueOrDefault(value.ssn);\n        identity.address1 = this.getValueOrDefault(value.address1);\n        identity.address2 = this.getValueOrDefault(value.address2);\n        identity.address3 = this.getValueOrDefault(value.address3);\n        identity.city = this.getValueOrDefault(value.city);\n        identity.state = this.getValueOrDefault(value.state);\n        identity.postalCode = this.getValueOrDefault(value.zip);\n        identity.country = this.getValueOrDefault(value.country);\n        identity.email = this.getValueOrDefault(value.email);\n        identity.phone = this.getValueOrDefault(value.phone);\n\n        if (!this.isNullOrWhitespace(identity.title)) {\n            identity.title = identity.title.charAt(0).toUpperCase() + identity.title.slice(1);\n        }\n\n        return identity;\n    }\n\n    private parseSecureNote(value: any, cipher: CipherView) {\n        const extraParts = this.splitNewLine(value.extra);\n        let processedNote = false;\n\n        if (extraParts.length) {\n            const typeParts = extraParts[0].split(':');\n            if (typeParts.length > 1 && typeParts[0] === 'NoteType' &&\n                (typeParts[1] === 'Credit Card' || typeParts[1] === 'Address')) {\n                if (typeParts[1] === 'Credit Card') {\n                    const mappedData = this.parseSecureNoteMapping<CardView>(cipher, extraParts, {\n                        'Number': 'number',\n                        'Name on Card': 'cardholderName',\n                        'Security Code': 'code',\n                        // LP provides date in a format like 'June,2020'\n                        // Store in expMonth, then parse and modify\n                        'Expiration Date': 'expMonth',\n                    });\n\n                    if (this.isNullOrWhitespace(mappedData.expMonth) || mappedData.expMonth === ',') {\n                        // No expiration data\n                        mappedData.expMonth = undefined;\n                    } else {\n                        const [monthString, year] = mappedData.expMonth.split(',');\n                        // Parse month name into number\n                        if (!this.isNullOrWhitespace(monthString)) {\n                            const month = new Date(Date.parse(monthString.trim() + ' 1, 2012')).getMonth() + 1;\n                            if (isNaN(month)) {\n                                mappedData.expMonth = undefined;\n                            } else {\n                                mappedData.expMonth = month.toString();\n                            }\n                        } else {\n                            mappedData.expMonth = undefined;\n                        }\n                        if (!this.isNullOrWhitespace(year)) {\n                            mappedData.expYear = year;\n                        }\n                    }\n\n                    cipher.type = CipherType.Card;\n                    cipher.card = mappedData;\n                } else if (typeParts[1] === 'Address') {\n                    const mappedData = this.parseSecureNoteMapping<IdentityView>(cipher, extraParts, {\n                        'Title': 'title',\n                        'First Name': 'firstName',\n                        'Last Name': 'lastName',\n                        'Middle Name': 'middleName',\n                        'Company': 'company',\n                        'Address 1': 'address1',\n                        'Address 2': 'address2',\n                        'Address 3': 'address3',\n                        'City / Town': 'city',\n                        'State': 'state',\n                        'Zip / Postal Code': 'postalCode',\n                        'Country': 'country',\n                        'Email Address': 'email',\n                        'Username': 'username',\n                    });\n                    cipher.type = CipherType.Identity;\n                    cipher.identity = mappedData;\n                }\n                processedNote = true;\n            }\n        }\n\n        if (!processedNote) {\n            cipher.secureNote = new SecureNoteView();\n            cipher.secureNote.type = SecureNoteType.Generic;\n            cipher.notes = this.getValueOrDefault(value.extra);\n        }\n    }\n\n    private parseSecureNoteMapping<T>(cipher: CipherView, extraParts: string[], map: any): T {\n        const dataObj: any = {};\n\n        let processingNotes = false;\n        extraParts.forEach(extraPart => {\n            let key: string = null;\n            let val: string = null;\n            if (!processingNotes) {\n                if (this.isNullOrWhitespace(extraPart)) {\n                    return;\n                }\n                const colonIndex = extraPart.indexOf(':');\n                if (colonIndex === -1) {\n                    key = extraPart;\n                } else {\n                    key = extraPart.substring(0, colonIndex);\n                    if (extraPart.length > colonIndex) {\n                        val = extraPart.substring(colonIndex + 1);\n                    }\n                }\n                if (this.isNullOrWhitespace(key) || this.isNullOrWhitespace(val) || key === 'NoteType') {\n                    return;\n                }\n            }\n\n            if (processingNotes) {\n                cipher.notes += ('\\n' + extraPart);\n            } else if (key === 'Notes') {\n                if (!this.isNullOrWhitespace(cipher.notes)) {\n                    cipher.notes += ('\\n' + val);\n                } else {\n                    cipher.notes = val;\n                }\n                processingNotes = true;\n            } else if (map.hasOwnProperty(key)) {\n                dataObj[map[key]] = val;\n            } else {\n                this.processKvp(cipher, key, val);\n            }\n        });\n\n        return dataObj;\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class LogMeOnceCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, false);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (value.length < 4) {\n                return;\n            }\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value[0], '--');\n            cipher.login.username = this.getValueOrDefault(value[2]);\n            cipher.login.password = this.getValueOrDefault(value[3]);\n            cipher.login.uris = this.makeUriArray(value[1]);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class MeldiumCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.DisplayName, '--');\n            cipher.notes = this.getValueOrDefault(value.Notes);\n            cipher.login.username = this.getValueOrDefault(value.UserName);\n            cipher.login.password = this.getValueOrDefault(value.Password);\n            cipher.login.uris = this.makeUriArray(value.Url);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CipherType } from '../enums/cipherType';\nimport { SecureNoteType } from '../enums/secureNoteType';\n\nimport { SecureNoteView } from '../models/view/secureNoteView';\n\nexport class MSecureCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, false);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (value.length < 3) {\n                return;\n            }\n\n            const folderName = this.getValueOrDefault(value[0], 'Unassigned') !== 'Unassigned' ? value[0] : null;\n            this.processFolder(result, folderName);\n\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value[2], '--');\n\n            if (value[1] === 'Web Logins' || value[1] === 'Login') {\n                cipher.login.uris = this.makeUriArray(value[4]);\n                cipher.login.username = this.getValueOrDefault(value[5]);\n                cipher.login.password = this.getValueOrDefault(value[6]);\n                cipher.notes = !this.isNullOrWhitespace(value[3]) ? value[3].split('\\\\n').join('\\n') : null;\n            } else if (value.length > 3) {\n                cipher.type = CipherType.SecureNote;\n                cipher.secureNote = new SecureNoteView();\n                cipher.secureNote.type = SecureNoteType.Generic;\n                for (let i = 3; i < value.length; i++) {\n                    if (!this.isNullOrWhitespace(value[i])) {\n                        cipher.notes += (value[i] + '\\n');\n                    }\n                }\n            }\n\n            if (!this.isNullOrWhitespace(value[1]) && cipher.type !== CipherType.Login) {\n                cipher.name = value[1] + ': ' + cipher.name;\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { CipherType } from '../enums/cipherType';\nimport { SecureNoteType } from '../enums/secureNoteType';\n\nimport { CardView } from '../models/view/cardView';\nimport { IdentityView } from '../models/view/identityView';\nimport { SecureNoteView } from '../models/view/secureNoteView';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class MykiCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.nickname, '--');\n            cipher.notes = this.getValueOrDefault(value.additionalInfo);\n\n            if (value.url !== undefined) {\n                // Accounts\n                cipher.login.uris = this.makeUriArray(value.url);\n                cipher.login.username = this.getValueOrDefault(value.username);\n                cipher.login.password = this.getValueOrDefault(value.password);\n                cipher.login.totp = this.getValueOrDefault(value.twoFactAuthToken);\n            } else if (value.cardNumber !== undefined) {\n                // Cards\n                cipher.card = new CardView();\n                cipher.type = CipherType.Card;\n                cipher.card.cardholderName = this.getValueOrDefault(value.cardName);\n                cipher.card.number = this.getValueOrDefault(value.cardNumber);\n                cipher.card.brand = this.getCardBrand(cipher.card.number);\n                cipher.card.expMonth = this.getValueOrDefault(value.exp_month);\n                cipher.card.expYear = this.getValueOrDefault(value.exp_year);\n                cipher.card.code = this.getValueOrDefault(value.cvv);\n            } else if (value.firstName !== undefined) {\n                // Identities\n                cipher.identity = new IdentityView();\n                cipher.type = CipherType.Identity;\n                cipher.identity.title = this.getValueOrDefault(value.title);\n                cipher.identity.firstName = this.getValueOrDefault(value.firstName);\n                cipher.identity.middleName = this.getValueOrDefault(value.middleName);\n                cipher.identity.lastName = this.getValueOrDefault(value.lastName);\n                cipher.identity.phone = this.getValueOrDefault(value.number);\n                cipher.identity.email = this.getValueOrDefault(value.email);\n                cipher.identity.address1 = this.getValueOrDefault(value.firstAddressLine);\n                cipher.identity.address2 = this.getValueOrDefault(value.secondAddressLine);\n                cipher.identity.city = this.getValueOrDefault(value.city);\n                cipher.identity.country = this.getValueOrDefault(value.country);\n                cipher.identity.postalCode = this.getValueOrDefault(value.zipCode);\n            } else if (value.content !== undefined) {\n                // Notes\n                cipher.secureNote = new SecureNoteView();\n                cipher.type = CipherType.SecureNote;\n                cipher.secureNote.type = SecureNoteType.Generic;\n                cipher.name = this.getValueOrDefault(value.title, '--');\n                cipher.notes = this.getValueOrDefault(value.content);\n            } else {\n                return;\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from '../baseImporter';\nimport { Importer } from '../importer';\n\nimport { ImportResult } from '../../models/domain/importResult';\n\nimport { CardView } from '../../models/view/cardView';\nimport { CipherView } from '../../models/view/cipherView';\nimport { IdentityView } from '../../models/view/identityView';\nimport { PasswordHistoryView } from '../../models/view/passwordHistoryView';\nimport { SecureNoteView } from '../../models/view/secureNoteView';\n\nimport { CipherType } from '../../enums/cipherType';\nimport { FieldType } from '../../enums/fieldType';\nimport { SecureNoteType } from '../../enums/secureNoteType';\n\nexport class OnePassword1PifImporter extends BaseImporter implements Importer {\n    result = new ImportResult();\n\n    parse(data: string): Promise<ImportResult> {\n        data.split(this.newLineRegex).forEach(line => {\n            if (this.isNullOrWhitespace(line) || line[0] !== '{') {\n                return;\n            }\n            const item = JSON.parse(line);\n            if (item.trashed === true) {\n                return;\n            }\n            const cipher = this.initLoginCipher();\n\n            if (this.isNullOrWhitespace(item.hmac)) {\n                this.processStandardItem(item, cipher);\n            } else {\n                this.processWinOpVaultItem(item, cipher);\n            }\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            this.result.ciphers.push(cipher);\n        });\n\n        this.result.success = true;\n        return Promise.resolve(this.result);\n    }\n\n    private processWinOpVaultItem(item: any, cipher: CipherView) {\n        if (item.overview != null) {\n            cipher.name = this.getValueOrDefault(item.overview.title);\n            if (item.overview.URLs != null) {\n                const urls: string[] = [];\n                item.overview.URLs.forEach((url: any) => {\n                    if (!this.isNullOrWhitespace(url.u)) {\n                        urls.push(url.u);\n                    }\n                });\n                cipher.login.uris = this.makeUriArray(urls);\n            }\n        }\n\n        if (item.details != null) {\n            if (item.details.passwordHistory != null) {\n                this.parsePasswordHistory(item.details.passwordHistory, cipher);\n            }\n            if (!this.isNullOrWhitespace(item.details.ccnum) || !this.isNullOrWhitespace(item.details.cvv)) {\n                cipher.type = CipherType.Card;\n                cipher.card = new CardView();\n            } else if (!this.isNullOrWhitespace(item.details.firstname) ||\n                !this.isNullOrWhitespace(item.details.address1)) {\n                cipher.type = CipherType.Identity;\n                cipher.identity = new IdentityView();\n            }\n            if (cipher.type === CipherType.Login && !this.isNullOrWhitespace(item.details.password)) {\n                cipher.login.password = item.details.password;\n            }\n            if (!this.isNullOrWhitespace(item.details.notesPlain)) {\n                cipher.notes = item.details.notesPlain.split(this.newLineRegex).join('\\n') + '\\n';\n            }\n            if (item.details.fields != null) {\n                this.parseFields(item.details.fields, cipher, 'designation', 'value', 'name');\n            }\n            if (item.details.sections != null) {\n                item.details.sections.forEach((section: any) => {\n                    if (section.fields != null) {\n                        this.parseFields(section.fields, cipher, 'n', 'v', 't');\n                    }\n                });\n            }\n        }\n    }\n\n    private processStandardItem(item: any, cipher: CipherView) {\n        cipher.favorite = item.openContents && item.openContents.faveIndex ? true : false;\n        cipher.name = this.getValueOrDefault(item.title);\n\n        if (item.typeName === 'securenotes.SecureNote') {\n            cipher.type = CipherType.SecureNote;\n            cipher.secureNote = new SecureNoteView();\n            cipher.secureNote.type = SecureNoteType.Generic;\n        } else if (item.typeName === 'wallet.financial.CreditCard') {\n            cipher.type = CipherType.Card;\n            cipher.card = new CardView();\n        } else if (item.typeName === 'identities.Identity') {\n            cipher.type = CipherType.Identity;\n            cipher.identity = new IdentityView();\n        } else {\n            cipher.login.uris = this.makeUriArray(item.location);\n        }\n\n        if (item.secureContents != null) {\n            if (item.secureContents.passwordHistory != null) {\n                this.parsePasswordHistory(item.secureContents.passwordHistory, cipher);\n            }\n            if (!this.isNullOrWhitespace(item.secureContents.notesPlain)) {\n                cipher.notes = item.secureContents.notesPlain.split(this.newLineRegex).join('\\n') + '\\n';\n            }\n            if (cipher.type === CipherType.Login) {\n                if (!this.isNullOrWhitespace(item.secureContents.password)) {\n                    cipher.login.password = item.secureContents.password;\n                }\n                if (item.secureContents.URLs != null) {\n                    const urls: string[] = [];\n                    item.secureContents.URLs.forEach((u: any) => {\n                        if (!this.isNullOrWhitespace(u.url)) {\n                            urls.push(u.url);\n                        }\n                    });\n                    if (urls.length > 0) {\n                        cipher.login.uris = this.makeUriArray(urls);\n                    }\n                }\n            }\n            if (item.secureContents.fields != null) {\n                this.parseFields(item.secureContents.fields, cipher, 'designation', 'value', 'name');\n            }\n            if (item.secureContents.sections != null) {\n                item.secureContents.sections.forEach((section: any) => {\n                    if (section.fields != null) {\n                        this.parseFields(section.fields, cipher, 'n', 'v', 't');\n                    }\n                });\n            }\n        }\n    }\n\n    private parsePasswordHistory(items: any[], cipher: CipherView) {\n        const maxSize = items.length > 5 ? 5 : items.length;\n        cipher.passwordHistory = items\n            .filter((h: any) => !this.isNullOrWhitespace(h.value) && h.time != null)\n            .sort((a, b) => b.time - a.time)\n            .slice(0, maxSize)\n            .map((h: any) => {\n                const ph = new PasswordHistoryView();\n                ph.password = h.value;\n                ph.lastUsedDate = new Date(('' + h.time).length >= 13 ? h.time : h.time * 1000);\n                return ph;\n            });\n    }\n\n    private parseFields(fields: any[], cipher: CipherView, designationKey: string, valueKey: string, nameKey: string) {\n        fields.forEach((field: any) => {\n            if (field[valueKey] == null || field[valueKey].toString().trim() === '') {\n                return;\n            }\n\n            const fieldValue = field[valueKey].toString();\n            const fieldDesignation = field[designationKey] != null ? field[designationKey].toString() : null;\n\n            if (cipher.type === CipherType.Login) {\n                if (this.isNullOrWhitespace(cipher.login.username) && fieldDesignation === 'username') {\n                    cipher.login.username = fieldValue;\n                    return;\n                } else if (this.isNullOrWhitespace(cipher.login.password) && fieldDesignation === 'password') {\n                    cipher.login.password = fieldValue;\n                    return;\n                } else if (this.isNullOrWhitespace(cipher.login.totp) && fieldDesignation != null &&\n                    fieldDesignation.startsWith('TOTP_')) {\n                    cipher.login.totp = fieldValue;\n                    return;\n                }\n            } else if (cipher.type === CipherType.Card) {\n                if (this.isNullOrWhitespace(cipher.card.number) && fieldDesignation === 'ccnum') {\n                    cipher.card.number = fieldValue;\n                    cipher.card.brand = this.getCardBrand(fieldValue);\n                    return;\n                } else if (this.isNullOrWhitespace(cipher.card.code) && fieldDesignation === 'cvv') {\n                    cipher.card.code = fieldValue;\n                    return;\n                } else if (this.isNullOrWhitespace(cipher.card.cardholderName) && fieldDesignation === 'cardholder') {\n                    cipher.card.cardholderName = fieldValue;\n                    return;\n                } else if (this.isNullOrWhitespace(cipher.card.expiration) && fieldDesignation === 'expiry' &&\n                    fieldValue.length === 6) {\n                    cipher.card.expMonth = (fieldValue as string).substr(4, 2);\n                    if (cipher.card.expMonth[0] === '0') {\n                        cipher.card.expMonth = cipher.card.expMonth.substr(1, 1);\n                    }\n                    cipher.card.expYear = (fieldValue as string).substr(0, 4);\n                    return;\n                } else if (fieldDesignation === 'type') {\n                    // Skip since brand was determined from number above\n                    return;\n                }\n            } else if (cipher.type === CipherType.Identity) {\n                const identity = cipher.identity;\n                if (this.isNullOrWhitespace(identity.firstName) && fieldDesignation === 'firstname') {\n                    identity.firstName = fieldValue;\n                    return;\n                } else if (this.isNullOrWhitespace(identity.lastName) && fieldDesignation === 'lastname') {\n                    identity.lastName = fieldValue;\n                    return;\n                } else if (this.isNullOrWhitespace(identity.middleName) && fieldDesignation === 'initial') {\n                    identity.middleName = fieldValue;\n                    return;\n                } else if (this.isNullOrWhitespace(identity.phone) && fieldDesignation === 'defphone') {\n                    identity.phone = fieldValue;\n                    return;\n                } else if (this.isNullOrWhitespace(identity.company) && fieldDesignation === 'company') {\n                    identity.company = fieldValue;\n                    return;\n                } else if (this.isNullOrWhitespace(identity.email) && fieldDesignation === 'email') {\n                    identity.email = fieldValue;\n                    return;\n                } else if (this.isNullOrWhitespace(identity.username) && fieldDesignation === 'username') {\n                    identity.username = fieldValue;\n                    return;\n                } else if (fieldDesignation === 'address') {\n                    // fieldValue is an object casted into a string, so access the plain value instead\n                    const { street, city, country, zip } = field[valueKey];\n                    identity.address1 = this.getValueOrDefault(street);\n                    identity.city = this.getValueOrDefault(city);\n                    if (!this.isNullOrWhitespace(country)) {\n                        identity.country = country.toUpperCase();\n                    }\n                    identity.postalCode = this.getValueOrDefault(zip);\n                    return;\n                }\n            }\n\n            const fieldName = this.isNullOrWhitespace(field[nameKey]) ? 'no_name' : field[nameKey];\n            if (fieldName === 'password' && cipher.passwordHistory != null &&\n                cipher.passwordHistory.some(h => h.password === fieldValue)) {\n                return;\n            }\n\n            const fieldType = field.k === 'concealed' ? FieldType.Hidden : FieldType.Text;\n            this.processKvp(cipher, fieldName, fieldValue, fieldType);\n        });\n    }\n}\n","import { Importer } from '../importer';\nimport { IgnoredProperties, OnePasswordCsvImporter } from './onepasswordCsvImporter';\n\nimport { CipherType } from '../../enums/cipherType';\nimport { CardView, CipherView, IdentityView } from '../../models/view';\n\nexport class OnePasswordMacCsvImporter extends OnePasswordCsvImporter implements Importer {\n    setCipherType(value: any, cipher: CipherView) {\n        const onePassType = this.getValueOrDefault(this.getProp(value, 'type'), 'Login');\n        switch (onePassType) {\n            case 'Credit Card':\n                cipher.type = CipherType.Card;\n                cipher.card = new CardView();\n                IgnoredProperties.push('type');\n                break;\n            case 'Identity':\n                cipher.type = CipherType.Identity;\n                cipher.identity = new IdentityView();\n                IgnoredProperties.push('type');\n                break;\n            case 'Login':\n            case 'Secure Note':\n                IgnoredProperties.push('type');\n            default:\n                break;\n        }\n    }\n}\n","import { CipherView } from '../../models/view';\n\nexport class CipherImportContext {\n    lowerProperty: string;\n    constructor(public importRecord: any, public property: string, public cipher: CipherView) {\n        this.lowerProperty = property.toLowerCase();\n    }\n}\n","export class View {\n}\n","import { Importer } from '../importer';\nimport { CipherImportContext } from './cipherImportContext';\nimport { OnePasswordCsvImporter } from './onepasswordCsvImporter';\n\nimport { CipherType } from '../../enums/cipherType';\nimport { CardView, CipherView, IdentityView, LoginView } from '../../models/view';\n\nexport class OnePasswordWinCsvImporter extends OnePasswordCsvImporter implements Importer {\n    constructor() {\n        super();\n        this.identityPropertyParsers.push(this.setIdentityAddress);\n    }\n\n    setCipherType(value: any, cipher: CipherView) {\n        cipher.type = CipherType.Login;\n        cipher.login = new LoginView();\n\n        if (!this.isNullOrWhitespace(this.getPropByRegexp(value, /\\d+: number/i)) &&\n            !this.isNullOrWhitespace(this.getPropByRegexp(value, /\\d+: expiry date/i))) {\n            cipher.type = CipherType.Card;\n            cipher.card = new CardView();\n        }\n\n        if (!this.isNullOrWhitespace(this.getPropByRegexp(value, /name \\d+: first name/i)) ||\n            !this.isNullOrWhitespace(this.getPropByRegexp(value, /name \\d+: initial/i)) ||\n            !this.isNullOrWhitespace(this.getPropByRegexp(value, /name \\d+: last name/i)) ||\n            !this.isNullOrWhitespace(this.getPropByRegexp(value, /internet \\d+: email/i))) {\n            cipher.type = CipherType.Identity;\n            cipher.identity = new IdentityView();\n        }\n    }\n\n    setIdentityAddress(context: CipherImportContext) {\n        if (context.lowerProperty.match(/address \\d+: address/i)) {\n            this.processKvp(context.cipher, 'address', context.importRecord[context.property]);\n            return true;\n        }\n        return false;\n    }\n\n    setCreditCardExpiry(context: CipherImportContext) {\n        if (this.isNullOrWhitespace(context.cipher.card.expiration) && context.lowerProperty.includes('expiry date')) {\n            const expSplit = (context.importRecord[context.property] as string).split('/');\n            context.cipher.card.expMonth = expSplit[0];\n            if (context.cipher.card.expMonth[0] === '0' && context.cipher.card.expMonth.length === 2) {\n                context.cipher.card.expMonth = context.cipher.card.expMonth.substr(1, 1);\n            }\n            context.cipher.card.expYear = expSplit[2].length > 4 ? expSplit[2].substr(0, 4) : expSplit[2];\n            return true;\n        }\n        return false;\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CollectionView } from '../models/view/collectionView';\nimport { FolderView } from '../models/view/folderView';\n\nexport class PadlockCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, false);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        let headers: string[] = null;\n        results.forEach(value => {\n            if (headers == null) {\n                headers = value.map((v: string) => v);\n                return;\n            }\n\n            if (value.length < 2 || value.length !== headers.length) {\n                return;\n            }\n\n            if (!this.isNullOrWhitespace(value[1])) {\n                if (this.organization) {\n                    const tags = (value[1] as string).split(',');\n                    tags.forEach(tag => {\n                        tag = tag.trim();\n                        let addCollection = true;\n                        let collectionIndex = result.collections.length;\n\n                        for (let i = 0; i < result.collections.length; i++) {\n                            if (result.collections[i].name === tag) {\n                                addCollection = false;\n                                collectionIndex = i;\n                                break;\n                            }\n                        }\n\n                        if (addCollection) {\n                            const collection = new CollectionView();\n                            collection.name = tag;\n                            result.collections.push(collection);\n                        }\n\n                        result.collectionRelationships.push([result.ciphers.length, collectionIndex]);\n                    });\n                } else {\n                    const tags = (value[1] as string).split(',');\n                    const tag = tags.length > 0 ? tags[0].trim() : null;\n                    this.processFolder(result, tag);\n                }\n            }\n\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value[0], '--');\n\n            for (let i = 2; i < value.length; i++) {\n                const header = headers[i].trim().toLowerCase();\n                if (this.isNullOrWhitespace(value[i]) || this.isNullOrWhitespace(header)) {\n                    continue;\n                }\n\n                if (this.usernameFieldNames.indexOf(header) > -1) {\n                    cipher.login.username = value[i];\n                } else if (this.passwordFieldNames.indexOf(header) > -1) {\n                    cipher.login.password = value[i];\n                } else if (this.uriFieldNames.indexOf(header) > -1) {\n                    cipher.login.uris = this.makeUriArray(value[i]);\n                } else {\n                    this.processKvp(cipher, headers[i], value[i]);\n                }\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class PassKeepCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            this.processFolder(result, this.getValue('category', value));\n            const cipher = this.initLoginCipher();\n            cipher.notes = this.getValue('description', value);\n            cipher.name = this.getValueOrDefault(this.getValue('title', value), '--');\n            cipher.login.username = this.getValue('username', value);\n            cipher.login.password = this.getValue('password', value);\n            cipher.login.uris = this.makeUriArray(this.getValue('site', value));\n            this.processKvp(cipher, 'Password 2', this.getValue('password2', value));\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n\n    private getValue(key: string, value: any) {\n        return this.getValueOrDefault(value[key], this.getValueOrDefault(value[(' ' + key)]));\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class PassmanJsonImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = JSON.parse(data);\n        if (results == null || results.length === 0) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach((credential: any) => {\n            if (credential.tags != null && credential.tags.length > 0) {\n                const folderName = credential.tags[0].text;\n                this.processFolder(result, folderName);\n            }\n\n            const cipher = this.initLoginCipher();\n            cipher.name = credential.label;\n\n            cipher.login.username = this.getValueOrDefault(credential.username);\n            if (this.isNullOrWhitespace(cipher.login.username)) {\n                cipher.login.username = this.getValueOrDefault(credential.email);\n            } else if (!this.isNullOrWhitespace(credential.email)) {\n                cipher.notes = ('Email: ' + credential.email + '\\n');\n            }\n\n            cipher.login.password = this.getValueOrDefault(credential.password);\n            cipher.login.uris = this.makeUriArray(credential.url);\n            cipher.notes += this.getValueOrDefault(credential.description, '');\n            if (credential.otp != null) {\n                cipher.login.totp = this.getValueOrDefault(credential.otp.secret);\n            }\n\n            if (credential.custom_fields != null) {\n                credential.custom_fields.forEach((customField: any) => {\n                    switch (customField.field_type) {\n                        case 'text':\n                        case 'password':\n                            this.processKvp(cipher, customField.label, customField.value);\n                            break;\n                    }\n                });\n            }\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CollectionView } from '../models/view/collectionView';\n\nexport class PasspackCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const tagsJson = !this.isNullOrWhitespace(value.Tags) ? JSON.parse(value.Tags) : null;\n            const tags: string[] = tagsJson != null && tagsJson.tags != null && tagsJson.tags.length > 0 ?\n                tagsJson.tags.map((tagJson: string) => {\n                    try {\n                        const t = JSON.parse(tagJson);\n                        return this.getValueOrDefault(t.tag);\n                    } catch { }\n                    return null;\n                }).filter((t: string) => !this.isNullOrWhitespace(t)) : null;\n\n            if (this.organization && tags != null && tags.length > 0) {\n                tags.forEach(tag => {\n                    let addCollection = true;\n                    let collectionIndex = result.collections.length;\n\n                    for (let i = 0; i < result.collections.length; i++) {\n                        if (result.collections[i].name === tag) {\n                            addCollection = false;\n                            collectionIndex = i;\n                            break;\n                        }\n                    }\n\n                    if (addCollection) {\n                        const collection = new CollectionView();\n                        collection.name = tag;\n                        result.collections.push(collection);\n                    }\n\n                    result.collectionRelationships.push([result.ciphers.length, collectionIndex]);\n                });\n            } else if (!this.organization && tags != null && tags.length > 0) {\n                this.processFolder(result, tags[0]);\n            }\n\n            const cipher = this.initLoginCipher();\n            cipher.notes = this.getValueOrDefault(value.Notes, '');\n            cipher.notes += ('\\n\\n' + this.getValueOrDefault(value['Shared Notes'], '') + '\\n');\n            cipher.name = this.getValueOrDefault(value['Entry Name'], '--');\n            cipher.login.username = this.getValueOrDefault(value['User ID']);\n            cipher.login.password = this.getValueOrDefault(value.Password);\n            cipher.login.uris = this.makeUriArray(value.URL);\n\n            if (value.__parsed_extra != null && value.__parsed_extra.length > 0) {\n                value.__parsed_extra.forEach((extra: string) => {\n                    if (!this.isNullOrWhitespace(extra)) {\n                        cipher.notes += ('\\n' + extra);\n                    }\n                });\n            }\n\n            const fieldsJson = !this.isNullOrWhitespace(value['Extra Fields']) ?\n                JSON.parse(value['Extra Fields']) : null;\n            const fields = fieldsJson != null && fieldsJson.extraFields != null &&\n                fieldsJson.extraFields.length > 0 ? fieldsJson.extraFields.map((fieldJson: string) => {\n                    try {\n                        return JSON.parse(fieldJson);\n                    } catch { }\n                    return null;\n                }) : null;\n            if (fields != null) {\n                fields.forEach((f: any) => {\n                    if (f != null) {\n                        this.processKvp(cipher, f.name, f.data);\n                    }\n                });\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class PasswordAgentCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, false);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        let newVersion = true;\n        results.forEach(value => {\n            if (value.length !== 5 && value.length < 9) {\n                return;\n            }\n            const altFormat = value.length === 10 && value[0] === '0';\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value[altFormat ? 1 : 0], '--');\n            cipher.login.username = this.getValueOrDefault(value[altFormat ? 2 : 1]);\n            cipher.login.password = this.getValueOrDefault(value[altFormat ? 3 : 2]);\n            if (value.length === 5) {\n                newVersion = false;\n                cipher.notes = this.getValueOrDefault(value[4]);\n                cipher.login.uris = this.makeUriArray(value[3]);\n            } else {\n                const folder = this.getValueOrDefault(value[altFormat ? 9 : 8], '(None)');\n                let folderName = folder !== '(None)' ? folder.split('\\\\').join('/') : null;\n                if (folderName != null) {\n                    folderName = folder.split(' > ').join('/');\n                    folderName = folder.split('>').join('/');\n                }\n                this.processFolder(result, folderName);\n                cipher.notes = this.getValueOrDefault(value[altFormat ? 5 : 3]);\n                cipher.login.uris = this.makeUriArray(value[4]);\n            }\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (newVersion && this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CardView } from '../models/view/cardView';\nimport { FolderView } from '../models/view/folderView';\n\nimport { CipherType } from '../enums/cipherType';\n\nexport class PasswordBossJsonImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = JSON.parse(data);\n        if (results == null || results.items == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        const foldersMap = new Map<string, string>();\n        results.folders.forEach((value: any) => {\n            foldersMap.set(value.id, value.name);\n        });\n        const foldersIndexMap = new Map<string, number>();\n        foldersMap.forEach((val, key) => {\n            foldersIndexMap.set(key, result.folders.length);\n            const f = new FolderView();\n            f.name = val;\n            result.folders.push(f);\n        });\n\n        results.items.forEach((value: any) => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.name, '--');\n            cipher.login.uris = this.makeUriArray(value.login_url);\n\n            if (value.folder != null && foldersIndexMap.has(value.folder)) {\n                result.folderRelationships.push([result.ciphers.length, foldersIndexMap.get(value.folder)]);\n            }\n\n            if (value.identifiers == null) {\n                return;\n            }\n\n            if (!this.isNullOrWhitespace(value.identifiers.notes)) {\n                cipher.notes = value.identifiers.notes.split('\\\\r\\\\n').join('\\n').split('\\\\n').join('\\n');\n            }\n\n            if (value.type === 'CreditCard') {\n                cipher.card = new CardView();\n                cipher.type = CipherType.Card;\n            }\n\n            for (const property in value.identifiers) {\n                if (!value.identifiers.hasOwnProperty(property)) {\n                    continue;\n                }\n                const valObj = value.identifiers[property];\n                const val = valObj != null ? valObj.toString() : null;\n                if (this.isNullOrWhitespace(val) || property === 'notes' || property === 'ignoreItemInSecurityScore') {\n                    continue;\n                }\n\n                if (property === 'custom_fields') {\n                    valObj.forEach((cf: any) => {\n                        this.processKvp(cipher, cf.name, cf.value);\n                    });\n                    continue;\n                }\n\n                if (cipher.type === CipherType.Card) {\n                    if (property === 'cardNumber') {\n                        cipher.card.number = val;\n                        cipher.card.brand = this.getCardBrand(val);\n                        continue;\n                    } else if (property === 'nameOnCard') {\n                        cipher.card.cardholderName = val;\n                        continue;\n                    } else if (property === 'security_code') {\n                        cipher.card.code = val;\n                        continue;\n                    } else if (property === 'expires') {\n                        try {\n                            const expDate = new Date(val);\n                            cipher.card.expYear = expDate.getFullYear().toString();\n                            cipher.card.expMonth = (expDate.getMonth() + 1).toString();\n                        } catch { }\n                        continue;\n                    } else if (property === 'cardType') {\n                        continue;\n                    }\n                } else {\n                    if ((property === 'username' || property === 'email') &&\n                        this.isNullOrWhitespace(cipher.login.username)) {\n                        cipher.login.username = val;\n                        continue;\n                    } else if (property === 'password') {\n                        cipher.login.password = val;\n                        continue;\n                    } else if (property === 'totp') {\n                        cipher.login.totp = val;\n                        continue;\n                    } else if ((cipher.login.uris == null || cipher.login.uris.length === 0) &&\n                        this.uriFieldNames.indexOf(property) > -1) {\n                        cipher.login.uris = this.makeUriArray(val);\n                        continue;\n                    }\n                }\n\n                this.processKvp(cipher, property, val);\n            }\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class PasswordDragonXmlImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const doc = this.parseXml(data);\n        if (doc == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        const records = doc.querySelectorAll('PasswordManager > record');\n        Array.from(records).forEach(record => {\n            const category = this.querySelectorDirectChild(record, 'Category');\n            const categoryText = category != null && !this.isNullOrWhitespace(category.textContent) &&\n                category.textContent !== 'Unfiled' ? category.textContent : null;\n            this.processFolder(result, categoryText);\n\n            const accountName = this.querySelectorDirectChild(record, 'Account-Name');\n            const userId = this.querySelectorDirectChild(record, 'User-Id');\n            const password = this.querySelectorDirectChild(record, 'Password');\n            const url = this.querySelectorDirectChild(record, 'URL');\n            const notes = this.querySelectorDirectChild(record, 'Notes');\n            const cipher = this.initLoginCipher();\n            cipher.name = accountName != null ? this.getValueOrDefault(accountName.textContent, '--') : '--';\n            cipher.notes = notes != null ? this.getValueOrDefault(notes.textContent) : '';\n            cipher.login.username = userId != null ? this.getValueOrDefault(userId.textContent) : null;\n            cipher.login.password = password != null ? this.getValueOrDefault(password.textContent) : null;\n            cipher.login.uris = url != null ? this.makeUriArray(url.textContent) : null;\n\n            const attributes: string[] = [];\n            for (let i = 1; i <= 10; i++) {\n                attributes.push('Attribute-' + i);\n            }\n\n            this.querySelectorAllDirectChild(record, attributes.join(',')).forEach(attr => {\n                if (this.isNullOrWhitespace(attr.textContent) || attr.textContent === 'null') {\n                    return;\n                }\n                this.processKvp(cipher, attr.tagName, attr.textContent);\n            });\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class PasswordSafeXmlImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const doc = this.parseXml(data);\n        if (doc == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        const passwordSafe = doc.querySelector('passwordsafe');\n        if (passwordSafe == null) {\n            result.errorMessage = 'Missing `passwordsafe` node.';\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        const notesDelimiter = passwordSafe.getAttribute('delimiter');\n        const entries = doc.querySelectorAll('passwordsafe > entry');\n        Array.from(entries).forEach(entry => {\n            const group = this.querySelectorDirectChild(entry, 'group');\n            const groupText = group != null && !this.isNullOrWhitespace(group.textContent) ?\n                group.textContent.split('.').join('/') : null;\n            this.processFolder(result, groupText);\n\n            const title = this.querySelectorDirectChild(entry, 'title');\n            const username = this.querySelectorDirectChild(entry, 'username');\n            const email = this.querySelectorDirectChild(entry, 'email');\n            const password = this.querySelectorDirectChild(entry, 'password');\n            const url = this.querySelectorDirectChild(entry, 'url');\n            const notes = this.querySelectorDirectChild(entry, 'notes');\n            const cipher = this.initLoginCipher();\n            cipher.name = title != null ? this.getValueOrDefault(title.textContent, '--') : '--';\n            cipher.notes = notes != null ?\n                this.getValueOrDefault(notes.textContent, '').split(notesDelimiter).join('\\n') : null;\n            cipher.login.username = username != null ? this.getValueOrDefault(username.textContent) : null;\n            cipher.login.password = password != null ? this.getValueOrDefault(password.textContent) : null;\n            cipher.login.uris = url != null ? this.makeUriArray(url.textContent) : null;\n\n            if (this.isNullOrWhitespace(cipher.login.username) && email != null) {\n                cipher.login.username = this.getValueOrDefault(email.textContent);\n            } else if (email != null && !this.isNullOrWhitespace(email.textContent)) {\n                cipher.notes = this.isNullOrWhitespace(cipher.notes) ? 'Email: ' + email.textContent\n                    : (cipher.notes + '\\n' + 'Email: ' + email.textContent);\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class PasswordWalletTxtImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, false);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (value.length < 1) {\n                return;\n            }\n            if (value.length > 5) {\n                this.processFolder(result, value[5]);\n            }\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value[0], '--');\n            if (value.length > 4) {\n                cipher.notes = this.getValueOrDefault(value[4], '').split('').join('\\n');\n            }\n            if (value.length > 2) {\n                cipher.login.username = this.getValueOrDefault(value[2]);\n            }\n            if (value.length > 3) {\n                cipher.login.password = this.getValueOrDefault(value[3]);\n            }\n            if (value.length > 1) {\n                cipher.login.uris = this.makeUriArray(value[1]);\n            }\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { CipherType } from '../enums/cipherType';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CardView } from '../models/view/cardView';\n\nexport class RememBearCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (value.trash === 'true') {\n                return;\n            }\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.name);\n            cipher.notes = this.getValueOrDefault(value.notes);\n            if (value.type === 'LoginItem') {\n                cipher.login.uris = this.makeUriArray(value.website);\n                cipher.login.password = this.getValueOrDefault(value.password);\n                cipher.login.username = this.getValueOrDefault(value.username);\n            } else if (value.type === 'CreditCardItem') {\n                cipher.type = CipherType.Card;\n                cipher.card = new CardView();\n                cipher.card.cardholderName = this.getValueOrDefault(value.cardholder);\n                cipher.card.number = this.getValueOrDefault(value.number);\n                cipher.card.brand = this.getCardBrand(cipher.card.number);\n                cipher.card.code = this.getValueOrDefault(value.verification);\n\n                try {\n                    const expMonth = this.getValueOrDefault(value.expiryMonth);\n                    if (expMonth != null) {\n                        const expMonthNumber = parseInt(expMonth, null);\n                        if (expMonthNumber != null && expMonthNumber >= 1 && expMonthNumber <= 12) {\n                            cipher.card.expMonth = expMonthNumber.toString();\n                        }\n                    }\n                } catch { }\n                try {\n                    const expYear = this.getValueOrDefault(value.expiryYear);\n                    if (expYear != null) {\n                        const expYearNumber = parseInt(expYear, null);\n                        if (expYearNumber != null) {\n                            cipher.card.expYear = expYearNumber.toString();\n                        }\n                    }\n                } catch { }\n\n                const pin = this.getValueOrDefault(value.pin);\n                if (pin != null) {\n                    this.processKvp(cipher, 'PIN', pin);\n                }\n                const zip = this.getValueOrDefault(value.zipCode);\n                if (zip != null) {\n                    this.processKvp(cipher, 'Zip Code', zip);\n                }\n            }\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class RoboFormCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        let i = 1;\n        results.forEach(value => {\n            const folder = !this.isNullOrWhitespace(value.Folder) && value.Folder.startsWith('/') ?\n                value.Folder.replace('/', '') : value.Folder;\n            const folderName = !this.isNullOrWhitespace(folder) ? folder : null;\n            this.processFolder(result, folderName);\n\n            const cipher = this.initLoginCipher();\n            cipher.notes = this.getValueOrDefault(value.Note);\n            cipher.name = this.getValueOrDefault(value.Name, '--');\n            cipher.login.username = this.getValueOrDefault(value.Login);\n            cipher.login.password = this.getValueOrDefault(value.Pwd);\n            cipher.login.uris = this.makeUriArray(value.Url);\n\n            if (!this.isNullOrWhitespace(value.Rf_fields)) {\n                let fields: string[] = [value.Rf_fields];\n                if (value.__parsed_extra != null && value.__parsed_extra.length > 0) {\n                    fields = fields.concat(value.__parsed_extra);\n                }\n                fields.forEach((field: string) => {\n                    const parts = field.split(':');\n                    if (parts.length < 3) {\n                        return;\n                    }\n                    const key = parts[0] === '-no-name-' ? null : parts[0];\n                    const val = parts.length === 4 && parts[2] === 'rck' ? parts[1] : parts[2];\n                    this.processKvp(cipher, key, val);\n                });\n            }\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n\n            if (i === results.length && cipher.name === '--' && this.isNullOrWhitespace(cipher.login.password)) {\n                return;\n            }\n\n            result.ciphers.push(cipher);\n            i++;\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { FolderView } from '../models/view/folderView';\nimport { SecureNoteView } from '../models/view/secureNoteView';\n\nimport { CipherType } from '../enums/cipherType';\nimport { SecureNoteType } from '../enums/secureNoteType';\n\nimport { FieldType } from '../enums';\nimport { CipherView, FieldView } from '../models/view';\n\nexport class SafeInCloudXmlImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const doc = this.parseXml(data);\n        if (doc == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        const db = doc.querySelector('database');\n        if (db == null) {\n            result.errorMessage = 'Missing `database` node.';\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        const foldersMap = new Map<string, number>();\n\n        Array.from(doc.querySelectorAll('database > label')).forEach(labelEl => {\n            const name = labelEl.getAttribute('name');\n            const id = labelEl.getAttribute('id');\n            if (!this.isNullOrWhitespace(name) && !this.isNullOrWhitespace(id)) {\n                foldersMap.set(id, result.folders.length);\n                const folder = new FolderView();\n                folder.name = name;\n                result.folders.push(folder);\n            }\n        });\n\n        Array.from(doc.querySelectorAll('database > card')).forEach(cardEl => {\n            if (cardEl.getAttribute('template') === 'true' || cardEl.getAttribute('deleted') === 'true') {\n                return;\n            }\n\n            const labelIdEl = this.querySelectorDirectChild(cardEl, 'label_id');\n            if (labelIdEl != null) {\n                const labelId = labelIdEl.textContent;\n                if (!this.isNullOrWhitespace(labelId) && foldersMap.has(labelId)) {\n                    result.folderRelationships.push([result.ciphers.length, foldersMap.get(labelId)]);\n                }\n            }\n\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(cardEl.getAttribute('title'), '--');\n\n            if (cardEl.getAttribute('star') === 'true') {\n                cipher.favorite = true;\n            }\n\n            const cardType = cardEl.getAttribute('type');\n            if (cardType === 'note') {\n                cipher.type = CipherType.SecureNote;\n                cipher.secureNote = new SecureNoteView();\n                cipher.secureNote.type = SecureNoteType.Generic;\n            } else {\n                Array.from(this.querySelectorAllDirectChild(cardEl, 'field')).forEach(fieldEl => {\n                    const text = fieldEl.textContent;\n                    if (this.isNullOrWhitespace(text)) {\n                        return;\n                    }\n                    const name = fieldEl.getAttribute('name');\n                    const fieldType = this.getValueOrDefault(fieldEl.getAttribute('type'), '').toLowerCase();\n                    if (fieldType === 'login') {\n                        cipher.login.username = text;\n                    } else if (fieldType === 'password' || fieldType === 'secret') {\n                        // safeInCloud allows for more than one password. we just insert them here and find the one used as password later\n                        this.processKvp(cipher, name, text, FieldType.Hidden);\n                    } else if (fieldType === 'one_time_password') {\n                        cipher.login.totp = text;\n                    } else if (fieldType === 'notes') {\n                        cipher.notes += (text + '\\n');\n                    } else if (fieldType === 'weblogin' || fieldType === 'website') {\n                        cipher.login.uris = this.makeUriArray(text);\n                    }\n                    else {\n                        this.processKvp(cipher, name, text);\n                    }\n                });\n            }\n\n            Array.from(this.querySelectorAllDirectChild(cardEl, 'notes')).forEach(notesEl => {\n                cipher.notes += (notesEl.textContent + '\\n');\n            });\n\n            this.setPassword(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n\n    // Choose a password from all passwords. Take one that has password in its name, or the first one if there is no such entry\n    // if its name is password, we can safely remove it form the fields. otherwise, it would maybe be best to keep it as a hidden field\n    setPassword(cipher: CipherView) {\n        const candidates = cipher.fields.filter(field => field.type === FieldType.Hidden);\n        if (!candidates.length) {\n            return;\n        }\n\n        let choice: FieldView;\n        for (const field of candidates) {\n            if (this.passwordFieldNames.includes(field.name.toLowerCase())) {\n                choice = field;\n                cipher.fields = cipher.fields.filter(f => f !== choice);\n                break;\n            }\n        }\n\n        if (!choice) {\n            choice = candidates[0];\n        }\n\n        cipher.login.password = choice.value;\n    }\n}\n","export { CipherType } from './cipherType';\nexport { DeviceType } from './deviceType';\nexport { EncryptionType } from './encryptionType';\nexport { FieldType } from './fieldType';\nexport { LogLevelType } from './logLevelType';\nexport { SecureNoteType } from './secureNoteType';\nexport { TwoFactorProviderType } from './twoFactorProviderType';\nexport { UriMatchType } from './uriMatchType';\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class SaferPassCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(this.nameFromUrl(value.url), '--');\n            cipher.notes = this.getValueOrDefault(value.notes);\n            cipher.login.username = this.getValueOrDefault(value.username);\n            cipher.login.password = this.getValueOrDefault(value.password);\n            cipher.login.uris = this.makeUriArray(value.url);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class SecureSafeCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.Title);\n            cipher.notes = this.getValueOrDefault(value.Comment);\n            cipher.login.uris = this.makeUriArray(value.Url);\n            cipher.login.password = this.getValueOrDefault(value.Password);\n            cipher.login.username = this.getValueOrDefault(value.Username);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\nimport { CipherView } from '../models/view/cipherView';\n\nexport class SplashIdCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, false);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (value.length < 3) {\n                return;\n            }\n\n            this.processFolder(result, this.getValueOrDefault(value[value.length - 1]));\n            const cipher = this.initLoginCipher();\n            cipher.notes = this.getValueOrDefault(value[value.length - 2], '');\n            cipher.name = this.getValueOrDefault(value[1], '--');\n\n            if (value[0] === 'Web Logins' || value[0] === 'Servers' || value[0] === 'Email Accounts') {\n                cipher.login.username = this.getValueOrDefault(value[2]);\n                cipher.login.password = this.getValueOrDefault(value[3]);\n                cipher.login.uris = this.makeUriArray(value[4]);\n                this.parseFieldsToNotes(cipher, 5, value);\n            } else {\n                this.parseFieldsToNotes(cipher, 2, value);\n            }\n\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n\n    private parseFieldsToNotes(cipher: CipherView, startIndex: number, value: any) {\n        // last 3 rows do not get parsed\n        for (let i = startIndex; i < value.length - 3; i++) {\n            if (this.isNullOrWhitespace(value[i])) {\n                continue;\n            }\n            cipher.notes += (value[i] + '\\n');\n        }\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class StickyPasswordXmlImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const doc = this.parseXml(data);\n        if (doc == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        const loginNodes = doc.querySelectorAll('root > Database > Logins > Login');\n        Array.from(loginNodes).forEach(loginNode => {\n            const accountId = loginNode.getAttribute('ID');\n            if (this.isNullOrWhitespace(accountId)) {\n                return;\n            }\n\n            const usernameText = loginNode.getAttribute('Name');\n            const passwordText = loginNode.getAttribute('Password');\n            let titleText: string = null;\n            let linkText: string = null;\n            let notesText: string = null;\n            let groupId: string = null;\n            let groupText: string = null;\n\n            const accountLogin = doc.querySelector('root > Database > Accounts > Account > ' +\n                'LoginLinks > Login[SourceLoginID=\"' + accountId + '\"]');\n            if (accountLogin != null) {\n                const account = accountLogin.parentElement.parentElement;\n                if (account != null) {\n                    titleText = account.getAttribute('Name');\n                    linkText = account.getAttribute('Link');\n                    groupId = account.getAttribute('ParentID');\n                    notesText = account.getAttribute('Comments');\n                    if (!this.isNullOrWhitespace(notesText)) {\n                        notesText = notesText.split('/n').join('\\n');\n                    }\n                }\n            }\n\n            if (!this.isNullOrWhitespace(groupId)) {\n                groupText = this.buildGroupText(doc, groupId, '');\n                this.processFolder(result, groupText);\n            }\n\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(titleText, '--');\n            cipher.notes = this.getValueOrDefault(notesText);\n            cipher.login.username = this.getValueOrDefault(usernameText);\n            cipher.login.password = this.getValueOrDefault(passwordText);\n            cipher.login.uris = this.makeUriArray(linkText);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n\n    buildGroupText(doc: Document, groupId: string, groupText: string): string {\n        const group = doc.querySelector('root > Database > Groups > Group[ID=\"' + groupId + '\"]');\n        if (group == null) {\n            return groupText;\n        }\n        if (!this.isNullOrWhitespace(groupText)) {\n            groupText = '/' + groupText;\n        }\n        groupText = group.getAttribute('Name') + groupText;\n        return this.buildGroupText(doc, group.getAttribute('ParentID'), groupText);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nimport { CardView } from '../models/view/cardView';\nimport { SecureNoteView } from '../models/view/secureNoteView';\n\nimport { CipherType } from '../enums/cipherType';\nimport { SecureNoteType } from '../enums/secureNoteType';\n\nconst PropertiesToIgnore = ['kind', 'autologin', 'favorite', 'hexcolor', 'protectedwithpassword', 'subdomainonly',\n    'type', 'tk_export_version', 'note', 'title', 'document_content',\n];\n\nexport class TrueKeyCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const cipher = this.initLoginCipher();\n            cipher.favorite = this.getValueOrDefault(value.favorite, '').toLowerCase() === 'true';\n            cipher.name = this.getValueOrDefault(value.name, '--');\n            cipher.notes = this.getValueOrDefault(value.memo, '');\n            cipher.login.username = this.getValueOrDefault(value.login);\n            cipher.login.password = this.getValueOrDefault(value.password);\n            cipher.login.uris = this.makeUriArray(value.url);\n\n            if (value.kind !== 'login') {\n                cipher.name = this.getValueOrDefault(value.title, '--');\n                cipher.notes = this.getValueOrDefault(value.note, '');\n            }\n\n            if (value.kind === 'cc') {\n                cipher.type = CipherType.Card;\n                cipher.card = new CardView();\n                cipher.card.cardholderName = this.getValueOrDefault(value.cardholder);\n                cipher.card.number = this.getValueOrDefault(value.number);\n                cipher.card.brand = this.getCardBrand(cipher.card.number);\n                if (!this.isNullOrWhitespace(value.expiryDate)) {\n                    try {\n                        const expDate = new Date(value.expiryDate);\n                        cipher.card.expYear = expDate.getFullYear().toString();\n                        cipher.card.expMonth = (expDate.getMonth() + 1).toString();\n                    } catch { }\n                }\n            } else if (value.kind !== 'login') {\n                cipher.type = CipherType.SecureNote;\n                cipher.secureNote = new SecureNoteView();\n                cipher.secureNote.type = SecureNoteType.Generic;\n                if (!this.isNullOrWhitespace(cipher.notes)) {\n                    cipher.notes = this.getValueOrDefault(value.document_content, '');\n                }\n                for (const property in value) {\n                    if (value.hasOwnProperty(property) && PropertiesToIgnore.indexOf(property.toLowerCase()) < 0 &&\n                        !this.isNullOrWhitespace(value[property])) {\n                        this.processKvp(cipher, property, value[property]);\n                    }\n                }\n            }\n\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class UpmCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, false);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (value.length !== 5) {\n                return;\n            }\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value[0], '--');\n            cipher.notes = this.getValueOrDefault(value[4]);\n            cipher.login.username = this.getValueOrDefault(value[1]);\n            cipher.login.password = this.getValueOrDefault(value[2]);\n            cipher.login.uris = this.makeUriArray(value[3]);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\n\nexport class YotiCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            const cipher = this.initLoginCipher();\n            cipher.name = this.getValueOrDefault(value.Name, '--');\n            cipher.login.username = this.getValueOrDefault(value['User name']);\n            cipher.login.password = this.getValueOrDefault(value.Password);\n            cipher.login.uris = this.makeUriArray(value.URL);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n}\n","import { BaseImporter } from './baseImporter';\nimport { Importer } from './importer';\n\nimport { ImportResult } from '../models/domain/importResult';\nimport { CipherView } from '../models/view';\n\nexport class ZohoVaultCsvImporter extends BaseImporter implements Importer {\n    parse(data: string): Promise<ImportResult> {\n        const result = new ImportResult();\n        const results = this.parseCsv(data, true);\n        if (results == null) {\n            result.success = false;\n            return Promise.resolve(result);\n        }\n\n        results.forEach(value => {\n            if (this.isNullOrWhitespace(value['Password Name']) && this.isNullOrWhitespace(value['Secret Name'])) {\n                return;\n            }\n            this.processFolder(result, this.getValueOrDefault(value.ChamberName));\n            const cipher = this.initLoginCipher();\n            cipher.favorite = this.getValueOrDefault(value.Favorite, '0') === '1';\n            cipher.notes = this.getValueOrDefault(value.Notes);\n            cipher.name = this.getValueOrDefault(\n                value['Password Name'], this.getValueOrDefault(value['Secret Name'], '--'));\n            cipher.login.uris = this.makeUriArray(\n                this.getValueOrDefault(value['Password URL'], this.getValueOrDefault(value['Secret URL'])));\n            this.parseData(cipher, value.SecretData);\n            this.parseData(cipher, value.CustomData);\n            this.convertToNoteIfNeeded(cipher);\n            this.cleanupCipher(cipher);\n            result.ciphers.push(cipher);\n        });\n\n        if (this.organization) {\n            this.moveFoldersToCollections(result);\n        }\n\n        result.success = true;\n        return Promise.resolve(result);\n    }\n\n    private parseData(cipher: CipherView, data: string) {\n        if (this.isNullOrWhitespace(data)) {\n            return;\n        }\n        const dataLines = this.splitNewLine(data);\n        dataLines.forEach(line => {\n            const delimPosition = line.indexOf(':');\n            if (delimPosition < 0) {\n                return;\n            }\n            const field = line.substring(0, delimPosition);\n            const value = line.length > delimPosition ? line.substring(delimPosition + 1) : null;\n            if (this.isNullOrWhitespace(field) || this.isNullOrWhitespace(value) || field === 'SecretType') {\n                return;\n            }\n            const fieldLower = field.toLowerCase();\n            if (cipher.login.username == null && this.usernameFieldNames.indexOf(fieldLower) > -1) {\n                cipher.login.username = value;\n            } else if (cipher.login.password == null && this.passwordFieldNames.indexOf(fieldLower) > -1) {\n                cipher.login.password = value;\n            } else {\n                this.processKvp(cipher, field, value);\n            }\n        });\n    }\n}\n","import * as signalR from '@microsoft/signalr';\nimport * as signalRMsgPack from '@microsoft/signalr-protocol-msgpack';\n\nimport { NotificationType } from '../enums/notificationType';\n\nimport { ApiService } from '../abstractions/api.service';\nimport { AppIdService } from '../abstractions/appId.service';\nimport { EnvironmentService } from '../abstractions/environment.service';\nimport { LogService } from '../abstractions/log.service';\nimport { NotificationsService as NotificationsServiceAbstraction } from '../abstractions/notifications.service';\nimport { SyncService } from '../abstractions/sync.service';\nimport { UserService } from '../abstractions/user.service';\nimport { VaultTimeoutService } from '../abstractions/vaultTimeout.service';\n\nimport {\n    NotificationResponse,\n    SyncCipherNotification,\n    SyncFolderNotification,\n    SyncSendNotification,\n} from '../models/response/notificationResponse';\n\nexport class NotificationsService implements NotificationsServiceAbstraction {\n    private signalrConnection: signalR.HubConnection;\n    private url: string;\n    private connected = false;\n    private inited = false;\n    private inactive = false;\n    private reconnectTimer: any = null;\n\n    constructor(private userService: UserService, private syncService: SyncService,\n        private appIdService: AppIdService, private apiService: ApiService,\n        private vaultTimeoutService: VaultTimeoutService,\n        private logoutCallback: () => Promise<void>, private logService: LogService) {\n    }\n\n    async init(environmentService: EnvironmentService): Promise<void> {\n        this.inited = false;\n        this.url = 'https://notifications.bitwarden.com';\n        if (environmentService.notificationsUrl != null) {\n            this.url = environmentService.notificationsUrl;\n        } else if (environmentService.baseUrl != null) {\n            this.url = environmentService.baseUrl + '/notifications';\n        }\n\n        // Set notifications server URL to `https://-` to effectively disable communication\n        // with the notifications server from the client app\n        if (this.url === 'https://-') {\n            return;\n        }\n\n        if (this.signalrConnection != null) {\n            this.signalrConnection.off('ReceiveMessage');\n            this.signalrConnection.off('Heartbeat');\n            await this.signalrConnection.stop();\n            this.connected = false;\n            this.signalrConnection = null;\n        }\n\n        this.signalrConnection = new signalR.HubConnectionBuilder()\n            .withUrl(this.url + '/hub', {\n                accessTokenFactory: () => this.apiService.getActiveBearerToken(),\n                skipNegotiation: true,\n                transport: signalR.HttpTransportType.WebSockets,\n            })\n            .withHubProtocol(new signalRMsgPack.MessagePackHubProtocol() as signalR.IHubProtocol)\n            // .configureLogging(signalR.LogLevel.Trace)\n            .build();\n\n        this.signalrConnection.on('ReceiveMessage',\n            (data: any) => this.processNotification(new NotificationResponse(data)));\n        this.signalrConnection.on('Heartbeat',\n            (data: any) => { /*console.log('Heartbeat!');*/ });\n        this.signalrConnection.onclose(() => {\n            this.connected = false;\n            this.reconnect(true);\n        });\n        this.inited = true;\n        if (await this.isAuthedAndUnlocked()) {\n            await this.reconnect(false);\n        }\n    }\n\n    async updateConnection(sync = false): Promise<void> {\n        if (!this.inited) {\n            return;\n        }\n        try {\n            if (await this.isAuthedAndUnlocked()) {\n                await this.reconnect(sync);\n            } else {\n                await this.signalrConnection.stop();\n            }\n        } catch (e) {\n            this.logService.error(e.toString());\n        }\n    }\n\n    async reconnectFromActivity(): Promise<void> {\n        this.inactive = false;\n        if (this.inited && !this.connected) {\n            await this.reconnect(true);\n        }\n    }\n\n    async disconnectFromInactivity(): Promise<void> {\n        this.inactive = true;\n        if (this.inited && this.connected) {\n            await this.signalrConnection.stop();\n        }\n    }\n\n    private async processNotification(notification: NotificationResponse) {\n        const appId = await this.appIdService.getAppId();\n        if (notification == null || notification.contextId === appId) {\n            return;\n        }\n\n        const isAuthenticated = await this.userService.isAuthenticated();\n        const payloadUserId = notification.payload.userId || notification.payload.UserId;\n        const myUserId = await this.userService.getUserId();\n        if (isAuthenticated && payloadUserId != null && payloadUserId !== myUserId) {\n            return;\n        }\n\n        switch (notification.type) {\n            case NotificationType.SyncCipherCreate:\n            case NotificationType.SyncCipherUpdate:\n                await this.syncService.syncUpsertCipher(notification.payload as SyncCipherNotification,\n                    notification.type === NotificationType.SyncCipherUpdate);\n                break;\n            case NotificationType.SyncCipherDelete:\n            case NotificationType.SyncLoginDelete:\n                await this.syncService.syncDeleteCipher(notification.payload as SyncCipherNotification);\n                break;\n            case NotificationType.SyncFolderCreate:\n            case NotificationType.SyncFolderUpdate:\n                await this.syncService.syncUpsertFolder(notification.payload as SyncFolderNotification,\n                    notification.type === NotificationType.SyncFolderUpdate);\n                break;\n            case NotificationType.SyncFolderDelete:\n                await this.syncService.syncDeleteFolder(notification.payload as SyncFolderNotification);\n                break;\n            case NotificationType.SyncVault:\n            case NotificationType.SyncCiphers:\n            case NotificationType.SyncSettings:\n                if (isAuthenticated) {\n                    await this.syncService.fullSync(false);\n                }\n                break;\n            case NotificationType.SyncOrgKeys:\n                if (isAuthenticated) {\n                    await this.apiService.refreshIdentityToken();\n                    await this.syncService.fullSync(true);\n                    // Stop so a reconnect can be made\n                    await this.signalrConnection.stop();\n                }\n                break;\n            case NotificationType.LogOut:\n                if (isAuthenticated) {\n                    this.logoutCallback();\n                }\n                break;\n            case NotificationType.SyncSendCreate:\n            case NotificationType.SyncSendUpdate:\n                await this.syncService.syncUpsertSend(notification.payload as SyncSendNotification,\n                    notification.type === NotificationType.SyncSendUpdate);\n                break;\n            case NotificationType.SyncSendDelete:\n                await this.syncService.syncDeleteSend(notification.payload as SyncSendNotification);\n            default:\n                break;\n        }\n    }\n\n    private async reconnect(sync: boolean) {\n        if (this.reconnectTimer != null) {\n            clearTimeout(this.reconnectTimer);\n            this.reconnectTimer = null;\n        }\n        if (this.connected || !this.inited || this.inactive) {\n            return;\n        }\n        const authedAndUnlocked = await this.isAuthedAndUnlocked();\n        if (!authedAndUnlocked) {\n            return;\n        }\n\n        try {\n            await this.signalrConnection.start();\n            this.connected = true;\n            if (sync) {\n                await this.syncService.fullSync(false);\n            }\n        } catch { }\n\n        if (!this.connected) {\n            this.reconnectTimer = setTimeout(() => this.reconnect(sync), this.random(120000, 300000));\n        }\n    }\n\n    private async isAuthedAndUnlocked() {\n        if (await this.userService.isAuthenticated()) {\n            const locked = await this.vaultTimeoutService.isLocked();\n            return !locked;\n        }\n        return false;\n    }\n\n    private random(min: number, max: number) {\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n}\n","import { BaseResponse } from './baseResponse';\n\nimport { NotificationType } from '../../enums/notificationType';\n\nexport class NotificationResponse extends BaseResponse {\n    contextId: string;\n    type: NotificationType;\n    payload: any;\n\n    constructor(response: any) {\n        super(response);\n        this.contextId = this.getResponseProperty('ContextId');\n        this.type = this.getResponseProperty('Type');\n\n        const payload = this.getResponseProperty('Payload');\n        switch (this.type) {\n            case NotificationType.SyncCipherCreate:\n            case NotificationType.SyncCipherDelete:\n            case NotificationType.SyncCipherUpdate:\n            case NotificationType.SyncLoginDelete:\n                this.payload = new SyncCipherNotification(payload);\n                break;\n            case NotificationType.SyncFolderCreate:\n            case NotificationType.SyncFolderDelete:\n            case NotificationType.SyncFolderUpdate:\n                this.payload = new SyncFolderNotification(payload);\n                break;\n            case NotificationType.SyncVault:\n            case NotificationType.SyncCiphers:\n            case NotificationType.SyncOrgKeys:\n            case NotificationType.SyncSettings:\n            case NotificationType.LogOut:\n                this.payload = new UserNotification(payload);\n                break;\n            case NotificationType.SyncSendCreate:\n            case NotificationType.SyncSendUpdate:\n            case NotificationType.SyncSendDelete:\n                this.payload = new SyncSendNotification(payload);\n            default:\n                break;\n        }\n    }\n}\n\nexport class SyncCipherNotification extends BaseResponse {\n    id: string;\n    userId: string;\n    organizationId: string;\n    collectionIds: string[];\n    revisionDate: Date;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.userId = this.getResponseProperty('UserId');\n        this.organizationId = this.getResponseProperty('OrganizationId');\n        this.collectionIds = this.getResponseProperty('CollectionIds');\n        this.revisionDate = new Date(this.getResponseProperty('RevisionDate'));\n    }\n}\n\nexport class SyncFolderNotification extends BaseResponse {\n    id: string;\n    userId: string;\n    revisionDate: Date;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.userId = this.getResponseProperty('UserId');\n        this.revisionDate = new Date(this.getResponseProperty('RevisionDate'));\n    }\n}\n\nexport class UserNotification extends BaseResponse {\n    userId: string;\n    date: Date;\n\n    constructor(response: any) {\n        super(response);\n        this.userId = this.getResponseProperty('UserId');\n        this.date = new Date(this.getResponseProperty('Date'));\n    }\n}\n\nexport class SyncSendNotification extends BaseResponse {\n    id: string;\n    userId: string;\n    revisionDate: Date;\n\n    constructor(response: any) {\n        super(response);\n        this.id = this.getResponseProperty('Id');\n        this.userId = this.getResponseProperty('UserId');\n        this.revisionDate = new Date(this.getResponseProperty('RevisionDate'));\n    }\n}\n","import { PolicyService as PolicyServiceAbstraction } from '../abstractions/policy.service';\nimport { StorageService } from '../abstractions/storage.service';\nimport { UserService } from '../abstractions/user.service';\n\nimport { PolicyData } from '../models/data/policyData';\n\nimport { MasterPasswordPolicyOptions } from '../models/domain/masterPasswordPolicyOptions';\nimport { Policy } from '../models/domain/policy';\n\nimport { PolicyType } from '../enums/policyType';\n\nconst Keys = {\n    policiesPrefix: 'policies_',\n};\n\nexport class PolicyService implements PolicyServiceAbstraction {\n    policyCache: Policy[];\n\n    constructor(private userService: UserService, private storageService: StorageService) {\n    }\n\n    clearCache(): void {\n        this.policyCache = null;\n    }\n\n    async getAll(type?: PolicyType): Promise<Policy[]> {\n        if (this.policyCache == null) {\n            const userId = await this.userService.getUserId();\n            const policies = await this.storageService.get<{ [id: string]: PolicyData; }>(\n                Keys.policiesPrefix + userId);\n            const response: Policy[] = [];\n            for (const id in policies) {\n                if (policies.hasOwnProperty(id)) {\n                    response.push(new Policy(policies[id]));\n                }\n            }\n            this.policyCache = response;\n        }\n        if (type != null) {\n            return this.policyCache.filter(p => p.type === type);\n        } else {\n            return this.policyCache;\n        }\n    }\n\n    async replace(policies: { [id: string]: PolicyData; }): Promise<any> {\n        const userId = await this.userService.getUserId();\n        await this.storageService.save(Keys.policiesPrefix + userId, policies);\n        this.policyCache = null;\n    }\n\n    async clear(userId: string): Promise<any> {\n        await this.storageService.remove(Keys.policiesPrefix + userId);\n        this.policyCache = null;\n    }\n\n    async getMasterPasswordPolicyOptions(policies?: Policy[]): Promise<MasterPasswordPolicyOptions> {\n        let enforcedOptions: MasterPasswordPolicyOptions = null;\n\n        if (policies == null) {\n            policies = await this.getAll(PolicyType.MasterPassword);\n        } else {\n            policies = policies.filter(p => p.type === PolicyType.MasterPassword);\n        }\n\n        if (policies == null || policies.length === 0) {\n            return enforcedOptions;\n        }\n\n        policies.forEach(currentPolicy => {\n            if (!currentPolicy.enabled || currentPolicy.data == null) {\n                return;\n            }\n\n            if (enforcedOptions == null) {\n                enforcedOptions = new MasterPasswordPolicyOptions();\n            }\n\n            if (currentPolicy.data.minComplexity != null\n                && currentPolicy.data.minComplexity > enforcedOptions.minComplexity) {\n                enforcedOptions.minComplexity = currentPolicy.data.minComplexity;\n            }\n\n            if (currentPolicy.data.minLength != null\n                && currentPolicy.data.minLength > enforcedOptions.minLength) {\n                enforcedOptions.minLength = currentPolicy.data.minLength;\n            }\n\n            if (currentPolicy.data.requireUpper) {\n                enforcedOptions.requireUpper = true;\n            }\n\n            if (currentPolicy.data.requireLower) {\n                enforcedOptions.requireLower = true;\n            }\n\n            if (currentPolicy.data.requireNumbers) {\n                enforcedOptions.requireNumbers = true;\n            }\n\n            if (currentPolicy.data.requireSpecial) {\n                enforcedOptions.requireSpecial = true;\n            }\n        });\n\n        return enforcedOptions;\n    }\n\n    evaluateMasterPassword(passwordStrength: number, newPassword: string,\n        enforcedPolicyOptions: MasterPasswordPolicyOptions): boolean {\n        if (enforcedPolicyOptions == null) {\n            return true;\n        }\n\n        if (enforcedPolicyOptions.minComplexity > 0 && enforcedPolicyOptions.minComplexity > passwordStrength) {\n            return false;\n        }\n\n        if (enforcedPolicyOptions.minLength > 0 && enforcedPolicyOptions.minLength > newPassword.length) {\n            return false;\n        }\n\n        if (enforcedPolicyOptions.requireUpper && newPassword.toLocaleLowerCase() === newPassword) {\n            return false;\n        }\n\n        if (enforcedPolicyOptions.requireLower && newPassword.toLocaleUpperCase() === newPassword) {\n            return false;\n        }\n\n        if (enforcedPolicyOptions.requireNumbers && !(/[0-9]/.test(newPassword))) {\n            return false;\n        }\n\n        if (enforcedPolicyOptions.requireSpecial && !(/[!@#$%\\^&*]/g.test(newPassword))) {\n            return false;\n        }\n\n        return true;\n    }\n}\n","import Domain from './domainBase';\n\nexport class MasterPasswordPolicyOptions extends Domain {\n    minComplexity: number = 0;\n    minLength: number = 0;\n    requireUpper: boolean = false;\n    requireLower: boolean = false;\n    requireNumbers: boolean = false;\n    requireSpecial: boolean = false;\n}\n","import * as lunr from 'lunr';\n\nimport { CipherView } from '../models/view/cipherView';\n\nimport { CipherService } from '../abstractions/cipher.service';\nimport { I18nService } from '../abstractions/i18n.service';\nimport { LogService } from '../abstractions/log.service';\nimport { SearchService as SearchServiceAbstraction } from '../abstractions/search.service';\n\nimport { CipherType } from '../enums/cipherType';\nimport { FieldType } from '../enums/fieldType';\nimport { UriMatchType } from '../enums/uriMatchType';\nimport { SendView } from '../models/view/sendView';\n\nexport class SearchService implements SearchServiceAbstraction {\n    indexedEntityId?: string = null;\n    private indexing = false;\n    private index: lunr.Index = null;\n    private searchableMinLength = 2;\n\n    constructor(private cipherService: CipherService, private logService: LogService,\n        private i18nService: I18nService) {\n        if (['zh-CN', 'zh-TW'].indexOf(i18nService.locale) !== -1) {\n            this.searchableMinLength = 1;\n        }\n    }\n\n    clearIndex(): void {\n        this.indexedEntityId = null;\n        this.index = null;\n    }\n\n    isSearchable(query: string): boolean {\n        const notSearchable = query == null || (this.index == null && query.length < this.searchableMinLength) ||\n            (this.index != null && query.length < this.searchableMinLength && query.indexOf('>') !== 0);\n        return !notSearchable;\n    }\n\n    async indexCiphers(indexedEntityId?: string, ciphers?: CipherView[]): Promise<void> {\n        if (this.indexing) {\n            return;\n        }\n\n        this.logService.time('search indexing');\n        this.indexing = true;\n        this.indexedEntityId = indexedEntityId;\n        this.index = null;\n        const builder = new lunr.Builder();\n        builder.ref('id');\n        builder.field('shortid', { boost: 100, extractor: (c: CipherView) => c.id.substr(0, 8) });\n        builder.field('name', { boost: 10 });\n        builder.field('subtitle', {\n            boost: 5,\n            extractor: (c: CipherView) => {\n                if (c.subTitle != null && c.type === CipherType.Card) {\n                    return c.subTitle.replace(/\\*/g, '');\n                }\n                return c.subTitle;\n            },\n        });\n        builder.field('notes');\n        builder.field('login.username', {\n            extractor: (c: CipherView) => c.type === CipherType.Login && c.login != null ? c.login.username : null,\n        });\n        builder.field('login.uris', { boost: 2, extractor: (c: CipherView) => this.uriExtractor(c) });\n        builder.field('fields', { extractor: (c: CipherView) => this.fieldExtractor(c, false) });\n        builder.field('fields_joined', { extractor: (c: CipherView) => this.fieldExtractor(c, true) });\n        builder.field('attachments', { extractor: (c: CipherView) => this.attachmentExtractor(c, false) });\n        builder.field('attachments_joined',\n            { extractor: (c: CipherView) => this.attachmentExtractor(c, true) });\n        builder.field('organizationid', { extractor: (c: CipherView) => c.organizationId });\n        ciphers = ciphers || await this.cipherService.getAllDecrypted();\n        ciphers.forEach(c => builder.add(c));\n        this.index = builder.build();\n\n        this.indexing = false;\n\n        this.logService.timeEnd('search indexing');\n    }\n\n    async searchCiphers(query: string,\n        filter: (((cipher: CipherView) => boolean) | (((cipher: CipherView) => boolean)[])) = null,\n        ciphers: CipherView[] = null):\n        Promise<CipherView[]> {\n        const results: CipherView[] = [];\n        if (query != null) {\n            query = query.trim().toLowerCase();\n        }\n        if (query === '') {\n            query = null;\n        }\n\n        if (ciphers == null) {\n            ciphers = await this.cipherService.getAllDecrypted();\n        }\n\n        if (filter != null && Array.isArray(filter) && filter.length > 0) {\n            ciphers = ciphers.filter(c => filter.every(f => f == null || f(c)));\n        } else if (filter != null) {\n            ciphers = ciphers.filter(filter as (cipher: CipherView) => boolean);\n        }\n\n        if (!this.isSearchable(query)) {\n            return ciphers;\n        }\n\n        if (this.indexing) {\n            await new Promise(r => setTimeout(r, 250));\n            if (this.indexing) {\n                await new Promise(r => setTimeout(r, 500));\n            }\n        }\n\n        const index = this.getIndexForSearch();\n        if (index == null) {\n            // Fall back to basic search if index is not available\n            return this.searchCiphersBasic(ciphers, query);\n        }\n\n        const ciphersMap = new Map<string, CipherView>();\n        ciphers.forEach(c => ciphersMap.set(c.id, c));\n\n        let searchResults: lunr.Index.Result[] = null;\n        const isQueryString = query != null && query.length > 1 && query.indexOf('>') === 0;\n        if (isQueryString) {\n            try {\n                searchResults = index.search(query.substr(1).trim());\n            } catch { }\n        } else {\n            // tslint:disable-next-line\n            const soWild = lunr.Query.wildcard.LEADING | lunr.Query.wildcard.TRAILING;\n            searchResults = index.query(q => {\n                lunr.tokenizer(query).forEach(token => {\n                    const t = token.toString();\n                    q.term(t, { fields: ['name'], wildcard: soWild });\n                    q.term(t, { fields: ['subtitle'], wildcard: soWild });\n                    q.term(t, { fields: ['login.uris'], wildcard: soWild });\n                    q.term(t, {});\n                });\n            });\n        }\n\n        if (searchResults != null) {\n            searchResults.forEach(r => {\n                if (ciphersMap.has(r.ref)) {\n                    results.push(ciphersMap.get(r.ref));\n                }\n            });\n        }\n        return results;\n    }\n\n    searchCiphersBasic(ciphers: CipherView[], query: string, deleted: boolean = false) {\n        query = query.trim().toLowerCase();\n        return ciphers.filter(c => {\n            if (deleted !== c.isDeleted) {\n                return false;\n            }\n            if (c.name != null && c.name.toLowerCase().indexOf(query) > -1) {\n                return true;\n            }\n            if (query.length >= 8 && c.id.startsWith(query)) {\n                return true;\n            }\n            if (c.subTitle != null && c.subTitle.toLowerCase().indexOf(query) > -1) {\n                return true;\n            }\n            if (c.login && c.login.uri != null && c.login.uri.toLowerCase().indexOf(query) > -1) {\n                return true;\n            }\n            return false;\n        });\n    }\n\n    searchSends(sends: SendView[], query: string) {\n        query = query.trim().toLocaleLowerCase();\n\n        return sends.filter(s => {\n            if (s.name != null && s.name.toLowerCase().indexOf(query) > -1) {\n                return true;\n            }\n            if (query.length >= 8 && (s.id.startsWith(query) || s.accessId.toLocaleLowerCase().startsWith(query) || (s.file?.id != null && s.file.id.startsWith(query)))) {\n                return true;\n            }\n            if (s.notes != null && s.notes.toLowerCase().indexOf(query) > -1) {\n                return true;\n            }\n            if (s.text?.text != null && s.text.text.toLowerCase().indexOf(query) > -1) {\n                return true;\n            }\n            if (s.file?.fileName != null && s.file.fileName.toLowerCase().indexOf(query) > -1) {\n                return true;\n            }\n        });\n    }\n\n    getIndexForSearch(): lunr.Index {\n        return this.index;\n    }\n\n    private fieldExtractor(c: CipherView, joined: boolean) {\n        if (!c.hasFields) {\n            return null;\n        }\n        let fields: string[] = [];\n        c.fields.forEach(f => {\n            if (f.name != null) {\n                fields.push(f.name);\n            }\n            if (f.type === FieldType.Text && f.value != null) {\n                fields.push(f.value);\n            }\n        });\n        fields = fields.filter(f => f.trim() !== '');\n        if (fields.length === 0) {\n            return null;\n        }\n        return joined ? fields.join(' ') : fields;\n    }\n\n    private attachmentExtractor(c: CipherView, joined: boolean) {\n        if (!c.hasAttachments) {\n            return null;\n        }\n        let attachments: string[] = [];\n        c.attachments.forEach(a => {\n            if (a != null && a.fileName != null) {\n                if (joined && a.fileName.indexOf('.') > -1) {\n                    attachments.push(a.fileName.substr(0, a.fileName.lastIndexOf('.')));\n                } else {\n                    attachments.push(a.fileName);\n                }\n            }\n        });\n        attachments = attachments.filter(f => f.trim() !== '');\n        if (attachments.length === 0) {\n            return null;\n        }\n        return joined ? attachments.join(' ') : attachments;\n    }\n\n    private uriExtractor(c: CipherView) {\n        if (c.type !== CipherType.Login || c.login == null || !c.login.hasUris) {\n            return null;\n        }\n        const uris: string[] = [];\n        c.login.uris.forEach(u => {\n            if (u.uri == null || u.uri === '') {\n                return;\n            }\n            if (u.hostname != null) {\n                uris.push(u.hostname);\n                return;\n            }\n            let uri = u.uri;\n            if (u.match !== UriMatchType.RegularExpression) {\n                const protocolIndex = uri.indexOf('://');\n                if (protocolIndex > -1) {\n                    uri = uri.substr(protocolIndex + 3);\n                }\n                const queryIndex = uri.search(/\\?|&|#/);\n                if (queryIndex > -1) {\n                    uri = uri.substring(0, queryIndex);\n                }\n            }\n            uris.push(uri);\n        });\n        return uris.length > 0 ? uris : null;\n    }\n}\n","import { SendData } from '../models/data/sendData';\n\nimport { SendRequest } from '../models/request/sendRequest';\n\nimport { ErrorResponse } from '../models/response/errorResponse';\nimport { SendResponse } from '../models/response/sendResponse';\n\nimport { EncArrayBuffer } from '../models/domain/encArrayBuffer';\nimport { EncString } from '../models/domain/encString';\nimport { Send } from '../models/domain/send';\nimport { SendFile } from '../models/domain/sendFile';\nimport { SendText } from '../models/domain/sendText';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nimport { FileUploadType } from '../enums/fileUploadType';\nimport { SendType } from '../enums/sendType';\n\nimport { SendView } from '../models/view/sendView';\n\nimport { ApiService } from '../abstractions/api.service';\nimport { CryptoService } from '../abstractions/crypto.service';\nimport { CryptoFunctionService } from '../abstractions/cryptoFunction.service';\nimport { FileUploadService } from '../abstractions/fileUpload.service';\nimport { I18nService } from '../abstractions/i18n.service';\nimport { SendService as SendServiceAbstraction } from '../abstractions/send.service';\nimport { StorageService } from '../abstractions/storage.service';\nimport { UserService } from '../abstractions/user.service';\n\nimport { Utils } from '../misc/utils';\n\nconst Keys = {\n    sendsPrefix: 'sends_',\n};\n\nexport class SendService implements SendServiceAbstraction {\n    decryptedSendCache: SendView[];\n\n    constructor(private cryptoService: CryptoService, private userService: UserService,\n        private apiService: ApiService, private fileUploadService: FileUploadService,\n        private storageService: StorageService, private i18nService: I18nService,\n        private cryptoFunctionService: CryptoFunctionService) { }\n\n    clearCache(): void {\n        this.decryptedSendCache = null;\n    }\n\n    async encrypt(model: SendView, file: File | ArrayBuffer, password: string,\n        key?: SymmetricCryptoKey): Promise<[Send, EncArrayBuffer]> {\n        let fileData: EncArrayBuffer = null;\n        const send = new Send();\n        send.id = model.id;\n        send.type = model.type;\n        send.disabled = model.disabled;\n        send.hideEmail = model.hideEmail;\n        send.maxAccessCount = model.maxAccessCount;\n        if (model.key == null) {\n            model.key = await this.cryptoFunctionService.randomBytes(16);\n            model.cryptoKey = await this.cryptoService.makeSendKey(model.key);\n        }\n        if (password != null) {\n            const passwordHash = await this.cryptoFunctionService.pbkdf2(password, model.key, 'sha256', 100000);\n            send.password = Utils.fromBufferToB64(passwordHash);\n        }\n        send.key = await this.cryptoService.encrypt(model.key, key);\n        send.name = await this.cryptoService.encrypt(model.name, model.cryptoKey);\n        send.notes = await this.cryptoService.encrypt(model.notes, model.cryptoKey);\n        if (send.type === SendType.Text) {\n            send.text = new SendText();\n            send.text.text = await this.cryptoService.encrypt(model.text.text, model.cryptoKey);\n            send.text.hidden = model.text.hidden;\n        } else if (send.type === SendType.File) {\n            send.file = new SendFile();\n            if (file != null) {\n                if (file instanceof ArrayBuffer) {\n                    const [name, data] = await this.encryptFileData(model.file.fileName, file, model.cryptoKey);\n                    send.file.fileName = name;\n                    fileData = data;\n                } else {\n                    fileData = await this.parseFile(send, file, model.cryptoKey);\n                }\n            }\n        }\n\n        return [send, fileData];\n    }\n\n    async get(id: string): Promise<Send> {\n        const userId = await this.userService.getUserId();\n        const sends = await this.storageService.get<{ [id: string]: SendData; }>(\n            Keys.sendsPrefix + userId);\n        if (sends == null || !sends.hasOwnProperty(id)) {\n            return null;\n        }\n\n        return new Send(sends[id]);\n    }\n\n    async getAll(): Promise<Send[]> {\n        const userId = await this.userService.getUserId();\n        const sends = await this.storageService.get<{ [id: string]: SendData; }>(\n            Keys.sendsPrefix + userId);\n        const response: Send[] = [];\n        for (const id in sends) {\n            if (sends.hasOwnProperty(id)) {\n                response.push(new Send(sends[id]));\n            }\n        }\n        return response;\n    }\n\n    async getAllDecrypted(): Promise<SendView[]> {\n        if (this.decryptedSendCache != null) {\n            return this.decryptedSendCache;\n        }\n\n        const hasKey = await this.cryptoService.hasKey();\n        if (!hasKey) {\n            throw new Error('No key.');\n        }\n\n        const decSends: SendView[] = [];\n        const promises: Promise<any>[] = [];\n        const sends = await this.getAll();\n        sends.forEach(send => {\n            promises.push(send.decrypt().then(f => decSends.push(f)));\n        });\n\n        await Promise.all(promises);\n        decSends.sort(Utils.getSortFunction(this.i18nService, 'name'));\n\n        this.decryptedSendCache = decSends;\n        return this.decryptedSendCache;\n    }\n\n    async saveWithServer(sendData: [Send, EncArrayBuffer]): Promise<any> {\n        const request = new SendRequest(sendData[0], sendData[1]?.buffer.byteLength);\n        let response: SendResponse;\n        if (sendData[0].id == null) {\n            if (sendData[0].type === SendType.Text) {\n                response = await this.apiService.postSend(request);\n            } else {\n                try {\n                    const uploadDataResponse = await this.apiService.postFileTypeSend(request);\n                    response = uploadDataResponse.sendResponse;\n\n                    await this.fileUploadService.uploadSendFile(uploadDataResponse, sendData[0].file.fileName, sendData[1]);\n                } catch (e) {\n                    if (e instanceof ErrorResponse && (e as ErrorResponse).statusCode === 404) {\n                        response = await this.legacyServerSendFileUpload(sendData, request);\n                    } else if (e instanceof ErrorResponse) {\n                        throw new Error((e as ErrorResponse).getSingleMessage());\n                    } else {\n                        throw e;\n                    }\n                }\n            }\n            sendData[0].id = response.id;\n            sendData[0].accessId = response.accessId;\n        } else {\n            response = await this.apiService.putSend(sendData[0].id, request);\n        }\n\n        const userId = await this.userService.getUserId();\n        const data = new SendData(response, userId);\n        await this.upsert(data);\n    }\n\n    /**\n     * @deprecated Mar 25 2021: This method has been deprecated in favor of direct uploads.\n     * This method still exists for backward compatibility with old server versions.\n     */\n    async legacyServerSendFileUpload(sendData: [Send, EncArrayBuffer], request: SendRequest): Promise<SendResponse>\n    {\n        const fd = new FormData();\n        try {\n            const blob = new Blob([sendData[1].buffer], { type: 'application/octet-stream' });\n            fd.append('model', JSON.stringify(request));\n            fd.append('data', blob, sendData[0].file.fileName.encryptedString);\n        } catch (e) {\n            if (Utils.isNode && !Utils.isBrowser) {\n                fd.append('model', JSON.stringify(request));\n                fd.append('data', Buffer.from(sendData[1].buffer) as any, {\n                    filepath: sendData[0].file.fileName.encryptedString,\n                    contentType: 'application/octet-stream',\n                } as any);\n            } else {\n                throw e;\n            }\n        }\n        return await this.apiService.postSendFileLegacy(fd);\n    }\n\n    async upsert(send: SendData | SendData[]): Promise<any> {\n        const userId = await this.userService.getUserId();\n        let sends = await this.storageService.get<{ [id: string]: SendData; }>(\n            Keys.sendsPrefix + userId);\n        if (sends == null) {\n            sends = {};\n        }\n\n        if (send instanceof SendData) {\n            const s = send as SendData;\n            sends[s.id] = s;\n        } else {\n            (send as SendData[]).forEach(s => {\n                sends[s.id] = s;\n            });\n        }\n\n        await this.storageService.save(Keys.sendsPrefix + userId, sends);\n        this.decryptedSendCache = null;\n    }\n\n    async replace(sends: { [id: string]: SendData; }): Promise<any> {\n        const userId = await this.userService.getUserId();\n        await this.storageService.save(Keys.sendsPrefix + userId, sends);\n        this.decryptedSendCache = null;\n    }\n\n    async clear(userId: string): Promise<any> {\n        await this.storageService.remove(Keys.sendsPrefix + userId);\n        this.decryptedSendCache = null;\n    }\n\n    async delete(id: string | string[]): Promise<any> {\n        const userId = await this.userService.getUserId();\n        const sends = await this.storageService.get<{ [id: string]: SendData; }>(\n            Keys.sendsPrefix + userId);\n        if (sends == null) {\n            return;\n        }\n\n        if (typeof id === 'string') {\n            if (sends[id] == null) {\n                return;\n            }\n            delete sends[id];\n        } else {\n            (id as string[]).forEach(i => {\n                delete sends[i];\n            });\n        }\n\n        await this.storageService.save(Keys.sendsPrefix + userId, sends);\n        this.decryptedSendCache = null;\n    }\n\n    async deleteWithServer(id: string): Promise<any> {\n        await this.apiService.deleteSend(id);\n        await this.delete(id);\n    }\n\n    async removePasswordWithServer(id: string): Promise<any> {\n        const response = await this.apiService.putSendRemovePassword(id);\n        const userId = await this.userService.getUserId();\n        const data = new SendData(response, userId);\n        await this.upsert(data);\n    }\n\n    private parseFile(send: Send, file: File, key: SymmetricCryptoKey): Promise<EncArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.readAsArrayBuffer(file);\n            reader.onload = async evt => {\n                try {\n                    const [name, data] = await this.encryptFileData(file.name, evt.target.result as ArrayBuffer, key);\n                    send.file.fileName = name;\n                    resolve(data);\n                } catch (e) {\n                    reject(e);\n                }\n            };\n            reader.onerror = evt => {\n                reject('Error reading file.');\n            };\n        });\n    }\n\n    private async encryptFileData(fileName: string, data: ArrayBuffer,\n        key: SymmetricCryptoKey): Promise<[EncString, EncArrayBuffer]> {\n        const encFileName = await this.cryptoService.encrypt(fileName, key);\n        const encFileData = await this.cryptoService.encryptToBytes(data, key);\n        return [encFileName, encFileData];\n    }\n}\n","import { SendType } from '../../enums/sendType';\n\nimport { SendFileApi } from '../api/sendFileApi';\nimport { SendTextApi } from '../api/sendTextApi';\n\nimport { Send } from '../domain/send';\n\nexport class SendRequest {\n    type: SendType;\n    fileLength?: number;\n    name: string;\n    notes: string;\n    key: string;\n    maxAccessCount?: number;\n    expirationDate: string;\n    deletionDate: string;\n    text: SendTextApi;\n    file: SendFileApi;\n    password: string;\n    disabled: boolean;\n    hideEmail: boolean;\n\n    constructor(send: Send, fileLength?: number) {\n        this.type = send.type;\n        this.fileLength = fileLength;\n        this.name = send.name ? send.name.encryptedString : null;\n        this.notes = send.notes ? send.notes.encryptedString : null;\n        this.maxAccessCount = send.maxAccessCount;\n        this.expirationDate = send.expirationDate != null ? send.expirationDate.toISOString() : null;\n        this.deletionDate = send.deletionDate != null ? send.deletionDate.toISOString() : null;\n        this.key = send.key != null ? send.key.encryptedString : null;\n        this.password = send.password;\n        this.disabled = send.disabled;\n        this.hideEmail = send.hideEmail;\n\n        switch (this.type) {\n            case SendType.Text:\n                this.text = new SendTextApi();\n                this.text.text = send.text.text != null ? send.text.text.encryptedString : null;\n                this.text.hidden = send.text.hidden;\n                break;\n            case SendType.File:\n                this.file = new SendFileApi();\n                this.file.fileName = send.file.fileName != null ? send.file.fileName.encryptedString : null;\n                break;\n            default:\n                break;\n        }\n    }\n}\n","import { CryptoService } from '../../abstractions/crypto.service';\n\nimport { SendType } from '../../enums/sendType';\n\nimport { Utils } from '../../misc/utils';\n\nimport { SendData } from '../data/sendData';\n\nimport { SendView } from '../view/sendView';\n\nimport Domain from './domainBase';\nimport { EncString } from './encString';\nimport { SendFile } from './sendFile';\nimport { SendText } from './sendText';\n\nexport class Send extends Domain {\n    id: string;\n    accessId: string;\n    userId: string;\n    type: SendType;\n    name: EncString;\n    notes: EncString;\n    file: SendFile;\n    text: SendText;\n    key: EncString;\n    maxAccessCount?: number;\n    accessCount: number;\n    revisionDate: Date;\n    expirationDate: Date;\n    deletionDate: Date;\n    password: string;\n    disabled: boolean;\n    hideEmail: boolean;\n\n    constructor(obj?: SendData, alreadyEncrypted: boolean = false) {\n        super();\n        if (obj == null) {\n            return;\n        }\n\n        this.buildDomainModel(this, obj, {\n            id: null,\n            accessId: null,\n            userId: null,\n            name: null,\n            notes: null,\n            key: null,\n        }, alreadyEncrypted, ['id', 'accessId', 'userId']);\n\n        this.type = obj.type;\n        this.maxAccessCount = obj.maxAccessCount;\n        this.accessCount = obj.accessCount;\n        this.password = obj.password;\n        this.disabled = obj.disabled;\n        this.revisionDate = obj.revisionDate != null ? new Date(obj.revisionDate) : null;\n        this.deletionDate = obj.deletionDate != null ? new Date(obj.deletionDate) : null;\n        this.expirationDate = obj.expirationDate != null ? new Date(obj.expirationDate) : null;\n        this.hideEmail = obj.hideEmail;\n\n        switch (this.type) {\n            case SendType.Text:\n                this.text = new SendText(obj.text, alreadyEncrypted);\n                break;\n            case SendType.File:\n                this.file = new SendFile(obj.file, alreadyEncrypted);\n                break;\n            default:\n                break;\n        }\n    }\n\n    async decrypt(): Promise<SendView> {\n        const model = new SendView(this);\n\n        let cryptoService: CryptoService;\n        const containerService = (Utils.global as any).bitwardenContainerService;\n        if (containerService) {\n            cryptoService = containerService.getCryptoService();\n        } else {\n            throw new Error('global bitwardenContainerService not initialized.');\n        }\n\n        try {\n            model.key = await cryptoService.decryptToBytes(this.key, null);\n            model.cryptoKey = await cryptoService.makeSendKey(model.key);\n        } catch (e) {\n            // TODO: error?\n        }\n\n        await this.decryptObj(model, {\n            name: null,\n            notes: null,\n        }, null, model.cryptoKey);\n\n        switch (this.type) {\n            case SendType.File:\n                model.file = await this.file.decrypt(model.cryptoKey);\n                break;\n            case SendType.Text:\n                model.text = await this.text.decrypt(model.cryptoKey);\n                break;\n            default:\n                break;\n        }\n\n        return model;\n    }\n}\n","import * as forge from 'node-forge';\n\nimport { CryptoFunctionService } from '../abstractions/cryptoFunction.service';\nimport { PlatformUtilsService } from '../abstractions/platformUtils.service';\n\nimport { Utils } from '../misc/utils';\n\nimport { DecryptParameters } from '../models/domain/decryptParameters';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nexport class WebCryptoFunctionService implements CryptoFunctionService {\n    private crypto: Crypto;\n    private subtle: SubtleCrypto;\n    private isIE: boolean;\n    private isOldSafari: boolean;\n\n    constructor(private win: Window, private platformUtilsService: PlatformUtilsService) {\n        this.crypto = typeof win.crypto !== 'undefined' ? win.crypto : null;\n        this.subtle = (!!this.crypto && typeof win.crypto.subtle !== 'undefined') ? win.crypto.subtle : null;\n        this.isIE = platformUtilsService.isIE();\n        const ua = win.navigator.userAgent;\n        this.isOldSafari = platformUtilsService.isSafari() &&\n            (ua.indexOf(' Version/10.') > -1 || ua.indexOf(' Version/9.') > -1);\n    }\n\n    async pbkdf2(password: string | ArrayBuffer, salt: string | ArrayBuffer, algorithm: 'sha256' | 'sha512',\n        iterations: number): Promise<ArrayBuffer> {\n        if (this.isIE || this.isOldSafari) {\n            const forgeLen = algorithm === 'sha256' ? 32 : 64;\n            const passwordBytes = this.toByteString(password);\n            const saltBytes = this.toByteString(salt);\n            const derivedKeyBytes = (forge as any).pbkdf2(passwordBytes, saltBytes, iterations, forgeLen, algorithm);\n            return Utils.fromByteStringToArray(derivedKeyBytes).buffer;\n        }\n\n        const wcLen = algorithm === 'sha256' ? 256 : 512;\n        const passwordBuf = this.toBuf(password);\n        const saltBuf = this.toBuf(salt);\n\n        const pbkdf2Params: Pbkdf2Params = {\n            name: 'PBKDF2',\n            salt: saltBuf,\n            iterations: iterations,\n            hash: { name: this.toWebCryptoAlgorithm(algorithm) },\n        };\n\n        const impKey = await this.subtle.importKey('raw', passwordBuf, { name: 'PBKDF2' } as any,\n            false, ['deriveBits']);\n        return await this.subtle.deriveBits(pbkdf2Params, impKey, wcLen);\n    }\n\n    async hkdf(ikm: ArrayBuffer, salt: string | ArrayBuffer, info: string | ArrayBuffer,\n        outputByteSize: number, algorithm: 'sha256' | 'sha512'): Promise<ArrayBuffer> {\n        const saltBuf = this.toBuf(salt);\n        const infoBuf = this.toBuf(info);\n\n        const hkdfParams: HkdfParams = {\n            name: 'HKDF',\n            salt: saltBuf,\n            info: infoBuf,\n            hash: { name: this.toWebCryptoAlgorithm(algorithm) },\n        };\n\n        const impKey = await this.subtle.importKey('raw', ikm, { name: 'HKDF' } as any,\n            false, ['deriveBits']);\n        return await this.subtle.deriveBits(hkdfParams as any, impKey, outputByteSize * 8);\n    }\n\n    // ref: https://tools.ietf.org/html/rfc5869\n    async hkdfExpand(prk: ArrayBuffer, info: string | ArrayBuffer, outputByteSize: number,\n        algorithm: 'sha256' | 'sha512'): Promise<ArrayBuffer> {\n        const hashLen = algorithm === 'sha256' ? 32 : 64;\n        if (outputByteSize > 255 * hashLen) {\n            throw new Error('outputByteSize is too large.');\n        }\n        const prkArr = new Uint8Array(prk);\n        if (prkArr.length < hashLen) {\n            throw new Error('prk is too small.');\n        }\n        const infoBuf = this.toBuf(info);\n        const infoArr = new Uint8Array(infoBuf);\n        let runningOkmLength = 0;\n        let previousT = new Uint8Array(0);\n        const n = Math.ceil(outputByteSize / hashLen);\n        const okm = new Uint8Array(n * hashLen);\n        for (let i = 0; i < n; i++) {\n            const t = new Uint8Array(previousT.length + infoArr.length + 1);\n            t.set(previousT);\n            t.set(infoArr, previousT.length);\n            t.set([i + 1], t.length - 1);\n            previousT = new Uint8Array(await this.hmac(t.buffer, prk, algorithm));\n            okm.set(previousT, runningOkmLength);\n            runningOkmLength += previousT.length;\n            if (runningOkmLength >= outputByteSize) {\n                break;\n            }\n        }\n        return okm.slice(0, outputByteSize).buffer;\n    }\n\n    async hash(value: string | ArrayBuffer, algorithm: 'sha1' | 'sha256' | 'sha512' | 'md5'): Promise<ArrayBuffer> {\n        if ((this.isIE && algorithm === 'sha1') || algorithm === 'md5') {\n            const md = algorithm === 'md5' ? forge.md.md5.create() : forge.md.sha1.create();\n            const valueBytes = this.toByteString(value);\n            md.update(valueBytes, 'raw');\n            return Utils.fromByteStringToArray(md.digest().data).buffer;\n        }\n\n        const valueBuf = this.toBuf(value);\n        return await this.subtle.digest({ name: this.toWebCryptoAlgorithm(algorithm) }, valueBuf);\n    }\n\n    async hmac(value: ArrayBuffer, key: ArrayBuffer, algorithm: 'sha1' | 'sha256' | 'sha512'): Promise<ArrayBuffer> {\n        if (this.isIE && algorithm === 'sha512') {\n            const hmac = (forge as any).hmac.create();\n            const keyBytes = this.toByteString(key);\n            const valueBytes = this.toByteString(value);\n            hmac.start(algorithm, keyBytes);\n            hmac.update(valueBytes, 'raw');\n            return Utils.fromByteStringToArray(hmac.digest().data).buffer;\n        }\n\n        const signingAlgorithm = {\n            name: 'HMAC',\n            hash: { name: this.toWebCryptoAlgorithm(algorithm) },\n        };\n\n        const impKey = await this.subtle.importKey('raw', key, signingAlgorithm, false, ['sign']);\n        return await this.subtle.sign(signingAlgorithm, impKey, value);\n    }\n\n    // Safely compare two values in a way that protects against timing attacks (Double HMAC Verification).\n    // ref: https://www.nccgroup.trust/us/about-us/newsroom-and-events/blog/2011/february/double-hmac-verification/\n    // ref: https://paragonie.com/blog/2015/11/preventing-timing-attacks-on-string-comparison-with-double-hmac-strategy\n    async compare(a: ArrayBuffer, b: ArrayBuffer): Promise<boolean> {\n        const macKey = await this.randomBytes(32);\n        const signingAlgorithm = {\n            name: 'HMAC',\n            hash: { name: 'SHA-256' },\n        };\n        const impKey = await this.subtle.importKey('raw', macKey, signingAlgorithm, false, ['sign']);\n        const mac1 = await this.subtle.sign(signingAlgorithm, impKey, a);\n        const mac2 = await this.subtle.sign(signingAlgorithm, impKey, b);\n\n        if (mac1.byteLength !== mac2.byteLength) {\n            return false;\n        }\n\n        const arr1 = new Uint8Array(mac1);\n        const arr2 = new Uint8Array(mac2);\n        for (let i = 0; i < arr2.length; i++) {\n            if (arr1[i] !== arr2[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hmacFast(value: string, key: string, algorithm: 'sha1' | 'sha256' | 'sha512'): Promise<string> {\n        const hmac = (forge as any).hmac.create();\n        hmac.start(algorithm, key);\n        hmac.update(value);\n        const bytes = hmac.digest().getBytes();\n        return Promise.resolve(bytes);\n    }\n\n    async compareFast(a: string, b: string): Promise<boolean> {\n        const rand = await this.randomBytes(32);\n        const bytes = new Uint32Array(rand);\n        const buffer = forge.util.createBuffer();\n        for (let i = 0; i < bytes.length; i++) {\n            buffer.putInt32(bytes[i]);\n        }\n        const macKey = buffer.getBytes();\n\n        const hmac = (forge as any).hmac.create();\n        hmac.start('sha256', macKey);\n        hmac.update(a);\n        const mac1 = hmac.digest().getBytes();\n\n        hmac.start(null, null);\n        hmac.update(b);\n        const mac2 = hmac.digest().getBytes();\n\n        const equals = mac1 === mac2;\n        return equals;\n    }\n\n    async aesEncrypt(data: ArrayBuffer, iv: ArrayBuffer, key: ArrayBuffer): Promise<ArrayBuffer> {\n        const impKey = await this.subtle.importKey('raw', key, { name: 'AES-CBC' } as any, false, ['encrypt']);\n        return await this.subtle.encrypt({ name: 'AES-CBC', iv: iv }, impKey, data);\n    }\n\n    aesDecryptFastParameters(data: string, iv: string, mac: string, key: SymmetricCryptoKey):\n        DecryptParameters<string> {\n        const p = new DecryptParameters<string>();\n        if (key.meta != null) {\n            p.encKey = key.meta.encKeyByteString;\n            p.macKey = key.meta.macKeyByteString;\n        }\n\n        if (p.encKey == null) {\n            p.encKey = forge.util.decode64(key.encKeyB64);\n        }\n        p.data = forge.util.decode64(data);\n        p.iv = forge.util.decode64(iv);\n        p.macData = p.iv + p.data;\n        if (p.macKey == null && key.macKeyB64 != null) {\n            p.macKey = forge.util.decode64(key.macKeyB64);\n        }\n        if (mac != null) {\n            p.mac = forge.util.decode64(mac);\n        }\n\n        // cache byte string keys for later\n        if (key.meta == null) {\n            key.meta = {};\n        }\n        if (key.meta.encKeyByteString == null) {\n            key.meta.encKeyByteString = p.encKey;\n        }\n        if (p.macKey != null && key.meta.macKeyByteString == null) {\n            key.meta.macKeyByteString = p.macKey;\n        }\n\n        return p;\n    }\n\n    aesDecryptFast(parameters: DecryptParameters<string>): Promise<string> {\n        const dataBuffer = (forge as any).util.createBuffer(parameters.data);\n        const decipher = (forge as any).cipher.createDecipher('AES-CBC', parameters.encKey);\n        decipher.start({ iv: parameters.iv });\n        decipher.update(dataBuffer);\n        decipher.finish();\n        const val = decipher.output.toString('utf8');\n        return Promise.resolve(val);\n    }\n\n    async aesDecrypt(data: ArrayBuffer, iv: ArrayBuffer, key: ArrayBuffer): Promise<ArrayBuffer> {\n        const impKey = await this.subtle.importKey('raw', key, { name: 'AES-CBC' } as any, false, ['decrypt']);\n        return await this.subtle.decrypt({ name: 'AES-CBC', iv: iv }, impKey, data);\n    }\n\n    async rsaEncrypt(data: ArrayBuffer, publicKey: ArrayBuffer, algorithm: 'sha1' | 'sha256'): Promise<ArrayBuffer> {\n        // Note: Edge browser requires that we specify name and hash for both key import and decrypt.\n        // We cannot use the proper types here.\n        const rsaParams = {\n            name: 'RSA-OAEP',\n            hash: { name: this.toWebCryptoAlgorithm(algorithm) },\n        };\n        const impKey = await this.subtle.importKey('spki', publicKey, rsaParams, false, ['encrypt']);\n        return await this.subtle.encrypt(rsaParams, impKey, data);\n    }\n\n    async rsaDecrypt(data: ArrayBuffer, privateKey: ArrayBuffer, algorithm: 'sha1' | 'sha256'): Promise<ArrayBuffer> {\n        // Note: Edge browser requires that we specify name and hash for both key import and decrypt.\n        // We cannot use the proper types here.\n        const rsaParams = {\n            name: 'RSA-OAEP',\n            hash: { name: this.toWebCryptoAlgorithm(algorithm) },\n        };\n        const impKey = await this.subtle.importKey('pkcs8', privateKey, rsaParams, false, ['decrypt']);\n        return await this.subtle.decrypt(rsaParams, impKey, data);\n    }\n\n    async rsaExtractPublicKey(privateKey: ArrayBuffer): Promise<ArrayBuffer> {\n        const rsaParams = {\n            name: 'RSA-OAEP',\n            // Have to specify some algorithm\n            hash: { name: this.toWebCryptoAlgorithm('sha1') },\n        };\n        const impPrivateKey = await this.subtle.importKey('pkcs8', privateKey, rsaParams, true, ['decrypt']);\n        const jwkPrivateKey = await this.subtle.exportKey('jwk', impPrivateKey);\n        const jwkPublicKeyParams = {\n            kty: 'RSA',\n            e: jwkPrivateKey.e,\n            n: jwkPrivateKey.n,\n            alg: 'RSA-OAEP',\n            ext: true,\n        };\n        const impPublicKey = await this.subtle.importKey('jwk', jwkPublicKeyParams, rsaParams, true, ['encrypt']);\n        return await this.subtle.exportKey('spki', impPublicKey);\n    }\n\n    async rsaGenerateKeyPair(length: 1024 | 2048 | 4096): Promise<[ArrayBuffer, ArrayBuffer]> {\n        const rsaParams = {\n            name: 'RSA-OAEP',\n            modulusLength: length,\n            publicExponent: new Uint8Array([0x01, 0x00, 0x01]), // 65537\n            // Have to specify some algorithm\n            hash: { name: this.toWebCryptoAlgorithm('sha1') },\n        };\n        const keyPair = await this.subtle.generateKey(rsaParams, true, ['encrypt', 'decrypt']);\n        const publicKey = await this.subtle.exportKey('spki', keyPair.publicKey);\n        const privateKey = await this.subtle.exportKey('pkcs8', keyPair.privateKey);\n        return [publicKey, privateKey];\n    }\n\n    randomBytes(length: number): Promise<ArrayBuffer> {\n        const arr = new Uint8Array(length);\n        this.crypto.getRandomValues(arr);\n        return Promise.resolve(arr.buffer);\n    }\n\n    private toBuf(value: string | ArrayBuffer): ArrayBuffer {\n        let buf: ArrayBuffer;\n        if (typeof (value) === 'string') {\n            buf = Utils.fromUtf8ToArray(value).buffer;\n        } else {\n            buf = value;\n        }\n        return buf;\n    }\n\n    private toByteString(value: string | ArrayBuffer): string {\n        let bytes: string;\n        if (typeof (value) === 'string') {\n            bytes = forge.util.encodeUtf8(value);\n        } else {\n            bytes = Utils.fromBufferToByteString(value);\n        }\n        return bytes;\n    }\n\n    private toWebCryptoAlgorithm(algorithm: 'sha1' | 'sha256' | 'sha512' | 'md5'): string {\n        if (algorithm === 'md5') {\n            throw new Error('MD5 is not supported in WebCrypto.');\n        }\n        return algorithm === 'sha1' ? 'SHA-1' : algorithm === 'sha256' ? 'SHA-256' : 'SHA-512';\n    }\n}\n","export class DecryptParameters<T> {\n    encKey: T;\n    data: T;\n    iv: T;\n    macKey: T;\n    mac: T;\n    macData: T;\n}\n","import { EncArrayBuffer } from '../models/domain/encArrayBuffer';\nimport { EncString } from '../models/domain/encString';\nimport { AttachmentUploadDataResponse } from '../models/response/attachmentUploadDataResponse';\nimport { SendFileUploadDataResponse } from '../models/response/sendFileUploadDataResponse';\n\nexport abstract class FileUploadService {\n    uploadSendFile: (uploadData: SendFileUploadDataResponse, fileName: EncString,\n        encryptedFileData: EncArrayBuffer) => Promise<any>;\n    uploadCipherAttachment: (admin: boolean, uploadData: AttachmentUploadDataResponse, fileName: string,\n        encryptedFileData: EncArrayBuffer) => Promise<any>;\n}\n","import * as jq from 'jquery';\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\n\nimport {\n    BodyOutputType,\n    Toast,\n    ToasterConfig,\n    ToasterService,\n} from 'angular2-toaster';\n\nimport {\n    Component,\n    NgZone,\n    OnDestroy,\n    OnInit,\n    SecurityContext,\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport {\n    NavigationEnd,\n    Router,\n} from '@angular/router';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nimport { StorageService } from 'jslib/abstractions/storage.service';\n\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { EventService } from 'jslib/abstractions/event.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { NotificationsService } from 'jslib/abstractions/notifications.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { PolicyService } from 'jslib/abstractions/policy.service';\nimport { SearchService } from 'jslib/abstractions/search.service';\nimport { SettingsService } from 'jslib/abstractions/settings.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\nimport { TokenService } from 'jslib/abstractions/token.service';\nimport { UserService } from 'jslib/abstractions/user.service';\nimport { VaultTimeoutService } from 'jslib/abstractions/vaultTimeout.service';\n\nimport { ConstantsService } from 'jslib/services/constants.service';\n\nimport { RouterService } from './services/router.service';\n\nconst BroadcasterSubscriptionId = 'AppComponent';\nconst IdleTimeout = 60000 * 10; // 10 minutes\n\n@Component({\n    selector: 'app-root',\n    templateUrl: 'app.component.html',\n})\nexport class AppComponent implements OnDestroy, OnInit {\n    toasterConfig: ToasterConfig = new ToasterConfig({\n        showCloseButton: true,\n        mouseoverTimerStop: true,\n        animation: 'flyRight',\n        limit: 5,\n    });\n\n    private lastActivity: number = null;\n    private idleTimer: number = null;\n    private isIdle = false;\n\n    constructor(\n        private broadcasterService: BroadcasterService, private userService: UserService,\n        private tokenService: TokenService, private folderService: FolderService,\n        private settingsService: SettingsService, private syncService: SyncService,\n        private passwordGenerationService: PasswordGenerationService, private cipherService: CipherService,\n        private authService: AuthService, private router: Router,\n        private toasterService: ToasterService, private i18nService: I18nService,\n        private platformUtilsService: PlatformUtilsService, private ngZone: NgZone,\n        private vaultTimeoutService: VaultTimeoutService, private storageService: StorageService,\n        private cryptoService: CryptoService, private collectionService: CollectionService,\n        private sanitizer: DomSanitizer, private searchService: SearchService,\n        private notificationsService: NotificationsService, private routerService: RouterService,\n        private stateService: StateService, private eventService: EventService,\n        private policyService: PolicyService) { }\n\n    ngOnInit() {\n        this.ngZone.runOutsideAngular(() => {\n            window.onmousemove = () => this.recordActivity();\n            window.onmousedown = () => this.recordActivity();\n            window.ontouchstart = () => this.recordActivity();\n            window.onclick = () => this.recordActivity();\n            window.onscroll = () => this.recordActivity();\n            window.onkeypress = () => this.recordActivity();\n        });\n\n        this.broadcasterService.subscribe(BroadcasterSubscriptionId, async (message: any) => {\n            this.ngZone.run(async () => {\n                switch (message.command) {\n                    case 'loggedIn':\n                    case 'loggedOut':\n                    case 'unlocked':\n                        this.notificationsService.updateConnection(false);\n                        break;\n                    case 'authBlocked':\n                        this.router.navigate(['/']);\n                        break;\n                    case 'logout':\n                        this.logOut(!!message.expired);\n                        break;\n                    case 'lockVault':\n                        await this.vaultTimeoutService.lock();\n                        break;\n                    case 'locked':\n                        this.notificationsService.updateConnection(false);\n                        this.router.navigate(['lock']);\n                        break;\n                    case 'lockedUrl':\n                        window.setTimeout(() => this.routerService.setPreviousUrl(message.url), 500);\n                        break;\n                    case 'syncStarted':\n                        break;\n                    case 'syncCompleted':\n                        break;\n                    case 'upgradeOrganization':\n                        const upgradeConfirmed = await this.platformUtilsService.showDialog(\n                            this.i18nService.t('upgradeOrganizationDesc'), this.i18nService.t('upgradeOrganization'),\n                            this.i18nService.t('upgradeOrganization'), this.i18nService.t('cancel'));\n                        if (upgradeConfirmed) {\n                            this.router.navigate(['organizations', message.organizationId, 'settings', 'billing']);\n                        }\n                        break;\n                    case 'premiumRequired':\n                        const premiumConfirmed = await this.platformUtilsService.showDialog(\n                            this.i18nService.t('premiumRequiredDesc'), this.i18nService.t('premiumRequired'),\n                            this.i18nService.t('learnMore'), this.i18nService.t('cancel'));\n                        if (premiumConfirmed) {\n                            this.router.navigate(['settings/premium']);\n                        }\n                        break;\n                    case 'emailVerificationRequired':\n                        const emailVerificationConfirmed = await this.platformUtilsService.showDialog(\n                            this.i18nService.t('emailVerificationRequiredDesc'),\n                            this.i18nService.t('emailVerificationRequired'),\n                            this.i18nService.t('learnMore'), this.i18nService.t('cancel'));\n                        if (emailVerificationConfirmed) {\n                            this.platformUtilsService.launchUri('https://bitwarden.com/help/article/create-bitwarden-account/');\n                        }\n                        break;\n                    case 'showToast':\n                        this.showToast(message);\n                        break;\n                    case 'setFullWidth':\n                        this.setFullWidth();\n                        break;\n                    default:\n                        break;\n                }\n            });\n        });\n\n        this.router.events.subscribe(event => {\n            if (event instanceof NavigationEnd) {\n                const modals = Array.from(document.querySelectorAll('.modal'));\n                for (const modal of modals) {\n                    (jq(modal) as any).modal('hide');\n                }\n\n                if (document.querySelector('.swal-modal') != null) {\n                    Swal.close(undefined);\n                }\n            }\n        });\n\n        this.setFullWidth();\n    }\n\n    ngOnDestroy() {\n        this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);\n    }\n\n    private async logOut(expired: boolean) {\n        await this.eventService.uploadEvents();\n        const userId = await this.userService.getUserId();\n\n        await Promise.all([\n            this.eventService.clearEvents(),\n            this.syncService.setLastSync(new Date(0)),\n            this.tokenService.clearToken(),\n            this.cryptoService.clearKeys(),\n            this.userService.clear(),\n            this.settingsService.clear(userId),\n            this.cipherService.clear(userId),\n            this.folderService.clear(userId),\n            this.collectionService.clear(userId),\n            this.policyService.clear(userId),\n            this.passwordGenerationService.clear(),\n            this.stateService.purge(),\n        ]);\n\n        this.searchService.clearIndex();\n        this.authService.logOut(async () => {\n            if (expired) {\n                this.toasterService.popAsync('warning', this.i18nService.t('loggedOut'),\n                    this.i18nService.t('loginExpired'));\n            }\n\n            Swal.close();\n            this.router.navigate(['/']);\n        });\n    }\n\n    private async recordActivity() {\n        const now = (new Date()).getTime();\n        if (this.lastActivity != null && now - this.lastActivity < 250) {\n            return;\n        }\n\n        this.lastActivity = now;\n        this.storageService.save(ConstantsService.lastActiveKey, now);\n\n        // Idle states\n        if (this.isIdle) {\n            this.isIdle = false;\n            this.idleStateChanged();\n        }\n        if (this.idleTimer != null) {\n            window.clearTimeout(this.idleTimer);\n            this.idleTimer = null;\n        }\n        this.idleTimer = window.setTimeout(() => {\n            if (!this.isIdle) {\n                this.isIdle = true;\n                this.idleStateChanged();\n            }\n        }, IdleTimeout);\n    }\n\n    private showToast(msg: any) {\n        const toast: Toast = {\n            type: msg.type,\n            title: msg.title,\n        };\n        if (typeof (msg.text) === 'string') {\n            toast.body = msg.text;\n        } else if (msg.text.length === 1) {\n            toast.body = msg.text[0];\n        } else {\n            let message = '';\n            msg.text.forEach((t: string) =>\n                message += ('<p>' + this.sanitizer.sanitize(SecurityContext.HTML, t) + '</p>'));\n            toast.body = message;\n            toast.bodyOutputType = BodyOutputType.TrustedHtml;\n        }\n        if (msg.options != null) {\n            if (msg.options.trustedHtml === true) {\n                toast.bodyOutputType = BodyOutputType.TrustedHtml;\n            }\n            if (msg.options.timeout != null && msg.options.timeout > 0) {\n                toast.timeout = msg.options.timeout;\n            }\n        }\n        this.toasterService.popAsync(toast);\n    }\n\n    private idleStateChanged() {\n        if (this.isIdle) {\n            this.notificationsService.disconnectFromInactivity();\n        } else {\n            this.notificationsService.reconnectFromActivity();\n        }\n    }\n\n    private async setFullWidth() {\n        const enableFullWidth = await this.storageService.get<boolean>('enableFullWidth');\n        if (enableFullWidth) {\n            document.body.classList.add('full-width');\n        } else {\n            document.body.classList.remove('full-width');\n        }\n    }\n}\n","<toaster-container [toasterconfig]=\"toasterConfig\" aria-live=\"polite\"></toaster-container>\n<router-outlet></router-outlet>\n","import {\n    Directive,\n    ElementRef,\n    HostListener,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appBlurClick]',\n})\nexport class BlurClickDirective {\n    constructor(private el: ElementRef) {\n    }\n\n    @HostListener('click') onClick() {\n        this.el.nativeElement.blur();\n    }\n}\n","import {\n    Directive,\n    ElementRef,\n    HostListener,\n    OnInit,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appBoxRow]',\n})\nexport class BoxRowDirective implements OnInit {\n    el: HTMLElement = null;\n    formEls: Element[];\n\n    constructor(private elRef: ElementRef) {\n        this.el = elRef.nativeElement;\n    }\n\n    ngOnInit(): void {\n        this.formEls = Array.from(this.el.querySelectorAll('input:not([type=\"hidden\"]), select, textarea'));\n        this.formEls.forEach(formEl => {\n            formEl.addEventListener('focus', (event: Event) => {\n                this.el.classList.add('active');\n            }, false);\n\n            formEl.addEventListener('blur', (event: Event) => {\n                this.el.classList.remove('active');\n            }, false);\n        });\n    }\n\n    @HostListener('click', ['$event']) onClick(event: Event) {\n        const target = event.target as HTMLElement;\n        if (target !== this.el && !target.classList.contains('progress') &&\n            !target.classList.contains('progress-bar')) {\n            return;\n        }\n\n        if (this.formEls.length > 0) {\n            const formEl = (this.formEls[0] as HTMLElement);\n            if (formEl.tagName.toLowerCase() === 'input') {\n                const inputEl = (formEl as HTMLInputElement);\n                if (inputEl.type != null && inputEl.type.toLowerCase() === 'checkbox') {\n                    inputEl.click();\n                    return;\n                }\n            }\n            formEl.focus();\n        }\n    }\n}\n","import {\n    Pipe,\n    PipeTransform,\n} from '@angular/core';\n\nimport { CipherView } from '../../models/view/cipherView';\n\n@Pipe({\n    name: 'searchCiphers',\n})\nexport class SearchCiphersPipe implements PipeTransform {\n    transform(ciphers: CipherView[], searchText: string, deleted: boolean = false): CipherView[] {\n        if (ciphers == null || ciphers.length === 0) {\n            return [];\n        }\n\n        if (searchText == null || searchText.length < 2) {\n            return ciphers.filter(c => {\n                return deleted !== c.isDeleted;\n            });\n        }\n\n        searchText = searchText.trim().toLowerCase();\n        return ciphers.filter(c => {\n            if (deleted !== c.isDeleted) {\n                return false;\n            }\n            if (c.name != null && c.name.toLowerCase().indexOf(searchText) > -1) {\n                return true;\n            }\n            if (searchText.length >= 8 && c.id.startsWith(searchText)) {\n                return true;\n            }\n            if (c.subTitle != null && c.subTitle.toLowerCase().indexOf(searchText) > -1) {\n                return true;\n            }\n            if (c.login && c.login.uri != null && c.login.uri.toLowerCase().indexOf(searchText) > -1) {\n                return true;\n            }\n\n            return false;\n        });\n    }\n}\n"],"sourceRoot":""}